(()=>{"use strict";var e={6586:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ar});var o=a(6665),r=a(6520),i=a(8384),n=a(3929),s=a(6283),l=a(484),d=a(558),c=a(5009),u=a(5648),h=a(2772),f=a(8264),g=a(5675);const x={negro:"#000000",blanco:"#ffffff",azul_Claro:"#349270",azul_Oscuro:"#17593d",azul_Suave:"#5cbe9a",blanco_Suave:"#F2F2F2",gris_claro:"#D3D3D3",rojo_oscuro:"#cd1111",verde_claro:"#13cf3c"},p=g.default.create({radioButtonDesktop:{flexDirection:"row",height:40,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"1%",backgroundColor:x.azul_Suave},radioButtonMovil:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",marginVertical:"5%",backgroundColor:x.azul_Suave},radioButtonSelected:{backgroundColor:x.azul_Oscuro},radioButtonTextDesktop:{fontSize:14,color:x.blanco,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},radioButtonTextMovil:{fontSize:12,color:x.blanco,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},labelTextDesktop:{fontSize:16,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},labelTextModalDesktop:{fontSize:16,marginTop:"3%",marginLeft:"6%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},labelTextModalMovil:{fontSize:16,marginTop:"3%",marginLeft:"6%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},labelTextMovil:{fontSize:20,marginRight:"15%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},radioButtonTextSelected:{fontWeight:"bold",color:x.blanco_Suave},selectedText:{marginTop:20,fontSize:18,color:"#333"},navbarDekstop:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:15,position:"absolute",top:0,width:"100%",zIndex:1e3},navbarMobile:{flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:15,width:"100%",zIndex:1e3},menuIcon:{position:"absolute",left:15,top:15},scrollContainer:{flexGrow:1,justifyContent:"center",alignItems:"center",paddingVertical:10},buttonsContainerDesktop:{flexDirection:"row",justifyContent:"flex-start",flex:1},buttonContainterMovile:{flexDirection:"column",alignItems:"center",justifyContent:"center"},searchContainerDesktop:{height:"100%",width:"20%",marginTop:"2%",borderRadius:20,shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,justifyContent:"flex-start"},loginContainerStilesDesktop:{height:"70%",width:"25%",flexDirection:"column",borderRadius:20,shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,justifyContent:"center",alignItems:"center"},loginContainerStilesMovil:{height:"70%",width:"95%",flexDirection:"column",borderRadius:20,shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,justifyContent:"center",alignItems:"center"},searchContainerMovil:{height:"100%",width:"100%",borderRadius:20,marginTop:"3%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,justifyContent:"flex-start"},modalViewMesajeContainerDesktop:{width:"40%",padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},modalViewMesajeContainerMovil:{width:"80%",padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},textSearchDesktop:{color:x.blanco,fontSize:18,marginTop:"5%",justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},textSearchMovil:{color:x.blanco,fontSize:16,marginTop:"5%",justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},textNavbarMovil:{color:x.blanco,fontSize:17,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},textImputLogin:{height:35,borderColor:x.azul_Suave,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.azul_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},textImputModal:{height:40,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},textLabelAsInput:{height:40,borderColor:x.negro,borderWidth:1,shadowColor:x.negro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,fontWeight:"bold",paddingHorizontal:10,paddingVertical:10,color:x.negro,lineHeight:20,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2},textDescroptionLabelAsInput:{height:150,borderColor:x.negro,borderWidth:1,shadowColor:x.negro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,fontWeight:"bold",paddingHorizontal:10,paddingVertical:10,color:x.negro,lineHeight:20,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2},textImputModalNOEDITABLE:{height:40,borderColor:x.negro,borderWidth:1,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},customTextImputSearchFullDesktop:{height:30,borderColor:x.azul_Suave,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",backgroundColor:x.azul_Suave,borderRadius:13,marginLeft:"5%",marginTop:"4%",fontSize:16,fontWeight:"bold",paddingHorizontal:10},customTextImputSearchFullMovil:{height:30,borderColor:x.azul_Suave,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",backgroundColor:x.azul_Suave,borderRadius:13,marginLeft:"5%",marginTop:"4%",fontSize:12,fontWeight:"bold",paddingHorizontal:10},customTextImputSearchFiftyDesktop:{height:30,borderColor:x.azul_Suave,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"42.5%",backgroundColor:x.azul_Suave,borderRadius:13,marginLeft:"5%",marginTop:"4%",fontSize:16,fontWeight:"bold",paddingHorizontal:10},customTextImputSearchFiftyMovil:{height:30,borderColor:x.azul_Suave,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"42.5%",backgroundColor:x.azul_Suave,borderRadius:13,marginLeft:"5%",marginTop:"4%",fontSize:12,fontWeight:"bold",paddingHorizontal:10},movilButtonBusqueda:{backgroundColor:x.azul_Suave,borderRadius:15,flexDirection:"row",width:"70%",height:50,marginRight:"2%",marginTop:"2%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},separatorBlanco:{width:"90%",marginLeft:"5%",marginTop:"5%",height:1,backgroundColor:x.blanco},separatorNegro:{width:"95%",marginTop:"8%",height:1,backgroundColor:x.negro}});var y=a(893),w=a(397);const m=g.default.create({mobileButton:{backgroundColor:x.azul_Claro,borderRadius:15,height:80,width:"180%",marginLeft:"80%",marginVertical:5,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,elevation:3},desktopButton:{backgroundColor:x.azul_Claro,borderRadius:15,width:"4%",minWidth:120,height:100,marginHorizontal:10,marginBottom:2,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,elevation:3},desktopContent:{flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",width:"100%"},mobileContent:{flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%"},image:{width:50,height:50,marginRight:10},text:{fontSize:18,color:x.blanco}}),j=({imageSource:e,onPress:t,text:a,isSelected:r})=>{const[i]=(0,o.useState)(new c.default.Value(1)),{width:h}=(0,d.default)(),f=h<930,g=[f?m.mobileButton:m.desktopButton,r&&{backgroundColor:x.azul_Oscuro}],p=f?m.mobileContent:m.desktopContent;return(0,w.jsx)(u.default,{style:g,onPressIn:()=>{c.default.spring(i,{toValue:1.5,useNativeDriver:!0}).start()},onPressOut:()=>{c.default.spring(i,{toValue:1,useNativeDriver:!0}).start()},onPress:t,children:(0,w.jsx)(c.default.View,{style:{transform:[{scale:i}]},children:(0,w.jsxs)(n.default,{style:p,children:[(0,w.jsx)(l.default,{source:e,style:m.image}),(0,w.jsx)(s.default,{style:m.text,children:a})]})})})};var b=a(2626);const C=(0,o.createContext)(void 0),S=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(C.Provider,{value:{usuario:t,setUsuario:a},children:e})},v=()=>{const e=o.useContext(C);if(void 0===e)throw new Error("useUsuario debe usarse dentro de un ProductoUsuario");return e},I=(0,o.createContext)(void 0),_=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(I.Provider,{value:{selectedButon:t,setSelectedButon:a},children:e})},k=()=>{const e=o.useContext(I);if(void 0===e)throw new Error("useSortEntradas debe usarse dentro de un SortEntradas");return e};var R=a(932);const O=g.default.create({mobileButton:{backgroundColor:x.azul_Claro,borderRadius:15,height:80,width:"180%",marginVertical:5,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,elevation:3},desktopButton:{backgroundColor:x.azul_Claro,borderRadius:15,width:"4%",minWidth:120,height:100,marginHorizontal:10,marginBottom:2,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,elevation:3},desktopContent:{flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",width:"100%"},mobileContent:{flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%"},image:{width:50,height:50,marginRight:10},text:{fontSize:18,color:x.blanco},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},modalContentDesktop:{backgroundColor:"white",borderRadius:10,padding:20,width:"30%",maxHeight:"50%"},modalContentMovil:{backgroundColor:"white",borderRadius:10,padding:20,width:"80%",maxHeight:"50%"},option:{flexDirection:"row",alignItems:"center",paddingVertical:10,borderBottomWidth:1,borderBottomColor:"#ccc"},optionImage:{width:30,height:30,marginRight:10,tintColor:x.negro},optionText:{fontSize:18,color:x.azul_Oscuro}}),T=({imageSource:e,text:t,options:a,onSelect:r,isSelected:i})=>{const[h]=(0,o.useState)(new c.default.Value(1)),{width:g}=(0,d.default)(),[p,y]=(0,o.useState)(!1),m=g<930,j=[m?O.mobileButton:O.desktopButton,i&&{backgroundColor:x.azul_Oscuro}],b=m?O.mobileContent:O.desktopContent;return(0,w.jsxs)(n.default,{children:[(0,w.jsx)(u.default,{style:j,onPressIn:()=>{c.default.spring(h,{toValue:1.5,useNativeDriver:!0}).start()},onPressOut:()=>{c.default.spring(h,{toValue:1,useNativeDriver:!0}).start()},onPress:()=>y(!0),children:(0,w.jsx)(c.default.View,{style:{transform:[{scale:h}]},children:(0,w.jsxs)(n.default,{style:b,children:[(0,w.jsx)(l.default,{source:e,style:O.image}),(0,w.jsx)(s.default,{style:O.text,children:t})]})})}),(0,w.jsx)(f.default,{transparent:!0,animationType:"fade",visible:p,onRequestClose:()=>y(!1),children:(0,w.jsx)(u.default,{style:O.modalOverlay,onPress:()=>y(!1),children:(0,w.jsx)(n.default,{style:m?O.modalContentMovil:O.modalContentDesktop,children:(0,w.jsx)(R.default,{data:a,keyExtractor:e=>e.value,renderItem:({item:e})=>(0,w.jsxs)(u.default,{style:O.option,onPress:()=>{return t=e.value,r(t),void y(!1);var t},children:[(0,w.jsx)(l.default,{source:e.image,style:O.optionImage})," ",(0,w.jsx)(s.default,{style:O.optionText,children:e.label})]})})})})})]})};var z=a(6773);const D=(0,o.forwardRef)((({placeholder:e,autoCapitalize:t,autoCompleteType:a,secureTextEntry:o,keyboardType:r,cursorColor:i,onChangeText:n,value:s,onBlur:l,style:d,multiline:c,numberOfLines:u,scrollEnabled:h,editable:f,onKeyPress:g},x)=>(0,w.jsx)(z.default,{style:d,editable:f,numberOfLines:u,placeholder:e,placeholderTextColor:"rgba(255, 255, 255, 0.8)",autoCapitalize:t,autoComplete:a,secureTextEntry:o,keyboardType:r,cursorColor:i,value:s,scrollEnabled:h,multiline:c,onBlur:l,ref:x,onChangeText:n,onKeyPress:g})));var P=a(7109);const M="http://192.168.43.126:3000",E="http://192.168.43.126:8080/",$=(0,o.createRef)();function A(e,t){$.current?.navigate(e,t)}const L=async(e,t)=>{try{const a=await P.default.post(`${M}/Usuario/auth`,{nombre_usuario:e,contrasenna:t});if("Usuario encontrado"===a.data.msg)return a}catch(a){return console.log("Error al iniciar seci\xf3n: ",a),!1}},B=async(e,t,a,o,r,i,n,s,l,d,c,u)=>{try{return(await P.default.post(`${M}/Usuario/createUsuario`,{nombre:t,nombre_usuario:a,contrasenna:o,email:r,telefono:i,direccion:n,carnet_identidad:""===s?null:s,detalles_bancarios:l,salario_CUP:u,rol:{id_rol:d},tienda:{id_tienda:c}},{headers:{Authorization:`${e}`}})).data}catch(h){return P.default.isAxiosError(h)&&401===h.response?.status&&A("Login"),console.log("Error incertar el usuario: ",h),!1}},F=async(e,t)=>{try{return await P.default.delete(`${M}/Usuario/deleteUsuario/${t}`,{headers:{Authorization:`${e}`}})}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al eliminar el usuario: ",a),!1}},N=async(e,t,a,o,r,i,n,s,l,d,c,u,h,f)=>{try{return(await P.default.put(`${M}/Usuario/updateUsuario/${t}`,{nombre:a,nombre_usuario:o,contrasenna:r,email:i,telefono:n,direccion:s,carnet_identidad:l,detalles_bancarios:d,activo:h,salario_CUP:f,rol:{id_rol:c},tienda:{id_tienda:u}},{headers:{Authorization:`${e}`}})).data}catch(g){return P.default.isAxiosError(g)&&401===g.response?.status&&A("Login"),console.log("Error modificar el usuario: ",g),!1}},W=async(e,t,a,o,r,i,n,s,l,d,c,u,h)=>{try{return(await P.default.put(`${M}/Usuario/updateUsuario/${t}`,{nombre:a,nombre_usuario:o,email:r,telefono:i,direccion:n,carnet_identidad:s,detalles_bancarios:l,activo:u,salario_CUP:h,rol:{id_rol:d},tienda:{id_tienda:c}},{headers:{Authorization:`${e}`}})).data}catch(f){return P.default.isAxiosError(f)&&401===f.response?.status&&A("Login"),console.log("Error modificar el usuario: ",f),!1}},U=async(e,t)=>{try{return await P.default.get(`${M}/Usuario/${t}`,{headers:{Authorization:`${e}`}})}catch(a){return console.error("Error en la solicitud de datos de el usuario:",a),alert(a),!1}},V=async e=>{try{return(await P.default.get(`${M}/Usuario`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.error("Error en la solicitud de datos de los usuarios:",t),alert(t),!1}},H=async(e,t,a,o,r,i)=>{try{return(await P.default.post(`${M}/Usuario/api/filtrar`,{nombre_usuario:t,email:a,telefono:o,id_rol:r,id_tienda:i},{headers:{Authorization:`${e}`}})).data}catch(n){return P.default.isAxiosError(n)&&401===n.response?.status&&A("Login"),console.log("Error al filtrar usuarios: ",n),!1}},q=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Usuario/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al ordenar los usuarios: ",r),!1}},Y=async(e,t)=>{try{return(await P.default.get(`${M}/Accion/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de una acci\xf3n en espec\xedfico segun el ID: ",a),!1}},K=async(e,t,a,o,r)=>{try{return(await P.default.post(`${M}/Accion/createAccion`,{descripcion:t,fecha:a,usuario:{id_usuario:o},tipo_accion:{id_tipo_accion:r}},{headers:{Authorization:`${e}`}})).data}catch(i){return console.log("Error al agregar acci\xf3n de usuario: ",i),!1}},G=async e=>{try{return(await P.default.get(`${M}/Tipo_accion`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al obtener datos de todas los tipos de acci\xf3n: ",t),!1}},J=async(e,t,a,o,r,i)=>{try{return(await P.default.post(`${M}/Accion/api/filtrar`,{id_tipo_accion:t,nombre_usuario:a,descripcion:o,fecha_limsup:i,fecha_liminf:r},{headers:{Authorization:`${e}`}})).data}catch(n){return P.default.isAxiosError(n)&&401===n.response?.status&&A("Login"),console.log("Error al filtrar acciones: ",n),!1}},X=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Accion/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al ordenar las acciones: ",r),!1}},Q=(0,o.createContext)(void 0),Z=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Q.Provider,{value:{permisosUsuarioNavbar:t,setPermisosUsuarioNavbar:a},children:e})},ee=()=>{const e=o.useContext(Q);if(void 0===e)throw new Error("usePermisosUsuario debe usarse dentro de un PermisosUsuario");return e},te=()=>{const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(!1),m=(0,o.useRef)(new c.default.Value(0)).current,[C,S]=(0,o.useState)(!1),[I,_]=(0,o.useState)(""),[R,O]=(0,o.useState)(""),[z,E]=(0,o.useState)(""),[$,L]=(0,o.useState)(!1),[B,F]=(0,o.useState)(!1),[N,W]=(0,o.useState)(!1),[U,V]=(0,o.useState)(!1),[H,q]=(0,o.useState)(!1),[Y,G]=(0,o.useState)(!1),[J,X]=(0,o.useState)(!1),[Q,Z]=(0,o.useState)(!1),[te,ae]=(0,o.useState)(!1),[oe,re]=(0,o.useState)(!1),ie=(0,o.useRef)(null),{setUsuario:ne,usuario:se}=v(),{permisosUsuarioNavbar:le,setPermisosUsuarioNavbar:de}=ee(),{setSelectedButon:ce,selectedButon:ue}=k(),[he,fe]=o.useState(!1),[ge,xe]=o.useState(""),[pe,ye]=o.useState(!1),[we,me]=(0,o.useState)(!1),[je,be]=(0,o.useState)(!1),[Ce,Se]=(0,o.useState)(""),[ve,Ie]=(0,o.useState)(null),_e=t=>{ce({butonSelected:"Administraci\xf3n"}),"1"===t?e.navigate("Usuarios"):"3"===t?e.navigate("Tiendas"):"2"===t?e.navigate("Acciones"):"4"===t?e.navigate("Permisos"):"5"===t?e.navigate("Tipo de Servicio"):"6"===t&&e.navigate("Cambiar Moneda"),Ie(t)},[ke,Re]=(0,o.useState)([]);(0,o.useEffect)((()=>{(async()=>{if(se?.token){G(le?.resultEntradaView??!1),L(le?.resultProductoView??!1),X(le?.resultProveedorView??!1),q(le?.resultAccionesView??!1),Z((le?.resultMovimientoLocalView??!1)||(le?.resultMovimientoGeneralView??!1)),W((le?.resultAgregarUsuario??!1)||(le?.resultModificarUsuario??!1)||(le?.resultEliminarUsuario??!1)),V(1===parseInt(se.id_usuario)),ae(le?.resultClienteView??!1),re(le?.resultGarantiaView??!1);const e=[];(le?.resultAgregarUsuario||le?.resultModificarUsuario||le?.resultEliminarUsuario)&&e.push({label:"Usuarios",value:"1",image:a(759)}),le?.resultAccionesView&&e.push({label:"Acciones",value:"2",image:a(1603)}),1===parseInt(se.id_rol)&&e.push({label:"Tiendas",value:"3",image:a(4929)}),le?.resultTipoServicio&&e.push({label:"Tipos de Servicios",value:"5",image:a(2475)}),1===parseInt(se.id_rol)&&e.push({label:"Cambiar  moneda",value:"6",image:a(5751)}),Re(e)}})()}),[le]);const Oe=!!r,Te=r?p.buttonContainterMovile:p.buttonsContainerDesktop,ze=async()=>{if(se?.token){let e=!0,t="ERROR AL CAMBIAR LA CONTRASE\xd1A. Comprueve los siguientes par\xe1metros:\n";if(R!==z&&(e=!1,t+="-No ha ingresado bien su contrase\xf1a en los campos requeridos.\n"),R.length<6&&(e=!1,t+="-La contrase\xf1a nueva debe tener m\xe1s de 6 caracteres.\n"),""!==R.trim()&&""!==z.trim()||(e=!1,t+="-Deve digitar la nueva contrase\xf1a en los campos correspondientes.\n"),e){(async(e,t,a,o,r)=>{try{return(await P.default.post(`${M}/Usuario/change/pass`,{contrasenna_vieja:t,contrasenna_nueva1:a,contrasenna_nueva2:o,nombre_usuario:r},{headers:{Authorization:`${e}`}})).data}catch(i){return P.default.isAxiosError(i)&&401===i.response?.status&&A("Login"),console.log("Error al cambiar la contrase\xf1a del usuario: ",i),!1}})(se.token,I,R,z,se.nombre_usuario);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${se.nombre} cambi\xf3 su contrase\xf1a.`;await K(se.token,r,`${t}-${a}-${o}`,se.id_usuario,5),be(!1),xe("La contrase\xf1a se cambi\xf3 con \xe9xito."),ye(!1),fe(!0)}else xe(t),ye(!1),fe(!0)}},De=()=>{i?c.default.timing(m,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>g(!1))):(g(!0),c.default.timing(m,{toValue:300,duration:300,useNativeDriver:!1}).start())},Pe={height:m};function Me(){return(0,w.jsx)(h.default,{horizontal:!0,contentContainerStyle:{flexDirection:"row",justifyContent:"flex-start"},showsHorizontalScrollIndicator:!0,children:(0,w.jsxs)(n.default,{style:Te,children:[$&&(0,w.jsx)(j,{imageSource:a(1605),text:"En tu Tienda",isSelected:"Mi Tienda"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Mi Tienda"}),e.navigate("Mi Tienda")}}),$&&(0,w.jsx)(j,{imageSource:a(9519),text:"Productos",isSelected:"Productos"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Productos"}),e.navigate("Productos")}}),$&&(0,w.jsx)(j,{imageSource:a(237),text:"Ventas",isSelected:"Servicios"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Servicios"}),e.navigate("Ventas")}}),Q&&(0,w.jsx)(j,{imageSource:a(5102),text:"Movimientos",isSelected:"Movimientos"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Movimientos"}),e.navigate("Movimientos")}}),te&&(0,w.jsx)(j,{imageSource:a(3432),text:"Clientes",isSelected:"Clientes"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Clientes"}),e.navigate("Clientes")}}),(1===parseInt(se?.id_rol)||2===parseInt(se?.id_rol))&&(0,w.jsx)(j,{imageSource:a(8270),text:"Deudas",isSelected:"Deudas"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Deudas"}),e.navigate("Deudas")}}),J&&(0,w.jsx)(j,{imageSource:a(5234),text:"Proveedores",isSelected:"Proveedores"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Proveedores"}),e.navigate("Proveedores")}}),Y&&(0,w.jsx)(j,{imageSource:a(9927),text:"Entradas",isSelected:"Entradas"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Entradas"}),e.navigate("Entradas")}}),(N||U||H)&&(0,w.jsx)(T,{imageSource:a(7496),text:"Administraci\xf3n",options:ke,onSelect:_e,isSelected:"Administraci\xf3n"===ue?.butonSelected})]})})}return Oe?(0,w.jsxs)(n.default,{style:{padding:15},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.navbarMobile,children:[(0,w.jsx)(u.default,{onPress:()=>S(!C),children:(0,w.jsxs)(n.default,{style:{justifyContent:"center",flexDirection:"column",alignItems:"center",borderWidth:1,borderColor:x.blanco,borderRadius:15,width:300,height:60,marginVertical:10},children:[(0,w.jsx)(s.default,{style:{fontSize:20,color:x.blanco},children:"Usuario"}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(s.default,{style:{fontSize:16,color:x.blanco},children:["Nombre: ",se?.nombre]}),(0,w.jsxs)(s.default,{style:{fontSize:16,color:x.blanco},children:["Usuario: ",se?.nombre_usuario]}),(0,w.jsx)(u.default,{style:{width:"90%",height:"45%",marginTop:"5%",backgroundColor:x.azul_Suave,borderRadius:15,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:()=>e.navigate("Login"),children:(0,w.jsx)(s.default,{style:{fontSize:16,color:x.blanco},children:"Cerrar Sesi\xf3n"})})]})}),(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:40,marginTop:35,justifyContent:"center",paddingHorizontal:15,shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:De,children:[(0,w.jsx)(l.default,{source:a(1709),style:{width:40,height:40}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Navegaci\xf3n"})]})]}),i&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden"},Pe],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:Me()})}),C&&(0,w.jsx)(f.default,{transparent:!0,visible:C,animationType:"fade",onRequestClose:()=>S(!1),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:()=>{_(""),O(""),E(""),S(!1)},children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Tus Datos"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:[(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu nombre: ",se?.nombre]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu nombre de usuario en el sistema:"," ",se?.nombre_usuario]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu rol en el sistema: ",se?.nombre_rol]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tienda en la que trabajas: ",se?.nombre_tienda]})]}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:20,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Cambiar Contrase\xf1a"})}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Contrase\xf1a Vieja"})}),(0,w.jsx)(D,{ref:ie,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:I,onChangeText:_,placeholder:"Contrase\xf1a vieja"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Contrase\xf1a Nueva"})}),(0,w.jsx)(D,{ref:ie,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:R,onChangeText:O,placeholder:"Contrase\xf1a nueva"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Repita la Nueva Contrase\xf1a"})}),(0,w.jsx)(D,{ref:ie,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:z,onChangeText:E,placeholder:"Contrase\xf1a nueva"}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Se(`Estas seguro que deseas cambiar tu contrase\xf1a nueva a ${R}`),be(!0),S(!C)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Cambiar Contrase\xf1a"})})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:je,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ce}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ze(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>be(!je),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>be(!je),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:he,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ge}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>pe?e.navigate("Login"):fe(!he),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.navbarDekstop,children:[(0,w.jsx)(u.default,{onPress:()=>S(!C),children:(0,w.jsxs)(n.default,{style:{justifyContent:"center",flexDirection:"column",alignItems:"center",borderWidth:1,borderColor:x.blanco,borderRadius:15,width:260,height:60},children:[(0,w.jsx)(s.default,{style:{fontSize:18,color:x.blanco},children:"Usuario"}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(s.default,{style:{fontSize:14,color:x.blanco},children:["Nombre: ",se?.nombre]}),(0,w.jsxs)(s.default,{style:{fontSize:14,color:x.blanco},children:["Usuario: ",se?.nombre_usuario]}),(0,w.jsx)(u.default,{style:{width:"90%",height:"40%",marginTop:"5%",backgroundColor:x.azul_Suave,borderRadius:15,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:()=>e.navigate("Login"),children:(0,w.jsx)(s.default,{style:{fontSize:14,color:x.blanco},children:"Cerrar Sesi\xf3n"})})]})}),Me()]}),C&&(0,w.jsx)(f.default,{transparent:!0,visible:C,animationType:"fade",onRequestClose:()=>S(!1),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:()=>{_(""),O(""),E(""),S(!1)},children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Tus Datos"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:[(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu nombre: ",se?.nombre]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu nombre de usuario en el sistema:"," ",se?.nombre_usuario]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu rol en el sistema: ",se?.nombre_rol]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tienda en la que trabajas: ",se?.nombre_tienda]})]}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:20,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Cambiar Contrase\xf1a"})}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Contrase\xf1a Vieja"})}),(0,w.jsx)(D,{ref:ie,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:I,onChangeText:_,placeholder:"Contrase\xf1a vieja"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Contrase\xf1a Nueva"})}),(0,w.jsx)(D,{ref:ie,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:R,onChangeText:O,placeholder:"Contrase\xf1a nueva"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Repita la Nueva Contrase\xf1a"})}),(0,w.jsx)(D,{ref:ie,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:z,onChangeText:E,placeholder:"Contrase\xf1a nueva"}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Se(`Estas seguro que deseas cambiar tu contrase\xf1a nueva a ${R}`),be(!0),S(!C)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Cambiar Contrase\xf1a"})})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:je,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ce}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ze(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>be(!je),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>be(!je),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:he,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ge}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>{_(""),O(""),E(""),pe?e.navigate("Login"):fe(!he)},children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})};var ae=a(530),oe=a(1356);const re=g.default.create({container:{flex:1,marginLeft:"5%",marginTop:"4%",alignItems:"center",justifyContent:"flex-start"},dropdown:{backgroundColor:x.azul_Suave,borderColor:x.azul_Suave,borderRadius:13,width:"90%",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},dropdownTextDesktop:{fontSize:14,fontWeight:"bold",color:x.blanco},dropdownTextMovil:{fontSize:12,fontWeight:"bold",color:x.blanco},dropdownContainer:{borderColor:x.azul_Suave,backgroundColor:x.azul_Claro,width:"90%"}}),ie=({value:e,setValue:t,items:a,placeholder:r,searchable:i=!1,onDropdownOpen:s})=>{const[l,c]=(0,o.useState)(!1),{width:u}=(0,d.default)(),h=u<1150?re.dropdownTextMovil:re.dropdownTextDesktop;return(0,o.useEffect)((()=>{l&&s&&s()}),[l]),(0,w.jsx)(n.default,{style:re.container,children:(0,w.jsx)(oe.default,{open:l,value:e,items:a,setOpen:c,setValue:e=>{t(e),c(!1)},setItems:()=>{},placeholder:r,style:re.dropdown,textStyle:h,dropDownContainerStyle:re.dropdownContainer,searchable:i})})};var ne=a(4730);const se=(0,o.createContext)(void 0),le=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(se.Provider,{value:{modalProductsDates:t,setModalProductsDates:a},children:e})},de=()=>{const e=o.useContext(se);if(void 0===e)throw new Error("useModalProductsDates debe usarse dentro de un ModalProductsDates");return e},ce=(0,o.createContext)(void 0),ue=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(ce.Provider,{value:{sortProductos:t,setSortProductos:a},children:e})},he=()=>{const e=o.useContext(ce);if(void 0===e)throw new Error("useSortProductos debe usarse dentro de un SortProductos");return e},fe=async e=>{try{return(await P.default.get(`${M}/Rol`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al obtener todos los roles: ",t),!1}},ge=async(e,t)=>{try{return(await P.default.get(`${M}/Rol_permiso/getPermisosbyRol/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de los productos por el rol: ",a),!1}},xe=async(e,t,a)=>{try{return(await P.default.get(`${M}/Usuario/tiene_permiso/${a}/${t}`,{headers:{Authorization:`${e}`}})).data.tiene}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error al obtener datos de los permisos: ",o),!1}},pe=async e=>{try{return await P.default.get(`${M}/Tienda`,{headers:{Authorization:`${e}`}})}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al obtener datos de las tiendas: ",t),!1}},ye=async(e,t,a,o,r,i)=>{try{return(await P.default.post(`${M}/Tienda/createTienda`,{nombre:t,direccion:a,comicion:o,hora_apertura:r,hora_cierre:i},{headers:{Authorization:`${e}`}})).data}catch(n){return P.default.isAxiosError(n)&&401===n.response?.status&&A("Login"),console.log("Error incertar la tienda: ",n),!1}},we=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Producto_tienda/realizarVenta`,{id_producto:t,id_tienda:a,cantidad:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al realizar venta en producto tienda: ",r),!1}},me=async(e,t,a,o,r,i,n)=>{try{await P.default.put(`${M}/Tienda/updateTienda/${t}`,{nombre:a,direccion:o,comicion:r,hora_apertura:i,hora_cierre:n},{headers:{Authorization:`${e}`}})}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&A("Login"),console.log("Error actualizar la tienda: ",s),!1}},je=async(e,t)=>{try{await P.default.delete(`${M}/Tienda/deleteTienda/${t}`,{headers:{Authorization:`${e}`}});return!0}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error eliminar la tienda: ",a),!1}},be=async(e,t)=>{try{return(await P.default.get(`${M}/Tienda/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener dato de la tienda en espec\xedfico: ",a),!1}},Ce=async(e,t)=>{try{return(await P.default.get(`${M}/Producto_tienda/getTiendas/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de las tiendas seg\xfan el producto: ",a),!1}},Se=async(e,t,a)=>{try{return(await P.default.get(`${M}/Producto_tiendabyID/${t}/${a}`,{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error al obtener datos de las tiendas: ",o),0}},ve=async e=>{try{return(await P.default.get(`${M}/Moneda/obtener/USD`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al obtener valor de la moneda USD: ",t),!1}},Ie=async(e,t)=>{try{return(await P.default.put(`${M}/Moneda/cambiar/USD/${t}`,{},{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al cambiar el valor de la monea USD: ",a),!1}},_e=async e=>{try{return await P.default.get(`${M}/Producto`,{headers:{Authorization:`${e}`}})}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al obtener datos de los productos: ",t),!1}},ke=async(e,t)=>{try{return(await P.default.get(`${M}/Producto/getPaginated/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de los productos: ",a),!1}},Re=async(e,t)=>{try{return(await P.default.get(`${M}/producto_tienda/getProductos/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de los identificadores de  productos con la tienda: ",a),!1}},Oe=async(e,t)=>{try{return(await P.default.get(`${M}/Producto_tienda/getCantidadTotal/${t}`,{headers:{Authorization:`${e}`}})).data.cantidad_total}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de los productos: ",a),!1}},Te=async(e,t)=>{try{return(await P.default.get(`${M}/Producto/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos principales de los productos: ",a),!1}},ze=async(e,t,a,o,r,i,n)=>{try{return(await P.default.post(`${M}/Producto/createProducto`,{nombre:t,Sku:a,precio:o,precio_empresa:r,descripcion:i,isFecha_Vencimiento:n},{headers:{Authorization:`${e}`}})).data}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&A("Login"),console.log("Error incertar el producto: ",s),!1}},De=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Producto_tienda/HacerEntrada`,{id_producto:a,id_tienda:t,cantidad:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error incertar el la entrada al producto: ",r),!1}},Pe=async(e,t,a)=>{console.log(t,a);try{return(await P.default.post(`${M}/Producto/createProducto`,{id_producto:t,imagenes:a},{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error incertar el producto: ",o),!1}},Me=async(e,t,a)=>{console.log("id_producto: ",t),console.log("costo_acumulado: ",a);try{await P.default.put(`${M}/Producto/updateProducto/${t}`,{costo_acumulado:a},{headers:{Authorization:`${e}`}})}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error actualizar el producto: ",o),!1}},Ee=async(e,t,a,o,r,i,n,s)=>{try{await P.default.put(`${M}/Producto/updateProducto/${t}`,{nombre:a,Sku:o,precio:r,precio_empresa:i,descripcion:n,isFecha_Vencimiento:s},{headers:{Authorization:`${e}`}})}catch(l){return P.default.isAxiosError(l)&&401===l.response?.status&&A("Login"),console.log("Error actualizar el producto: ",l),!1}},$e=async(e,t,a,o)=>{try{await P.default.put(`${M}/Producto_tienda/updateProducto_tienda`,{id_producto:t,id_tienda:a,cantidad:o},{headers:{Authorization:`${e}`}})}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error actualizar el producto_tienda: ",r),!1}},Ae=async(e,t,a)=>{try{await P.default.post(`${M}/Producto/agregar/Tienda`,{id_tienda:a,id_producto:t},{headers:{Authorization:`${e}`}})}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error crear la relaci\xf3n con la tienda en el producto: ",o),!1}},Le=async(e,t)=>{try{await P.default.delete(`${M}/Producto/deleteProducto/${t}`,{headers:{Authorization:`${e}`}});return!0}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos principales de los productos: ",a),!1}},Be=async e=>{try{await P.default.delete(`${M}/Producto_tienda/DeleteAllTiendas/inProducto`,{headers:{Authorization:`${e}`}}),await P.default.delete(`${M}/Producto_tienda/delete/in0`,{headers:{Authorization:`${e}`}});return!0}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al eliminar en productos en 0: ",t),!1}},Fe=async(e,t,a,o,r,i,n)=>{try{return(await P.default.post(`${M}/Producto/api/filtrar`,{nombre:t||"",sku:a||"",precio_liminf:o||"",precio_limsup:r||"",cantidad:"0"===i?0:parseInt(i),id_tienda:n||null},{headers:{Authorization:`${e}`}})).data}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&A("Login"),console.log("Error al obtener datos principales de los productos: ",s),!1}},Ne=async(e,t,a,o,r,i,n)=>{try{return(await P.default.post(`${M}/Producto_tienda/api/filtrar`,{nombre:t||"",sku:a||"",precio_liminf:o||"",precio_limsup:r||"",cantidad:"0"===i?0:parseInt(i),id_tienda:parseInt(n)},{headers:{Authorization:`${e}`}})).data}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&A("Login"),console.log("Error al obtener datos principales de los productos: ",s),!1}},We=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Producto/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al ordenar los productos: ",r),!1}},Ue=async(e,t,a,o,r)=>{try{return await P.default.post(`${M}/Producto_tienda/MoverProducto_tienda`,{id_producto:t,id_tienda_origen:a,id_tienda_destino:o,cantidad:r},{headers:{Authorization:`${e}`}})}catch(i){return P.default.isAxiosError(i)&&401===i.response?.status&&A("Login"),console.log("Error al mover el producto: ",i),!1}},Ve=async(e,t)=>{try{const a=await ve(e),o=t.map((e=>({sku:e.sku,nombre:e.nombre,precioUSD:e.precioUSD,precioCUP:(parseFloat(e.precioUSD)*a).toFixed(2),precioEmpresaCUP:e.precioEmpresaUSD??"0",cantidad:e.cantidadTotal??"0"})));return(await P.default.post(`${M}/Producto/to/excel`,{productos:o},{headers:{Authorization:`${e}`},responseType:"blob"})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al crear excel: ",a),!1}},He=async(e,t,a)=>{try{return(await P.default.post(`${M}/Producto/to/excelwithcolumns`,{productos:a,columns:t},{headers:{Authorization:`${e}`},responseType:"blob"})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error al crear excel: ",o),!1}},qe=g.default.create({container:{flex:1,alignItems:"center",justifyContent:"flex-start",width:"90%"},dropdown:{backgroundColor:x.azul_Suave,borderColor:x.azul_Suave,borderRadius:13,width:"90%",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},dropdownContainer:{borderColor:x.azul_Suave,backgroundColor:x.azul_Claro,width:"90%"}}),Ye=({value:e,setValue:t,items:a,placeholder:r,onDropdownOpen:i})=>{const[s,l]=(0,o.useState)(!1),{width:c}=(0,d.default)();return(0,o.useEffect)((()=>{s&&i&&i()}),[s,i]),(0,w.jsx)(n.default,{style:qe.container,children:(0,w.jsx)(oe.default,{open:s,value:e,items:a,setOpen:l,setValue:t,setItems:()=>{},placeholder:r,style:qe.dropdown,dropDownContainerStyle:qe.dropdownContainer})})},Ke=async(e,t,a)=>{try{return(await P.default.post(`${M}/Imagen/createImagen`,{url:a,uri:t},{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log(`Error al guardar imagenes en los archivos ${o}`),!1}},Ge=async(e,t,a)=>{try{return(await P.default.delete(`${M}/Imagen/deleteImagen/${t}/${a}`,{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),alert(`Error al eliminar la imagenes en los archivos ${o}`),!1}},Je=async(e,t,a,o,r,i,n)=>{try{return(await P.default.post(`${M}/Salida/createSalida`,{fecha:t,cantidad:r,producto:i,tienda_origen:a,tienda_destino:o,usuario:n},{headers:{Authorization:`${e}`}})).data}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&A("Login"),console.log("Error al crear la salida del producto: ",s),!1}},Xe=async(e,t)=>{try{return(await P.default.get(`${M}/Salida/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return console.log("Error al obtener datos del movimiento en espec\xedfico: ",a),!1}},Qe=async(e,t,a,o,r,i,n,s)=>{try{return(await P.default.put(`${M}/Salida/updateSalida/${t}`,{fecha:a,cantidad:i,producto:n,tienda_origen:o,tienda_destino:r,usuario:s},{headers:{Authorization:`${e}`}})).data}catch(l){return P.default.isAxiosError(l)&&401===l.response?.status&&A("Login"),console.log("Error al actualizar datos del movimiento: ",l),!1}},Ze=async(e,t)=>{try{return(await P.default.delete(`${M}/Salida/deleteSalida/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al eliminar el movimiento: ",a),!1}},et=async(e,t,a,o,r,i,n,s)=>{console.log(n,s);try{return(await P.default.post(`${M}/Salida/api/filtrar`,{nombre_usuario:t??null,nombre_producto:a??null,cantidad:parseInt(o)??null,fecha_liminf:r??null,fecha_limsup:i??null,id_tienda_origen:n??null,id_tienda_destino:s??null},{headers:{Authorization:`${e}`}})).data}catch(l){return P.default.isAxiosError(l)&&401===l.response?.status&&A("Login"),console.log("Error al filtrar movimientos: ",l),!1}},tt=async(e,t,a,o,r,i,n,s,l)=>{console.log("NombreUsuario: ",t,"NombreProducto: ",a,"Cantidad: ",o,"fechaDesde: ",r,"fechaHasta: ",i,"TiendaUsuario: ",n,"TiendaOr: ",s,"tiendaDes: ",l);try{return(await P.default.post(`${M}/Salida/api/filtrarJT`,{nombre_usuario:t??null,nombre_producto:a??null,cantidad:parseInt(o)??null,fecha_liminf:r??null,fecha_limsup:i??null,id_tienda:n??null,id_tienda_origen:s??null,id_tienda_destino:l??null},{headers:{Authorization:`${e}`}})).data}catch(d){return P.default.isAxiosError(d)&&401===d.response?.status&&A("Login"),console.log("Error al filtrarEspecial movimientos: ",d),!1}},at=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Salida/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al ordenar las entradas: ",r),!1}},ot=(0,o.createContext)(void 0),rt=({children:e})=>{const[t,a]=(0,o.useState)({page:1});return(0,w.jsx)(ot.Provider,{value:{paginadoProductos:t,setPaginadoProductos:a},children:e})},it=()=>{const e=o.useContext(ot);if(void 0===e)throw new Error("usePaginadoProductos debe usarse dentro de un PaginadoProductos");return e},nt=({items:e,columns:t,isMobile:r,imtemsLength:i})=>{const d=(0,b.useNavigation)(),[g]=o.useState(new c.default.Value(1)),{modalProductsDates:p,setModalProductsDates:y}=de(),{sortProductos:m,setSortProductos:j}=he(),{usuario:C,setUsuario:S}=v(),{paginadoProductos:I,setPaginadoProductos:_}=it(),[k,R]=o.useState(0),O=r?st.containerMovil:st.containerDesktop,[T,z]=o.useState(0),[P,M]=o.useState(20),[E,$]=o.useState([]),[A,L]=o.useState(!1),[B,F]=o.useState(!1),[N,W]=o.useState(!1),[U,V]=o.useState(!1),[H,q]=o.useState(!1),[Y,G]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(""),[ee,te]=o.useState(""),[ae,oe]=o.useState(""),[re,ie]=o.useState(""),[se,le]=o.useState(""),[ce,ue]=o.useState([]),[fe,ge]=o.useState([]),[ye,we]=o.useState(""),[me,je]=o.useState(""),Ie=async()=>{if(!Re&&(Oe(!0),C?.token)){await Ue(C.token,tt,ee,ae,qe);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");await Je(C.token,`${a}-${o}-${t}`,ee,ae,qe,tt,C.id_usuario),await Ae(C.token,tt,ae);let r=`El usuario ${C.nombre} movi\xf3 ${qe} de ${ot} desde la tienda ${me} hasta la tienda ${ye}`;await K(C.token,r,`${t}-${a}-${o}`,C.id_usuario,1),Z(`Se movieron ${qe} de ${ot} desde la tienda ${me} a ${ye}`),V(!1),X(!0),G(!0)}},_e=async()=>{let e=!0,t="Error. Compruebe los siguientes par\xe1metros:\n",a=0;if(C?.token){const e=await Se(C.token,tt,ee);e.encontrado&&(a=parseInt(e.cantidad))}if(ee===ae&&(e=!1,t+="-La tienda origen no puede ser igual a la tienda destino.\n"),"0"===qe&&(e=!1,t+="-La cantidad a mover debe ser mayor a 0.\n"),""===qe?(e=!1,t+="-La cantidad a mover no puede ser vacio.\n"):parseInt(qe)>a&&(e=!1,t+="-La cantidad a mover es mayor que la cantidad que existe en la tienda.\n"),We&&""===ee&&(e=!1,t+="-Elija la tienda desde la que decea hacer el movimiento.\n"),""===ae&&(e=!1,t+="-Elija una tienda a la que desea hacer el movimiento.\n"),e){const e=fe.find((e=>e.value===ae));we(String(e?.label));const t=ce.find((e=>e.value===ee));je(String(t?.label)),q(!1),V(!0)}else Z(t),X(!1),G(!0)};o.useEffect((()=>{(async()=>{if(C?.token){const e=await be(C.token,ee),t=await Se(C.token,tt,ee);le(t.cantidad),ie(e.nombre)}})()}),[ee]);const ke=e=>{y({id_producto:e,isAddProducto:!0,fileEditable:!1,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!0,isAddProductoShowProveedores:!0})},[Re,Oe]=o.useState(!1),[ze,De]=o.useState(!1),[Pe,Me]=o.useState(!1),[Ee,$e]=o.useState(!1),[Fe,Ne]=o.useState(!1),[We,Ve]=o.useState(!1),He=e=>{if(C?.id_rol)return!!("1"==C.id_rol&&ze||"2"==C.id_rol&&ze)||!(!e.tieneOpciones||!ze)},[qe,Ke]=o.useState("");o.useEffect((()=>{(async()=>{if(C?.token){const e=await xe(C.token,"7",C.id_usuario),t=await xe(C.token,"8",C.id_usuario),a=await xe(C.token,"30",C.id_usuario),o=await xe(C.token,"31",C.id_usuario);R(await ve(C.token)),Me(e),$e(t),Ne(a),Ve(o),De(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=T*P,a=Math.min((T+1)*P,i);$([]),setTimeout((()=>{$(e.slice(t,a))}),0)}),[T,e,P]);const Xe=e=>{e>=0&&e*P<i&&(z(e),_({page:e}))},Qe=()=>(0,w.jsx)(ne.default.Header,{style:{justifyContent:"space-between"},children:t.map(((t,o)=>(0,w.jsxs)(ne.default.Title,{style:[st.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:[(0,w.jsx)(s.default,{style:r?st.headerTextMovil:st.headerTextDesktop,children:t}),("USD"===t||"Nombre"===t||"CUP"===t||"Cantidad"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre"===t?a="option3":"USD"===t||"CUP"===t?a="option4":"Cantidad"===t&&(a="option5"),j({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]},o)))}),Ze=()=>{c.default.spring(g,{toValue:1.5,useNativeDriver:!0}).start()},et=()=>{c.default.spring(g,{toValue:1,useNativeDriver:!0}).start()},[tt,at]=o.useState(""),[ot,rt]=o.useState(""),[nt,lt]=o.useState(""),dt=async e=>{if(at(e),C?.token){const t=await Te(C.token,e);t&&rt(t.nombre)}L(!A)},ct=e=>{if(lt(e),L(!A),"Modificar"===e){if(y({id_producto:tt,isAddProducto:!0,fileEditable:!0,isModificarProducto:!0,isAddProductoShowProveedoresTiendas:!0,isAddProductoShowProveedores:!0}),C?.token){}}else"Eliminar"===e?W(!N):"Mover"==e&&((async()=>{if(void 0!=C?.token){const e=await pe(C.token),t=await Ce(C.token,tt);if(e&&Array.isArray(e.data)&&!1!==t&&Array.isArray(t)){const a=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));let o=[],r=[];t.forEach((async e=>{parseInt(e.cantidad)>0&&o.push(e.id_tienda)}));for(let e of o){let t={value:"",label:""};const a=await be(C.token,e);t.label=a.nombre,t.value=e,r.push(t)}let i=!1;i=r.some((e=>{e.value,C.id_tienda}));for(let e=0;e<r.length;e++)r[e].value===C.id_tienda&&(i=!0);i&&te(C.id_tienda),We||te(C.id_tienda),ue(r),ge(a)}}})(),q(!H))},ut=async()=>{if(!Re&&(Oe(!0),C?.token)){const e=await Te(C.token,tt);if(e)for(let a of e.imagenes)a.id_imagen&&a.url?await Ge(C?.token,a.id_imagen,a.url.substring(1,a.url.length)):console.log("Error en comprobar el id o el uri de la imagen");const t=await ht();if(W(!N),t){const e=E.filter((e=>e.id_Producto!==tt)),t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i=`El usuario ${C.nombre} elimin\xf3 el producto ${ot}`;await K(C.token,i,`${a}-${o}-${r}`,C.id_usuario,1),$(e),Z("Producto eliminado con \xe9xito"),G(!0)}else Z("ERROR AL ELIMINAR: Ya se han hecho operaciones con el producto o ya est\xe1 en una tienda"),X(!1),G(!0)}},ht=async()=>{if(C?.token){await Be(C.token);return!!await Le(C.token,tt)}};return r?(0,w.jsx)(n.default,{style:O,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"180%"},children:[Qe(),E.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>ke(e.id_Producto),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:st.handerRowMovil,children:e.sku}),(0,w.jsx)(ne.default.Cell,{style:st.handerRowMovil,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:st.handerRowMovil,children:e.precioUSD}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:st.handerRowMovil,children:(parseFloat(e.precioUSD)*k).toFixed(2)}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:st.handerRowMovil,children:(0,w.jsxs)(s.default,{children:[e.cantidadTotal," "]})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:{flex:.5,justifyContent:"center",flexDirection:"row",alignItems:"center"},children:He(e)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,justifyContent:"center",alignItems:"center",borderRadius:12,height:"50%",width:"70%",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,marginRight:"100%"},onPressIn:Ze,onPressOut:et,onPress:()=>dt(e.id_Producto),children:(0,w.jsx)(l.default,{source:a(575),style:{width:"70%",height:"70%"}})})})]},e.id_Producto))),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",onRequestClose:()=>dt(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Pe&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ct("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ct("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(We||Fe)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ct("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>dt(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:B,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[tt,nt]}),(0,w.jsx)(u.default,{onPress:()=>F(!B),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ut(),disabled:Re,children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>W(!N),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>W(!N),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:H,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:""===ee?"Seleccione una tienda origen":`Mover Producto "${ot}" en la Tienda\n ${re} con una cantidad de ${se}`}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:qe,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ke(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[" ",We&&(0,w.jsx)(Ye,{value:ee,items:ce,placeholder:"Tienda desde donde se quiere mover",setValue:te}),(0,w.jsx)(Ye,{value:ae,items:fe,placeholder:"Tienda a la que se quiere mover",setValue:oe})]}),(0,w.jsx)(u.default,{onPress:()=>_e(),style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:150,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>q(!H),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:U,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:450,height:250,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Desea mover ${qe} producto ${ot} desde la tienda ${me} a ${ye}?`}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ie(),disabled:Re,children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>V(!U),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>V(!U),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:H,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:qe,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ke(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[" ",We&&(0,w.jsx)(Ye,{value:ee,items:ce,placeholder:"Tienda desde donde se quiere mover",setValue:te}),(0,w.jsx)(Ye,{value:ae,items:fe,placeholder:"Tienda a la que se quiere mover",setValue:oe})]}),(0,w.jsx)(u.default,{onPress:()=>_e(),style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:150,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>q(!H),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsxs)(n.default,{style:st.paginationContainer,children:[(0,w.jsx)(u.default,{style:[st.paginationButtonMovil,0===T&&st.disabledButton],onPress:()=>Xe(T-1),disabled:0===T,children:(0,w.jsx)(s.default,{style:st.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:st.paginationLabel,children:`${T*P+1}-${Math.min((T+1)*P,i)} de ${i}`}),(0,w.jsx)(u.default,{style:[st.paginationButtonMovil,(T+1)*P>=i&&st.disabledButton],onPress:()=>Xe(T+1),disabled:(T+1)*P>=i,children:(0,w.jsx)(s.default,{style:st.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:O,children:(0,w.jsxs)(ne.default,{children:[Qe(),E.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>ke(e.id_Producto),children:[(0,w.jsx)(ne.default.Cell,{style:st.handerRowDesktop,children:e.sku}),(0,w.jsx)(ne.default.Cell,{style:st.handerRowDesktop,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:st.handerRowDesktop,children:e.precioUSD}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:st.handerRowDesktop,children:(parseFloat(e.precioUSD)*k).toFixed(2)}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:{flex:1.5,justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsxs)(s.default,{style:{marginRight:"13%"},children:[e.cantidadTotal," "]})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:{flex:.5,justifyContent:"center",flexDirection:"row",alignItems:"center"},children:He(e)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,justifyContent:"center",alignItems:"center",borderRadius:12,height:"60%",width:"80%",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,marginRight:"100%"},onPressIn:Ze,onPressOut:et,onPress:()=>dt(e.id_Producto),children:(0,w.jsx)(l.default,{source:a(575),style:{width:"70%",height:"70%"}})})})]},e.id_Producto))),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",onRequestClose:()=>dt(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Pe&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ct("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ct("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(We||Fe)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ct("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>dt(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ut(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>W(!N),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>W(!N),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:H,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:500,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:""===ee?"Seleccione una tienda origen":`Mover Producto "${ot}" en la Tienda ${re} con una cantidad de ${se}`}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:qe,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ke(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[" ",We&&(0,w.jsx)(Ye,{value:ee,items:ce,placeholder:"Tienda desde donde se quiere mover",setValue:te}),(0,w.jsx)(Ye,{value:ae,items:fe,placeholder:"Tienda a la que se quiere mover",setValue:oe})]}),(0,w.jsx)(u.default,{onPress:()=>_e(),style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:150,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>q(!H),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:U,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:450,height:250,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Desea mover ${qe} producto ${ot} desde la tienda ${me} a ${ye}?`}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ie(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>V(!U),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>V(!U),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Y,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Q}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>{J?d.replace("Productos"):G(!Y)},children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:st.paginationContainer,children:[(0,w.jsx)(u.default,{style:[st.paginationButtonDesktop,0===T&&st.disabledButton],onPress:()=>Xe(T-1),disabled:0===T,children:(0,w.jsx)(s.default,{style:st.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:st.paginationLabel,children:`${T*P+1}-${Math.min((T+1)*P,i)} of ${i}`}),(0,w.jsx)(u.default,{style:[st.paginationButtonDesktop,(T+1)*P>=i&&st.disabledButton],onPress:()=>Xe(T+1),disabled:(T+1)*P>=i,children:(0,w.jsx)(s.default,{style:st.paginationLabel,children:"Pr\xf3xima"})})]})]})})},st=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRowDesktop:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},handerRowMovil:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});var lt=a(1614),dt=a(4090);const ct=({items:e,columns:t})=>{(0,b.useNavigation)();const[a]=o.useState(new c.default.Value(1)),[r,i]=o.useState(0),[l,d]=o.useState(3),[f,g]=o.useState([]);o.useEffect((()=>{const t=r*l,a=Math.min((r+1)*l,e.length);g([]),setTimeout((()=>{g(e.slice(t,a))}),0)}),[r,e,l]);const x=t=>{t>=0&&t*l<e.length&&i(t)},[p,y]=o.useState(!1);return(0,w.jsx)(n.default,{style:ut.containerDesktop,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[(0,w.jsx)(ne.default.Header,{style:{justifyContent:"space-between"},children:t.map(((e,t)=>(0,w.jsx)(ne.default.Title,{style:[ut.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsx)(s.default,{style:ut.headerTextDesktop,children:e})},t)))}),f.filter((e=>0!==parseInt(e.cantidad))).map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>{},children:[(0,w.jsx)(ne.default.Cell,{style:ut.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"left"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:ut.handerRow,children:e.cantidad})]},e.id_tienda))),(0,w.jsxs)(n.default,{style:ut.paginationContainer,children:[(0,w.jsx)(u.default,{style:[ut.paginationButtonMovil,0===r&&ut.disabledButton],onPress:()=>x(r-1),disabled:0===r,children:(0,w.jsx)(s.default,{style:ut.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:ut.paginationLabel,children:`${r*l+1}-${Math.min((r+1)*l,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[ut.paginationButtonMovil,(r+1)*l>=e.length&&ut.disabledButton],onPress:()=>x(r+1),disabled:(r+1)*l>=e.length,children:(0,w.jsx)(s.default,{style:ut.paginationLabel,children:"Pr\xf3xima"})})]})]})})})},ut=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),ht=({items:e,columns:t})=>{(0,b.useNavigation)();const[a]=o.useState(new c.default.Value(1)),[r,i]=o.useState(0),[l,d]=o.useState(3),[f,g]=o.useState([]);o.useEffect((()=>{const t=r*l,a=Math.min((r+1)*l,e.length);g([]),setTimeout((()=>{g(e.slice(t,a))}),0)}),[r,e,l]);const x=t=>{t>=0&&t*l<e.length&&i(t)},[p,y]=o.useState(!1);return(0,w.jsx)(n.default,{style:ft.containerDesktop,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[(0,w.jsx)(ne.default.Header,{style:{justifyContent:"space-between"},children:t.map(((e,t)=>(0,w.jsx)(ne.default.Title,{style:[ft.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsx)(s.default,{style:ft.headerTextDesktop,children:e})},t)))}),f.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>{},children:[(0,w.jsx)(ne.default.Cell,{style:ft.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"left"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:ft.handerRow,children:e.cantidad}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:ft.handerRow,children:e.costoPorUnidad})]},e.id_proveedor))),(0,w.jsxs)(n.default,{style:ft.paginationContainer,children:[(0,w.jsx)(u.default,{style:[ft.paginationButtonMovil,0===r&&ft.disabledButton],onPress:()=>x(r-1),disabled:0===r,children:(0,w.jsx)(s.default,{style:ft.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:ft.paginationLabel,children:`${r*l+1}-${Math.min((r+1)*l,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[ft.paginationButtonMovil,(r+1)*l>=e.length&&ft.disabledButton],onPress:()=>x(r+1),disabled:(r+1)*l>=e.length,children:(0,w.jsx)(s.default,{style:ft.paginationLabel,children:"Pr\xf3xima"})})]})]})})})},ft=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),gt=async e=>{try{return(await P.default.get(`${M}/Entrada`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al obtener datos de todas las entradas: ",t),!1}},xt=async(e,t)=>{try{return(await P.default.get(`${M}/Entrada/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de una entrada en espec\xedfico segun el ID: ",a),!1}},pt=async(e,t,a,o,r,i,n,s,l)=>{try{return(await P.default.post(`${M}/Entrada/createEntrada`,{costo:t,cantidad:a,fecha:o,costo_cup:l,fecha_vencimiento:r,proveedor:{id_proveedor:i},producto:{id_producto:n},tienda:{id_tienda:s}},{headers:{Authorization:`${e}`}})).data}catch(d){return P.default.isAxiosError(d)&&401===d.response?.status&&A("Login"),console.log("Error incertar la entrada: ",d),!1}},yt=async(e,t)=>{try{return(await P.default.get(`${M}/Entrada/Producto/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener todos las entradas seg\xfan el producto: ",a),!1}},wt=async(e,t)=>{try{return(await P.default.get(`${M}/Entrada/getProveedores/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener todos las entradas seg\xfan el proveedor: ",a),!1}},mt=async(e,t,a,o,r,i,n,s,l,d)=>{try{return(await P.default.put(`${M}/Entrada/updateEntrada/${t}`,{costo:a,cantidad:o,fecha:r,costo_cup:d,fecha_vencimiento:i,proveedor:{id_proveedor:n},producto:{id_producto:s},tienda:{id_tienda:l}},{headers:{Authorization:`${e}`}})).data}catch(c){return P.default.isAxiosError(c)&&401===c.response?.status&&A("Login"),console.log("Error modificar la entrada: ",c),!1}},jt=async(e,t)=>{try{return(await P.default.delete(`${M}/Entrada/deleteEntrada/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error incertar la entrada: ",a),!1}},bt=async(e,t,a,o,r,i,n)=>{try{return(await P.default.post(`${M}/Entrada/api/filtrar`,{nombre_producto:a,nombre_proveedor:t,costo_liminf:o,costo_limsup:r,fecha_liminf:i,fecha_limsup:n},{headers:{Authorization:`${e}`}})).data}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&A("Login"),console.log("Error al filtrar los datos: ",s),!1}},Ct=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Entrada/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al ordenar las entradas: ",r),!1}};var St=a(7045);const vt=(0,o.createContext)(void 0),It=({children:e})=>{const[t,a]=(0,o.useState)({isOnToken:!1});return(0,w.jsx)(vt.Provider,{value:{navigationLostDates:t,setNavigationLostDates:a},children:e})},_t=()=>{const e=o.useContext(vt);if(void 0===e)throw new Error("useNavigationLostDates debe usarse dentro de un NavigationLostDatesProvider");return e},kt=g.default.create({radioButton:{flexDirection:"row",height:50,width:"45%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"2%",backgroundColor:x.azul_Suave},radioButtonSelected:{backgroundColor:x.azul_Oscuro},radioButtonText:{fontSize:16,color:x.blanco,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},radioButtonTextSelected:{fontWeight:"bold",color:x.blanco_Suave},selectedText:{marginTop:20,fontSize:18,color:"#333"}}),Rt=({onPress:e,selected:t,label:a})=>(0,w.jsx)(u.default,{onPress:e,style:[kt.radioButton,t&&kt.radioButtonSelected],children:(0,w.jsx)(s.default,{style:[kt.radioButtonText,t&&kt.radioButtonTextSelected],children:a})});function Ot(){(0,b.useNavigation)();const{width:e}=(0,d.default)(),t=e<930,{usuario:r}=v(),{sortProductos:i}=he(),{modalProductsDates:g,setModalProductsDates:m}=de(),{navigationLostDates:j,setNavigationLostDates:C}=_t(),{paginadoProductos:S,setPaginadoProductos:I}=it(),[_,k]=(0,o.useState)(0),[R,O]=(0,o.useState)(!1),T=(0,o.useRef)(new c.default.Value(0)).current,z=((0,o.useRef)(new c.default.Value(0)).current,[{label:"Si",value:"si"},{label:"No",value:"no"}]),[P,M]=(0,o.useState)("no"),[$,A]=(0,o.useState)(""),[L,B]=(0,o.useState)(""),[F,N]=(0,o.useState)("0"),[W,U]=(0,o.useState)("0"),[V,H]=(0,o.useState)(""),[q,Y]=(0,o.useState)(""),[G,J]=(0,o.useState)(""),[X,Q]=(0,o.useState)(""),[Z,ee]=(0,o.useState)([]),[oe,re]=(0,o.useState)([]),[ne,se]=(0,o.useState)([]),[le,ce]=o.useState(!1),[ue,fe]=o.useState(!1),[ge,ye]=o.useState(!1),[we,me]=(0,o.useState)(!1),[je,be]=(0,o.useState)(!1),[Se,Ie]=(0,o.useState)(!1),[Re,De]=o.useState(""),[Me,$e]=o.useState(!1),[Ae,Le]=(0,o.useState)(!1),[Be,Ne]=(0,o.useState)(!1);let Ue=!1;const Ve=()=>{},qe=()=>{R?c.default.timing(T,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>O(!1))):(O(!0),c.default.timing(T,{toValue:400,duration:300,useNativeDriver:!1}).start())},Ye={height:T},[Je,Xe]=(0,o.useState)([]),[Qe,Ze]=(0,o.useState)(0),[et,tt]=(0,o.useState)([]),[at,ot]=(0,o.useState)([]),rt=e=>{"Enter"===e.nativeEvent.key&&Wt()},st=(0,o.useRef)(null);(0,o.useEffect)((()=>{g?.isAddProducto&&st.current?.focus()}),[g?.isAddProducto]),(0,o.useEffect)((()=>{j?.isOnToken&&alert(j.isOnToken)}),[j?.isOnToken]),(0,o.useEffect)((()=>{if(je&&void 0!==S?.page&&r?.token&&Se){(async()=>{if(void 0!=r?.token)try{const e=await ke(r.token,S.page+1);if(Ze(e.cantidad_total_productos),e&&Array.isArray(e.productos)){const t=await Promise.all(e.productos.map((async e=>{let t=!1;for(let a of e.tiendas)if(r.id_tienda===a.id_tienda){t=!0;break}return{id_Producto:e.id_producto,nombre:e.nombre,sku:e.Sku,cantidadTotal:e.cantidad_total,precioUSD:e.precio.toString(),tieneOpciones:t}})));Xe((e=>[...e,...t]))}else console.log("No se encontraron productos.")}catch(e){console.log("Error al obtener los productos o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de los productos")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de los productos")})()}}),[S]);const[ut,ft]=(0,o.useState)([]),[gt,xt]=(0,o.useState)(""),[pt,wt]=(0,o.useState)(""),[mt,jt]=(0,o.useState)(""),[bt,Ct]=(0,o.useState)(""),[vt,It]=(0,o.useState)(""),[kt,Ot]=(0,o.useState)(null),[Tt,zt]=(0,o.useState)(null),[Dt,Pt]=(0,o.useState)(!1),[Mt,Et]=(0,o.useState)(!1),$t=()=>{m({id_producto:"",isAddProducto:!1,isModificarProducto:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1})},At=async()=>{if(r?.token&&g?.id_producto){const e=await Te(r.token,g.id_producto);if(e){A(e.id_producto),B(e.nombre),N(e.precio),U((e.precio*_).toFixed(2)),Y(e.precio_empresa),J(e.Sku),H(`USD: ${e.costo_acumulado}  CUP: ${(e.costo_acumulado*_).toFixed(2)}`),M(e.isFecha_Vencimiento?"si":"no"),Q(e.descripcion||""),(async e=>{if(r?.token){const t=await Ce(r.token,e);if(Array.isArray(t)){const e=t.map((e=>({id_tienda:e.tienda.id_tienda.toString(),nombre:e.tienda.nombre,cantidad:e.cantidad.toString()})));tt(e)}}})(e.id_producto),(async e=>{try{if(r?.token){const t=await yt(r?.token,e);if(await Oe(r.token,e),t){const e=t.map((e=>({id_proveedor:e.proveedor.id_proveedor,nombre:e.proveedor.nombre,cantidad:e.cantidad,costoPorUnidad:e.costo})));ot(e)}}}catch(t){console.log("Error al cargar los proveedores por producto:",t)}})(e.id_producto);const t=e.imagenes.map((async e=>{let t=await e.url,a=await e.id_imagen,o=t.substring(1,t.length);return t=E+o,{uri:t,id:a}})),a=await Promise.all(t);ee(a)}}};(0,o.useEffect)((()=>{je&&At()}),[g]);const Lt=async e=>{if(fe(!1),Pt(!0),void 0!=r?.token)try{const t=await ke(r.token,e);if(Ze(t.cantidad_total_productos),t&&Array.isArray(t.productos)){const e=await Promise.all(t.productos.map((async e=>{let t=!1;if(Ue)for(let a of e.tiendas)if(r.id_tienda===a.id_tienda){t=!0;break}return{id_Producto:e.id_producto,nombre:e.nombre,sku:e.Sku,cantidadTotal:e.cantidad_total,precioUSD:e.precio.toString(),tieneOpciones:t}})));Xe(e)}else console.log("No se encontraron productos.")}catch(t){console.log("Error al obtener los productos o verificar permisos:",t),alert("Ocurri\xf3 un problema al cargar los datos de los productos")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de los productos");Pt(!1)};const Bt=async()=>{be(!1),I({page:1}),await(async()=>{if(r?.token){const e=await xe(r.token,"6",r.id_usuario),t=await xe(r.token,"38",r.id_usuario),a=await xe(r.token,"7",r.id_usuario),o=await xe(r.token,"8",r.id_usuario),i=await xe(r.token,"30",r.id_usuario),n=await xe(r.token,"31",r.id_usuario);k(await ve(r.token)),Ue=o||a||i||n,Le(e),Ne(t)}})(),await Lt(S.page),await(async()=>{if(void 0!=r?.token){const e=await pe(r.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));ft([{label:"Seleccione una tienda",value:""},...t])}}})(),be(!0)};(0,b.useFocusEffect)((0,o.useCallback)((()=>(Bt(),()=>{})),[])),(0,o.useEffect)((()=>{je&&Wt()}),[i,Tt]),(0,o.useEffect)((()=>{Ie(""===gt&&""===pt&&""===mt&&""===bt&&""===vt&&null===kt)}),[gt,pt,mt,bt,vt,kt]);const[Ft,Nt]=(0,o.useState)(!1),Wt=async()=>{Pt(!0);try{if(r?.token){let e=await(async()=>{if(r?.token)try{const e=await Fe(r.token,gt,pt,bt,vt,mt,kt??"");if(e)return await Promise.all(e.map((async e=>({id_Producto:e.id_producto,nombre:e.nombre,sku:e.Sku,cantidadTotal:e.cantidad_total,precioUSD:e.precio.toString(),precioEmpresaUSD:e.precio_empresa}))))}catch(e){return console.error("Error al filtrar los productos:",e),null}return null})();Nt(!Ft),i?.criterioOrden&&i.tipoOrden&&(e=await We(r.token,e,i.criterioOrden,Ft)),Ze(e.length),Xe(e)}}catch(e){console.error("Error al filtrar y ordenar los productos:",e)}finally{Pt(!1)}},Ut=async()=>{(0,lt.launchImageLibrary)({mediaType:"photo",quality:.8,includeBase64:!1,selectionLimit:100},(async e=>{if(e.didCancel)console.log("El usuario cancel\xf3 la selecci\xf3n de la imagen.");else if(e.errorMessage)console.error("Error al seleccionar la imagen: ",e.errorMessage);else if(e.assets&&e.assets.length>0){const t=await Promise.all(e.assets.map((async e=>{if(e.uri){const a=await qt(e.uri);try{if(a>307200){const t=await fetch(e.uri),a=await t.blob(),o=new File([a],e.fileName||"image.jpg",{type:a.type}),r=await(0,St.default)(o,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0}),i=await Vt(r);return Object.assign({},e,{uri:i,isCompressed:!0})}{const t=await Ht(e.uri);if(!t.startsWith("data:image"))throw new Error("Conversi\xf3n incorrecta de la URI a base64");return Object.assign({},e,{uri:t,isCompressed:!1})}}catch(t){console.error(`Error al procesar la imagen (${e.fileName||"sin nombre"}):`,t)}}return e})));ee(t)}else console.log("No se seleccion\xf3 ninguna imagen.")}))},Vt=e=>new Promise(((t,a)=>{const o=new FileReader;o.onload=()=>t(o.result),o.onerror=e=>a(e),o.readAsDataURL(e)})),Ht=async e=>{try{const t=await fetch(e),a=await t.blob();return Vt(new File([a],"image.jpg",{type:a.type}))}catch(t){throw console.error("Error al convertir URI a base64:",t),t}},qt=async e=>{try{const t=await fetch(e);return(await t.blob()).size}catch(t){return console.error("Error al obtener el tama\xf1o del archivo:",t),0}},Yt=e=>{const t=Z.filter(((t,a)=>a!==e)),a=Z.filter(((t,a)=>a===e))[0];re((e=>[...e,a])),ee(t)},Kt=()=>{xt(""),wt(""),jt(""),Ct(""),It(""),zt(""),Ot(null)},Gt=async()=>{if(!Me){if($e(!0),me(!1),De("Agregando producto. Espere por favor"),fe(!0),r?.token){let e=!0,t="ERROR AL INSERTAR PRODUCTO. Por favor compruebe los siguientes campos:\n";const a=await _e(r.token);if(a&&Array.isArray(a.data)&&a.data.forEach((a=>{a.Sku===G&&(e=!1,t+=`-El SKU debe ser \xfanico. Coincide con el SKU de  ${a.nombre}`)})),""===L.trim()&&(t+="-El nombre no puede ser vac\xedo.\n",e=!1),""==G.trim()&&(t+="-El SKU no puede ser vac\xedo.\n",e=!1),""===String(F).trim()&&(t+="-El precio en USD del producto no puede ser vac\xedo.\n",e=!1),""===String(q).trim()&&(t+="-El precio de la empresa en USD no puede ser vac\xedo.\n",e=!1),e){const e=await ze(r.token,L,G,F,q,X,"si"===P);if(e){const t={id_Producto:e.id_producto,nombre:L,sku:G,cantidadTotal:await Oe(r.token,e.id_producto),precioUSD:F,tieneOpciones:!0};Xe((e=>[...e,t]));let a=[],o=[];for(const[u,h]of Z.entries()){const t=await Ke(r.token,h,`\\${e.id_producto}_${u}.jpg`);t?a.push(t):alert("Error en algo de las imagenes")}let i=0;for(;i<a.length;)o.push({id_imagen:a[i].id_imagen}),i++;await Pe(r.token,e.id_producto,o);const n=new Date,s=String(n.getFullYear()),l=String(n.getMonth()+1).padStart(2,"0"),d=String(n.getDate()).padStart(2,"0");let c=`El usuario ${r.nombre} agreg\xf3 al sistema el producto ${L} a un precio en usd de ${F} y con un precio de empresa en usd de ${q}`;await K(r.token,c,`${s}-${l}-${d}`,r.id_usuario,1),De(`El Producto ${L} fue agregado con \xe9xito`),me(!0),fe(!0),J(""),B(""),N(""),Q(""),Y(""),ee([]),m({id_producto:"",isAddProducto:!1,fileEditable:!0,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1})}else alert("Error al agregar prducto")}else De(t),fe(!0),ye(!1),me(!0)}$e(!1)}},Jt=async()=>{if(!Me){if($e(!0),me(!1),De("Modificando producto. Espere por favor"),fe(!0),r?.token){let e=!0,t="ERROR AL MODIFICAR PRODUCTO. Por favor compruebe los siguientes campos:\n";""===L.trim()&&(t+="-El nombre no puede ser vac\xedo.\n",e=!1),""===G.trim()&&(t+="-El SKU no puede ser vac\xedo.\n",e=!1),""===String(F).trim()&&(t+="-El precio en USD del producto no puede ser vac\xedo.\n",e=!1),""===String(q).trim()&&(t+="-El precio de la empresa en USD no puede ser vac\xedo.\n",e=!1);let a=[],o=[];if(e){for(const[o,d]of Z.entries())if(d.id){const e=await Ke(r.token,d,`\\${$}_${o}.jpg`);e?a.push(e):alert("Error en algo de las imagenes")}let e=0;for(;e<a.length;)o.push({id_imagen:a[e].id_imagen}),e++;await Pe(r.token,$,o),await Ee(r.token,$,L,G,F,q,X,"si"===P),oe.forEach((async e=>{e.id&&e.uri&&await Ge(r.token,e.id,e.uri.split("/")[3])}));const t=new Date,i=String(t.getFullYear()),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");let l=`El usuario ${r.nombre} modific\xf3 el producto ${L}`;await K(r.token,l,`${i}-${n}-${s}`,r.id_usuario,1),ye(!0),De(`El Producto "${L}" se modific\xf3 con \xe9xito`),fe(!0),me(!0)}else De(t),me(!0),ye(!1),fe(!0)}$e(!1)}},Xt=["Nombre","Cantidad"],Qt=["Nombre","Cantidad","Costo"],Zt=["SKU","Nombre","USD","CUP","Cantidad"," "];return t?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:Ae&&(0,w.jsx)(u.default,{onPress:()=>m({id_producto:"",isAddProducto:!0,fileEditable:!0,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1}),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Producto"})})}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:qe,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[Dt?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(nt,{isMobile:t,items:Je,columns:Zt,columnasMyDateTableProveedorModal:Qt,columnasMyDateTableTiendaModal:Xt,tiendasByProducto:et,proveedorByProducto:at,imtemsLength:Qe}),R&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Ye],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del producto",value:gt,onKeyPress:rt,onChangeText:xt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"SKU:"}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Cantidad:"})]}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"SKU",value:pt,onKeyPress:rt,onChangeText:wt}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Cantidad",value:mt,onKeyPress:rt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");jt(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Precio USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:bt,onKeyPress:rt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ct(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:vt,onKeyPress:rt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");It(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Buscar por Tienda:"}),(0,w.jsx)(n.default,{style:{position:"relative",zIndex:500,height:100},children:(0,w.jsx)(ie,{value:kt,placeholder:"Seleccione un Tiendas",setValue:Ot,items:ut})}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Kt,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{Wt(),O(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:g?.isAddProducto??!1,animationType:"fade",onRequestClose:$t,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:$t,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:g?.isModificarProducto?"Modificar Producto":g?.isAddProductoShowProveedoresTiendas?"Datos del Producto":"Agregar Producto"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Producto"})}),(0,w.jsx)(D,{style:p.textImputModal,value:L,onChangeText:B,cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Nombre del producto"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:F,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;let o=parseFloat(a)*_;N(a),U(o.toFixed(2))},editable:!!g?.fileEditable,placeholder:"Precio en USD"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio de empresa en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:q,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Y(a)},cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Precio de empresa en CUP"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:W,cursorColor:x.azul_Oscuro,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;let o=parseFloat(a)/_;N(o.toFixed(5)),U(a)},editable:!!g?.fileEditable,placeholder:"Precio en CUP"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[Be&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo Promedio"}),Be&&(0,w.jsx)(D,{style:p.textImputModal,value:V,cursorColor:x.azul_Oscuro,editable:!1,placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Sku"}),(0,w.jsx)(D,{style:p.textImputModal,value:G,onChangeText:J,cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Sku"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:p.textImputModal,value:X,onChangeText:Q,cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Descripci\xf3n"})]})]}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"\xbfEste producto tiene fecha de vencimiento?"})}),(0,w.jsx)(n.default,{style:{padding:20,alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},children:z.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:P===e.value,onPress:()=>{g?.fileEditable&&M(e.value)}},e.value)))}),!g?.isModificarProducto&&((g?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(n.default,{style:{borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,flexDirection:"row",height:350,width:"90%"},children:[(0,w.jsxs)(n.default,{style:{flexDirection:"column",height:340,width:"45%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Tiendas en las que existe el producto"}),(0,w.jsx)(ct,{columns:Xt,items:et})]}),(g?.isAddProductoShowProveedores??!1)&&Be&&(0,w.jsxs)(n.default,{style:{height:340,width:"45%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Historial de proveedores"}),(0,w.jsx)(ht,{columns:Qt,items:at})]})]})),(0,w.jsx)(dt.PanGestureHandler,{onGestureEvent:Ve,children:(0,w.jsxs)(n.default,{style:{marginTop:20,width:"90%",borderWidth:1,borderColor:x.azul_Oscuro,borderRadius:13,padding:20,alignItems:"center",justifyContent:"center",backgroundColor:x.blanco_Suave},children:[(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,marginBottom:"5%"},children:"Im\xe1genes del producto"}),(g?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ut,children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Seleccionar Im\xe1genes"})}),Z.length>0&&(0,w.jsx)(h.default,{horizontal:!0,style:{marginTop:10,width:"100%",height:100},children:Z.map(((e,t)=>(0,w.jsxs)(n.default,{style:{position:"relative",width:100,height:100,marginRight:10},children:[(0,w.jsx)(l.default,{source:{uri:e.uri},style:{width:100,height:100,marginRight:10,borderRadius:10}},t),(0,w.jsx)(u.default,{style:{position:"absolute",top:5,right:5,backgroundColor:"red",borderRadius:15,width:20,height:20,justifyContent:"center",alignItems:"center",zIndex:1},onPress:()=>Yt(t),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:"X"})})]},t)))})]})}),(g?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>g?.isModificarProducto?Jt():Gt(),disabled:Me,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:g?.isModificarProducto?"Modificar Producto":"Agregar Producto"})})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ue,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Re}),we&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ge?Lt(1):fe(!ue),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:le,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Re}),Mt?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Datos Recopilados. Espere a que termine la descarga."}),(0,w.jsx)(u.default,{style:{backgroundColor:"#007BFF",padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ce(!le),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:[Ae&&(0,w.jsx)(u.default,{onPress:()=>{B(""),N(""),Y(""),J(""),Q(""),ee([]),m({id_producto:"",isAddProducto:!0,fileEditable:!0,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1})},style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"1%",marginTop:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===i?.criterioOrden&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Producto"})}),(0,w.jsxs)(u.default,{onPress:()=>(async()=>{if(De("Recopilando datos de todos los productos filtrados para el Exel. Espere un momento por favor."),Et(!0),ce(!0),r?.token)if(Je.length<Qe){const e=await pe(r.token),t=await Fe(r.token,"","","","","","");if(e&&Array.isArray(e.data)&&t&&Array.isArray(t)){let a=[];for(let i of t){const t={sku:i.Sku,Nombre:i.nombre,Existencia:i.cantidad_total,Precio_USD:parseFloat(i.precio).toFixed(2),Precio_CUP:(parseFloat(i.precio)*_).toFixed(2),Precio_Mayorista:i.precio_empresa},o=await Ce(r.token,i.id_producto);if(o&&Array.isArray(o)){for(let e of o)t[e.tienda.nombre]=e.cantidad??0;for(let a of e.data)t[a.nombre]||(t[a.nombre]=0)}a.push(t)}const o=await He(r.token,[],a);if(o){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=window.URL.createObjectURL(o),n=document.createElement("a");n.href=i,n.download=`Productos_${t}-${a}-${r}.xlsx`,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}else console.error("No se pudo descargar el archivo.")}}else{const e=await pe(r.token);if(e&&Array.isArray(e.data)){let t=[];for(let o of Je){const a={sku:o.sku,Nombre:o.nombre,Existencia:o.cantidadTotal,Precio_USD:parseFloat(o.precioUSD).toFixed(2),Precio_CUP:(parseFloat(o.precioUSD)*_).toFixed(0),Precio_Mayorista:o.precioEmpresaUSD??"0"},i=await Ce(r.token,o.id_Producto);if(i&&Array.isArray(i)){for(let e of i)a[e.tienda.nombre]=e.cantidad??0;for(let t of e.data)a[t.nombre]||(a[t.nombre]=0)}t.push(a)}const a=await He(r.token,[],t);if(a){const e=new Date,t=String(e.getFullYear()),o=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=window.URL.createObjectURL(a),n=document.createElement("a");n.href=i,n.download=`Productos_${t}-${o}-${r}.xlsx`,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}else console.error("No se pudo descargar el archivo.")}}Et(!1)})(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.verde_claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"1%",marginTop:"1%",backgroundColor:x.verde_claro},children:[(0,w.jsx)(l.default,{source:a(7520),style:{width:20,height:20,marginRight:"10%"}}),(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===i?.criterioOrden&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Exportar a Excel"})]})]}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:gt,onKeyPress:rt,onChangeText:xt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"SKU:"}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Cantidad:"})]}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"SKU",onKeyPress:rt,value:pt,onChangeText:wt}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Cantidad",value:mt,onKeyPress:rt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");jt(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Precio en USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",onKeyPress:rt,value:bt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ct(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:vt,onKeyPress:rt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");It(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Buscar por Tienda:"}),(0,w.jsx)(n.default,{style:{position:"relative",zIndex:500,height:100},children:(0,w.jsx)(ie,{value:kt,placeholder:"Seleccione una Tienda",setValue:Ot,items:ut})}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Kt,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Wt(),children:"Buscar"})})]})]}),Dt?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(nt,{isMobile:t,items:Je,columns:Zt,columnasMyDateTableProveedorModal:Qt,columnasMyDateTableTiendaModal:Xt,tiendasByProducto:et,proveedorByProducto:at,imtemsLength:Qe})]}),(0,w.jsx)(f.default,{transparent:!0,visible:g?.isAddProducto??!1,animationType:"fade",onRequestClose:$t,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:$t,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:g?.isModificarProducto?"Modificar Producto":g?.isAddProductoShowProveedoresTiendas?"Datos del Producto":"Agregar Producto"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Producto"})}),(0,w.jsx)(D,{ref:st,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:g?.fileEditable,value:L,onChangeText:B,placeholder:"Nombre del producto"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:F,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;let o=parseFloat(a)*_;N(a),U(o.toFixed(2))},editable:!!g?.fileEditable,placeholder:"Precio en USD"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio de empresa en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:q,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Y(a)},cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Precio de empresa en CUP"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:W,cursorColor:x.azul_Oscuro,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;let o=parseFloat(a)/_;N(o.toFixed(5)),U(a)},editable:!!g?.fileEditable,placeholder:"Precio en CUP"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[Be&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo Promedio"}),Be&&(0,w.jsx)(D,{style:p.textImputModal,value:V,cursorColor:x.azul_Oscuro,editable:!1,placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Sku"}),(0,w.jsx)(D,{style:p.textImputModal,value:G,onChangeText:J,cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Sku"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:p.textImputModal,value:X,onChangeText:Q,cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Descripci\xf3n"})]})]}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"\xbfEste producto tiene fecha de vencimiento?"})}),(0,w.jsx)(n.default,{style:{padding:20,alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},children:z.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:P===e.value,onPress:()=>{g?.fileEditable&&M(e.value)}},e.value)))}),!g?.isModificarProducto&&((g?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(n.default,{style:{borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,flexDirection:"row",height:350,width:"90%"},children:[(0,w.jsxs)(n.default,{style:{flexDirection:"column",height:350,width:"50%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiendas en las que existe el producto"}),(0,w.jsx)(ct,{columns:Xt,items:et})]}),(g?.isAddProductoShowProveedores??!1)&&Be&&(0,w.jsxs)(n.default,{style:{height:350,width:"50%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Historial de proveedores"}),(0,w.jsx)(ht,{columns:Qt,items:at})]})]})),(0,w.jsx)(dt.PanGestureHandler,{onGestureEvent:Ve,children:(0,w.jsxs)(n.default,{style:{marginTop:20,width:"90%",borderWidth:1,borderColor:x.azul_Oscuro,borderRadius:13,padding:20,alignItems:"center",justifyContent:"center",backgroundColor:x.blanco_Suave},children:[(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,marginBottom:"5%"},children:"Im\xe1genes del producto"}),(g?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ut,children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Seleccionar Im\xe1genes"})}),Z.length>0&&(0,w.jsx)(h.default,{horizontal:!0,style:{marginTop:10,width:"100%",height:100},children:Z.map(((e,t)=>(0,w.jsxs)(n.default,{style:{position:"relative",width:100,height:100,marginRight:10},children:[(0,w.jsx)(l.default,{source:{uri:e.uri},style:{width:100,height:100,marginRight:10,borderRadius:10}},t),g?.fileEditable&&(0,w.jsx)(u.default,{style:{position:"absolute",top:5,right:5,backgroundColor:"red",borderRadius:15,width:20,height:20,justifyContent:"center",alignItems:"center",zIndex:1},onPress:()=>Yt(t),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:"X"})})]},t)))})]})}),(g?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>g?.isModificarProducto?Jt():Gt(),disabled:Me,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:g?.isModificarProducto?"Modificar Producto":"Agregar Producto"})})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ue,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Re}),we&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ge?Lt(1):fe(!ue),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:le,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Re}),Mt?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Datos Recopilados. Espere a que termine la descarga."}),(0,w.jsx)(u.default,{style:{backgroundColor:"#007BFF",padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ce(!le),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})]})})})]})}function Tt(){const{width:e}=(0,d.default)(),t=e<930,{setUsuario:r,usuario:i}=((0,b.useNavigation)(),v()),{permisosUsuarioNavbar:s,setPermisosUsuarioNavbar:c}=ee();return(0,o.useEffect)((()=>{(async()=>{if(i?.token){const e=!0,t=4!==parseInt(i.id_rol),a=4!==parseInt(i.id_rol),o=4!==parseInt(i.id_rol),r=4!==parseInt(i.id_rol),n=4!==parseInt(i.id_rol)&&3!==parseInt(i.id_rol),s=4!==parseInt(i.id_rol)&&3!==parseInt(i.id_rol),l=4!==parseInt(i.id_rol)&&3!==parseInt(i.id_rol),d=4!==parseInt(i.id_rol)&&3!==parseInt(i.id_rol),u=4!==parseInt(i.id_rol)&&3!==parseInt(i.id_rol),h=4!==parseInt(i.id_rol)&&3!==parseInt(i.id_rol),f=4!==parseInt(i.id_rol)&&3!==parseInt(i.id_rol),g=4!==parseInt(i.id_rol),x=4!==parseInt(i.id_rol),p=4!==parseInt(i.id_rol);c({resultAccionesView:d,resultAgregarUsuario:n,resultEliminarUsuario:l,resultEntradaView:a,resultModificarUsuario:s,resultMovimientoGeneralView:r,resultMovimientoLocalView:o,resultProductoView:e,resultProveedorView:t,resultTipoServicio:u||h||f,resultClienteView:!0||p||x||g,resultGarantiaView:!1||!1||!1})}})()}),[]),t?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsxs)(n.default,{style:{flex:1,justifyContent:"space-around",alignItems:"center",flexDirection:"column"},children:[(0,w.jsx)(l.default,{source:a(788),style:{width:"60%",height:"55%"}}),(0,w.jsx)(l.default,{source:a(7587),style:{width:"90%",height:"30%"}})]})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsxs)(n.default,{style:{flex:1,justifyContent:"space-around",alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(l.default,{source:a(788),style:{width:"25%",height:"60%",marginTop:"5%"}}),(0,w.jsx)(l.default,{source:a(7587),style:{width:"50%",height:"40%"}})]})]})}a(7239);const zt=g.default.create({container:{flex:1,marginTop:"1%",marginLeft:"5%",alignItems:"center",justifyContent:"flex-start",zIndex:1,position:"relative"},dropdown:{backgroundColor:x.blanco,borderColor:x.azul_Suave,borderRadius:13,width:"95%",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,zIndex:1e3},dropdownTextDesktop:{fontSize:16,fontWeight:"bold",color:x.negro},dropdownTextMovil:{fontSize:12,fontWeight:"bold",color:x.negro},dropdownContainer:{borderColor:x.azul_Suave,backgroundColor:x.blanco,width:"95%",zIndex:1e3},searchInput:{borderColor:x.azul_Suave,borderWidth:1,borderRadius:10,padding:10,fontSize:14}}),Dt=({value:e,setValue:t,items:a,placeholder:r,searchable:i,readOnly:s=!1,onDropdownOpen:l})=>{const[c,u]=(0,o.useState)(!1),{width:h}=(0,d.default)(),f=h<1150?zt.dropdownTextMovil:zt.dropdownTextDesktop;(0,o.useEffect)((()=>{c&&l&&l()}),[c]);return(0,w.jsx)(n.default,{style:zt.container,children:(0,w.jsx)(oe.default,{open:c,value:e,items:a,setOpen:()=>{s||u((e=>!e))},setValue:t,setItems:()=>{},placeholder:r,style:zt.dropdown,textStyle:f,dropDownContainerStyle:zt.dropdownContainer,searchable:i&&!s,searchPlaceholder:"Buscar...",searchTextInputStyle:zt.searchInput,zIndex:1e3,disabled:s})})},Pt=(0,o.createContext)(void 0),Mt=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Pt.Provider,{value:{modalEntradasDates:t,setModalEntradasDates:a},children:e})},Et=()=>{const e=o.useContext(Pt);if(void 0===e)throw new Error("useModalEntradasDates debe usarse dentro de un ModalEntradasDates");return e},$t=({dayValue:e,monthValue:t,yearValue:a,onDayChange:r,onMonthChange:i,onYearChange:l,style:d,styleText:c,isReadOnly:u=!1,onDropdownOpen:h})=>{const[f,g]=(0,o.useState)(e),[x,p]=(0,o.useState)(t),[y,m]=(0,o.useState)(a),[j,b]=(0,o.useState)([]),[C,S]=(0,o.useState)(null);(0,o.useEffect)((()=>{const e=((e,t)=>new Date(t,e,0).getDate())(Number(x),Number(y)),t=Array.from({length:e},((e,t)=>({label:String(t+1),value:String(t+1)})));Number(f)>e&&g(String(e)),b(t)}),[x,y]);const v=(e,t,a)=>{r(e),i(t),l(a)},I=e=>{C===e?S(null):(S(e),h&&h())};return(0,w.jsxs)(n.default,{style:[At.container,d],children:[(0,w.jsxs)(n.default,{style:At.inputWrapper,children:[(0,w.jsx)(s.default,{style:[At.label,c],children:"D\xeda"}),(0,w.jsx)(oe.default,{open:"day"===C,value:f,items:j,setOpen:()=>!u&&I("day"),setValue:e=>{g(e),v(e,x,y)},style:At.picker,containerStyle:[At.pickerContainer,{zIndex:"day"===C?2:1}],dropDownContainerStyle:At.dropDownContainer,disabled:u})]}),(0,w.jsxs)(n.default,{style:At.inputWrapper,children:[(0,w.jsx)(s.default,{style:[At.label,c],children:"Mes"}),(0,w.jsx)(oe.default,{open:"month"===C,value:x,items:Array.from({length:12},((e,t)=>({label:String(t+1),value:String(t+1)}))),setOpen:()=>!u&&I("month"),setValue:e=>{p(e),v(f,e,y)},style:At.picker,containerStyle:[At.pickerContainer,{zIndex:"month"===C?2:1}],dropDownContainerStyle:At.dropDownContainer,disabled:u})]}),(0,w.jsxs)(n.default,{style:At.inputWrapper,children:[(0,w.jsx)(s.default,{style:[At.label,c],children:"A\xf1o"}),(0,w.jsx)(oe.default,{open:"year"===C,value:y,items:Array.from({length:101},((e,t)=>{const a=(new Date).getFullYear()-t;return{label:String(a),value:String(a)}})),setOpen:()=>!u&&I("year"),setValue:e=>{m(e),v(f,x,e)},style:At.picker,containerStyle:[At.pickerContainer,{zIndex:"year"===C?2:1}],dropDownContainerStyle:At.dropDownContainer,disabled:u})]})]})},At=g.default.create({container:{flexDirection:"row",justifyContent:"space-between"},inputWrapper:{flex:1,marginHorizontal:5},label:{fontSize:14,marginBottom:5,color:"#000"},picker:{height:20,borderColor:"gray",borderWidth:1,borderRadius:12},pickerContainer:{height:35,width:80},dropDownContainer:{borderColor:"gray",zIndex:9999}}),Lt=({items:e,columns:t})=>{(0,b.useNavigation)();const[a]=o.useState(new c.default.Value(1)),[r,i]=o.useState(0),[l,d]=o.useState(3),[f,g]=o.useState([]);o.useEffect((()=>{const t=r*l,a=Math.min((r+1)*l,e.length);g([]),setTimeout((()=>{g(e.slice(t,a))}),0)}),[r,e,l]);const x=t=>{t>=0&&t*l<e.length&&i(t)},[p,y]=o.useState(!1);return(0,w.jsx)(n.default,{style:Bt.containerDesktop,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[(0,w.jsx)(ne.default.Header,{style:{justifyContent:"space-between"},children:t.map(((e,t)=>(0,w.jsx)(ne.default.Title,{style:[Bt.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsx)(s.default,{style:Bt.headerTextDesktop,children:e})},t)))}),f.map((e=>(0,w.jsx)(ne.default.Row,{onPress:()=>alert("Not supported yet"),children:(0,w.jsx)(ne.default.Cell,{style:Bt.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"left"},numberOfLines:2,children:e.nombre})})},e.id_tienda))),(0,w.jsxs)(n.default,{style:Bt.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Bt.paginationButtonMovil,0===r&&Bt.disabledButton],onPress:()=>x(r-1),disabled:0===r,children:(0,w.jsx)(s.default,{style:Bt.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Bt.paginationLabel,children:`${r*l+1}-${Math.min((r+1)*l,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Bt.paginationButtonMovil,(r+1)*l>=e.length&&Bt.disabledButton],onPress:()=>x(r+1),disabled:(r+1)*l>=e.length,children:(0,w.jsx)(s.default,{style:Bt.paginationLabel,children:"Pr\xf3xima"})})]})]})})})},Bt=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%",width:"100%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:24,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:16,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:50,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:50,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:20,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),Ft=(0,o.createContext)(void 0),Nt=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Ft.Provider,{value:{sortServicios:t,setSortServicios:a},children:e})},Wt=()=>{const e=o.useContext(Ft);if(void 0===e)throw new Error("useSortServicios debe usarse dentro de un SortServicios");return e},Ut=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=Et(),{usuario:y,setUsuario:m}=v(),{sortServicios:j,setSortServicios:C}=Wt(),S=r?Vt.containerMovil:Vt.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(20),[O,T]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(0),[V,H]=o.useState(""),q=["Nombre"],[Y,K]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),G=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState(!1),[se,le]=o.useState(!1),[de,ce]=o.useState("");o.useEffect((()=>{(async()=>{if(y?.token){const e=await xe(y.token,"27",y.id_usuario);le(e)}})(),(async()=>{y?.token&&U(await ve(y.token))})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);T([]),setTimeout((()=>{T(e.slice(t,a))}),0)}),[I,e,k]);const ue=t=>{t>=0&&t*k<e.length&&_(t)},he=()=>{let t="Importes totales minoristas filtrados:  ",a=0,o=0,r=0;return e.forEach((e=>{e.devuelto||(r+=parseFloat(e.cantidad_transferida),25===parseInt(e.id_Tipo_servicio)?o+=parseFloat(e.precio)*(e.cantidad?parseInt(e.cantidad??"0"):0):a+=parseFloat(e.precio)*(2===parseInt(e.id_Tipo_servicio)?e.cantidad?parseInt(e.cantidad??"0"):0:1))})),t+=`USD: ${a.toFixed(5)}  CUP: ${(a*W).toFixed(2)}      Importes mayoristas filtrados:  CUP: ${(o*W).toFixed(2)} `,t+=`      Transferencis CUP: ${r}`,String(t)},fe=()=>{let t="Suma de ganancias por servicios prestados  USD: ",a=0;return e.forEach((e=>{2===parseInt(e.id_Tipo_servicio)||25===parseInt(e.id_Tipo_servicio)?a+=(parseFloat(e.precio)-parseFloat(e.costo)+parseFloat(e.costo_tipo_servicio))*(e.cantidad?parseInt(e.cantidad??"0"):0):a+=parseFloat(e.precio)-parseFloat(e.costo)+parseFloat(e.costo_tipo_servicio)})),t+=a.toFixed(5),t+=`    CUP: ${(a*W).toFixed(2)}`,String(t)},ge=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[Vt.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?Vt.headerTextMovil:Vt.headerTextDesktop,children:[t,("Nombre Cliente"===t||"Precio"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Fecha"===t?a="option3":"Nombre Cliente"===t?a="option4":"Precio"===t&&(a="option5"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[pe,ye]=o.useState(""),[we,me]=o.useState(""),je=e=>{ye(e),P(!z)},be=e=>{if(me(e),P(!z),"Modificar"===e){if(p({id_entrada:pe,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?A(!$):"Mover"==e&&B(!L)},Ce=async()=>{if(y?.token){if(0==await Se(y.token,pe,y.id_tienda)){return!!await Le(y.token,pe)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[ge(),O.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>G(e.id_Servicio),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[Vt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(ne.default.Cell,{style:[Vt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vt.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombreTipoServicio}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:parseFloat(e.precio).toFixed(5)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*W).toFixed(2)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.cantidad?e.cantidad:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Servicio))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>je(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{be("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{be("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(re||ae)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{be("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>je(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[pe,we]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await Ce();if(A(!$),e){const e=O.filter((e=>e.id_Cliente!==pe));T(e),H("Producto eliminado con \xe9xito"),N(!0)}else H("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),N(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!$),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:de,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ce(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Lt,{columns:q,items:Y})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Servicios"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:he()})}),(1===parseInt(y?.id_rol)||2===parseInt(y?.id_rol))&&(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:fe()})}),(0,w.jsxs)(n.default,{style:Vt.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Vt.paginationButtonMovil,0===I&&Vt.disabledButton],onPress:()=>ue(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Vt.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Vt.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Vt.paginationButtonMovil,(I+1)*k>=e.length&&Vt.disabledButton],onPress:()=>ue(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Vt.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[ge(),O.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>G(e.id_Servicio),children:[(0,w.jsx)(ne.default.Cell,{style:Vt.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(ne.default.Cell,{style:Vt.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vt.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombreTipoServicio}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:parseFloat(e.precio).toFixed(5)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*W).toFixed(2)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.cantidad?e.cantidad:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Servicio))),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:he()})}),(1===parseInt(y?.id_rol)||2===parseInt(y?.id_rol))&&(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:fe()})}),(0,w.jsxs)(n.default,{style:Vt.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Vt.paginationButtonDesktop,0===I&&Vt.disabledButton],onPress:()=>ue(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Vt.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Vt.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Vt.paginationButtonDesktop,(I+1)*k>=e.length&&Vt.disabledButton],onPress:()=>ue(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Vt.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Vt=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),Ht=async(e,t)=>{try{return(await P.default.get(`${M}/Servicio/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de un servicio en espec\xedfico segun el ID: ",a),!1}},qt=async(e,t,a,o,r,i,n,s,l,d,c,u)=>{try{return(await P.default.post(`${M}/Servicio/createServicio`,{fecha:t,precio:a,nota:o,descripcion:r,tienda:{id_tienda:i},tipo_servicio:{id_tipo_servicio:n},cliente:{id_cliente:d??null},costo:s,cantidad_transferida:l,garantia:null,deuda:null,encargo:null},{headers:{Authorization:`${e}`}})).data}catch(h){return P.default.isAxiosError(h)&&401===h.response?.status&&A("Login"),console.log("Error agregar servicio: ",h),!1}},Yt=async(e,t,a,o,r,i,n,s,l,d,c,u,h)=>{try{return(await P.default.put(`${M}/Servicio/updateServicio/${t}`,{fecha:a,precio:o,nota:r,costo:s,cantidad_transferida:l,devuelto:d,tienda:{id_tienda:i},tipo_servicio:{id_tipo_servicio:n},cliente:{id_cliente:c??null}},{headers:{Authorization:`${e}`}})).data}catch(f){return P.default.isAxiosError(f)&&401===f.response?.status&&A("Login"),console.log("Error modificar servicio: ",f),!1}},Kt=async(e,t)=>{try{return(await P.default.delete(`${M}/Servicio/deleteServicio/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al eliminar servicio: ",a),!1}},Gt=async(e,t,a,o,r,i,n,s,l)=>{try{return(await P.default.post(`${M}/Servicio/api/filtrar`,{nombre_cliente:t,id_tipo_servicio:a,id_tienda:o,precio_liminf:r,precio_limsup:i,fecha_liminf:n,fecha_limsup:s,nombre_producto:l},{headers:{Authorization:`${e}`}})).data}catch(d){return P.default.isAxiosError(d)&&401===d.response?.status&&A("Login"),console.log("Error al filtrar los datos: ",d),!1}},Jt=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Servicio/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al ordenar las servicios: ",r),!1}},Xt=async e=>{try{return(await P.default.get(`${M}/Tipo_servicio`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al obtener datos de todos los Tipos de Servicios: ",t),!1}},Qt=async(e,t)=>{try{return(await P.default.get(`${M}/Tipo_servicio/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de un Tipo de Servicio espesifico segun el ID: ",a),!1}},Zt=async(e,t,a)=>{try{return(await P.default.post(`${M}/Tipo_servicio/createTipo_servicio`,{nombre:t,costo:a},{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error incertar el tipo de servicio: ",o),!1}},ea=async(e,t,a,o)=>{try{return(await P.default.put(`${M}/Tipo_servicio/updateTipo_servicio/${t}`,{nombre:a,costo:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error modificar el tipo de servicio: ",r),!1}},ta=async(e,t)=>{try{return(await P.default.delete(`${M}/Tipo_servicio/deleteTipo_servicio/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error eliminar el tipo de servocio: ",a),!1}},aa=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Tipo_servicio/api/filtrar`,{nombre:t,costo_liminf:a,costo_limsup:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al filtrar los datos: ",r),!1}},oa=async e=>{try{return(await P.default.get(`${M}/cliente`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al obtener datos de todos los Clientes: ",t),!1}},ra=async(e,t)=>{try{return(await P.default.get(`${M}/Cliente/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return console.log("Error al obtener datos del cliente: ",a),!1}},ia=async(e,t,a,o,r,i,n,s)=>{try{return(await P.default.post(`${M}/Cliente/createCliente`,{nombre:t,email:a||"",descripcion:r||"",nota:i||"",telefono:o||"",Cif:n||"",detalles_bancarios:s||""},{headers:{Authorization:`${e}`}})).data}catch(l){return console.log("Error al incertar un nuevo cliente: ",l),!1}},na=async(e,t,a,o,r,i,n,s,l)=>{try{return(await P.default.put(`${M}/Cliente/updateCliente/${t}`,{nombre:a,email:o||"",descripcion:i||"",nota:n||"",telefono:r||"",Cif:s||"",detalles_bancarios:l||""},{headers:{Authorization:`${e}`}})).data}catch(d){return console.log("Error al actualizar el cliente: ",d),!1}},sa=async(e,t)=>{try{return await P.default.delete(`${M}/Cliente/deleteCliente/${t}`,{headers:{Authorization:`${e}`}})}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al eliminar el cliente: ",a),!1}},la=async(e,t,a,o,r)=>{try{return(await P.default.post(`${M}/Cliente/api/filtrar`,{nombre:t||"",cif:o||"",telefono:a||"",detalles_bancarios:r||""},{headers:{Authorization:`${e}`}})).data}catch(i){return P.default.isAxiosError(i)&&401===i.response?.status&&A("Login"),console.log("Error al filtrar los clientes: ",i),!1}},da=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Cliente/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al ordenar los clientes: ",r),!1}},ca=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Venta/createVenta`,{producto:{id_producto:t},servicio:{id_servicio:a},cantidad:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error agregar venta: ",r),!1}},ua=async(e,t,a)=>{try{return(await P.default.delete(`${M}/Venta/deleteVenta/${t}/${a}`,{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error al eliminar venta: ",o),!1}},ha=async(e,t)=>{try{return(await P.default.get(`${M}/Venta/getbyServicio/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de la venta segun el id del servicio: ",a),!1}},fa=g.default.create({radioButton:{flexDirection:"row",height:40,width:"35%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginLeft:"5%",backgroundColor:x.azul_Suave},radioButtonSelected:{backgroundColor:x.azul_Oscuro},radioButtonText:{fontSize:16,color:x.blanco,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},radioButtonTextSelected:{fontWeight:"bold",color:x.blanco_Suave}}),ga=({onPress:e,selected:t,label:a})=>(0,w.jsx)(u.default,{onPress:e,style:[fa.radioButton,t&&fa.radioButtonSelected],children:(0,w.jsx)(s.default,{style:[fa.radioButtonText,t&&fa.radioButtonTextSelected],children:a})}),xa=async(e,t)=>{try{return(await P.default.get(`${M}/Garantia/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de una garantia en espec\xedfico segun el ID: ",a),!1}},pa=async(e,t,a)=>{try{return(await P.default.post(`${M}/Garantia/createGarantia`,{duracion:t,servicio:{id_servicio:a}},{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error incertar la garantia: ",o),!1}},ya=async(e,t,a,o)=>{try{return(await P.default.put(`${M}/Garantia/updateGarantia/${o}`,{duracion:t,servicio:{id_servicio:a}},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error modificar la garantia: ",r),!1}},wa=async(e,t)=>{try{return(await P.default.delete(`${M}/Garantia/deleteGarantia/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error eliminar la garantia: ",a),!1}},ma=async(e,t,a,o,r,i,n,s)=>{try{return(await P.default.post(`${M}/Garantia/api/filtrar`,{nombre_producto:r,nombre_cliente:t,duracion_liminf:o,duracion_limsup:a,fecha_liminf:i,fecha_limsup:n,id_tienda:s},{headers:{Authorization:`${e}`}})).data}catch(l){return P.default.isAxiosError(l)&&401===l.response?.status&&A("Login"),console.log("Error al filtrar los datos: ",l),!1}},ja=async(e,t,a,o)=>{console.log(t,a,o);try{return(await P.default.post(`${M}/Encargo/createEncargo`,{adelanto:t,fecha_final:a,servicio:{id_servicio:o}},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error incertar el encargo: ",r),!1}},ba=async(e,t,a,o,r)=>{try{return(await P.default.put(`${M}/Encargo/updateEncargo/${r}`,{adelanto:t,fecha_final:a,servicio:{id_servicio:o}},{headers:{Authorization:`${e}`}})).data}catch(i){return P.default.isAxiosError(i)&&401===i.response?.status&&A("Login"),console.log("Error modificar el encargo: ",i),!1}},Ca=async(e,t)=>{try{return(await P.default.delete(`${M}/Encargo/deleteEncargo/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error eliminar el encargo: ",a),!1}},Sa=async(e,t)=>{try{return(await P.default.get(`${M}/Deuda/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de una deuda en espec\xedfico segun el ID: ",a),!1}},va=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Deuda/createDeuda`,{deuda:t,pago_deuda:{id_pago_deuda:o},servicio:{id_servicio:a}},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error incertar la deuda: ",r),!1}},Ia=async(e,t)=>{try{return(await P.default.delete(`${M}/Deuda/deleteDeuda/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error eliminar la deuda: ",a),!1}},_a=async(e,t,a,o,r,i,n,s,l,d)=>{try{return(await P.default.post(`${M}/Deuda/api/filtrar`,{nombre_producto:t,nombre_cliente:a,deuda_liminf:o,deuda_limsup:r,id_tienda:s,id_tipo_servicio:l,fecha_liminf:i,fecha_limsup:n,saldada:d},{headers:{Authorization:`${e}`}})).data}catch(c){return P.default.isAxiosError(c)&&401===c.response?.status&&A("Login"),console.log("Error al filtrar los datos: ",c),!1}},ka=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Pago_Deuda/createPago_Deuda`,{pagada:t,fecha:a,deuda:{id_deuda:o}},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error incertar la pago deuda: ",r),!1}},Ra=async(e,t)=>{try{return(await P.default.delete(`${M}/Pago_Deuda/deletePago_Deuda/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error eliminar la pago deuda: ",a),!1}};function Oa(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),[k,R]=(0,o.useState)(1e3),[O,T]=(0,o.useState)(1e3),[z,P]=(0,o.useState)(1e3),[M,E]=(0,o.useState)(1e3),[$,A]=(0,o.useState)(1e3),L=e=>{"FechaDetails"===e?(g(2e3),j(1500)):"TiendaDetails"===e||"TipoServicioDetails"===e?(j(2e3),g(1500),_(1500),S(2e3),R(1500)):"ProductoDetails"===e?(j(1500),g(1500),_(2e3),S(1500),R(1500)):"ClienteDetails"===e&&(R(2e3),j(1500),g(1500),_(1500),S(1500)),"FechaDesdeSearsh"===e?(T(2e3),P(1500),A(1500),E(1500)):"FechaHastaSearsh"===e?(T(1500),P(2e3),A(1500),E(1500)):"TipoServicioSearsh"===e?(T(1500),P(1500),A(1500),E(2e3)):"TiendaSearsh"===e&&(T(1500),P(1500),A(2e3),E(1500))},{usuario:B,setUsuario:F}=v(),{modalEntradasDates:N,setModalEntradasDates:W}=Et(),{sortServicios:U,setSortServicios:V}=Wt(),[H,q]=(0,o.useState)(!1),Y=(0,o.useRef)(new c.default.Value(0)).current,[G,J]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)(0)),[X,Q]=(0,o.useState)(""),[Z,ee]=(0,o.useState)(!1),[oe,re]=(0,o.useState)(""),[ne,se]=(0,o.useState)(""),[le,de]=(0,o.useState)(""),[ce,ue]=(0,o.useState)(""),[he,fe]=(0,o.useState)(""),[ge,ye]=(0,o.useState)("1"),[me,je]=(0,o.useState)("0"),[be,Ce]=(0,o.useState)("0"),[Ie,_e]=(0,o.useState)(""),[ke,Oe]=(0,o.useState)("sin Devolver"),[ze,De]=(0,o.useState)(""),[Pe,Me]=(0,o.useState)(""),[Ee,$e]=(0,o.useState)(""),[Le,Be]=(0,o.useState)(""),[Fe,Ne]=(0,o.useState)(""),[We,Ue]=(0,o.useState)(""),[Ve,He]=(0,o.useState)(""),[qe,Ye]=(0,o.useState)(""),[Ke,Ge]=(0,o.useState)(""),[Je,Xe]=(0,o.useState)(""),[Qe,Ze]=(0,o.useState)(!1),[et,tt]=(0,o.useState)(!1),[at,ot]=(0,o.useState)(!1),[rt,it]=(0,o.useState)(""),[nt,st]=(0,o.useState)(""),[lt,dt]=(0,o.useState)("0"),[ct,ut]=(0,o.useState)("0"),[ht,ft]=(0,o.useState)("0"),[gt,xt]=(0,o.useState)(""),[pt,yt]=(0,o.useState)(""),[wt,mt]=(0,o.useState)(""),[jt,bt]=(0,o.useState)(""),[Ct,St]=(0,o.useState)(""),[vt,It]=(0,o.useState)(""),[_t,kt]=(0,o.useState)(""),[Ot,Tt]=(0,o.useState)(""),[zt,Pt]=(0,o.useState)("sin Devolver"),[Mt,At]=(0,o.useState)(!1),[Lt,Bt]=(0,o.useState)(""),[Ft,Nt]=(0,o.useState)(""),[Vt,Qt]=(0,o.useState)(""),[Zt,ea]=(0,o.useState)(!1),[ta,aa]=(0,o.useState)(!1),[ra,ia]=o.useState(!1),[na,sa]=o.useState(""),[la,da]=o.useState(!1),[fa,xa]=(0,o.useState)(!1),[ma,_a]=(0,o.useState)(!1),[Oa,Ta]=(0,o.useState)(!1),[za,Da]=(0,o.useState)(""),[Pa,Ma]=(0,o.useState)(!1),[Ea,$a]=o.useState(!1),[Aa,La]=o.useState(!1),[Ba,Fa]=o.useState(!1),[Na,Wa]=o.useState(!1),[Ua,Va]=o.useState(!1),[Ha,qa]=(0,o.useState)(!1),Ya=()=>`Se deve cobrar USD: ${parseFloat(Ie)*parseFloat(ge)}  CUP: ${(parseFloat(ze)*parseFloat(ge)).toFixed(2)} y se pagar\xe1 por transferencia una cantidad de ${lt}`,[Ka,Ga]=(0,o.useState)(null),[Ja,Xa]=(0,o.useState)([]),Qa=()=>{H?c.default.timing(Y,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>q(!1))):(q(!0),c.default.timing(Y,{toValue:400,duration:300,useNativeDriver:!1}).start())},Za={height:Y},[eo,to]=(0,o.useState)([]),[ao,oo]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[ro,io]=(0,o.useState)([]),[no,so]=(0,o.useState)([]),[lo,co]=(0,o.useState)([]),[uo,ho]=(0,o.useState)([]),fo=new Date,go=String(fo.getFullYear()),xo=String(fo.getMonth()+1).padStart(2,"0"),po=String(fo.getDate()).padStart(2,"0"),[yo,wo]=(0,o.useState)(""),[mo,jo]=(0,o.useState)(""),[bo,Co]=(0,o.useState)(""),[So,vo]=(0,o.useState)(""),[Io,_o]=(0,o.useState)(""),[ko,Ro]=(0,o.useState)(""),[Oo,To]=(0,o.useState)("1"),[zo,Do]=(0,o.useState)("1"),[Po,Mo]=(0,o.useState)("2024"),[Eo,$o]=(0,o.useState)(String(parseInt(po))),[Ao,Lo]=(0,o.useState)(String(parseInt(xo))),[Bo,Fo]=(0,o.useState)(String(parseInt(go))),[No,Wo]=(0,o.useState)(""),Uo=[{label:"D\xeda",value:"dia"},{label:"Semana",value:"semana"},{label:"Mes",value:"mes"}],Vo=[{label:"Devolver",value:"devolver"},{label:"Sin Devolver",value:"sin devolver"}],Ho=e=>{Wo(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i="";if("dia"===e)i=`${a}-${o}-${r}`;else if("semana"===e){const e=new Date(t);e.setDate(t.getDate()-6);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("mes"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setMonth(t.getMonth()-1);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}Xo(i,`${a}-${o}-${r}`)},[qo,Yo]=(0,o.useState)(!1),Ko=()=>{se(""),_e(""),ye(""),dt("0"),ue(""),tt(!1),aa(!1),ft("0"),ut("0"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(ee(!1),B?.token&&N?.id_entrada){At(!1);const e=await Ht(B.token,N.id_entrada);if(e){const[t,a,o]=e.fecha.split("T")[0].split("-");if(re(e.id_servicio),se(e.cliente.id_cliente),ue(e.tipo_servicio.id_tipo_servicio),Me(e.nota),$e(e.descripcion),Oe(e.devuelto?"devolver":"sin devolver"),Ze(null!==e.garantia),dt(e.cantidad_transferida),st(null!==e.garantia?e.garantia.duracion:""),it(null!==e.garantia?e.garantia.id_garantia:""),yt(null!==e.encargo?e.encargo.id_encargo:""),Xe(null!==e.encargo?e.encargo.adelanto:""),mt(null!==e.deuda?e.deuda.id_deuda:""),null!==e.encargo){const t=String(e.encargo.fecha).split("-"),a=t[0],o=t[1],r=t[2];Ge(String(parseInt(a))),Ye(String(parseInt(o))),He(String(parseInt(r)))}if(Tt(e.tipo_servicio.id_tipo_servicio),Pt(e.devuelto?"devolver":"sin devolver"),xt(null!==e.garantia?e.garantia.duracion:""),ot(null!==e.garantia),2===parseInt(e.tipo_servicio.id_tipo_servicio)){const t=await ha(B.token,oe);t?(ea(!0),fe(t.producto.id_producto),ye(t.cantidad),de(e.tienda.id_tienda),_e(e.precio),De(String((parseFloat(e.precio)*G).toFixed(2))),Ce(e.costo_acumulado)):(ea(!0),fe(""),ye(""),de(""),_e(""),De(""),Ce(""))}else ea(!1),_e(e.precio),De(String((parseInt(e.precio)*G).toFixed(2))),Ce(e.costo);Be(String(parseInt(o))),Ne(String(parseInt(a))),Ue(String(parseInt(t))),He(String(parseInt(o))),Ye(String(parseInt(a))),Ge(String(parseInt(t))),At(!0)}}ee(!0)})()}),[N]),(0,o.useEffect)((()=>{26===parseInt(ce)?aa(!0):aa(!1),(async()=>{if(B?.token){const e=await Ht(B.token,N.id_entrada);if(2===parseInt(ce)||25===parseInt(ce)){const t=await ha(B.token,oe);ea(!0),t?(It(t.producto.id_producto),kt(t.cantidad),St(e.tienda.id_tienda),fe(t.producto.id_producto),Q(t.producto.id_producto),ye(t.cantidad),de(e.tienda.id_tienda),_e(e.precio),De(String((parseFloat(e.precio)*G).toFixed(2))),Ce(t.producto.costo_acumulado)):(ea(!0),fe(""),ye(""),_e(""),De(""),Ce(""))}else ea(!1),_e(e.precio),De(String((parseInt(e.precio)*G).toFixed(2))),Ce(e.costo)}})()}),[ce]),(0,o.useEffect)((()=>{"PrecioCUP"===jt?(_e(parseFloat(Ie).toFixed(4)),bt("")):"PrecioUSD"===jt?(De(parseFloat(ze).toFixed(2)),bt("")):"CostoCUP"===jt?(Ce(parseFloat(be).toFixed(4)),bt("")):"CostoUSD"===jt&&(je(parseFloat(me).toFixed(2)),bt("")),bt("")}),[jt]),(0,o.useEffect)((()=>{(async()=>{if(B?.token){const e=await Re(B.token,le);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));so(t)}}})()}),[le]),(0,o.useEffect)((()=>{if(Z)if(""!==he&&he!==X&&B?.token){Q(he);(async()=>{const e=await Te(B.token,he);Ce(e.costo_acumulado),_e(e.precio??0),De(String((parseFloat(e.precio)*G).toFixed(2))??0)})()}else Q(he)}),[he]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{ee(!1),await(async()=>{if(B?.token){const e=await xe(B.token,"26",B.id_usuario),t=await xe(B.token,"25",B.id_usuario),a=await xe(B.token,"24",B.id_usuario),o=await xe(B.token,"26",B.id_usuario),r=await xe(B.token,"27",B.id_usuario);J(await ve(B.token)),Wa(o),Va(r),$a(e),La(t),Fa(a)}})(),await(async()=>{if(void 0!=B?.token){const e=await Xt(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_tipo_servicio}))));ho([{label:"Todos los tipos de servicios",value:""},...t])}}})(),await(async()=>{if(void 0!=B?.token){const e=await oa(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_cliente}))));io(t)}}})(),await(async()=>{if(void 0!=B?.token){const e=await pe(B.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));co([{label:"Todas las tiendas",value:""},...t])}}})(),await(async()=>{if(void 0!=B?.token){const e=await xe(B.token,"27",B.id_usuario),t=await xe(B.token,"26",B.id_usuario);if(e){const e=await Re(B.token,B.id_tienda);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));so(t)}}else if(t){const e=await Re(B.token,B.id_tienda);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));so(t)}}}})()})(),()=>{})),[]));const[Go,Jo]=(0,o.useState)(!1),Xo=async(e,t)=>{Yo(!0);try{if(B?.token){let a=await(async(e,t)=>{if(B?.token){const o=await xe(B.token,"27",B.id_usuario);try{const a=await Gt(B.token,yo,bo,o?So:B.id_tienda,Io,ko,e,t,mo);if(a)return await Promise.all(a.map((async e=>({id_Servicio:e.id_servicio,id_Cliente:e.cliente.id_cliente,id_Tienda:e.tienda.id_tienda,id_Tipo_servicio:e.tipo_servicio.id_tipo_servicio,id_Deuda:"",id_Garantia:"",fecha:e.fecha,precio:e.precio,nota:e.nota,descripcion:e.descripcion,nombreCliente:e.cliente.nombre,nombreTienda:e.tienda.nombre,nombreTipoServicio:e.tipo_servicio.nombre,nombreProducto:e.venta?e.venta.producto.nombre:"",cantidad:e.venta?e.venta.cantidad:"",devuelto:e.devuelto,costo:e.costo,cantidad_transferida:e.cantidad_transferida,costo_tipo_servicio:e.tipo_servicio.costo}))))}catch(a){return console.error("Error al filtrar los proveedoress:",a),null}}return null})(e,t)||[];Jo(!Go),a=U?.criterioOrden&&U.tipoOrden?await Jt(B.token,a,U.criterioOrden,Go):await Jt(B.token,a,"option3",Go),to(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{Yo(!1)}};(0,o.useEffect)((()=>{Xo(`${Po}-${zo}-${Oo}`,`${Bo}-${Ao}-${Eo}`)}),[U,Ka]),(0,o.useEffect)((()=>{Wo("")}),[Oo,zo,Po,Eo,Ao,Bo]);const Qo=()=>{At(!1),de(B?.id_tienda),se(""),_e(""),De(""),ye(""),Ce(""),ue(""),ye(""),Me(""),$e(""),W({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1});const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");Be(String(parseInt(o))),Ne(String(parseInt(a))),Ue(String(parseInt(t))),He(String(parseInt(o))),Ye(String(parseInt(a))),Ge(String(parseInt(t))),At(!0)},Zo=e=>{"Enter"===e.nativeEvent.key&&Xo(`${Po}-${zo}-${Oo}`,`${Bo}-${Ao}-${Eo}`)},er=()=>{wo(""),Ga(""),vo(""),Co(""),_o(""),Ro(""),Wo("")},tr=async()=>{if(!Pa){if(Ma(!0),xa(!1),sa("Agregando servicio. Espere por favor"),ia(!0),B?.token){const e=await Se(B.token,he,le);let t=!0,a="ERROR AL INGRESAR SERVICIO. Por favor verifique los siguientes campos:\n";if(""!==be&&void 0!==be||(t=!1,a+="-Digite el costo del servicio.\n"),""!==Ie&&void 0!==be||(t=!1,a+="-Defina el precio cobrado al cliente.\n"),""===ne&&(t=!1,a+="-Seleccione un cliente. Si no hay datos del cliente seleccione an\xf3nimo\n"),""===ce&&(t=!1,a+="-Seleccione el tipo de servicio que est\xe1 ofreciendo.\n"),Qe&&""===nt&&(t=!1,a+="-Defina la duraci\xf3n de la garant\xeda.\n"),Qe&&1===parseInt(ne)&&(t=!1,a+="-El ciente An\xf3nimo no puede tener garant\xedas"),""===le&&(t=!1,a+="-Seleccione una tienda.\n"),parseFloat(lt)>parseFloat(ze)*parseInt(ge)&&(t=!1,a+="-La cantidad de la transferencia es mayor que el precio del producto. \n"),e&&parseInt(e.cantidad)<parseInt(ge)&&(t=!1,a+="-La cantidad que desea vender es mayor que la cantidad que hay en la tienda.\n"),2!==parseInt(ce)&&25!==parseInt(ce)||(""===he&&(t=!1,a+="-Seleccione un producto para vender.\n"),""===ge&&(t=!1,a+="-Defina la cantidad que desea vender del producto.\n")),26===parseInt(ce)){const e=new Date(`${We}-${Fe}-${Le}`),o=new Date(`${Ke}-${qe}-${Ve}`);1===parseInt(ne)&&(t=!1,a+="-No se puede hacer un encargo al cliente An\xf3nimo.\n"),o<e&&(t=!1,a+="-La fecha del encargo no puede ser menor que la fecha del servicio.\n")}if(et&&!ta&&(parseFloat(ct)>parseFloat(Ie)&&(t=!1,a+="-El adelanto inicial de la deuda es mayor que el monto a cobrar por el servicio.\n"),1===parseInt(ne)&&(t=!1,a+="-El cliente An\xf3nimo no puede tener deudas")),t){const e=await qt(B.token,`${Fe}-${Le}-${We}`,Ie,Pe,Ee,le,ce,be,""===lt?"0":lt,ne,"Not suport yet","not suport yet");if(console.log(e),Qe&&await pa(B.token,nt,e.id_servicio),et){const t=await va(B.token,Ie,e.id_servicio,void 0);ct&&parseFloat(ct)>0&&await ka(B.token,ct,`${Fe}-${Le}-${We}`,t.id_deuda)}if(2===parseInt(ce)||25===parseInt(ce)){await ca(B.token,he,e.id_servicio,ge),await we(B.token,he,le,`${parseInt(ge)}`);const t=ro.find((e=>e.value===ne)),a=uo.find((e=>e.value===ce)),o=no.find((e=>e.value===he)),r=new Date,i=String(r.getFullYear()),n=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");let l=`El usuario ${B.nombre} agreg\xf3 un servicio del tipo de servicio ${a?.label} al cliente ${t?.label}. Se vendi\xf3 una cantidad de ${ge} del producto ${o?.label} a un precio de ${Ie} USD`;await K(B.token,l,`${i}-${n}-${s}`,B.id_usuario,7)}else{26===parseInt(ce)&&await ja(B.token,Je,`${Ke}-${qe}-${Ve}`,e.id_servicio);const t=ro.find((e=>e.value===ne)),a=uo.find((e=>e.value===ce)),o=new Date,r=String(o.getFullYear()),i=String(o.getMonth()+1).padStart(2,"0"),n=String(o.getDate()).padStart(2,"0");let s=`El usuario ${B.nombre} agreg\xf3 un servicio del tipo de servicio ${a?.label} a un precio de ${Ie} USD al cliente ${t?.label}`;await K(B.token,s,`${r}-${i}-${n}`,B.id_usuario,7)}await Ae(B.token,ce,le),xa(!0),sa("El servicio se agreg\xf3 con \xe9xito"),ia(!0),da(!0),se(""),_e(""),De(""),ye(""),Ce(""),ue(""),ye(""),Me(""),$e(""),st(""),W({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1})}else sa(a),xa(!0),ia(!0)}Ma(!1)}},ar=async()=>{if(!Pa){if(Ma(!0),xa(!1),sa("Modificando servicio. Espere por favor"),ia(!0),B?.token){let e=0;const t=await Se(B.token,he,le);t&&(e=t.cantidad);let a=!0,o="ERROR AL MODIFICAR EL SERVICIO. Compruebe los siguientes campos:\n";if(""===ne&&(a=!1,o+="-Seleccione un cliente. Si no hay datos del cliente seleccione an\xf3nimo\n"),""===ce&&(a=!1,o+="-Seleccione el tipo de servicio que est\xe1 ofreciendo.\n"),""===le&&(a=!1,o+="-Seleccione una tienda.\n"),parseFloat(lt)>parseFloat(ze)*parseInt(ge)&&(a=!1,o+="-La cantidad de la transferencia es mayor que el precio del producto. \n"),Qe&&""===nt&&(a=!1,o+="-Defina la duraci\xf3n de la garant\xeda.\n"),""===be&&(a=!1,o+="-Digite el costo del servicio.\n"),""===Ie&&(a=!1,o+="-Defina el precio cobrado al cliente.\n"),Qe&&""===nt&&(a=!1,o+="-Defina la duraci\xf3n de la garant\xeda.\n"),Qe&&1===parseInt(ne)&&(a=!1,o+="-El ciente An\xf3nimo no puede tener garant\xedas"),26===parseInt(ce)){const e=new Date(`${We}-${Fe}-${Le}`),t=new Date(`${Ke}-${qe}-${Ve}`);1===parseInt(ne)&&(a=!1,o+="-No se puede hacer un encargo al cliente An\xf3nimo.\n"),t<e&&(a=!1,o+="-La fecha del encargo no puede ser menor que la fecha del servicio.\n")}if(2!==parseInt(ce)&&25!==parseInt(ce)||(""===he&&(a=!1,o+="-Seleccione un producto para vender.\n"),""===ge&&(a=!1,o+="-Defina la cantidad que desea vender del producto.\n")),e+parseInt(_t)<parseInt(ge)&&(a=!1,o+="-La cantidad que desea modificar es mayor que la cantidad que hay en la tienda.\n"),ge!==_t&&he===vt&&le===Ct&&2===parseInt(ce)||25===parseInt(ce)?e+parseInt(_t)<parseInt(_t)-parseInt(ge)&&(a=!1,o+="-La cantidad que hay en la tienda no es suficiente para modificar la venta del producto.\n"):he===vt&&le===Ct||e<parseInt(ge)&&(a=!1,o+="-La cantidad que hay en la tienda no es suficiente para modificar la venta del producto.\n"),a){await Yt(B.token,oe,`${Fe}-${Le}-${We}`,Ie,Pe,le,ce,be,""===lt?"0":lt,"devolver"===ke,ne,"Not suport yet","not suport yet"),Qe===at&&nt===gt||(Qe?""!==rt?await ya(B.token,nt,oe,rt):await pa(B.token,nt,oe):await wa(B.token,rt)),ce!==Ot&&26===parseInt(Ot)?await Ca(B.token,pt):ce!==Ot&&26===parseInt(ce)?await ja(B.token,Je,`${Ke}-${qe}-${Ve}`,oe):ce===Ot&&26===parseInt(ce)&&await ba(B.token,Je,`${Ke}-${qe}-${Ve}`,oe,pt),2===parseInt(Ot)&&2!==parseInt(ce)&&4!==parseInt(ce)&&(await we(B.token,vt,Ct,""+-1*parseInt(_t)),await ua(B.token,vt,oe)),ge!==_t&&he===vt&&le===Ct?(await we(B.token,he,le,""+(parseInt(ge)-parseInt(_t))),await ca(B.token,he,oe,ge)):ce!==Ot&&2===parseInt(ce)||25===parseInt(ce)?(await ca(B.token,he,oe,ge),await we(B.token,vt,Ct,""+-1*parseInt(_t)),await we(B.token,he,le,`${parseInt(ge)}`)):le===Ct&&he===vt||(await ca(B.token,he,oe,ge),await we(B.token,vt,Ct,""+-1*parseInt(_t)),await we(B.token,he,le,`${parseInt(ge)}`)),ke===zt||"devolver"!==ke||2!==parseInt(ce)&&25!==parseInt(ce)?ke===zt||"sin devolver"!==ke||2!==parseInt(ce)&&25!==parseInt(ce)||await we(B.token,he,le,`${parseInt(ge)}`):await we(B.token,he,le,""+-1*parseInt(ge));const e=lo.find((e=>e.value===Ft)),t=no.find((e=>e.value===Lt)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let n=`El usuario ${B.nombre} modific\xf3 una entrada de originalmente ${Vt} del producto ${t?.label} en la tienda ${e?.label}`;await K(B.token,n,`${o}-${r}-${i}`,B.id_usuario,7),xa(!0),sa("El servicio se modific\xf3 con \xe9xito"),ia(!0),da(!0)}else xa(!0),sa(o),ia(!0)}Ma(!1)}},or=async()=>{if(!Pa&&(Ma(!0),xa(!1),sa("Eliminando servicio. Espere por favor"),ia(!0),B?.token)){let e="ERROR AL ELIMINAR SERVICIO. Compruebe los siguientes par\xe1metros:\n";if(!0){const e=await Ht(B.token,oe),t=await ha(B.token,oe);if(at&&await wa(B.token,rt),""!==wt){const e=await Sa(B.token,wt);Array.isArray(e.deuda.pagos_deuda)&&e.deuda.pagos_deuda.length>0&&e.deuda.pagos_deuda.map((async e=>{await Ra(B.token,e.id_pago_deuda)})),await Ia(B.token,wt)}if(26===parseInt(Ot)&&await Ca(B.token,pt),2!==parseInt(ce)&&25!==parseInt(ce)||"sin devolver"!==zt?2!==parseInt(ce)&&25!==parseInt(ce)||"devolver"!==zt||await ua(B.token,t.producto.id_producto,e.id_servicio):(await ua(B.token,t.producto.id_producto,e.id_servicio),await we(B.token,t.producto.id_producto,e.tienda.id_tienda,""+-1*parseInt(t.cantidad))),await Kt(B.token,oe),2===parseInt(oe)){const a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let n=`El usuario ${B.nombre} elimin\xf3 la el servicio de venta de la tienda ${e.tienda.nombre}. La venta eliminada fue del producto ${yo}, se sumo una canidad de ${t.cantidad} nuevamente en la tienda cuyo producto val\xeda ${t.precio} y se vendi\xf3 una cantidad de ${t.cantidad}.`;await K(B.token,n,`${o}-${r}-${i}`,B.id_usuario,7)}else{const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i=`El usuario ${B.nombre} elimin\xf3 la un servicio de la tienda ${e.tienda.nombre} por el cual se hab\xeda cobrado ${e.precio} y ten\xeda un costo de ${e.costo}`;await K(B.token,i,`${a}-${o}-${r}`,B.id_usuario,7)}xa(!0),sa("El servicio se elimin\xf3 con \xe9xito"),ia(!0),da(!0),se(""),_e(""),De(""),ye(""),Ce(""),ue(""),ye(""),Me(""),$e(""),st(""),W({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1})}else xa(!0),sa(e),ia(!0)}},rr=["Nombre","Cantidad"],ir=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],nr=["Nombre Cliente","Tienda","Tipo de Servicio","Precio USD","Precio CUP","Producto","Cantidad","Fecha"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:Ea&&(0,w.jsx)(u.default,{onPress:()=>Qo(),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Servicio"})})}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Qa,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[qo?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Ut,{isMobile:r,items:eo,columns:nr,columnasMyDateTableEntradaModal:ir,columnasMyDateTableTiendaModal:rr,tiendasByProducto:Ja,proveedorByProducto:ao}),H&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Za],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:mo,onKeyPress:Zo,onChangeText:jo}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:yo,onKeyPress:Zo,onChangeText:wo}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tipo de Servicio:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:M,position:"relative"},children:(0,w.jsx)(ie,{value:bo,placeholder:"Seleccione un tipo de servicio",setValue:Co,items:uo,direction:"BOTTOM",onDropdownOpen:()=>L("TipoServicioSearsh")})}),Ua&&(0,w.jsx)(n.default,{style:p.separatorBlanco}),Ua&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),Ua&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:$,position:"relative"},children:(0,w.jsx)(ie,{value:So,placeholder:"Seleccione un tienda",setValue:vo,items:lo,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaSearsh")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Precio en USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:Io,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");_o(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:ko,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ro(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Uo.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:No===e.value,onPress:()=>Ho(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:O},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)($t,{dayValue:Oo,monthValue:zo,yearValue:Po,onDayChange:To,onMonthChange:Do,onYearChange:Mo,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:z},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)($t,{dayValue:Eo,monthValue:Ao,yearValue:Bo,onDayChange:$o,onMonthChange:Lo,onYearChange:Fo,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:er,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Xo(`${Po}-${zo}-${Oo}`,`${Bo}-${Ao}-${Eo}`),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:N?.isAddEntrada??!1,animationType:"fade",onRequestClose:Ko,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ko,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===N?.id_entrada?"Crear Servicio":"Datos del Servicio"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(Dt,{value:ne,placeholder:"Seleccione un Cliente",setValue:se,items:ro,searchable:!0,readOnly:!(Ba||Na),onDropdownOpen:()=>L("ClienteDetails")})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(Dt,{value:le,placeholder:"Seleccione una tienda",setValue:de,items:lo,readOnly:!(Ua&&""===N?.id_entrada||Ua&&Ba),searchable:!0,onDropdownOpen:()=>L("TipoServicioDetails")})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(Dt,{value:ce,placeholder:"Seleccione un tipo de servicio",setValue:ue,items:uo,readOnly:!(Ba||Na),searchable:!0,onDropdownOpen:()=>L("TipoServicioDetails")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:500},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:500},children:[ta&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto del encargo"}),ta&&(0,w.jsx)(D,{style:p.textImputModal,value:Je,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Xe(a)},cursorColor:x.azul_Oscuro,editable:!0,placeholder:"Adelanto del encargo"}),(0,w.jsxs)(n.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad Pagada por Transferencia CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:lt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;dt(a)},cursorColor:x.azul_Oscuro,editable:Ba||Na,placeholder:"Cantidad Pagada por Transferencia CUP"})]})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[!ta&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Genera Deuda"}),!ta&&(0,w.jsx)(ga,{onPress:()=>tt(!et),selected:et,label:"Deuda"}),Mt&&ta&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha llegada"}),Mt&&ta&&(0,w.jsx)($t,{dayValue:Ve,monthValue:qe,yearValue:Ke,onDayChange:He,onMonthChange:Ye,onYearChange:Ge,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!(Ba||Na)}),et&&!ta&&""===N?.id_entrada&&(0,w.jsxs)(n.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto inicial de la deuda en USD:"}),(0,w.jsx)(D,{style:p.textImputModal,value:ct,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;ut(a);const o=parseFloat(a)*G;ft(o.toFixed(2))},cursorColor:x.azul_Oscuro,editable:Ba||Na,placeholder:"Adelanto"})]}),!ta&&et&&""===N?.id_entrada&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto inicial de la deuda en CUP:"}),!ta&&et&&""===N?.id_entrada&&(0,w.jsx)(D,{style:p.textImputModal,value:ht,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;ft(a);const o=parseFloat(a)/G;ut(o.toFixed(5))},cursorColor:x.azul_Oscuro,editable:Ba||Na,placeholder:"Adelanto"})]})]}),Zt&&(0,w.jsx)(n.default,{style:p.separatorNegro}),Zt&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),Zt&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Dt,{value:he,placeholder:"Seleccione un produto",setValue:fe,items:no,searchable:!0,readOnly:!(Ba||Na),onDropdownOpen:()=>L("ProductoDetails")})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[Zt&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ge,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ye(t)},editable:Ba||Na,placeholder:"Cantidad del producto"})]}),(!Zt||Ua)&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Zt?"Costo promedio del producto":"Costo del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:be,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;je(""!==a?String((parseFloat(a)*G).toFixed(2)):"0"),Ce(a),bt("CostoUSD")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(ce)&&25!==parseInt(ce)&&(Ba||Na),placeholder:"Costo Promedio"})]}),!Zt&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:me,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Ce(""!==a?String(parseFloat(a)/G):"0"),je(a),bt("CostoCUP")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(ce)&&25!==parseInt(ce)&&(Ba||Na),placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Zt?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Ie,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;De(""!==a?String((parseFloat(a)*G).toFixed(2)):"0"),_e(a),bt("PrecioUSD")},editable:Ba||Na,placeholder:"Precio por unidad en usd"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Zt?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModalNOEDITABLE,value:ze,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;_e(""!==a?String((parseFloat(a)/G).toFixed(5)):"0"),De(a),bt("PrecioCUP")},cursorColor:x.azul_Oscuro,editable:Ba||Na,placeholder:"Precio por unidad en cup"})]})]}),Zt&&(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:(0,w.jsx)(s.default,{children:Ya()})}),Zt&&(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),Mt&&(0,w.jsx)($t,{dayValue:Le,monthValue:Fe,yearValue:We,onDayChange:Be,onMonthChange:Ne,onYearChange:Ue,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!(Ba||Na)})]})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:[(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Pe,onChangeText:Me,editable:Ba||Na,placeholder:"Nota"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"}})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del servicio",multiline:!0,editable:Ba||Na,numberOfLines:5,value:Ee,onChangeText:$e,scrollEnabled:!0}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Ba&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"45%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ta(!0),_a(!1),Da("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este servicio?")},disabled:Pa,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Servicio"})}),Ea&&""===N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"45%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>tr(),disabled:Pa,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Servicio"})}),Aa&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"45%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ta(!0),_a(!0),Da("\xbfEst\xe1s seguro que deseas ELIMINAR al este servicio?"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},disabled:Pa,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Servicio"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Oa,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:za}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ma?or():ar(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ta(!Oa),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Ta(!Oa),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ra,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:na}),fa&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>la?e.replace("Ventas"):ia(!ra),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:Ea&&(0,w.jsx)(u.default,{onPress:()=>Qo(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===Ka&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Servicio"})})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:mo,onKeyPress:Zo,onChangeText:jo}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:yo,onKeyPress:Zo,onChangeText:wo}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tipo de Servicio:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:M,position:"relative"},children:(0,w.jsx)(ie,{value:bo,placeholder:"Seleccione un tipo de servicio",setValue:Co,items:uo,direction:"BOTTOM",onDropdownOpen:()=>L("TipoServicioSearsh")})}),Ua&&(0,w.jsx)(n.default,{style:p.separatorBlanco}),Ua&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),Ua&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:$,position:"relative"},children:(0,w.jsx)(ie,{value:So,placeholder:"Seleccione un tienda",setValue:vo,items:lo,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaSearsh")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Precio en USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:Io,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");_o(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:ko,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ro(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Uo.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:No===e.value,onPress:()=>Ho(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:O},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)($t,{dayValue:Oo,monthValue:zo,yearValue:Po,onDayChange:To,onMonthChange:Do,onYearChange:Mo,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:z},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)($t,{dayValue:Eo,monthValue:Ao,yearValue:Bo,onDayChange:$o,onMonthChange:Lo,onYearChange:Fo,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:er,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Xo(`${Po}-${zo}-${Oo}`,`${Bo}-${Ao}-${Eo}`),children:"Buscar"})})]})]}),qo?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Ut,{isMobile:r,items:eo,columns:nr,columnasMyDateTableEntradaModal:ir,columnasMyDateTableTiendaModal:rr,tiendasByProducto:Ja,proveedorByProducto:ao})]}),(0,w.jsx)(f.default,{transparent:!0,visible:N?.isAddEntrada??!1,animationType:"fade",onRequestClose:Ko,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ko,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===N?.id_entrada?"Crear Servicio":"Datos del Servicio"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(Dt,{value:ne,placeholder:"Seleccione un Cliente",setValue:se,items:ro,searchable:!0,readOnly:!(Ba||Na),onDropdownOpen:()=>L("ClienteDetails")})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(Dt,{value:le,placeholder:"Seleccione una tienda",setValue:de,items:lo,readOnly:!(Ua&&""===N?.id_entrada||Ua&&Ba),searchable:!0,onDropdownOpen:()=>L("TipoServicioDetails")})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(Dt,{value:ce,placeholder:"Seleccione un tipo de servicio",setValue:ue,items:uo,readOnly:!(Ba||Na),searchable:!0,onDropdownOpen:()=>L("TipoServicioDetails")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:500},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:500},children:[ta&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto del encargo"}),ta&&(0,w.jsx)(D,{style:p.textImputModal,value:Je,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Xe(a)},cursorColor:x.azul_Oscuro,editable:!0,placeholder:"Adelanto del encargo"}),(0,w.jsxs)(n.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad Pagada por Transferencia CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:lt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;dt(a)},cursorColor:x.azul_Oscuro,editable:Ba||Na,placeholder:"Cantidad Pagada por Transferencia CUP"})]})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[!ta&&""===N?.id_entrada&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Genera Deuda"}),!ta&&""===N?.id_entrada&&(0,w.jsx)(ga,{onPress:()=>tt(!et),selected:et,label:"Deuda"}),Mt&&ta&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha llegada"}),Mt&&ta&&(0,w.jsx)($t,{dayValue:Ve,monthValue:qe,yearValue:Ke,onDayChange:He,onMonthChange:Ye,onYearChange:Ge,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!(Ba||Na)}),et&&!ta&&(0,w.jsxs)(n.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto inicial de la deuda en USD:"}),(0,w.jsx)(D,{style:p.textImputModal,value:ct,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;ut(a);const o=parseFloat(a)*G;ft(o.toFixed(2))},cursorColor:x.azul_Oscuro,editable:Ba||Na,placeholder:"Adelanto"})]}),!ta&&et&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto inicial de la deuda en CUP:"}),!ta&&et&&(0,w.jsx)(D,{style:p.textImputModal,value:ht,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;ft(a);const o=parseFloat(a)/G;ut(o.toFixed(5))},cursorColor:x.azul_Oscuro,editable:Ba||Na,placeholder:"Adelanto"})]})]}),Zt&&(0,w.jsx)(n.default,{style:p.separatorNegro}),Zt&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),Zt&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Dt,{value:he,placeholder:"Seleccione un produto",setValue:fe,items:no,searchable:!0,readOnly:!(Ba||Na),onDropdownOpen:()=>L("ProductoDetails")})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[Zt&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ge,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ye(t)},editable:Ba||Na,placeholder:"Cantidad del producto"})]}),(!Zt||Ua)&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Zt?"Costo promedio del producto":"Costo del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:`USD: ${be}  CUP: ${(parseFloat(be)*G).toFixed(2)}`,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;je(""!==a?String((parseFloat(a)*G).toFixed(2)):"0"),Ce(a),bt("CostoUSD")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(ce)&&25!==parseInt(ce)&&(Ba||Na),placeholder:"Costo Promedio"})]}),!Zt&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:me,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Ce(""!==a?String(parseFloat(a)/G):"0"),je(a),bt("CostoCUP")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(ce)&&25!==parseInt(ce)&&(Ba||Na),placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Zt?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Ie,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;De(""!==a?String((parseFloat(a)*G).toFixed(2)):"0"),_e(a),bt("PrecioUSD")},editable:Ba||Na,placeholder:"Precio por unidad en usd"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Zt?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModalNOEDITABLE,value:ze,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;_e(""!==a?String((parseFloat(a)/G).toFixed(5)):"0"),De(a),bt("PrecioCUP")},cursorColor:x.azul_Oscuro,editable:Ba||Na,placeholder:"Precio por unidad en cup"})]})]}),Zt&&(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:(0,w.jsx)(s.default,{children:Ya()})}),""!==N?.id_entrada&&(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hacer Devoluci\xf3n"})}),""!==N?.id_entrada&&(0,w.jsx)(n.default,{style:{padding:20,alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},children:Vo.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:ke===e.value,onPress:()=>{(""===N?.id_entrada||Ba)&&Oe(e.value)}},e.value)))}),Zt&&(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),Mt&&(0,w.jsx)($t,{dayValue:Le,monthValue:Fe,yearValue:We,onDayChange:Be,onMonthChange:Ne,onYearChange:Ue,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!(Ba||Na)})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Pe,onChangeText:Me,editable:Ba||Na,placeholder:"Nota"})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del servicio",multiline:!0,editable:Ba||Na,numberOfLines:5,value:Ee,onChangeText:$e,scrollEnabled:!0}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Ba&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ta(!0),_a(!1),Da("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este servicio?")},disabled:Pa,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Servicio"})}),Ea&&""===N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>tr(),disabled:Pa,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Servicio"})}),Aa&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ta(!0),_a(!0),Da("\xbfEst\xe1s seguro que deseas ELIMINAR al este servicio?"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},disabled:Pa,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Servicio"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Oa,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:za}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ma?or():ar(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ta(!Oa),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Ta(!Oa),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ra,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:na}),fa&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>la?e.replace("Ventas"):ia(!ra),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}function Ta(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,{setUsuario:i,usuario:c}=v(),{setSelectedButon:h,selectedButon:g}=k(),m=r?p.loginContainerStilesMovil:p.loginContainerStilesDesktop,[j,C]=o.useState(!1),S=()=>{C(!j)},[I,_]=(0,o.useState)(""),[R,O]=(0,o.useState)(""),T=async()=>{if(""!=I.trim()&&""!=R.trim()){const t=await L(I,R);if(t){const a=await U(t.data.token,t.data.id_usuario);if(a){const o=await ge(t.data.token,t.data.rol.id_rol);if(o){i({id_usuario:a.data.id_usuario,nombre:t.data.nombre,telefono:a.data.telefono,direccion:a.data.direccion,carnet_identidad:a.data.carnet_identidad,detalles_bancarios:a.data.detalles_bancarios,nombre_usuario:I,email:a.data.email,token:t.data.token,id_rol:t.data.rol.id_rol,nombre_rol:t.data.rol.nombre,id_tienda:t.data.tienda.id_tienda,nombre_tienda:t.data.tienda.nombre,permisos:o});const r=new Date,n=String(r.getFullYear()),s=String(r.getMonth()+1).padStart(2,"0"),l=String(r.getDate()).padStart(2,"0");let d=`El usuario ${t.data.nombre} con el nombre de usuario ${I} inici\xf3 sesi\xf3n`;await K(t.data.token,d,`${n}-${s}-${l}`,a.data.id_usuario,5),e.navigate("HomeScreen")}}else alert("Error en userDates"),S()}else O(""),S()}else S()},z=e=>{"Enter"===e.nativeEvent.key&&T()};return(0,w.jsxs)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:[(0,w.jsx)(l.default,{source:a(9772),style:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",resizeMode:"cover"}}),(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:m,children:[(0,w.jsx)(l.default,{source:a(4429),style:{position:"absolute",resizeMode:"cover",height:"50%",width:"70%",marginBottom:"95%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5}}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",width:"100%",marginTop:"35%"},children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre de Usuario:"}),(0,w.jsx)(D,{style:p.textImputLogin,placeholder:"Nombre de Usuario",value:I,onChangeText:_,onKeyPress:z}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Contrase\xf1a"}),(0,w.jsx)(D,{style:p.textImputLogin,placeholder:"Contrase\xf1a",value:R,secureTextEntry:!0,onChangeText:O,onKeyPress:z}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,borderColor:x.azul_Suave,borderWidth:2,width:"90%",height:35,alignItems:"center",marginTop:"5%",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:()=>{h({butonSelected:""}),T()},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:20,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:200},children:"Iniciar Sesi\xf3n"})}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,borderColor:x.azul_Suave,borderWidth:2,width:"45%",height:30,alignItems:"center",marginRight:"5%",marginTop:"5%",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:()=>alert("Not Suport Yet"),children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Recuperar Contrase\xf1a"})}),(0,w.jsx)(f.default,{transparent:!0,visible:j,animationType:"fade",onRequestClose:S,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:r?p.modalViewMesajeContainerMovil:p.modalViewMesajeContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.labelTextDesktop,children:"Error al iniciar sesi\xf3n, posibles errores:"}),(0,w.jsx)(s.default,{style:p.labelTextDesktop,children:"-Nombre de usuario o contrase\xf1a incorrecta."}),(0,w.jsx)(s.default,{style:p.labelTextDesktop,children:"-Debe llenar todos los campos."}),(0,w.jsx)(u.default,{style:{alignItems:"center",justifyContent:"center",marginTop:"5%",width:"100%",paddingVertical:10,backgroundColor:x.azul_Oscuro,borderRadius:5},onPress:S,children:(0,w.jsx)(s.default,{style:{color:"white",fontWeight:"bold"},children:"Intentar de nuevo"})})]})})})]})]})]})]})}const za=(0,o.createContext)(void 0),Da=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(za.Provider,{value:{SortMovimientosDates:t,setSortMovimientosDates:a},children:e})},Pa=()=>{const e=o.useContext(za);if(void 0===e)throw new Error("useModalMovimientosDates debe usarse dentro de un ModalMovimientosDates");return e},Ma=(0,o.createContext)(void 0),Ea=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Ma.Provider,{value:{modalProveedoresDates:t,setModalProveedoresDates:a},children:e})},$a=()=>{const e=o.useContext(Ma);if(void 0===e)throw new Error("useModalProveedoresDates debe usarse dentro de un ModalProveedoresDates");return e},Aa=(0,o.createContext)(void 0),La=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Aa.Provider,{value:{sortEntradas:t,setSortEntradas:a},children:e})},Ba=()=>{const e=o.useContext(Aa);if(void 0===e)throw new Error("useSortEntradas debe usarse dentro de un SortEntradas");return e},Fa=(0,o.createContext)(void 0),Na=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Fa.Provider,{value:{imagenesDelete:t,setImagenesDelete:a},children:e})},Wa=async e=>{try{return await P.default.get(`${M}/Proveedor`,{headers:{Authorization:`${e}`}})}catch(t){return console.log("Error al obtener datos de los proveedores: ",t),!1}},Ua=async(e,t)=>{try{return(await P.default.get(`${M}/Proveedor/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return console.log("Error al obtener datos de el proveedor: ",a),!1}},Va=async(e,t,a,o,r,i,n,s)=>{try{return(await P.default.post(`${M}/Proveedor/createProveedor`,{nombre:t,email:a||"",direccion:r||"",nota:i||"",telefono:o||"",Cif:n||"",detalle_bacario:s||""},{headers:{Authorization:`${e}`}})).data}catch(l){return console.log("Error al incertar un nuevo proveedor: ",l),!1}},Ha=async(e,t,a,o,r,i,n,s,l)=>{try{return(await P.default.put(`${M}/Proveedor/updateProveedor/${t}`,{nombre:a,email:o||"",direccion:i||"",nota:n||"",telefono:r||"",Cif:s||"",detalle_bancario:l||""},{headers:{Authorization:`${e}`}})).data}catch(d){return console.log("Error al actualizar el proveedor: ",d),!1}},qa=async(e,t)=>{try{return await P.default.delete(`${M}/Proveedor/deleteProveedor/${t}`,{headers:{Authorization:`${e}`}})}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al eliminar el proveedor: ",a),!1}},Ya=async(e,t,a,o,r)=>{try{return(await P.default.post(`${M}/Proveedor/api/filtrar`,{nombre:t,email:o||"",telefono:a||"",detalle_bacario:r||""},{headers:{Authorization:`${e}`}})).data}catch(i){return P.default.isAxiosError(i)&&401===i.response?.status&&A("Login"),console.log("Error al filtrar los proveedores: ",i),!1}},Ka=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalProveedoresDates:g,setModalProveedoresDates:p}=$a(),{sortProductos:y,setSortProductos:m}=he(),{usuario:j,setUsuario:C}=v(),S=r?Ga.containerMovil:Ga.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(20),[O,T]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(""),V=["Nombre"],[H,q]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),Y=e=>{p({id_proveedor:e,isAddProveedor:!0,fileEditable:!1,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0})},[K,G]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState("");o.useEffect((()=>{(async()=>{if(j?.token){const e=await xe(j.token,"7",j.id_usuario),t=await xe(j.token,"8",j.id_usuario),a=await xe(j.token,"30",j.id_usuario),o=await xe(j.token,"31",j.id_usuario);X(e),Z(t),te(a),oe(o),G(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);T([]),setTimeout((()=>{T(e.slice(t,a))}),0)}),[I,e,k]);const se=t=>{t>=0&&t*k<e.length&&_(t)},le=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((e,t)=>(0,w.jsx)(ne.default.Title,{style:[Ga.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsx)(s.default,{style:r?Ga.headerTextMovil:Ga.headerTextDesktop,children:e})},t)))}),[de,ce]=o.useState(""),[ue,fe]=o.useState(""),ge=e=>{ce(e),P(!z)},pe=e=>{if(fe(e),P(!z),"Modificar"===e){if(p({id_proveedor:de,isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!0,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0}),j?.token){}}else"Eliminar"===e?A(!$):"Mover"==e&&B(!L)},ye=async()=>{if(j?.token){if(0==await Se(j.token,de,j.id_tienda)){return!!await Le(j.token,de)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[le(),O.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Proveedor),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[Ga.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{style:[Ga.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ga.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.detalle_bancario}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ga.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.telefono})})]},e.id_Proveedor))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>ge(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),J&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ae||ee)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>ge(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[de,ue]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await ye();if(A(!$),e){const e=O.filter((e=>e.id_Proveedor!==de));T(e),U("Producto eliminado con \xe9xito"),N(!0)}else U("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),N(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!$),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:re,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ie(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Lt,{columns:V,items:H})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Ga.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ga.paginationButtonMovil,0===I&&Ga.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Ga.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ga.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Ga.paginationButtonMovil,(I+1)*k>=e.length&&Ga.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Ga.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[le(),O.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Proveedor),children:[(0,w.jsx)(ne.default.Cell,{style:Ga.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{style:Ga.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ga.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.detalle_bancario}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:{flex:1.5,justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsx)(s.default,{children:e.telefono})})]},e.id_Proveedor))),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Ga.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ga.paginationButtonDesktop,0===I&&Ga.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Ga.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ga.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Ga.paginationButtonDesktop,(I+1)*k>=e.length&&Ga.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Ga.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Ga=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:16,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),Ja=({items:e,columns:t})=>{(0,b.useNavigation)();const[a]=o.useState(new c.default.Value(1)),[r,i]=o.useState(0),[l,d]=o.useState(3),[h,f]=o.useState([]);o.useEffect((()=>{const t=r*l,a=Math.min((r+1)*l,e.length);f([]),setTimeout((()=>{f(e.slice(t,a))}),0)}),[r,e,l]);const g=t=>{t>=0&&t*l<e.length&&i(t)},[x,p]=o.useState(!1);return(0,w.jsx)(n.default,{style:Xa.containerDesktop,children:(0,w.jsxs)(ne.default,{style:{width:"100%",height:"auto"},children:[(0,w.jsx)(ne.default.Header,{style:{justifyContent:"space-between"},children:t.map(((e,t)=>(0,w.jsx)(ne.default.Title,{style:[Xa.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsx)(s.default,{style:Xa.headerTextDesktop,children:e})},t)))}),h.filter((e=>0!==parseInt(e.cantidad))).map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>{},children:[(0,w.jsx)(ne.default.Cell,{style:Xa.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"left"},numberOfLines:2,children:e.nombreProducto})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:Xa.handerRow,children:e.cantidad}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:Xa.handerRow,children:e.costo}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Xa.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_entrada))),(0,w.jsxs)(n.default,{style:Xa.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Xa.paginationButtonMovil,0===r&&Xa.disabledButton],onPress:()=>g(r-1),disabled:0===r,children:(0,w.jsx)(s.default,{style:Xa.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Xa.paginationLabel,children:`${r*l+1}-${Math.min((r+1)*l,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Xa.paginationButtonMovil,(r+1)*l>=e.length&&Xa.disabledButton],onPress:()=>g(r+1),disabled:(r+1)*l>=e.length,children:(0,w.jsx)(s.default,{style:Xa.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Xa=g.default.create({containerDesktop:{flex:1,padding:10,justifyContent:"center",alignItems:"center",width:"100%",marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Qa(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,{usuario:i,setUsuario:g}=v(),{modalProveedoresDates:m,setModalProveedoresDates:j}=$a(),[C,S]=(0,o.useState)(!1),I=(0,o.useRef)(new c.default.Value(0)).current,[_,k]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[R,O]=(0,o.useState)(""),[T,z]=(0,o.useState)(""),[P,M]=(0,o.useState)(""),[E,$]=(0,o.useState)(""),[A,L]=(0,o.useState)(""),[B,F]=(0,o.useState)(""),[N,W]=(0,o.useState)(""),[U,V]=o.useState(!1),[H,q]=o.useState(""),[Y,G]=o.useState(!1),[J,X]=(0,o.useState)(!1),[Q,Z]=(0,o.useState)(!1),[ee,oe]=(0,o.useState)(""),[re,ie]=(0,o.useState)(!1),[ne,se]=o.useState(!1),[le,de]=o.useState(!1),[ce,ue]=o.useState(!1),[he,fe]=(0,o.useState)(null),[ge,ye]=(0,o.useState)([]),we=()=>{C?c.default.timing(I,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>S(!1))):(S(!0),c.default.timing(I,{toValue:400,duration:300,useNativeDriver:!1}).start())},me={height:I},[je,be]=(0,o.useState)([]),[Ce,Se]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[ve,Ie]=(0,o.useState)([]),[_e,ke]=(0,o.useState)(""),[Re,Oe]=(0,o.useState)(""),[Te,ze]=(0,o.useState)(""),[De,Pe]=(0,o.useState)(""),[Me,Ee]=(0,o.useState)(!1),$e=()=>{O(""),F(""),L(""),$(""),M(""),z(""),W(""),j({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})};(0,o.useEffect)((()=>{Le()}),[he]),(0,o.useEffect)((()=>{(async()=>{if(i?.token&&m?.id_proveedor){const e=await Ua(i.token,m.id_proveedor);if(e){k(m.id_proveedor),O(e.nombre),z(e.email||""),M(e.direccion||""),$(e.telefono||""),L(e.nota||""),F(e.Cfi||""),W(e.detalle_bancario||"");const t=await wt(i.token,m.id_proveedor);if(t){const e=await Promise.all(t.map((async e=>({id_entrada:e.id_entrada,nombreProducto:e.producto.nombre,cantidad:e.cantidad,costo:e.costo,fecha:e.fecha}))));ye(e)}}}})()}),[m]);const Ae=e=>{"Enter"===e.nativeEvent.key&&Le()};(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(i?.token){const e=await xe(i.token,"35",i.id_usuario),t=await xe(i.token,"37",i.id_usuario),a=await xe(i.token,"36",i.id_usuario);se(e),de(t),ue(a)}})(),await(async()=>{if(void 0!=i?.token)try{const e=await Wa(i.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({id_Proveedor:e.id_proveedor,nombre:e.nombre,correo:e.email||"",detalle_bancario:e.detalle_bancario||"",telefono:e.telefono||""}))));be(t)}else console.log("No se encontraron proveedoress.")}catch(e){console.log("Error al obtener los proveedores o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de los proveedores")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de los proovedores")})(),(async()=>{if(void 0!=i?.token){const e=await pe(i.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Ie([{label:"Tiendas",value:""},...t])}}})()})(),()=>{})),[]));const Le=async()=>{Ee(!0);try{if(i?.token){let e=await(async()=>{if(i?.token)try{const e=await Ya(i.token,_e,Te,Re,De);if(e)return await Promise.all(e.map((async e=>({id_Proveedor:e.id_proveedor,nombre:e.nombre,correo:e.email||"",direccion:e.direccion||"",telefono:e.telefono||"",nota:e.nota||"",cif:e.Cif||"",detalle_bancario:e.detalle_bancario||""}))))}catch(e){return console.error("Error al filtrar los proveedoress:",e),null}return null})()||[];be(e)}}catch(e){console.error("Error al filtrar y ordenar los proovedores:",e)}finally{Ee(!1)}},Be=()=>{O(""),z(""),M(""),$(""),L(""),j({id_proveedor:"",isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},Fe=()=>{ke(""),Oe(""),Pe(""),ze(""),fe("")},Ne=async()=>{if(ie(!1),q("Agregando proveedor. Espere por favor"),V(!0),i?.token){let e=!0,t="ERROR AL AGREGAR PROVEEDOR. Por favor verifique los siguientes campos:\n";if(""===R.trim()&&(t+="-El nombre del proveedor no puede ser vac\xedo",e=!1),e){await Va(i.token,R,T,E,P,A,B,N);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${i.nombre} agreg\xf3 al sistema al proveedor ${R}`;await K(i.token,r,`${t}-${a}-${o}`,i.id_usuario,3),ie(!0),q(`El Proveedor "${R}" fue insertado con \xe9xito`),V(!0),G(!0),O(""),$(""),z(""),M(""),L(""),F(""),W("")}else ie(!0),q(t),V(!0)}},We=async()=>{if(ie(!1),q("Modificando proveedor. Espere por favor"),V(!0),i?.token){let e=!0,t="ERROR AL MODIFICAR PROVEEDOR. Compruebe los siguientes campos:\n";if(""===R.trim()&&(e=!1,t+="-El nombre del proveedor no puede ser vac\xedo"),e){await Ha(i.token,_,R,T,E,P,A,B,N);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${i.nombre} modific\xf3 al proveedor ${R}`;await K(i.token,r,`${t}-${a}-${o}`,i.id_usuario,3),ie(!0),q(`El Proveedor "${R}" se modific\xf3 con \xe9xito`),V(!0),G(!0)}else ie(!0),q(t),V(!0)}},Ue=async()=>{if(ie(!1),q("Eliminando proveedor. Espere por favor"),V(!0),i?.token){let e="ERROR AL TRATAR DE ELIMINAR EL PROVEEDOR. Motivos:\n";if(!0){if(await qa(i.token,_)){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${i.nombre} elimin\xf3 al proveedor ${R}`;await K(i.token,r,`${t}-${a}-${o}`,i.id_usuario,3),ie(!0),q(`El Proveedor "${R}" se elimin\xf3 con \xe9xito`),V(!0),G(!0)}else ie(!0),e+="-El proveedor ya ha echo operaciones en el sistema.\n",q(e),V(!0)}else ie(!0),q(e),V(!0)}},Ve=["Producto","Cantidad","Costo","Fecha"],He=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],qe=r?["Nombre","Correo","Detalle Bancario","telefono"]:["Nombre","Correo","Detalle Bancario","Tel\xe9fono"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:ne&&(0,w.jsx)(u.default,{onPress:()=>Be(),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Proveedor"})})}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:we,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[Me?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Ka,{isMobile:r,items:je,columns:qe,columnasMyDateTableProveedorModal:He,columnasMyDateTableTiendaModal:Ve,tiendasByProducto:[],proveedorByProducto:Ce}),C&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},me],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",onKeyPress:Ae,value:_e,onChangeText:ke}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Correo del Proveedor:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Correo del Proveedor",onKeyPress:Ae,value:Re,onChangeText:Oe}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Detalles Bancarios:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Detalles Bancarios",onKeyPress:Ae,value:De,onChangeText:Pe}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"N\xfamero de Tel\xe9fono",value:Te,onKeyPress:Ae,onChangeText:ze}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Fe,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{Le(),S(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:m?.isAddProveedor??!1,animationType:"fade",onRequestClose:$e,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"95%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:$e,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:m?.isModificarProveedor?"Modificar Producto":m?.isAddProductoShowProveedoresTiendas?"Datos del Proveedor":"Agregar Proveedor"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Proveedor"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ce,value:R,onChangeText:O,placeholder:"Nombre del proveedor"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n del Proveedor"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ce,value:P,onChangeText:M,placeholder:"Direcci\xf3n del Proveedor"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:E,onChangeText:$,editable:!!ce,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"C\xf3digo de Identificaci\xf3n Fiscal (CIF)"}),(0,w.jsx)(D,{style:p.textImputModal,value:B,onChangeText:F,cursorColor:x.azul_Oscuro,editable:!!ce,placeholder:"C\xf3digo de Identificaci\xf3n Fiscal"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:T,onChangeText:z,editable:!!ce,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(D,{style:p.textImputModal,value:N,onChangeText:W,cursorColor:x.azul_Oscuro,editable:!!ce,placeholder:"Detalles Bancarios"})]})]}),!m?.isModificarProveedor&&((m?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsx)(n.default,{style:{borderColor:x.azul_Oscuro,borderWidth:2,alignItems:"center",marginTop:"3%",borderRadius:15,flexDirection:"row",height:350,width:"90%"},children:(0,w.jsx)(Ja,{columns:Ve,items:ge})})),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Nota"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,editable:!!ce,numberOfLines:5,value:A,onChangeText:L,scrollEnabled:!0}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",width:"100%",justifyContent:"space-between"},children:[ce&&m?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{X(!0),Z(!1),oe(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos proveedor ${R}?`)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Proveedor"})}),le&&m?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{X(!0),oe(`\xbfEst\xe1s seguro que deseas ELIMINAR al proveedor ${R}?`),Z(!0),j({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Proveedor"})}),ne&&""===m?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Ne(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Proveedor"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:J,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ee}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Q?Ue():We(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>X(!J),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>X(!J),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:U,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:H}),re&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Y?e.replace("Proveedores"):V(!U),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:(ne||ce||le)&&(0,w.jsx)(u.default,{onPress:()=>Be(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===he&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Proveedor"})})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",value:_e,onKeyPress:Ae,onChangeText:ke}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Correo del Proveedor:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Correo del Proveedor",value:Re,onKeyPress:Ae,onChangeText:Oe}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Detalles Bancarios:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Detalles Bancarios",value:De,onKeyPress:Ae,onChangeText:Pe}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"N\xfamero de Tel\xe9fono",value:Te,onKeyPress:Ae,onChangeText:ze}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Fe,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Le(),children:"Buscar"})})]})]}),Me?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Ka,{isMobile:r,items:je,columns:qe,columnasMyDateTableProveedorModal:He,columnasMyDateTableTiendaModal:Ve,tiendasByProducto:[],proveedorByProducto:Ce})]}),(0,w.jsx)(f.default,{transparent:!0,visible:m?.isAddProveedor??!1,animationType:"fade",onRequestClose:$e,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:$e,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:m?.isModificarProveedor?"Modificar Producto":m?.isAddProductoShowProveedoresTiendas?"Datos del Proveedor":"Agregar Proveedor"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Proveedor"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ce,value:R,onChangeText:O,placeholder:"Nombre del proveedor"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n del Proveedor"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ce,value:P,onChangeText:M,placeholder:"Direcci\xf3n del Proveedor"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:E,onChangeText:$,editable:!!ce,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"C\xf3digo de Identificaci\xf3n Fiscal (CIF)"}),(0,w.jsx)(D,{style:p.textImputModal,value:B,onChangeText:F,cursorColor:x.azul_Oscuro,editable:!!ce,placeholder:"C\xf3digo de Identificaci\xf3n Fiscal"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:T,onChangeText:z,editable:!!ce,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(D,{style:p.textImputModal,value:N,onChangeText:W,cursorColor:x.azul_Oscuro,editable:!!ce,placeholder:"Detalles Bancarios"})]})]}),!m?.isModificarProveedor&&((m?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsx)(n.default,{style:{flex:1,borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,height:500,width:"90%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(Ja,{columns:Ve,items:ge})})),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Nota"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,editable:!!ce,numberOfLines:5,value:A,onChangeText:L,scrollEnabled:!0}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[ce&&m?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{X(!0),Z(!1),oe(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos proveedor ${R}?`)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Proveedor"})}),le&&m?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{X(!0),oe(`\xbfEst\xe1s seguro que deseas ELIMINAR al proveedor ${R}?`),Z(!0),j({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Proveedor"})}),ne&&""===m?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Ne(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Proveedor"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:J,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ee}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Q?Ue():We(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>X(!J),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>X(!J),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:U,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:H}),re&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Y?e.replace("Proveedores"):V(!U),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const Za=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalProductsDates:g,setModalProductsDates:p}=de(),{sortProductos:y,setSortProductos:m}=he(),{usuario:j,setUsuario:C}=v(),S=r?eo.containerMovil:eo.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(0),[O,T]=o.useState(20),[z,P]=o.useState([]),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(!1),[V,H]=o.useState(!1),[q,Y]=o.useState(""),K=["Nombre"],[G,J]=o.useState(""),[X,Q]=o.useState([{value:"1",label:"Tienda 1"},{value:"2",label:"Tienda 2"},{value:"3",label:"Tienda 3"}]),Z=e=>{p({id_producto:e,isAddProducto:!0,fileEditable:!1,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!0,isAddProductoShowProveedores:!0})},[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState(!1),[se,le]=o.useState(!1),[ce,ue]=o.useState(!1),[fe,ge]=o.useState(!1),[ye,we]=o.useState(""),[me,je]=o.useState(""),[Ie,_e]=o.useState(""),[ke,Re]=o.useState(""),[Oe,Te]=o.useState(""),[ze,De]=o.useState(""),[Pe,Me]=o.useState([]),[Ee,$e]=o.useState([]);o.useEffect((()=>{(async()=>{if(j?.token){const e=await xe(j.token,"7",j.id_usuario),t=await xe(j.token,"8",j.id_usuario),a=await xe(j.token,"30",j.id_usuario),o=await xe(j.token,"31",j.id_usuario);ie(e),le(t),ue(a),ge(o),oe(t||e||a||o),_(await ve(j.token))}})()}),[]),o.useEffect((()=>{const t=k*O,a=Math.min((k+1)*O,e.length);P([]),setTimeout((()=>{P(e.slice(t,a))}),0)}),[k,e,O]);const Ae=t=>{t>=0&&t*O<e.length&&R(t)},Be=()=>(0,w.jsx)(ne.default.Header,{style:{justifyContent:"space-between"},children:t.map(((t,o)=>(0,w.jsxs)(ne.default.Title,{style:[eo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:[(0,w.jsx)(s.default,{style:r?eo.headerTextMovil:eo.headerTextDesktop,children:t}),("PrecioUSD"===t||"Nombre"===t||"Precio"===t||"PrecioCUP"===t||"Cantidad"===t||"Cantidad Total"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre"===t?a="option3":"PrecioUSD"===t||"PrecioCUP"===t||"Precio"===t?a="option4":"Cantidad Total"!==t&&"Cantidad"!==t||(a="option5"),m({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]},o)))}),[Fe,Ne]=o.useState(""),[We,Ve]=o.useState(""),He=e=>{Ne(e),E(!M)},qe=e=>{if(Ve(e),E(!M),"Modificar"===e){if(p({id_producto:Fe,isAddProducto:!0,fileEditable:!0,isModificarProducto:!0,isAddProductoShowProveedoresTiendas:!0,isAddProductoShowProveedores:!0}),j?.token){}}else"Eliminar"===e?B(!L):"Mover"==e&&(alert("Entr\xf3 a mover"),(async()=>{if(void 0!=j?.token){const e=await pe(j.token),t=await Ce(j.token,Fe);if(e&&Array.isArray(e.data)&&!1!==t&&Array.isArray(t)){const a=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));let o=[],r=[];t.forEach((async e=>{parseInt(e.cantidad)>0&&o.push(e.id_tienda)}));for(let e of o){let t={value:"",label:""};const a=await be(j.token,e);t.label=a.nombre,t.value=e,r.push(t)}let i=!1;i=r.some((e=>{e.value,j.id_tienda}));for(let e=0;e<r.length;e++)r[e].value===j.id_tienda&&(i=!0);i&&we(j.id_tienda),fe||we(j.id_tienda),alert(`Datos cargador: ${r.length}`),Me(r),$e(a)}}})(),N(!F))},Ke=async()=>{const e=await Ge();if(B(!L),e){const e=z.filter((e=>e.id_Producto!==Fe));P(e),Y("Producto eliminado con \xe9xito"),U(!0)}else Y("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),U(!0)},Ge=async()=>{if(j?.token){if(0==await Se(j.token,Fe,j.id_tienda)){return!!await Le(j.token,Fe)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[Be(),z.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Z(e.id_Producto),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:eo.handerRow,children:e.sku}),(0,w.jsx)(ne.default.Cell,{style:eo.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:eo.handerRow,children:e.precioUSD}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:eo.handerRow,children:(parseFloat(e.precioUSD)*I).toFixed(2)}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:eo.handerRow,children:(0,w.jsxs)(s.default,{children:[e.cantidadTotal," "]})})]},e.id_Producto))),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",onRequestClose:()=>He(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),re&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{qe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),se&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{qe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(fe||ce)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{qe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>He(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[Fe,We]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ke(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>B(!L),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:me,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");je(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Lt,{columns:K,items:X})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>N(!F),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:q}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:eo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[eo.paginationButtonMovil,0===k&&eo.disabledButton],onPress:()=>Ae(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:eo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:eo.paginationLabel,children:`${k*O+1}-${Math.min((k+1)*O,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[eo.paginationButtonMovil,(k+1)*O>=e.length&&eo.disabledButton],onPress:()=>Ae(k+1),disabled:(k+1)*O>=e.length,children:(0,w.jsx)(s.default,{style:eo.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[Be(),z.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Z(e.id_Producto),children:[(0,w.jsx)(ne.default.Cell,{style:eo.handerRow,children:e.sku}),(0,w.jsx)(ne.default.Cell,{style:eo.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:eo.handerRow,children:e.precioUSD}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:eo.handerRow,children:(parseFloat(e.precioUSD)*I).toFixed(2)}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:eo.handerRow,children:(0,w.jsxs)(s.default,{children:[e.cantidadTotal," "]})})]},e.id_Producto))),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",onRequestClose:()=>He(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),re&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{qe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),se&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{qe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(fe||ce)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{qe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>He(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ke(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>B(!L),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:V,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Estas seguro de que deseas mover una cantidad de ${me} del producto ${Ie} desde la tienda ${ke} a ${Oe}?`}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{if(!ee&&(te(!0),j?.token)){await Ue(j.token,Fe,ye,ze,me);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");await Je(j.token,`${a}-${o}-${t}`,ye,ze,me,Fe,j.id_usuario),Y(`Se movieron ${me} de ${Ie} desde la tienda ${ke} a ${Oe}`),H(!1),U(!0)}})(),disabled:ee,children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>H(!V),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>H(!V),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Mover Producto "${Ie}" a una Tienda\ncon una cantidad de ${me} en ${ke}`}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:me,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");je(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[" ",fe&&(0,w.jsx)(Ye,{value:ye,items:Pe,placeholder:"Tienda desde donde se quiere mover",setValue:we}),(0,w.jsx)(Ye,{value:ze,items:Ee,placeholder:"Tienda a la que se quiere mover",setValue:De})]}),(0,w.jsx)(u.default,{onPress:()=>(async()=>{if(ee)return;te(!0);let e=!0,t="Error. Comprueve los siguientes par\xe1metros:\n",a=0;if(j?.token){const e=await Se(j.token,Fe,ye);e.encontrado&&(a=parseInt(e.cantidad))}if(ye===ze&&(e=!1,t+="-La tienda origen no puede ser igual a la tienda destino.\n"),""===me?(e=!1,t+="-La cantidad a mover no puede ser vacio.\n"):parseInt(me)>a&&(e=!1,t+="-La cantidad a mover es mayor que la cantidad que existe en la tienda.\n"),fe&&""===ye&&(e=!1,t+="-Elija la tienda desde la que decea hacer el movimiento.\n"),""===ze&&(e=!1,t+="-Elija una tienda a la que desea hacer el movimiento.\n"),e){const e=Ee.find((e=>e.value===ze));Te(String(e?.label));const t=Pe.find((e=>e.value===ye));Re(String(t?.label)),N(!1),H(!0)}else Y(t),N(!1),U(!0)})(),disabled:ee,style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:150,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>N(!F),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:q}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:eo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[eo.paginationButtonDesktop,0===k&&eo.disabledButton],onPress:()=>Ae(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:eo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:eo.paginationLabel,children:`${k*O+1}-${Math.min((k+1)*O,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[eo.paginationButtonDesktop,(k+1)*O>=e.length&&eo.disabledButton],onPress:()=>Ae(k+1),disabled:(k+1)*O>=e.length,children:(0,w.jsx)(s.default,{style:eo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},eo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function to(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,{usuario:i,setUsuario:g}=v(),{sortProductos:m,setSortProductos:j}=he(),{modalProductsDates:C,setModalProductsDates:S}=de(),[I,_]=(0,o.useState)(!1),k=(0,o.useRef)(new c.default.Value(0)).current,[R,O]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)(!1)),[T,z]=(0,o.useState)(0),[P,M]=(0,o.useState)(""),[$,A]=(0,o.useState)(""),[L,B]=(0,o.useState)(""),[F,N]=(0,o.useState)(""),[W,U]=(0,o.useState)(""),[V,H]=(0,o.useState)(""),[q,Y]=(0,o.useState)(""),[G,J]=(0,o.useState)(""),[X,Q]=(0,o.useState)([]),[Z,ee]=o.useState(!1),[oe,re]=o.useState(!1),[ne,se]=o.useState(!1),[le,ce]=o.useState(!1),[ue,fe]=o.useState(!1),[ge,ye]=o.useState(!1),[me,je]=(0,o.useState)(!1),[Ie,ke]=o.useState(""),[Oe,ze]=o.useState(!1),[De,Pe]=o.useState(!1),[Me,Ee]=(0,o.useState)([]),[Le,Be]=(0,o.useState)([]),[Fe,He]=(0,o.useState)([]),[qe,Ke]=(0,o.useState)([]),[Ge,Xe]=(0,o.useState)(!1),[Qe,Ze]=o.useState(!1),[et,tt]=o.useState(!1),[at,ot]=o.useState(!1),[rt,it]=o.useState(!1),[nt,st]=o.useState(!1),[ut,ft]=(0,o.useState)(""),[gt,xt]=(0,o.useState)(""),[pt,wt]=(0,o.useState)(i?.id_tienda??""),[mt,jt]=(0,o.useState)("2"),[bt,Ct]=(0,o.useState)("1"),[St,vt]=(0,o.useState)("0"),[It,_t]=(0,o.useState)("0"),[kt,Rt]=(0,o.useState)(""),[Ot,Tt]=(0,o.useState)(""),[zt,Pt]=(0,o.useState)(""),[Mt,Et]=(0,o.useState)(""),[At,Lt]=(0,o.useState)(""),[Bt,Ft]=(0,o.useState)(""),[Nt,Wt]=(0,o.useState)(""),[Ut,Vt]=(0,o.useState)(""),[Yt,Kt]=(0,o.useState)(!1),[Gt,Jt]=o.useState(""),[Qt,Zt]=o.useState(""),[ea,ta]=o.useState(""),[aa,ra]=o.useState(""),[ia,na]=o.useState(""),[sa,la]=o.useState(""),[da,ua]=o.useState(""),[fa,ga]=o.useState(""),[xa,pa]=o.useState([]),[ya,wa]=o.useState([]),ma=async()=>{if(i?.token){let e=!0,t="ERROR AL RESTAR PRODUCTOS. Verifique los siguientes par\xe1metros.\n";parseInt(Qt)<parseInt(ia)&&(e=!1,t+="-La cantidad a restar es mayor que la cantidad en la tienda.\n"),e?(fe(!1),ce(!0)):(ke(t),re(!0),je(!0),ye(!1))}},ja=async()=>{if(je(!1),ke("Restando producto. Espere por favor"),re(!0),i){let e=parseInt(Qt)-parseInt(ia);await $e(i.token,L,co,String(e));const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let n=`El usuario ${i.nombre} rest\xf3 una cantidad de ${ia} de ${F} de la tienda ${Gt}`;await K(i.token,n,`${a}-${o}-${r}`,i.id_usuario,1),ke(`Se restaron ${ia} de la tienda ${Gt}`),je(!0),re(!0),je(!0),ye(!0)}},ba=async()=>{if(je(!1),ke("Moviendo producto. Espere por favor"),re(!0),i?.token){await Ue(i.token,L,ea,fa,aa);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");await Je(i.token,`${a}-${o}-${t}`,ea,fa,aa,L,i.id_usuario),await Ae(i.token,L,fa);let r=`El usuario ${i.nombre} movi\xf3 ${aa} de ${F} desde la tienda ${sa} hasta la tienda ${da}`;await K(i.token,r,`${t}-${a}-${o}`,i.id_usuario,2),ke(`Se movieron ${aa} de ${F} desde la tienda ${sa} a ${da}`),je(!0),ye(!0),se(!1),re(!0)}},Ca=async()=>{let e=!0,t="Error. Compruebe los siguientes par\xe1metros:\n",a=0;if(i?.token){const e=await Se(i.token,L,ea);e.encontrado&&(a=parseInt(e.cantidad))}if(ea===fa&&(e=!1,t+="-La tienda origen no puede ser igual a la tienda destino.\n"),"0"===aa&&(e=!1,t+="-La cantidad a mover debe ser mayor que 0.\n"),""===aa?(e=!1,t+="-La cantidad a mover no puede ser vac\xedo.\n"):parseInt(aa)>a&&(e=!1,t+="-La cantidad a mover es mayor que la cantidad que existe en la tienda.\n"),Ma&&""===ea&&(e=!1,t+="-Elija la tienda desde la que decea hacer el movimiento.\n"),""===fa&&(e=!1,t+="-Elija una tienda a la que desea hacer el movimiento.\n"),e){const e=ya.find((e=>e.value===fa));ua(String(e?.label));const t=xa.find((e=>e.value===ea));la(String(t?.label)),ze(!1),ye(!0),se(!0)}else ke(t),re(!0),je(!0),ye(!1)},Sa=e=>{"Enter"===e.nativeEvent.key&&jo()},va=async()=>{if(void 0!=i?.token){const e=await pe(i.token),t=await Ce(i.token,L);if(e&&Array.isArray(e.data)&&!1!==t&&Array.isArray(t)){const a=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));let o=[],r=[];t.forEach((async e=>{parseInt(e.cantidad)>0&&o.push(e.id_tienda)}));for(let e of o){let t={value:"",label:""};const a=await be(i.token,e);t.label=a.nombre,t.value=e,r.push(t)}let n=!1;n=r.some((e=>{e.value,i.id_tienda}));for(let e=0;e<r.length;e++)r[e].value===i.id_tienda&&(n=!0);n&&ta(i.id_tienda),Ma||ta(i.id_tienda),pa(r),wa(a)}}};(0,o.useEffect)((()=>{R&&(async()=>{if(i?.token){const e=await be(i.token,ea),t=await Se(i.token,L,ea);Zt(t.cantidad),Jt(e.nombre)}})()}),[ea]),(0,o.useEffect)((()=>{"PrecioCUP"===Ut?(Rt(parseFloat(kt).toFixed(4)),Vt("")):"PrecioUSD"===Ut?(Tt(parseFloat(Ot).toFixed(0)),Vt("")):"CostoCUP"===Ut?(vt(parseFloat(St).toFixed(4)),Vt("")):"CostoUSD"===Ut&&(_t(parseFloat(It).toFixed(0)),Vt("")),Vt("")}),[Ut]),(0,o.useEffect)((()=>{(async()=>{if(i?.token){const e=await Ht(i.token,L);if(2===parseInt(mt)){const t=await ha(i.token,ut);Xe(!0),t?(B(t.producto.id_producto),Ct(t.cantidad),wt(e.tienda.id_tienda),Rt(t.producto.precio),Tt(String(parseInt(t.producto.precio)*T)),vt(t.producto.costo_acumulado)):(Xe(!0),B(""),Ct(""),Rt(""),Tt(""),vt(""))}else Xe(!1),Rt(e.precio),Tt(String(parseInt(e.precio)*T)),vt(e.costo)}})()}),[mt]),(0,o.useEffect)((()=>{if(""!==L&&i?.token){(async()=>{const e=await Te(i.token,L);vt(e.costo_acumulado),Rt(e.precio??0),Tt(String(parseFloat(e.precio)*T)??0)})()}}),[L]);const Ia=async()=>{if(ke("Recopilando datos de todos los productos filtrados para el Exel. Espere un momento por favor."),xo(!0),ee(!0),i?.token){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),r=await Ve(i.token,Va);if(r){const e=window.URL.createObjectURL(r),n=document.createElement("a");n.href=e,n.download=`${i.nombre_tienda}_${o}-${a}-${t}.xlsx`,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(e)}else console.error("No se pudo descargar el archivo.")}xo(!1)},[_a,ka]=(0,o.useState)(!1),[Ra,Oa]=(0,o.useState)(!1),[Ta,za]=o.useState(!1),[Da,Pa]=o.useState(!1),[Ma,Ea]=o.useState(!1),[$a,Aa]=o.useState(!1),La=async()=>{if(i?.token){const e=await xe(i.token,"6",i.id_usuario),t=await xe(i.token,"38",i.id_usuario),a=await xe(i.token,"7",i.id_usuario),o=await xe(i.token,"8",i.id_usuario),r=await xe(i.token,"30",i.id_usuario),n=await xe(i.token,"31",i.id_usuario),s=await xe(i.token,"27",i.id_usuario);(async()=>{if(i?.token){const e=await xe(i.token,"26",i.id_usuario),t=await xe(i.token,"25",i.id_usuario),a=await xe(i.token,"24",i.id_usuario),o=await xe(i.token,"26",i.id_usuario),r=await xe(i.token,"27",i.id_usuario);z(await ve(i.token)),it(o),st(r),Ze(e),tt(t),ot(a)}})(),za(o||a||r||n),ka(e),Oa(t),Ea(n),Pa(r),Aa(s)}},Ba=e=>{},[Fa,Na]=(0,o.useState)(null),Wa=()=>{I?c.default.timing(k,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>_(!1))):(_(!0),c.default.timing(k,{toValue:400,duration:300,useNativeDriver:!1}).start())},Ua={height:k},[Va,Ha]=(0,o.useState)([]),[qa,Ya]=(0,o.useState)([]),[Ka,Ga]=(0,o.useState)([]),[Ja,Xa]=(0,o.useState)([]),[Qa,eo]=(0,o.useState)(""),[to,ao]=(0,o.useState)(""),[oo,ro]=(0,o.useState)(""),[io,no]=(0,o.useState)(""),[so,lo]=(0,o.useState)(""),[co,uo]=(0,o.useState)(i?.id_tienda),[ho,fo]=(0,o.useState)(!1),[go,xo]=(0,o.useState)(!1),po=()=>{S({id_producto:"",isAddProducto:!1,isModificarProducto:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1})},yo=async()=>{if(i?.token&&C?.id_producto){const e=await Te(i.token,C.id_producto);if(e){B(e.id_producto),N(e.nombre),U(e.precio),H(e.precio_empresa),Y(e.Sku),J(e.descripcion||""),(async e=>{if(i?.token){const t=await Ce(i.token,e);if(Array.isArray(t)){const e=t.map((e=>({id_tienda:e.tienda.id_tienda.toString(),nombre:e.tienda.nombre,cantidad:e.cantidad.toString()})));Ya(e)}}})(e.id_producto),(async e=>{try{if(i?.token){const t=await yt(i?.token,e),a=await Te(i.token,e);if(t){M(`USD: ${a.costo_acumulado}  CUP: ${(a.costo_acumulado*T).toFixed(0)}`);const e=t.map((e=>({id_proveedor:e.proveedor.id_proveedor,nombre:e.proveedor.nombre,cantidad:e.cantidad,costoPorUnidad:e.costo})));Ga(e)}}}catch(t){console.log("Error al cargar los proveedores por producto:",t)}})(e.id_producto);await be(i.token,ea);const t=await Se(i.token,e.id_producto,co),a=Ja.find((e=>parseInt(e.value)===parseInt(co??"0")));Zt(t.cantidad),Jt(a?.label??"");const o=e.imagenes.map((async e=>{let t=await e.url,a=t.substring(1,t.length);return t=E+a,{uri:t}})),r=await Promise.all(o);Q(r)}}};(0,o.useEffect)((()=>{R&&yo()}),[C]),(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{uo(i?.id_tienda),z(await ve(i?.token)),await La(),await(async()=>{if(void 0!=i?.token){const e=await Xt(i.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_tipo_servicio}))));Ke(t),jt("2")}}})(),await(async()=>{if(void 0!=i?.token){const e=await oa(i.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_cliente}))));Ee(t)}}})(),await(async()=>{if(void 0!=i?.token){let e;const t=await xe(i.token,"27",i.id_usuario),a=await xe(i.token,"26",i.id_usuario);if(t){if(e=await _e(i.token),e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));Be(t)}}else if(a){const e=await Re(i.token,i.id_tienda);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));Be(t)}}}})(),await(async()=>{if(void 0!=i?.token){const e=await pe(i.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));He([{label:"Todas las tiendas",value:""},...t])}}})(),(async()=>{if(void 0!=i?.token){const e=await pe(i.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Xa(t)}}})()})(),O(!0),()=>{})),[]));const[wo,mo]=(0,o.useState)(!1),jo=async()=>{fo(!0);try{if(i?.token){let e=await(async()=>{if(i?.token)try{const e=await Ne(i.token,Qa,to,io,so,oo,co);if(e)return await Promise.all(e.map((async e=>({id_Producto:e.id_producto,nombre:e.producto.nombre,sku:e.producto.Sku,cantidadTotal:e.cantidad,precioUSD:e.producto.precio.toString(),precioEmpresaUSD:e.producto.precio_empresa}))))}catch(e){return console.error("Error al filtrar los productos:",e),null}return null})();console.log(m?.criterioOrden&&Fa),mo(!wo),m?.criterioOrden&&m.tipoOrden&&(e=await We(i.token,e,m.criterioOrden,wo)),Ha(e)}}catch(e){console.error("Error al filtrar y ordenar los productos:",e)}finally{fo(!1)}};(0,o.useEffect)((()=>{jo()}),[m,Fa]);const bo=()=>{(0,lt.launchImageLibrary)({mediaType:"photo",quality:1,includeBase64:!1,selectionLimit:100,includeExtra:!0},(e=>{e.didCancel?console.log("El usuario cancel\xf3 la selecci\xf3n de la imagen."):e.errorMessage?console.error("Error al seleccionar la imagen: ",e.errorMessage):e.assets&&e.assets.length>0?Q((t=>{const a=100-t.length,o=e.assets.slice(0,a);return[...t,...o]})):console.log("No se seleccion\xf3 ninguna imagen.")}))},Co=e=>{const t=X.filter(((t,a)=>a!==e));Q(t)},So=()=>{eo(""),ao(""),ro(""),no(""),lo(""),Na(""),uo(i?.id_tienda)},vo=["Nombre","Cantidad"],Io=["Nombre","Cantidad","Costo"],_o=r?["SKU","Nombre","Precio","Precio","Cantidad"]:["SKU","Nombre","PrecioUSD","PrecioCUP","Cantidad en la Tienda"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:[(0,w.jsxs)(u.default,{onPress:()=>Ia(),style:{flexDirection:"row",height:30,width:"40%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.verde_claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"1%",marginTop:"1%",backgroundColor:x.verde_claro},children:[(0,w.jsx)(l.default,{source:a(7520),style:{width:20,height:20,marginRight:"10%"}}),(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===m?.criterioOrden&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Exportar a Excel"})]}),(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Wa,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})]}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[ho?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Za,{isMobile:r,items:Va,columns:_o,columnasMyDateTableProveedorModal:Io,columnasMyDateTableTiendaModal:vo,tiendasByProducto:qa,proveedorByProducto:Ka}),I&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Ua],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del producto",value:Qa,onKeyPress:Sa,onChangeText:eo}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"SKU:"}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Cantidad:"})]}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"SKU",value:to,onKeyPress:Sa,onChangeText:ao}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Cantidad",value:oo,onKeyPress:Sa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ro(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Precio USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:io,onKeyPress:Sa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");no(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:so,onKeyPress:Sa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");lo(t)}})]}),("2"===String(i?.id_rol)||"1"===String(i?.id_rol))&&(0,w.jsx)(n.default,{style:p.separatorBlanco}),("2"===String(i?.id_rol)||"1"===String(i?.id_rol))&&(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Cambiar de Tienda:"}),("2"===String(i?.id_rol)||"1"===String(i?.id_rol))&&(0,w.jsx)(n.default,{style:{position:"relative",zIndex:500,height:100},children:(0,w.jsx)(ie,{value:co,placeholder:"Tiendas",setValue:uo,items:Ja})}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",marginTop:25},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:So,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{jo(),_(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:C?.isAddProducto??!1,animationType:"fade",onRequestClose:po,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:po,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:C?.isModificarProducto?"Modificar Producto":C?.isAddProductoShowProveedoresTiendas?"Datos del Producto":"Agregar Producto"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Del Producto"})}),(0,w.jsx)(D,{style:p.textImputModal,value:F,onChangeText:N,cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Nombre del producto"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:W,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;U(a)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Precio en USD"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio de empresa en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:V,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;H(a)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Precio de empresa en CUP"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Ot,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;M(a)},editable:!1,placeholder:"Precio en CUP"})]}),Ra&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo Promedio"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:P,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;M(a)},editable:!1,placeholder:"Costo Promedio"})]})]}),!C?.isModificarProducto&&((C?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:(parseFloat(W)*T).toFixed(0),cursorColor:x.azul_Oscuro,editable:!1,placeholder:"Precio en CUP"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Sku"}),(0,w.jsx)(D,{style:p.textImputModal,value:q,onChangeText:Y,cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Sku"})]})]})),!C?.isModificarProducto&&((C?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(n.default,{style:{borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,flexDirection:"row",height:350,width:"90%"},children:[(0,w.jsxs)(n.default,{style:{flexDirection:"column",height:340,width:"45%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Tiendas en las que existe el producto"}),(0,w.jsx)(ct,{columns:vo,items:qa})]}),(C?.isAddProductoShowProveedores??!1)&&Ra&&(0,w.jsxs)(n.default,{style:{height:340,width:"45%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Historial de proveedores"}),(0,w.jsx)(ht,{columns:Io,items:Ka})]})]})),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,value:G,onChangeText:J,editable:!!C?.fileEditable,numberOfLines:5,scrollEnabled:!0}),(0,w.jsx)(dt.PanGestureHandler,{onGestureEvent:Ba,children:(0,w.jsxs)(n.default,{style:{marginTop:20,width:"90%",borderWidth:1,borderColor:x.azul_Oscuro,borderRadius:13,padding:20,alignItems:"center",justifyContent:"center",backgroundColor:x.blanco_Suave},children:[(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,marginBottom:"5%"},children:"Im\xe1genes del producto"}),(C?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:bo,children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Seleccionar Imagenes"})}),X.length>0&&(0,w.jsx)(h.default,{horizontal:!0,style:{marginTop:10,width:"100%",height:100},children:X.map(((e,t)=>(0,w.jsxs)(n.default,{style:{position:"relative",width:100,height:100,marginRight:10},children:[(0,w.jsx)(l.default,{source:{uri:e.uri},style:{width:100,height:100,marginRight:10,borderRadius:10}},t),(0,w.jsx)(u.default,{style:{position:"absolute",top:5,right:5,backgroundColor:"red",borderRadius:15,width:20,height:20,justifyContent:"center",alignItems:"center",zIndex:1},onPress:()=>Co(t),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:"X"})})]},t)))})]})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",flexDirection:"row"},children:[(Ma||Da)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,padding:10,marginTop:"3%",marginLeft:"5%",borderRadius:12,width:"30%",alignItems:"center",justifyContent:"center"},onPress:()=>{S({id_producto:"",isAddProducto:!1,isModificarProducto:!1,fileEditable:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1}),va(),ze(!0)},children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover Producto"})}),$a&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,marginTop:"3%",borderRadius:12,width:"30%",alignItems:"center",justifyContent:"center"},onPress:()=>{po(),fe(!0)},children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Restar Producto"})}),!1]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:De,animationType:"fade",onRequestClose:()=>Pe(!De),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:()=>Pe(!De),children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Vender Producto"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:5e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:5e3,position:"relative"},children:(0,w.jsx)(Dt,{value:gt,placeholder:"Seleccione un Cliente",setValue:xt,items:Me,searchable:!0,readOnly:!(at||rt)})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1500,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(Dt,{value:pt,placeholder:"Seleccione una tienda",setValue:wt,items:Fe,readOnly:!0,searchable:!0,onDropdownOpen:()=>{}})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio: Venta"})})]}),Ge&&(0,w.jsx)(n.default,{style:p.separatorNegro}),Ge&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:100,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),Ge&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:500,position:"relative"},children:(0,w.jsx)(Dt,{value:L,placeholder:"Seleccione un produto",setValue:B,items:Le,searchable:!0,readOnly:!0,onDropdownOpen:()=>{}})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[Ge&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:bt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ct(t)},editable:at||rt,placeholder:"Cantidad del producto"})]}),(!Ge||nt)&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Ge?"Costo promedio del producto en USD":"Costo del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:St,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;_t(""!==a?String((parseFloat(a)*T).toFixed(0)):"0"),vt(a),Vt("CostoUSD")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(mt)&&(at||rt),placeholder:"Costo Promedio"})]}),!Ge&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:It,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;vt(""!==a?String(parseFloat(a)/T):"0"),_t(a),Vt("CostoCUP")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(mt)&&(at||rt),placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Ge?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:kt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Tt(""!==a?String((parseFloat(a)*T).toFixed(0)):"0"),Rt(a),Vt("PrecioUSD")},editable:at||rt,placeholder:"Precio por unidad en usd"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Ge?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModalNOEDITABLE,value:Ot,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Rt(""!==a?String(parseFloat(a)/T):"0"),Tt(a),Vt("PrecioCUP")},cursorColor:x.azul_Oscuro,editable:at||rt,placeholder:"Precio por unidad en cup"})]})]}),Ge&&(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:600},children:(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),Yt&&(0,w.jsx)($t,{dayValue:At,monthValue:Bt,yearValue:Nt,onDayChange:Lt,onMonthChange:Ft,onYearChange:Wt,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>{},isReadOnly:!(at||rt)})]})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:500},children:[(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:zt,onChangeText:Pt,editable:at||rt,placeholder:"Nota"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"}})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del servicio",multiline:!0,editable:at||rt,numberOfLines:5,value:Mt,onChangeText:Et,scrollEnabled:!0}),(0,w.jsx)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"45%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{(async()=>{if(i?.token){const e=await Se(i.token,L,pt);let t=!0,a="ERROR AL INGRESAR SERVICIO. Por favor verifique los siguientes campos:\n";if(""===gt&&(t=!1,a+="-Seleccione un cliente. Si no hay datos del cliente seleccione anonimo\n"),""===mt&&(t=!1,a+="-Seleccione el tipo de servicio que est\xe1 ofreciendo.\n"),""===pt&&(t=!1,a+="-Seleccione una tienda.\n"),e&&parseInt(e.cantidad)<parseInt(bt)&&(t=!1,a+="-La cantidad que desea vender es mayor que la cantidad que hay en la tienda.\n"),""===St&&(t=!1,a+="-Digite el costo del servicio.\n"),""===kt&&(t=!1,a+="-Defina el precio cobrado al cliente.\n"),2===parseInt(mt)&&(""===L&&(t=!1,a+="-Seleccione un producto para vender.\n"),""===bt&&(t=!1,a+="-Defina la cantidad que desea vender del producto.\n")),t){const e=await qt(i.token,`${Bt}-${At}-${Nt}`,kt,zt,pt,mt,gt,"Not suport yet","not suport yet");if(2===parseInt(mt)){await ca(i.token,L,e.id_servicio,bt),await we(i.token,L,pt,`${parseInt(bt)}`);const t=Me.find((e=>e.value===gt)),a=qe.find((e=>e.value===mt)),o=Le.find((e=>e.value===L)),r=new Date,n=String(r.getFullYear()),s=String(r.getMonth()+1).padStart(2,"0"),l=String(r.getDate()).padStart(2,"0");let d=`El usuario ${i.nombre} agreg\xf3 un servicio del tipo de servicio ${a?.label} al cliente ${t?.label}. Se vendi\xf3 una cantidad de ${bt} del producto ${o?.label} a un precio de ${kt} USD`;await K(i.token,d,`${n}-${s}-${l}`,i.id_usuario,7)}else{const e=Me.find((e=>e.value===gt)),t=qe.find((e=>e.value===mt)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");let s=`El usuario ${i.nombre} agreg\xf3 un servicio del tipo de servicio ${t?.label} a un precio de ${kt} USD al cliente ${e?.label}`;await K(i.token,s,`${o}-${r}-${n}`,i.id_usuario,7)}await Ae(i.token,mt,pt),ke("El servicio se agreg\xf3 con \xe9xito"),re(!0),ye(!0),xt(""),Rt(""),Tt(""),Ct(""),vt(""),jt(""),Pt(""),Et(""),Pe(!1),S({id_producto:"",isAddProducto:!1,fileEditable:!0,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1})}else ke(a),re(!0)}})()},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Servicio"})})})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:le,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Est\xe1s seguro de que deseas restar una cantidad de ${ia} del producto ${F} de la tienda ${Gt}?`}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ja(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ce(!le),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>ce(!le),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ue,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:300,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"center"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Restar ${F} de la tienda ${Gt} en la cual hay ${Qt}`}),(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Cantidad a restar"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},value:ia,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");na(t)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Cantidad a restar"}),(0,w.jsx)(u.default,{onPress:()=>ma(),style:{backgroundColor:x.rojo_oscuro,borderRadius:15,marginTop:30,width:"90%",height:40,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",color:x.blanco_Suave},children:"Restar Productos"})}),(0,w.jsx)(u.default,{onPress:()=>fe(!ue),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ue,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Restar ${F} de la tienda ${Gt} en la cual hay ${Qt}`}),(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Cantidad a restar"}),(0,w.jsx)(D,{style:p.textImputModal,value:F,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ro(t)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Cantidad a restar"}),(0,w.jsx)(u.default,{onPress:()=>se(!ne),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ne,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:450,height:250,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Desea mover ${aa} producto ${F} desde la tienda ${sa} a ${da}?`}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ba(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>se(!ne),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>se(!ne),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Oe,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:""===ea?"Seleccione una tienda origen":`Mover Producto "${F}" en la Tienda\n ${Gt} con una cantidad de ${Qt}`}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:aa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ra(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[" ",Ma&&(0,w.jsx)(Ye,{value:ea,items:xa,placeholder:"Tienda desde donde se quiere mover",setValue:ta}),(0,w.jsx)(Ye,{value:fa,items:ya,placeholder:"Tienda a la que se quiere mover",setValue:ga})]}),(0,w.jsx)(u.default,{onPress:()=>Ca(),style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:150,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>ze(!Oe),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:oe,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ie}),me&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ge?e.replace("Mi Tienda"):re(!oe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Z,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ie}),go?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Datos Recopilados. Espere a que termine la descarga."}),(0,w.jsx)(u.default,{style:{backgroundColor:"#007BFF",padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ee(!Z),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:(0,w.jsxs)(u.default,{onPress:()=>Ia(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.verde_claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"1%",marginTop:"1%",backgroundColor:x.verde_claro},children:[(0,w.jsx)(l.default,{source:a(7520),style:{width:20,height:20,marginRight:"10%"}}),(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===m?.criterioOrden&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Exportar a Excel"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:Qa,onChangeText:eo,onKeyPress:Sa}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"SKU:"}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Cantidad:"})]}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"SKU",value:to,onChangeText:ao,onKeyPress:Sa}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Cantidad",value:oo,onKeyPress:Sa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ro(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Precio en USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:io,onKeyPress:Sa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");no(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:so,onKeyPress:Sa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");lo(t)}})]}),("2"===String(i?.id_rol)||"1"===String(i?.id_rol))&&(0,w.jsx)(n.default,{style:p.separatorBlanco}),("2"===String(i?.id_rol)||"1"===String(i?.id_rol))&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Cambiar de Tienda:"}),("2"===String(i?.id_rol)||"1"===String(i?.id_rol))&&(0,w.jsx)(n.default,{style:{position:"relative",zIndex:500,height:100},children:(0,w.jsx)(ie,{value:co,placeholder:"Tiendas",setValue:uo,items:Ja})}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",marginTop:25},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:So,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>jo(),children:"Buscar"})})]})]}),ho?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Za,{isMobile:r,items:Va,columns:_o,columnasMyDateTableProveedorModal:Io,columnasMyDateTableTiendaModal:vo,tiendasByProducto:qa,proveedorByProducto:Ka})]}),(0,w.jsx)(f.default,{transparent:!0,visible:C?.isAddProducto??!1,animationType:"fade",onRequestClose:po,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:po,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:C?.isModificarProducto?"Modificar Producto":C?.isAddProductoShowProveedoresTiendas?"Datos del Producto":"Agregar Producto"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Del Producto"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,value:F,onChangeText:N,placeholder:"Nombre del producto"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:W,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;U(a)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Precio en USD"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio de empresa en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:V,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;H(a)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Precio de empresa en CUP"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Ot,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;M(a)},editable:!1,placeholder:"Precio en CUP"})]}),Ra&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo Promedio"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:P,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;M(a)},editable:!1,placeholder:"Costo Promedio"})]})]}),!C?.isModificarProducto&&((C?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%"}}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Sku"}),(0,w.jsx)(D,{style:p.textImputModal,value:q,onChangeText:Y,cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Sku"})]})]})),!C?.isModificarProducto&&((C?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(n.default,{style:{borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,flexDirection:"row",height:350,width:"90%"},children:[(0,w.jsxs)(n.default,{style:{flexDirection:"column",height:350,width:"50%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiendas en las que existe el producto"}),(0,w.jsx)(ct,{columns:vo,items:qa})]}),(C?.isAddProductoShowProveedores??!1)&&Ra&&(0,w.jsxs)(n.default,{style:{height:350,width:"50%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Historial de proveedores"}),(0,w.jsx)(ht,{columns:Io,items:Ka})]})]})),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,editable:!!C?.fileEditable,numberOfLines:5,value:G,onChangeText:J,scrollEnabled:!0}),(0,w.jsx)(dt.PanGestureHandler,{onGestureEvent:Ba,children:(0,w.jsxs)(n.default,{style:{marginTop:20,width:"90%",borderWidth:1,borderColor:x.azul_Oscuro,borderRadius:13,padding:20,alignItems:"center",justifyContent:"center",backgroundColor:x.blanco_Suave},children:[(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,marginBottom:"5%"},children:"Im\xe1genes del producto"}),(C?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:bo,children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Seleccionar Imagenes"})}),X.length>0&&(0,w.jsx)(h.default,{horizontal:!0,style:{marginTop:10,width:"100%",height:100},children:X.map(((e,t)=>(0,w.jsxs)(n.default,{style:{position:"relative",width:100,height:100,marginRight:10},children:[(0,w.jsx)(l.default,{source:{uri:e.uri},style:{width:100,height:100,marginRight:10,borderRadius:10}},t),(0,w.jsx)(u.default,{style:{position:"absolute",top:5,right:5,backgroundColor:"red",borderRadius:15,width:20,height:20,justifyContent:"center",alignItems:"center",zIndex:1},onPress:()=>Co(t),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:"X"})})]},t)))})]})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",flexDirection:"row"},children:[(Ma||Da)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,padding:10,marginTop:"3%",marginLeft:"5%",borderRadius:12,width:"30%",alignItems:"center",justifyContent:"center"},onPress:()=>{S({id_producto:"",isAddProducto:!1,isModificarProducto:!1,fileEditable:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1}),va(),ze(!0)},children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover Producto"})}),$a&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,marginTop:"3%",borderRadius:12,width:"30%",alignItems:"center",justifyContent:"center"},onPress:()=>{po(),fe(!0)},children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Restar Producto"})}),!1]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:le,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Est\xe1s seguro de que deseas restar una cantidad de ${ia} del producto ${F} de la tienda ${Gt}?`}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ja(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ce(!le),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>ce(!le),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ue,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:300,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"center"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Restar ${F} de la tienda ${Gt} en la cual hay ${Qt}`}),(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Cantidad a restar"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},value:ia,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");na(t)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Cantidad a restar"}),(0,w.jsx)(u.default,{onPress:()=>ma(),style:{backgroundColor:x.rojo_oscuro,borderRadius:15,marginTop:30,width:"90%",height:40,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",color:x.blanco_Suave},children:"Restar Productos"})}),(0,w.jsx)(u.default,{onPress:()=>fe(!ue),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ne,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:450,height:250,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Desea mover ${aa} producto ${F} desde la tienda ${sa} a ${da}?`}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ba(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>se(!ne),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>se(!ne),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Oe,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:500,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:""===ea?"Seleccione una tienda origen":`Mover Producto "${F}" en la Tienda ${Gt} con una cantidad de ${Qt}`}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:aa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ra(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row",position:"relative",zIndex:500},children:[" ",Ma&&(0,w.jsx)(Ye,{value:ea,items:xa,placeholder:"Tienda desde donde se quiere mover",setValue:ta}),(0,w.jsx)(Ye,{value:fa,items:ya,placeholder:"Tienda a la que se quiere mover",setValue:ga})]}),(0,w.jsx)(u.default,{onPress:()=>Ca(),style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:170,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>ze(!Oe),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:oe,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ie}),me&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ge?e.replace("Mi Tienda"):re(!oe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Z,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ie}),go?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Datos Recopilados. Espere a que termine la descarga."}),(0,w.jsx)(u.default,{style:{backgroundColor:"#007BFF",padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ee(!Z),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})]})})})]})}const ao=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=Et(),{usuario:y,setUsuario:m}=v(),{sortEntradas:j,setSortEntradas:C}=Ba(),S=r?oo.containerMovil:oo.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(0),[O,T]=o.useState(20),[z,P]=o.useState([]),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(!1),[V,H]=o.useState(""),q=["Nombre"],[Y,K]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),G=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState(!1),[se,le]=o.useState("");o.useEffect((()=>{(async()=>{if(y?.token){const e=await xe(y.token,"7",y.id_usuario),t=await xe(y.token,"8",y.id_usuario),a=await xe(y.token,"30",y.id_usuario),o=await xe(y.token,"31",y.id_usuario);_(await ve(y.token)),Z(e),te(t),oe(a),ie(o),X(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=k*O,a=Math.min((k+1)*O,e.length);P([]),setTimeout((()=>{P(e.slice(t,a))}),0)}),[k,e,O]);const de=()=>{let t="La suma total de los costos de los productos filtrados es de: ",a=0;return e.forEach((e=>{a+=parseFloat(e.costo)})),t+=`${a} USD.`,t},ce=t=>{t>=0&&t*O<e.length&&R(t)},ue=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[oo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?oo.headerTextMovil:oo.headerTextDesktop,children:[t,("Nombre Proveedor"===t||"Nombre Producto"===t||"Costo Por Unidad"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre Proveedor"===t?a="option3":"Nombre Producto"===t?a="option4":"Costo Por Unidad"===t?a="option5":"Fecha"===t&&(a="option6"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[he,fe]=o.useState(""),[ge,pe]=o.useState(""),ye=e=>{fe(e),E(!M)},we=e=>{if(pe(e),E(!M),"Modificar"===e){if(p({id_entrada:he,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?B(!L):"Mover"==e&&N(!F)},me=async()=>{if(y?.token){if(0==await Se(y.token,he,y.id_tienda)){return!!await Le(y.token,he)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[ue(),z.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>G(e.id_Entrada),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Proveedor})}),(0,w.jsx)(ne.default.Cell,{style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.costo})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:(parseFloat(e.costo)*I).toFixed(2)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Entrada))),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",onRequestClose:()=>ye(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{we("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{we("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(re||ae)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{we("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>ye(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[he,ge]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await me();if(B(!L),e){const e=z.filter((e=>e.id_Proveedor!==he));P(e),H("Producto eliminado con \xe9xito"),U(!0)}else H("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),U(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>B(!L),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:se,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");le(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Lt,{columns:q,items:Y})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>N(!F),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:de()})}),(0,w.jsxs)(n.default,{style:oo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[oo.paginationButtonMovil,0===k&&oo.disabledButton],onPress:()=>ce(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:oo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:oo.paginationLabel,children:`${k*O+1}-${Math.min((k+1)*O,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[oo.paginationButtonMovil,(k+1)*O>=e.length&&oo.disabledButton],onPress:()=>ce(k+1),disabled:(k+1)*O>=e.length,children:(0,w.jsx)(s.default,{style:oo.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[ue(),z.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>G(e.id_Entrada),children:[(0,w.jsx)(ne.default.Cell,{style:oo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Proveedor})}),(0,w.jsx)(ne.default.Cell,{style:oo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.costo}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(parseFloat(e.costo)*I).toFixed(2)}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Entrada))),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:de()})}),(0,w.jsxs)(n.default,{style:oo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[oo.paginationButtonDesktop,0===k&&oo.disabledButton],onPress:()=>ce(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:oo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:oo.paginationLabel,children:`${k*O+1}-${Math.min((k+1)*O,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[oo.paginationButtonDesktop,(k+1)*O>=e.length&&oo.disabledButton],onPress:()=>ce(k+1),disabled:(k+1)*O>=e.length,children:(0,w.jsx)(s.default,{style:oo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},oo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),ro=({dayValue:e,monthValue:t,yearValue:a,onDayChange:r,onMonthChange:i,onYearChange:l,style:d,styleText:c,isReadOnly:u=!1,onDropdownOpen:h})=>{const[f,g]=(0,o.useState)(e),[x,p]=(0,o.useState)(t),[y,m]=(0,o.useState)(a),[j,b]=(0,o.useState)([]),[C,S]=(0,o.useState)(null);(0,o.useEffect)((()=>{const e=((e,t)=>new Date(t,e,0).getDate())(Number(x),Number(y)),t=Array.from({length:e},((e,t)=>({label:String(t+1),value:String(t+1)})));Number(f)>e&&g(String(e)),b(t)}),[x,y]);const v=(e,t,a)=>{r(e),i(t),l(a)},I=e=>{C===e?S(null):(S(e),h&&h())};return(0,w.jsxs)(n.default,{style:[io.container,d],children:[(0,w.jsxs)(n.default,{style:io.inputWrapper,children:[(0,w.jsx)(s.default,{style:[io.label,c],children:"D\xeda"}),(0,w.jsx)(oe.default,{open:"day"===C,value:f,items:j,setOpen:()=>!u&&I("day"),setValue:e=>{g(e),v(e,x,y)},style:io.picker,containerStyle:[io.pickerContainer,{zIndex:"day"===C?2:1}],dropDownContainerStyle:io.dropDownContainer,disabled:u})]}),(0,w.jsxs)(n.default,{style:io.inputWrapper,children:[(0,w.jsx)(s.default,{style:[io.label,c],children:"Mes"}),(0,w.jsx)(oe.default,{open:"month"===C,value:x,items:Array.from({length:12},((e,t)=>({label:String(t+1),value:String(t+1)}))),setOpen:()=>!u&&I("month"),setValue:e=>{p(e),v(f,e,y)},style:io.picker,containerStyle:[io.pickerContainer,{zIndex:"month"===C?2:1}],dropDownContainerStyle:io.dropDownContainer,disabled:u})]}),(0,w.jsxs)(n.default,{style:io.inputWrapper,children:[(0,w.jsx)(s.default,{style:[io.label,c],children:"A\xf1o"}),(0,w.jsx)(oe.default,{open:"year"===C,value:y,items:Array.from({length:51},((e,t)=>{const a=(new Date).getFullYear()-25+t;return{label:String(a),value:String(a)}})),setOpen:()=>!u&&I("year"),setValue:e=>{m(e),v(f,x,e)},style:io.picker,containerStyle:[io.pickerContainer,{zIndex:"year"===C?2:1}],dropDownContainerStyle:io.dropDownContainer,disabled:u})]})]})},io=g.default.create({container:{flexDirection:"row",justifyContent:"space-between"},inputWrapper:{flex:1,marginHorizontal:5},label:{fontSize:14,marginBottom:5,color:"#000"},picker:{height:20,borderColor:"gray",borderWidth:1,borderRadius:12},pickerContainer:{height:35,width:80},dropDownContainer:{borderColor:"gray",zIndex:9999}});function no(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(0),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),[k,R]=(0,o.useState)(1e3),[O,T]=(0,o.useState)(1e3),[z,P]=(0,o.useState)(1e3),M=e=>{"FechaDetails"===e?(j(2e3),S(1500),_(1500),R(1500)):"TiendaDetails"===e?(S(2e3),j(1500),_(1500),R(1500)):"ProductosDetails"===e?(S(1500),j(1500),_(2e3),R(1500)):"ProveedoresDetails"===e&&(S(1500),j(1500),_(1500),R(2e3)),"FechaDesdeSearsh"===e?(T(2e3),P(1500)):"FechaHastaSearsh"===e&&(T(1500),P(2e3))},{usuario:E,setUsuario:$}=v(),{modalEntradasDates:A,setModalEntradasDates:L}=Et(),{sortEntradas:B,setSortEntradas:F}=Ba(),[N,W]=(0,o.useState)(!1),U=(0,o.useRef)(new c.default.Value(0)).current,[V,H]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[q,Y]=(0,o.useState)(""),[G,J]=(0,o.useState)(""),[X,Q]=(0,o.useState)(""),[Z,ee]=(0,o.useState)(""),[oe,re]=(0,o.useState)(""),[ie,ne]=(0,o.useState)(""),[se,le]=(0,o.useState)(""),[de,ce]=(0,o.useState)(""),[ue,he]=(0,o.useState)(""),[fe,ge]=(0,o.useState)(""),[ye,we]=(0,o.useState)(""),[me,je]=(0,o.useState)(""),[be,Ce]=(0,o.useState)(!1),[Ie,ke]=(0,o.useState)(!1),[Re,ze]=(0,o.useState)(""),[Pe,Ee]=(0,o.useState)(""),[$e,Le]=(0,o.useState)(""),[Fe,Ne]=(0,o.useState)(""),[We,Ue]=o.useState(!1),[Ve,He]=o.useState(""),[qe,Ye]=o.useState(!1),[Ke,Ge]=(0,o.useState)(!1),[Je,Xe]=(0,o.useState)(!1),[Qe,Ze]=(0,o.useState)(""),[et,tt]=(0,o.useState)(!1),[at,ot]=(0,o.useState)(!1),[rt,it]=o.useState(!1),[nt,st]=o.useState(!1),[lt,dt]=o.useState(!1),[ct,ut]=(0,o.useState)(null),[ht,ft]=(0,o.useState)([]),yt=()=>{N?c.default.timing(U,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>W(!1))):(W(!0),c.default.timing(U,{toValue:400,duration:300,useNativeDriver:!1}).start())},wt={height:U},[St,vt]=(0,o.useState)([]),[It,_t]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[kt,Ot]=(0,o.useState)([]),[Tt,zt]=(0,o.useState)([]),[Pt,Mt]=(0,o.useState)([]),At=new Date,Lt=String(At.getFullYear()),Bt=String(At.getMonth()+1).padStart(2,"0"),Ft=String(At.getDate()).padStart(2,"0"),[Nt,Wt]=(0,o.useState)(""),[Ut,Vt]=(0,o.useState)(""),[Ht,qt]=(0,o.useState)(""),[Yt,Kt]=(0,o.useState)(""),[Gt,Jt]=(0,o.useState)(new Date),[Xt,Qt]=(0,o.useState)(new Date),[Zt,ea]=(0,o.useState)("1"),[ta,aa]=(0,o.useState)("1"),[oa,ra]=(0,o.useState)("2024"),[ia,na]=(0,o.useState)(String(parseInt(Ft))),[sa,la]=(0,o.useState)(String(parseInt(Bt))),[da,ca]=(0,o.useState)(String(parseInt(Lt))),[ua,ha]=(0,o.useState)(!1),[fa,ga]=(0,o.useState)(""),xa=[{label:"D\xeda",value:"dia"},{label:"Semana",value:"semana"},{label:"Mes",value:"mes"}],pa=e=>{ga(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i="";if("dia"===e)i=`${a}-${o}-${r}`;else if("semana"===e){const e=new Date(t);e.setDate(t.getDate()-6);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("mes"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setMonth(t.getMonth()-1);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}ja(i,`${a}-${o}-${r}`)},ya=()=>{Y(""),re(""),ee(""),J(""),Ce(!1),ge(""),we(""),je(""),L({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(E?.token&&A?.id_entrada){ke(!1);const e=await xt(E.token,A.id_entrada);if(e){const[t,a,o]=e.fecha.split("T")[0].split("-");if(H(e.id_entrada),Y(e.proveedor.id_proveedor),J(e.producto.id_producto),ee(e.cantidad),Q(e.tienda.id_tienda),re(e.costo),ne(String((e.costo*i).toFixed(2))),le(String(parseInt(o))),ce(String(parseInt(a))),he(String(parseInt(t))),e.fecha_vencimiento){const[t,a,o]=e.fecha_vencimiento.split("T")[0].split("-");ge(String(parseInt(o))),we(String(parseInt(a))),je(String(parseInt(t)))}ze(e.producto.id_producto),Ee(e.tienda.id_tienda),Le(e.cantidad),Ne(e.costo),ke(!0)}}})()}),[A]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(E?.token){const e=await xe(E.token,"10",E.id_usuario),t=await xe(E.token,"12",E.id_usuario),a=await xe(E.token,"11",E.id_usuario);g(await ve(E.token)),it(e),st(t),dt(a)}})(),await(async()=>{if(void 0!=E?.token)try{const e=await gt(E.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({id_Entrada:e.id_entrada,id_Proveedor:e.proveedor.id_proveedor,id_Producto:e.producto.id_producto,nombre_Proveedor:e.proveedor.nombre,nombre_Producto:e.producto.nombre,cantidad:e.cantidad,costo:e.costo,fecha:e.fecha}))));vt(t)}else console.log("No se encontraron entradas.")}catch(e){console.log("Error al obtener las entradas o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de las entradas")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de las entradas")})(),(async()=>{if(void 0!=E?.token){const e=await Wa(E.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_proveedor}))));Ot(t)}}})(),(async()=>{if(void 0!=E?.token){const e=await _e(E.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));zt(t)}}})(),(async()=>{if(void 0!=E?.token){const e=await pe(E.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Mt([...t])}}})()})(),()=>{})),[]));const[wa,ma]=(0,o.useState)(!1),ja=async(e,t)=>{ha(!0);try{if(E?.token){let a=await(async(e,t)=>{if(E?.token)try{const a=await bt(E.token,Nt,Ut,Ht,Yt,e,t);if(a)return await Promise.all(a.map((async e=>({id_Entrada:e.id_entrada,id_Proveedor:e.proveedor.id_proveedor,id_Producto:e.producto.id_producto,nombre_Proveedor:e.proveedor.nombre,nombre_Producto:e.producto.nombre,cantidad:e.cantidad,costo:e.costo,fecha:e.fecha}))))}catch(a){return console.error("Error al filtrar los proveedoress:",a),null}return null})(e,t)||[];ma(!wa),a=B?.criterioOrden&&B.tipoOrden?await Ct(E.token,a,B?.criterioOrden,wa):await Ct(E.token,a,"option6",wa),vt(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{ha(!1)}};(0,o.useEffect)((()=>{ja(`${oa}-${ta}-${Zt}`,`${da}-${sa}-${ia}`)}),[B,ct]),(0,o.useEffect)((()=>{(async()=>{if(G&&E?.token){const e=await Te(E.token,G);if(e){if(""===A?.id_entrada){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");ge(String(parseInt(o))),we(String(parseInt(a))),je(String(parseInt(t)))}Ce(e.isFecha_Vencimiento)}else Ce(!1)}})()}),[G]),(0,o.useEffect)((()=>{ga("")}),[Zt,ta,oa,ia,sa,da]);const ba=()=>{ke(!1),Y(""),J(""),Q(""),ee(""),re(""),L({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1});const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");le(String(parseInt(o))),ce(String(parseInt(a))),he(String(parseInt(t))),ke(!0)},Ca=e=>{"Enter"===e.nativeEvent.key&&ja(`${oa}-${ta}-${Zt}`,`${da}-${sa}-${ia}`)},Sa=()=>{Wt(""),Vt(""),qt(""),Kt(""),ut("")},va=async()=>{if(!at){if(ot(!0),tt(!1),He("Agregando entrada. Espere por favor"),Ue(!0),E?.token){let r=!0,i="ERROR AL INGRESAR ENTRADA. Por favor verifique los siguientes campos:\n";if(""===q&&(r=!1,i+="-Seleccione un proveedor.\n"),""===G&&(r=!1,i+="-Seleccione un producto.\n"),""===X&&(r=!1,i+="-Seleccione una tienda.\n"),""===Z&&(r=!1,i+="-Ingrese una cantidad.\n"),""===oe&&(r=!1,i+="-Ingrese el costo total de la entrada.\n"),r){await pt(E.token,oe,Z,`${de}-${se}-${ue}`,be?`${ye}-${fe}-${me}`:null,parseInt(q),parseInt(G),parseInt(X),parseFloat(ie)),He("Actualizando costo promedio ponderado del producto");const r=await Te(E.token,G),i=await Oe(E.token,G),n=(e=i,t=r.costo_acumulado,a=parseInt(Z),o=parseFloat(oe)/parseInt(Z),((e*t+a*o)/(e+a)).toFixed(5));await Me(E.token,G,n),He("Actualizando cantidad en tienda"),await De(E.token,parseInt(X),parseInt(G),parseInt(Z)),He("Agregando acci\xf3n");const s=Pt.find((e=>e.value===X)),l=Tt.find((e=>e.value===G)),d=new Date,c=String(d.getFullYear()),u=String(d.getMonth()+1).padStart(2,"0"),h=String(d.getDate()).padStart(2,"0");let f=`El usuario ${E.nombre} agreg\xf3 una entrada de ${Z} del producto ${l?.label} en la tienda ${s?.label}`;await K(E.token,f,`${c}-${u}-${h}`,E.id_usuario,4),await Ae(E.token,G,X),Y(""),J(""),Q(""),re(""),ee(""),L({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1}),tt(!0),He("La entrada fue insertado con \xe9xito"),Ue(!0),Ye(!0)}else tt(!0),He(i),Ue(!0)}var e,t,a,o;ot(!1)}},Ia=async()=>{if(!at){if(ot(!0),tt(!1),He("Modificando entrada. Espere por favor"),Ue(!0),E?.token){let a=!0,o="ERROR AL MODIFICAR ENTRADA. Compruebe los siguientes campos:\n";const r=await Se(E.token,G,X),i=await Se(E.token,Re,Pe);if(Pe===X&&Re===G||parseInt(i.cantidad??0)-parseInt($e)<0&&(a=!1,o+="-Operaci\xf3n inv\xe1lida. No se dispone de sificientes productos para realizar la operoci\xf3n."),parseInt($e)-parseInt(Z)>parseInt(r.cantidad??0)&&(a=!1,o+="-Operaci\xf3n inv\xe1lida. La cantidad del producto excede la cantidad en la tienda\n."),""===q&&(a=!1,o+="-Seleccione un proveedor.\n"),""===G&&(a=!1,o+="-Seleccione un producto.\n"),""===X&&(a=!1,o+="-Seleccione una tienda.\n"),""===Z&&(a=!1,o+="-Ingrese una cantidad.\n"),""===oe&&(a=!1,o+="-Ingrese el costo del producto por unidad.\n"),a){await mt(E.token,V,oe,Z,`${de}-${se}-${ue}`,be?`${ye}-${fe}-${me}`:null,parseInt(q),parseInt(G),parseInt(X),parseFloat(ie)),He("Actualizando costo promedio ponderado del producto");const a=await Te(E.token,G),o=await Oe(E.token,G),r=parseFloat(Z)*parseFloat(oe)-parseFloat($e)*parseFloat(Fe),i=(e=o,t=a.costo_acumulado,((e*t+r)/e).toFixed(5));await Me(E.token,G,i),Pe!==X||Re!==G?(await De(E.token,parseInt(Pe),parseInt(Re),-1*parseInt($e)),await De(E.token,parseInt(X),parseInt(G),parseInt(Z))):$e!==Z&&await De(E.token,parseInt(X),parseInt(G),parseInt(Z)-parseInt($e));const n=Pt.find((e=>e.value===Pe)),s=Tt.find((e=>e.value===Re)),l=new Date,d=String(l.getFullYear()),c=String(l.getMonth()+1).padStart(2,"0"),u=String(l.getDate()).padStart(2,"0");let h=`El usuario ${E.nombre} modific\xf3 una entrada de originalmente ${$e} del producto ${s?.label} en la tienda ${n?.label}`;await K(E.token,h,`${d}-${c}-${u}`,E.id_usuario,4),tt(!0),He("La entrada se modific\xf3 con \xe9xito"),Ue(!0),Ye(!0)}else tt(!0),He(o),Ue(!0)}var e,t;ot(!1)}},_a=["Nombre","Cantidad"],ka=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],Ra=["Nombre Proveedor","Nombre Producto","Cantidad","Costo Unidad USD","Costo Unidad CUP","Fecha"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:rt&&(0,w.jsx)(u.default,{onPress:()=>ba(),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Entrada"})})}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:yt,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[ua?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(ao,{isMobile:r,items:St,columns:Ra,columnasMyDateTableEntradaModal:ka,columnasMyDateTableTiendaModal:_a,tiendasByProducto:ht,proveedorByProducto:It}),N&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},wt],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Producto",value:Ut,onKeyPress:Ca,onChangeText:Vt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",onKeyPress:Ca,value:Nt,onChangeText:Wt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Costo en USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:G,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");J(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:G,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");J(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:xa.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:fa===e.value,onPress:()=>pa(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1e3},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",marginRight:"25%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,marginLeft:"12%",justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"})]}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:500},children:[(0,w.jsxs)(n.default,{style:{alignItems:"center",justifyContent:"center",position:"relative",zIndex:O},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)($t,{dayValue:Zt,monthValue:ta,yearValue:oa,onDayChange:ea,onMonthChange:aa,onYearChange:ra,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>M("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{alignItems:"center",justifyContent:"center",position:"relative",zIndex:z},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)($t,{dayValue:ia,monthValue:sa,yearValue:da,onDayChange:na,onMonthChange:la,onYearChange:ca,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>M("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Sa,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{filtrarYOrdenarProductos(),W(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:A?.isAddEntrada??!1,animationType:"fade",onRequestClose:ya,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:ya,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===A?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Proveedor"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(Dt,{value:q,placeholder:"Seleccione un Proveedor",setValue:Y,items:kt,searchable:!0,onDropdownOpen:()=>M("ProveedoresDetails")})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Producto"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Dt,{value:G,placeholder:"Seleccione un Producto",setValue:J,items:Tt,searchable:!0,onDropdownOpen:()=>M("ProductosDetails")})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre de la Tienda"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1e3,position:"relative"},children:(0,w.jsx)(Dt,{value:X,placeholder:"Seleccione una Tienda",setValue:Q,items:Pt,searchable:!0})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Cantidad"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Z,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ee(t)},editable:!!lt,placeholder:"Cantidad"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Costo total de la entrada en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:oe,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;re(a)},cursorColor:x.azul_Oscuro,editable:!!lt,placeholder:"Costo en USD"})]})]}),(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Fecha"}),Ie&&(0,w.jsx)($t,{dayValue:se,monthValue:de,yearValue:ue,onDayChange:le,onMonthChange:ce,onYearChange:he,style:{margin:20},styleText:p.labelTextModalMovil})]}),be&&(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha vencimiento"}),Ie&&(0,w.jsx)(ro,{dayValue:fe,monthValue:ye,yearValue:me,onDayChange:ge,onMonthChange:we,onYearChange:je,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>M("FechaDetails")})]}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[lt&&""!==A?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Xe(!0),Ze("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta entrada?")},disabled:at,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Entrada"})}),rt&&""===A?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>va(),disabled:at,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Entrada"})}),nt&&""!==A?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Xe(!0),Ge(!0),Ze("\xbfEst\xe1s seguro que deseas ELIMINAR al esta entrada?"),L({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},disabled:at,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Entrada"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Je,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Qe}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ia(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Xe(!Je),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Xe(!Je),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:We,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ve}),et&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>qe?e.replace("Entradas"):Ue(!We),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:rt&&(0,w.jsx)(u.default,{onPress:()=>ba(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===ct&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Entrada"})})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Producto",value:Ut,onKeyPress:Ca,onChangeText:Vt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",value:Nt,onKeyPress:Ca,onChangeText:Wt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Costo en USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:Ht,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");qt(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:Yt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Kt(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:xa.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:fa===e.value,onPress:()=>pa(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:O},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)($t,{dayValue:Zt,monthValue:ta,yearValue:oa,onDayChange:ea,onMonthChange:aa,onYearChange:ra,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>M("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:z},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)($t,{dayValue:ia,monthValue:sa,yearValue:da,onDayChange:na,onMonthChange:la,onYearChange:ca,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>M("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Sa,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>ja(`${oa}-${ta}-${Zt}`,`${da}-${sa}-${ia}`),children:"Buscar"})})]})]}),ua?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(ao,{isMobile:r,items:St,columns:Ra,columnasMyDateTableEntradaModal:ka,columnasMyDateTableTiendaModal:_a,tiendasByProducto:ht,proveedorByProducto:It})]}),(0,w.jsx)(f.default,{transparent:!0,visible:A?.isAddEntrada??!1,animationType:"fade",onRequestClose:ya,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:ya,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===A?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Proveedor"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(Dt,{value:q,placeholder:"Seleccione un Proveedor",setValue:Y,items:kt,searchable:!0,onDropdownOpen:()=>M("ProveedoresDetails")})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Producto"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Dt,{value:G,placeholder:"Seleccione un Producto",setValue:J,items:Tt,searchable:!0,onDropdownOpen:()=>M("ProductosDetails")})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre de la Tienda"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(Dt,{value:X,placeholder:"Seleccione una Tienda",setValue:Q,items:Pt,searchable:!0,onDropdownOpen:()=>M("TiendaDetails")})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Z,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ee(t)},editable:!!lt,placeholder:"Cantidad"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo total de la entrada en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:oe,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;re(a);const o=parseFloat(a)*i;ne(o.toFixed(2))},cursorColor:x.azul_Oscuro,editable:!!lt,placeholder:"Costo en USD"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo de cada unidad"}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["USD: ",(parseFloat(oe)/parseInt(Z)).toFixed(5),"   CUP: ",(parseFloat(oe)/parseInt(Z)*i).toFixed(5)]})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo total de la entrada en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:ie,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;ne(a);const o=parseFloat(a)/i;re(o.toFixed(5))},cursorColor:x.azul_Oscuro,editable:!!lt,placeholder:"Costo en CUP"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:m},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha entrada"}),Ie&&(0,w.jsx)($t,{dayValue:se,monthValue:de,yearValue:ue,onDayChange:le,onMonthChange:ce,onYearChange:he,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>M("FechaDetails")})]}),be&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha vencimiento"}),Ie&&(0,w.jsx)(ro,{dayValue:fe,monthValue:ye,yearValue:me,onDayChange:ge,onMonthChange:we,onYearChange:je,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>M("FechaDetails")})]})]}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[lt&&""!==A?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Xe(!0),Ge(!1),Ze("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta entrada?")},disabled:at,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Entrada"})}),rt&&""===A?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>va(),disabled:at,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Entrada"})}),nt&&""!==A?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Xe(!0),Ge(!0),Ze("\xbfEst\xe1s seguro que deseas ELIMINAR al esta entrada?"),L({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},disabled:at,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Entrada"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Je,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Qe}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ke?(async()=>{if(!at){if(ot(!0),tt(!1),He("Eliminando entrada. Espere por favor"),Ue(!0),E?.token){let e=!0,t="ERROR AL ELIMINAR ENTRADA. Compruebe los siguientes par\xe1metros:\n";const a=await Se(E.token,G,X);if(parseInt(Z)>parseInt(a.cantidad??0)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La cantidad del producto excede la cantidad en la tienda\n."),e){await jt(E.token,V),await De(E.token,parseInt(X),parseInt(G),-1*parseInt(Z)),await Be(E.token);const e=Pt.find((e=>e.value===Pe)),t=Tt.find((e=>e.value===Re)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let n=`El usuario ${E.nombre} elimin\xf3 la entrada con una cantidad de ${$e} del producto ${t?.label} en la tienda ${e?.label}`;await K(E.token,n,`${o}-${r}-${i}`,E.id_usuario,4),tt(!0),He("La entrada se elimin\xf3 con \xe9xito"),Ue(!0),Ye(!0),Y(""),re(""),J(""),ee("")}else tt(!0),He(t),Ue(!0)}ot(!1)}})():Ia(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Xe(!Je),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Xe(!Je),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:We,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ve}),et&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>qe?e.replace("Entradas"):Ue(!We),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const so=g.default.create({desktopButton:{height:110,width:110,justifyContent:"center",borderRadius:15,alignItems:"center",shadowColor:x.negro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,marginHorizontal:10},movilButton:{height:110,width:110,justifyContent:"center",borderRadius:15,alignItems:"center",shadowColor:x.negro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,marginHorizontal:10},desktopContent:{flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",width:"100%"},textDesktop:{fontSize:16,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2,fontWeight:"bold"},textMovil:{fontSize:16,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2,fontWeight:"bold"},image:{height:70,width:70,tintColor:x.negro}}),lo=({onPress:e,text:t,imageSource:a})=>{const[r]=(0,o.useState)(new c.default.Value(1)),{width:i}=(0,d.default)(),h=i<1150?so.movilButton:so.desktopButton;return(0,w.jsx)(u.default,{style:h,onPressIn:()=>{c.default.spring(r,{toValue:1.5,useNativeDriver:!0}).start()},onPressOut:()=>{c.default.spring(r,{toValue:1,useNativeDriver:!0}).start()},onPress:e,children:(0,w.jsx)(c.default.View,{style:{transform:[{scale:r}]},children:(0,w.jsxs)(n.default,{style:so.desktopContent,children:[(0,w.jsx)(l.default,{source:a,style:so.image}),(0,w.jsx)(s.default,{style:so.textDesktop,children:t})]})})})};function co(){const{width:e}=(0,d.default)(),t=e<930,o=(0,b.useNavigation)();return t?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"space-around",alignItems:"center",flexDirection:"column"}})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsxs)(n.default,{style:{marginTop:150,justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(lo,{imageSource:a(7496),onPress:()=>o.navigate("Usuarios"),text:"Usuarios"}),(0,w.jsx)(lo,{imageSource:a(7496),onPress:()=>o.navigate("Tiendas"),text:"Tiendas"})]}),(0,w.jsx)(n.default,{})]})}const uo=(0,o.createContext)(void 0),ho=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(uo.Provider,{value:{modalMovimientosDates:t,setModalMovimientosDates:a},children:e})},fo=()=>{const e=o.useContext(uo);if(void 0===e)throw new Error("useModalMovimientosDates debe usarse dentro de un ModalMovimientosDates");return e},go=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalMovimientosDates:g,setModalMovimientosDates:p}=fo(),{usuario:y,setUsuario:m}=v(),{SortMovimientosDates:j,setSortMovimientosDates:C}=Pa(),S=r?xo.containerMovil:xo.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(20),[O,T]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(""),V=["Nombre"],[H,q]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),Y=e=>{p({id_movimiento:e,isAddMovimiento:!0,fileEditable:!1,isModificarMovimiento:!1})},[K,G]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState("");o.useEffect((()=>{(async()=>{if(y?.token){const e=await xe(y.token,"7",y.id_usuario),t=await xe(y.token,"8",y.id_usuario),a=await xe(y.token,"30",y.id_usuario),o=await xe(y.token,"31",y.id_usuario);X(e),Z(t),te(a),oe(o),G(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);T([]),setTimeout((()=>{T(e.slice(t,a))}),0)}),[I,e,k]);const se=t=>{t>=0&&t*k<e.length&&_(t)},le=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[xo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?xo.headerTextMovil:xo.headerTextDesktop,children:[t,("Usuario"===t||"Producto"===t||"Cantidad"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Usuario"===t?a="option3":"Producto"===t?a="option4":"Cantidad"===t?a="option5":"Fecha"===t&&(a="option6"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[de,ce]=o.useState(""),[ue,he]=o.useState(""),fe=e=>{ce(e),P(!z)},ge=e=>{if(he(e),P(!z),"Modificar"===e){if(p({id_movimiento:de,isAddMovimiento:!0,fileEditable:!0,isModificarMovimiento:!1}),y?.token){}}else"Eliminar"===e?A(!$):"Mover"==e&&B(!L)},pe=async()=>{if(y?.token){if(0==await Se(y.token,de,y.id_tienda)){return!!await Le(y.token,de)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[le(),O.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Movimiento),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(ne.default.Cell,{style:[xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreTiendaOrigen})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombreTiendaDestino}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Movimiento))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>fe(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),J&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ae||ee)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>fe(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[de,ue]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await pe();if(A(!$),e){const e=O.filter((e=>e.id_TiendaOrigen!==de));T(e),U("Producto eliminado con \xe9xito"),N(!0)}else U("ERROR AL ELIMINAR: Ya se han hecho operaciones con el producto o ya est\xe1 en una tieda"),N(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!$),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:re,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ie(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Lt,{columns:V,items:H})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:xo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[xo.paginationButtonMovil,0===I&&xo.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:xo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:xo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[xo.paginationButtonMovil,(I+1)*k>=e.length&&xo.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:xo.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[le(),O.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Movimiento),children:[(0,w.jsx)(ne.default.Cell,{style:xo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(ne.default.Cell,{style:xo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombreTiendaOrigen}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombreTiendaDestino}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Movimiento))),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:xo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[xo.paginationButtonDesktop,0===I&&xo.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:xo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:xo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[xo.paginationButtonDesktop,(I+1)*k>=e.length&&xo.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:xo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},xo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:50,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function po(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(500),[m,j]=(0,o.useState)(500),[C,S]=(0,o.useState)(500),[I,_]=(0,o.useState)(500),[k,R]=(0,o.useState)(500),[O,T]=(0,o.useState)(500),[z,P]=(0,o.useState)(500),[M,E]=(0,o.useState)(500),[$,A]=(0,o.useState)(500),L=e=>{"TiendaOrigenSearsh"===e?(S(2e3),_(1500),j(1500),g(1500),R(1e3),T(500)):"TiendaDestinoSearsh"===e?(S(1500),_(2e3),j(1500),g(1500),R(1e3),T(500)):"FechaDesdeSearsh"===e?(S(1500),_(1500),j(1500),g(2e3),R(500),T(1e3)):"FechaHastaSearsh"===e&&(S(1500),_(1500),j(2e3),g(1500),R(500),T(1e3)),"FechaDetails"===e?(P(2e3),E(1e3)):"TiendasDetails"===e?(P(1e3),E(2e3),A(1e3)):"ProductosDetails"===e&&(P(1e3),E(1e3),A(2e3))},{usuario:B,setUsuario:F}=v(),{modalMovimientosDates:N,setModalMovimientosDates:W}=fo(),{SortMovimientosDates:U,setSortMovimientosDates:H}=Pa(),[q,Y]=(0,o.useState)(""),G=[{label:"Ayer",value:"ayer"},{label:"Hoy",value:"hoy"},{label:"Semana",value:"semana"}],J=e=>{Y(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i="";if("hoy"===e)i=`${a}-${o}-${r}`;else if("ayer"===e){const e=new Date(t);e.setDate(t.getDate()-1);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("semana"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setDate(t.getDate()-7);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}ba(i,`${a}-${o}-${r}`)},[X,Q]=(0,o.useState)(!1),Z=(0,o.useRef)(new c.default.Value(0)).current,[ee,oe]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[re,ne]=(0,o.useState)(""),[se,le]=(0,o.useState)(""),[de,ce]=(0,o.useState)(""),[ue,he]=(0,o.useState)(""),[fe,ge]=(0,o.useState)(""),[ye,we]=(0,o.useState)(""),[me,je]=(0,o.useState)(""),[be,Ce]=(0,o.useState)(""),[ve,Ie]=(0,o.useState)(""),[ke,Re]=(0,o.useState)(!1),[Oe,Te]=(0,o.useState)(!1),[ze,De]=(0,o.useState)(!1),[Pe,Me]=(0,o.useState)(""),[Ee,$e]=(0,o.useState)(""),[Le,Be]=(0,o.useState)(""),[Fe,Ne]=(0,o.useState)(""),[We,Ve]=o.useState(!1),[He,qe]=o.useState(""),[Ye,Ke]=o.useState(!1),[Ge,Je]=(0,o.useState)(!1),[ot,rt]=(0,o.useState)(!1),[it,nt]=(0,o.useState)(""),[st,lt]=(0,o.useState)(!1),[dt,ct]=(0,o.useState)(!1),[ut,ht]=o.useState(!1),[ft,gt]=o.useState(!1),[xt,pt]=o.useState(!1),[yt,wt]=o.useState(!1),[mt,jt]=(0,o.useState)(null),[bt,Ct]=(0,o.useState)([]),St=()=>{X?c.default.timing(Z,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>Q(!1))):(Q(!0),c.default.timing(Z,{toValue:400,duration:300,useNativeDriver:!1}).start())},vt={height:Z},[It,_t]=(0,o.useState)([]),[kt,Ot]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Tt,zt]=(0,o.useState)(!1),[Pt,Mt]=(0,o.useState)([]),[Et,At]=(0,o.useState)([]),[Lt,Bt]=(0,o.useState)([]),Ft=new Date,Nt=String(Ft.getFullYear()),Wt=String(Ft.getMonth()+1).padStart(2,"0"),Ut=String(Ft.getDate()).padStart(2,"0"),[Vt,Ht]=(0,o.useState)(""),[qt,Yt]=(0,o.useState)(""),[Kt,Gt]=(0,o.useState)(""),[Jt,Xt]=(0,o.useState)(""),[Qt,Zt]=(0,o.useState)(""),[ea,ta]=(0,o.useState)(new Date),[aa,oa]=(0,o.useState)(new Date),[ra,ia]=(0,o.useState)("1"),[na,sa]=(0,o.useState)("1"),[la,da]=(0,o.useState)("2024"),[ca,ua]=(0,o.useState)(String(parseInt(Ut))),[ha,fa]=(0,o.useState)(String(parseInt(Wt))),[ga,xa]=(0,o.useState)(String(parseInt(Nt))),[pa,ya]=(0,o.useState)(!1),wa=()=>{ne(""),we(""),ce(""),W({id_movimiento:"",isAddMovimiento:!1,isModificarMovimiento:!1,fileEditable:!0})};(0,o.useEffect)((()=>{Tt&&(async()=>{if(B?.token&&N?.id_movimiento){De(!1);const e=await Xe(B.token,N.id_movimiento);if(e){const[t,a,o]=e.fecha.split("T")[0].split("-");oe(e.id_salida),ne(e.usuario.id_usuario),ce(e.producto.id_producto),we(e.cantidad),he(e.tienda_origen.id_tienda),ge(e.tienda_destino.id_tienda),le(e.usuario.nombre_usuario),Re(e.usuario.id_usuario===B.id_usuario||1===parseInt(B.id_rol)),Te(e.usuario.id_usuario===B.id_usuario||1===parseInt(B.id_rol)),je(String(parseInt(o))),Ce(String(parseInt(a))),Ie(String(parseInt(t))),Me(e.producto.id_producto),Be(e.tienda_destino.id_tienda),$e(e.tienda_origen.id_tienda),Ne(e.cantidad),De(!0)}}})()}),[N]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(B?.token){const e=await xe(B.token,"30",B.id_usuario),t=await xe(B.token,"31",B.id_usuario);ht(!0),gt(!0),pt(e),wt(t)}})(),(async()=>{if(void 0!=B?.token){const e=await V(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_usuario}))));Mt(t)}}})(),(async()=>{if(void 0!=B?.token){const e=await _e(B.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));At(t)}}})(),(async()=>{if(void 0!=B?.token){const e=await pe(B.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Bt([{label:"Todos los movimientos",value:""},...t])}}})(),ba(`${la}-${na}-${ra}`,`${ga}-${ha}-${ca}`),zt(!0)})(),()=>{})),[]));const[ma,ja]=(0,o.useState)(!1),ba=async(e,t)=>{ya(!0);try{if(B?.token){let a=await(async(e,t)=>{if(B?.token)try{const a=await xe(B.token,"31",B.id_usuario);let o;if(o=a?await et(B.token,Vt,qt,Kt,e,t,a?Jt:B.id_tienda,Qt):await tt(B.token,Vt,qt,Kt,e,t,B.id_tienda,Jt,Qt),o)return await Promise.all(o.map((async e=>({id_Movimiento:e.id_salida,id_TiendaOrigen:e.tienda_origen.id_tienda,id_TiendaDestino:e.tienda_destino.id_tienda,id_Producto:e.producto.id_producto,nombreTiendaOrigen:e.tienda_origen.nombre,nombreTiendaDestino:e.tienda_destino.nombre,nombre_Usuario:e.usuario.nombre,nombre_Producto:e.producto.nombre,cantidad:e.cantidad,fecha:e.fecha}))))}catch(a){return console.error("Error al filtrar los proveedoress:",a),null}return null})(e,t)||[];ja(!ma),a=U?.criterioOrden&&U.tipoOrden?await at(B.token,a,U.criterioOrden,ma):await at(B.token,a,"option6",ma),_t(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{ya(!1)}};(0,o.useEffect)((()=>{Tt&&ba(`${la}-${na}-${ra}`,`${ga}-${ha}-${ca}`)}),[U,mt]),(0,o.useEffect)((()=>{Tt&&Y("")}),[ra,na,la,ca,ha,ga]);const Ca=()=>{Yt(""),Ht(""),Gt(""),Xt(""),Zt(""),da("2024"),sa("1"),ia("1"),xa(String(parseInt(Nt))),fa(String(parseInt(Wt))),ua(String(parseInt(Ut))),jt("")},Sa=e=>{"Enter"===e.nativeEvent.key&&ba(`${la}-${na}-${ra}`,`${ga}-${ha}-${ca}`)},va=async()=>{if(!dt){if(ct(!0),lt(!1),qe("Modificando movimiento. Espere por favor"),Ve(!0),B?.token){let e=!0,t="ERROR AL MODIFICAR MOVIMIENTO. Compruebe los siguientes campos:\n";const a=await Se(B.token,Pe,Ee),o=await Se(B.token,Pe,Le),r=await Se(B.token,Pe,ue),i=await Se(B.token,de,Ee),n=await Se(B.token,de,ue);let s=parseInt(ye),l=parseInt(Fe),d=a?parseInt(a.cantidad):0,c=o?parseInt(o.cantidad):0,u=r?parseInt(r.cantidad):0,h=i?parseInt(i.cantidad):0,f=n?parseInt(n.cantidad):0;if(ue===Ee&&fe===Le&&de===Pe&&s!==l?s>=l?s-l>d&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos en la tienda origen para agregar a la tienda destino.\n"):l-s>c&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos en la tienda destino para agregar a la tienda origen.\n"):ue===Ee&&de===Pe&&fe!==Le?s!==l?s>c&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La vieja tienda destino no tiene suficientes productos para darle a la nueva tienda destino.\n"):c-l<0&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos en la tienda destino vieja para pasarle a la nueva.\n"):ue!==Ee&&de===Pe&&fe===Le?s!==l?s>d&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La vieja tienda origen no tiene sificientes productos para darle a la nueva tienda destino.\n"):d-l<0&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos en la tienda origen vieja para pasarle a la nueva.\n"):ue!==Ee&&fe!==Le&&de===Pe?s!==l?(l>c||s>u)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No se puede restablecer la cantidad dada de los en las tiendas originales o no hay productos suficientes en la nueva tienda de origen para asignar a la nueva tienda destino.\n"):(l>c||l>u)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No se puede restablecer los prouductos en las tiendas originales o no hay productos suficientes en la tienda de origen para asignar a la nueva tienda destino.\n"):de!==Pe&&(l>h?(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos viejos en la tienda vieja para modificar el producto a uno nuevo.\n"):ue===Ee&&fe===Le&&s===l?l>h&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos nuevos en la tienda vieja para modificar el producto a uno nuevo.\n"):l!==s?ue===Ee&&fe===Le&&s!==l?s>h&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay sificientes productos en la tienda origen con la cantidad dada.\n"):ue!==Ee&&fe===Le&&s!==l?s>f&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay esa cantidad de productos en la tienda origen especificada.\n"):ue===Ee&&fe!==Le&&s!==l?s>h&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay esa cantidad de productos en la tienda origen seleccionada.\n"):ue!==Ee&&fe!==Le&&s!==l&&s>f&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay esa cantidad de productos en la tienda origen seleccionada.\n"):ue===Ee&&fe===Le||l>f&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay sificintes productos nuevos en la nueva tienda origen.\n")),fe===ue&&(e=!1,t+="-La tienda origen no puede ser igual a la tienda destino.\n"),""===de&&(e=!1,t+="-Seleccione un producto.\n"),""===ue&&(e=!1,t+="-Seleccione una tienda Origen.\n"),""===fe&&(e=!1,t+="-Seleccione una tienda Destino.\n"),""===ye&&(e=!1,t+="-Ingrese una cantidad.\n"),e){await Qe(B.token,ee,`${be}-${me}-${ve}`,ue,fe,ye,de,re),ue===Ee&&fe===Le&&de===Pe&&s!==l?await Ue(B.token,Pe,Ee,Le,String(s-l)):ue===Ee&&de===Pe&&fe!==Le?(await Ae(B.token,de,fe),await Ue(B.token,Pe,Le,Ee,String(l)),await Ue(B.token,Pe,Ee,fe,String(s))):ue!==Ee&&de===Pe&&fe===Le?(await Ue(B.token,Pe,Le,Ee,String(l)),await Ue(B.token,Pe,ue,Le,String(s))):(ue!==Ee&&fe!==Le&&de===Pe||de!==Pe)&&(await Ae(B.token,de,fe),await Ue(B.token,Pe,Le,Ee,String(l)),await Ue(B.token,de,ue,fe,String(s)));const e=Et.find((e=>parseInt(e.value)===parseInt(Pe))),t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i=`El usuario ${B.nombre} modific\xf3 un movimiento de productos que originalmente ten\xeda un nombre ${e.lavel}`;await K(B.token,i,`${a}-${o}-${r}`,B.id_usuario,2),lt(!0),qe("El movimiento se modific\xf3 con \xe9xito"),Ve(!0),Ke(!0),W(!1)}else lt(!0),qe(t),Ve(!0)}ct(!1)}},Ia=async()=>{if(!dt){if(ct(!0),lt(!1),qe("Eliminando movimiento. Espere por favor"),Ve(!0),B?.token){let e=!0,t="ERROR AL TRATAR DE ELIMINAR EL MOVIMIENTO. Motivos:\n";const a=await Se(B.token,Pe,Le);let o=a?parseInt(a.cantidad):0,r=parseInt(Fe);if(r>o&&(e=!1,t+="-No hay suficientes productos en la tienda destino para devolver la operaci\xf3n.\n"),e){await Ue(B.token,Pe,Le,Ee,String(r)),await Ze(B.token,ee);const e=Et.find((e=>parseInt(e.value)===parseInt(Pe))),t=Lt.find((e=>parseInt(e.value)===parseInt(ue))),a=Lt.find((e=>parseInt(e.value)===parseInt(fe))),o=new Date,i=String(o.getFullYear()),n=String(o.getMonth()+1).padStart(2,"0"),s=String(o.getDate()).padStart(2,"0");let l=`El usuario ${B.nombre} elimin\xf3 el movimiento del producto ${e?.label} con cantidad ${ye} y tienda origen ${t?.label} y una tienda destino ${a?.label}`;await K(B.token,l,`${i}-${n}-${s}`,B.id_usuario,2),lt(!0),qe("El movimiento se elimin\xf3 con \xe9xito"),Ve(!0),Ke(!0)}else lt(!0),qe(t),Ve(!0)}ct(!1)}},_a=["Nombre","Cantidad"],ka=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],Ra=["Usuario","Producto","Cantidad","Tienda Origen","Tienda Destino","Fecha"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:St,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[pa?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(go,{isMobile:r,items:It,columns:Ra,columnasMyDateTableEntradaModal:ka,columnasMyDateTableTiendaModal:_a,tiendasByProducto:bt,proveedorByProducto:kt}),X&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},vt],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[yt&&(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del Usuario:"}),yt&&(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del usuario",value:Vt,onKeyPress:Sa,onChangeText:Ht}),yt&&(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del producto",value:qt,onKeyPress:Sa,onChangeText:Yt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Cantidad:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Cantidad",value:Kt,onKeyPress:Sa,onChangeText:Gt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:k},children:[(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:22,fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Tienda:"})}),yt&&(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Origen:"}),yt&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(ie,{value:Jt,placeholder:"Tienda Origen",setValue:Xt,items:Lt,searchable:!0,onDropdownOpen:()=>L("TiendaOrigenSearsh")})}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Destino:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(ie,{value:Qt,placeholder:"Tienda Destino",setValue:Zt,items:Lt,searchable:!0,onDropdownOpen:()=>L("TiendaDestinoSearsh")})})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative"},children:G.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:q===e.value,onPress:()=>J(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:k},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:i},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:20,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)($t,{dayValue:ra,monthValue:na,yearValue:la,onDayChange:ia,onMonthChange:sa,onYearChange:da,style:{margin:20},styleText:p.textSearchMovil})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:m},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:20,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)($t,{dayValue:ca,monthValue:ha,yearValue:ga,onDayChange:ua,onMonthChange:fa,onYearChange:xa,style:{margin:20},styleText:p.textSearchMovil})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ca,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{ba(`${la}-${na}-${ra}`,`${ga}-${ha}-${ca}`),Q(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:N?.isAddMovimiento??!1,animationType:"fade",onRequestClose:wa,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:wa,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===N?.id_movimiento?"Agregar Entrada":"Datos del Movimiento"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Usuario"})}),(0,w.jsx)(n.default,{style:{width:"100%"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",marginLeft:"6%",fontWeight:"bold",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:se})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Producto"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(Dt,{value:de,placeholder:"Productos",setValue:ce,items:Et,searchable:!0,readOnly:!ke})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1200,position:"relative"}}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Tienda Origen"}),(0,w.jsx)(Dt,{value:ue,placeholder:"Tiendas",setValue:he,items:Lt,searchable:!0,readOnly:!(ke&&yt)})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Tienda Destino"}),(0,w.jsx)(Dt,{value:fe,placeholder:"Tiendas",setValue:ge,items:Lt,searchable:!0,readOnly:!ke})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Cantidad"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ye,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");we(t)},editable:ft,placeholder:"Cantidad"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsx)(n.default,{style:{height:100},children:ze&&(0,w.jsx)($t,{dayValue:me,monthValue:be,yearValue:ve,onDayChange:je,onMonthChange:Ce,onYearChange:Ie,style:{margin:20},styleText:p.labelTextModalMovil,isReadOnly:!ke})}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[ft&&ke&&""!==N?.id_movimiento&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Je(!0),rt(!1),nt("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este movimiento?"),W({id_movimiento:"",isAddMovimiento:!1,isModificarMovimiento:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Movimiento"})}),ut&&Oe&&""!==N?.id_movimiento&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Je(!0),nt("\xbfEst\xe1s seguro que deseas ELIMINAR este movimiento?"),rt(!0),W({id_movimiento:"",isAddMovimiento:!1,isModificarMovimiento:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Movimiento"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ge,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:it}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ot?Ia():va(),disabled:dt,children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Je(!Ge),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Je(!Ge),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:We,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:He}),st&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ye?e.replace("Entradas"):Ve(!We),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"}}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[yt&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Usuario:"}),yt&&(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del usuario",onKeyPress:Sa,value:Vt,onChangeText:Ht}),yt&&(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:qt,onKeyPress:Sa,onChangeText:Yt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Cantidad:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Cantidad",value:Kt,onKeyPress:Sa,onChangeText:Gt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:k},children:[(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Tienda:"})}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Origen:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(ie,{value:Jt,placeholder:"Tienda Origen",setValue:Xt,items:Lt,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaOrigenSearsh")})}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Destino:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(ie,{value:Qt,placeholder:"Tienda Destino",setValue:Zt,items:Lt,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaDestinoSearsh")})})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative"},children:G.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:q===e.value,onPress:()=>J(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",zIndex:O,position:"relative",marginTop:"2%"},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:i},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)($t,{dayValue:ra,monthValue:na,yearValue:la,onDayChange:ia,onMonthChange:sa,onYearChange:da,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:m},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)($t,{dayValue:ca,monthValue:ha,yearValue:ga,onDayChange:ua,onMonthChange:fa,onYearChange:xa,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ca,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{ba(`${la}-${na}-${ra}`,`${ga}-${ha}-${ca}`)},children:"Buscar"})})]})]}),pa?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(go,{isMobile:r,items:It,columns:Ra,columnasMyDateTableEntradaModal:ka,columnasMyDateTableTiendaModal:_a,tiendasByProducto:bt,proveedorByProducto:kt})]}),(0,w.jsx)(f.default,{transparent:!0,visible:N?.isAddMovimiento??!1,animationType:"fade",onRequestClose:wa,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:wa,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===N?.id_movimiento?"Agregar Entrada":"Datos del Movimiento"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Usuario"})}),(0,w.jsx)(n.default,{style:{width:"100%"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",marginLeft:"6%",fontWeight:"bold",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:se})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:$,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Producto"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:$,position:"relative"},children:(0,w.jsx)(Dt,{value:de,placeholder:"Productos",setValue:ce,items:Et,readOnly:!ke,searchable:!0,onDropdownOpen:()=>L("ProductosDetails")})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"}}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:M,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda Origen"}),(0,w.jsx)(Dt,{value:ue,placeholder:"Tiendas",setValue:he,items:Lt,readOnly:!(ke&&yt),searchable:!0,onDropdownOpen:()=>L("TiendasDetails")})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda Destino"}),(0,w.jsx)(Dt,{value:fe,placeholder:"Tiendas",setValue:ge,items:Lt,readOnly:!ke,searchable:!0,onDropdownOpen:()=>L("TiendasDetails")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,position:"relative",zIndex:z},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ye,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");we(t)},editable:ke,placeholder:"Cantidad"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:z},children:ze&&(0,w.jsx)($t,{dayValue:me,monthValue:be,yearValue:ve,onDayChange:je,onMonthChange:Ce,onYearChange:Ie,style:{margin:20},styleText:p.labelTextModalDesktop,isReadOnly:!ke,onDropdownOpen:()=>L("FechaDetails")})})]}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:10},children:[ft&&ke&&""!==N?.id_movimiento&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Je(!0),rt(!1),nt("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este movimiento?")},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Movimiento"})}),ut&&Oe&&""!==N?.id_movimiento&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Je(!0),nt("\xbfEst\xe1s seguro que deseas ELIMINAR este movimiento?"),rt(!0),W({id_movimiento:"",isAddMovimiento:!1,isModificarMovimiento:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Movimiento"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ge,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:it}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ot?Ia():va(),disabled:dt,children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Je(!Ge),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Je(!Ge),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:We,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:He}),st&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ye?e.replace("Movimientos"):Ve(!We),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const yo=(0,o.createContext)(void 0),wo=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(yo.Provider,{value:{sortUsuarios:t,setSortUsuarios:a},children:e})},mo=()=>{const e=o.useContext(yo);if(void 0===e)throw new Error("useSortUsuarios debe usarse dentro de un SortUsuarios");return e},jo=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalProveedoresDates:g,setModalProveedoresDates:p}=$a(),{sortUsuarios:y,setSortUsuarios:m}=mo(),{usuario:j,setUsuario:C}=v(),S=r?bo.containerMovil:bo.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(10),[O,T]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(""),V=["Nombre"],[H,q]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),Y=e=>{p({id_proveedor:e,isAddProveedor:!0,fileEditable:!1,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0})},[K,G]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState("");o.useEffect((()=>{(async()=>{if(j?.token){const e=await xe(j.token,"7",j.id_usuario),t=await xe(j.token,"8",j.id_usuario),a=await xe(j.token,"30",j.id_usuario),o=await xe(j.token,"31",j.id_usuario);X(e),Z(t),te(a),oe(o),G(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);T([]),setTimeout((()=>{T(e.slice(t,a))}),0)}),[I,e,k]);const se=t=>{t>=0&&t*k<e.length&&_(t)},le=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[bo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?bo.headerTextMovil:bo.headerTextDesktop,children:[t,("Nombre"===t||"Correo"===t||"Tel\xe9fono"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre"===t?a="option3":"Correo"===t?a="option4":"Tel\xe9fono"===t&&(a="option5"),m({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[de,ce]=o.useState(""),[ue,he]=o.useState(""),fe=e=>{ce(e),P(!z)},ge=e=>{if(he(e),P(!z),"Modificar"===e){if(p({id_proveedor:de,isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!0,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0}),j?.token){}}else"Eliminar"===e?A(!$):"Mover"==e&&B(!L)},pe=async()=>{if(j?.token){if(0==await Se(j.token,de,j.id_tienda)){return!!await Le(j.token,de)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[le(),O.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Usuario),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[bo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(ne.default.Cell,{style:[bo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[bo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.telefono}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:{justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsx)(s.default,{children:e.salario_CUP})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[bo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombre_rol})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[bo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombre_tienda})})]},e.id_Usuario))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>fe(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),J&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ae||ee)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>fe(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[de,ue]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await pe();if(A(!$),e){const e=O.filter((e=>e.id_Usuario!==de));T(e),U("Producto eliminado con \xe9xito"),N(!0)}else U("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),N(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!$),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:re,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ie(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Lt,{columns:V,items:H})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:bo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[bo.paginationButtonMovil,0===I&&bo.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:bo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:bo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[bo.paginationButtonMovil,(I+1)*k>=e.length&&bo.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:bo.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[le(),O.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Usuario),children:[(0,w.jsx)(ne.default.Cell,{style:bo.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(ne.default.Cell,{style:bo.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(ne.default.Cell,{style:bo.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.telefono})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:{justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsx)(s.default,{children:e.salario_CUP})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:{justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsx)(s.default,{children:e.nombre_rol})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:{justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsx)(s.default,{children:e.nombre_tienda})})]},e.id_Usuario))),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:bo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[bo.paginationButtonDesktop,0===I&&bo.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:bo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:bo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[bo.paginationButtonDesktop,(I+1)*k>=e.length&&bo.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:bo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},bo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:16,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Co(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(500),[m,j]=(0,o.useState)(500),C=e=>{"TiendasSearsh"===e?(j(1500),g(2e3)):"RolesSearsh"===e&&(j(2e3),g(1500))},{usuario:S,setUsuario:I}=v(),{sortUsuarios:_}=mo(),{modalProveedoresDates:k,setModalProveedoresDates:R}=$a(),[O,T]=(0,o.useState)(!1),z=(0,o.useRef)(new c.default.Value(0)).current,[P,M]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)([])),[E,$]=(0,o.useState)([]),[A,L]=(0,o.useState)(""),[Y,G]=(0,o.useState)(""),[J,X]=(0,o.useState)(""),[Q,Z]=(0,o.useState)(""),[ee,oe]=(0,o.useState)(""),[re,ne]=(0,o.useState)(""),[se,le]=(0,o.useState)(""),[de,ce]=(0,o.useState)(""),[ue,he]=(0,o.useState)(""),[ge,ye]=(0,o.useState)(""),[we,me]=(0,o.useState)(""),[je,be]=(0,o.useState)(""),[Ce,Se]=(0,o.useState)(""),[ve,Ie]=(0,o.useState)(""),_e=[{label:"Permitido",value:"permitido"},{label:"Denegado",value:"denegado"}],[ke,Re]=o.useState(!1),[Oe,Te]=o.useState(""),[ze,De]=o.useState(!1),[Pe,Me]=(0,o.useState)(!1),[Ee,$e]=(0,o.useState)(!1),[Ae,Le]=(0,o.useState)(!1),[Be,Fe]=(0,o.useState)(""),[Ne,We]=o.useState(!1),[Ue,Ve]=o.useState(!1),[He,qe]=o.useState(!1),[Ye,Ke]=(0,o.useState)(!1),[Ge,Je]=(0,o.useState)(null),[Xe,Qe]=(0,o.useState)([]),Ze=()=>{O?c.default.timing(z,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>T(!1))):(T(!0),c.default.timing(z,{toValue:400,duration:300,useNativeDriver:!1}).start())},et={height:z},[tt,at]=(0,o.useState)([]),[ot,rt]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[it,nt]=(0,o.useState)([]),[st,lt]=(0,o.useState)([]),[dt,ct]=(0,o.useState)(""),[ut,ht]=(0,o.useState)(""),[ft,gt]=(0,o.useState)(""),[xt,pt]=(0,o.useState)(""),[yt,wt]=(0,o.useState)(""),[mt,jt]=(0,o.useState)(!1),bt=async()=>{G(""),X(""),oe(""),he(""),ye(""),ce(""),ne(""),me(""),R({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})};(0,o.useEffect)((()=>{It()}),[_,Ge]),(0,o.useEffect)((()=>{(async()=>{if(S?.token&&k?.id_proveedor){const e=await U(S.token,k.id_proveedor);if(e&&(L(e.data.id_usuario),X(e.data.nombre_usuario),oe(e.data.nombre_usuario),G(e.data.nombre),he(e.data.direccion||""),ye(e.data.telefono||""),ce(e.data.carnet_identidad||""),ne(e.data.email||""),me(e.data.detalle_bancario||""),Z(e.data.salario_CUP),Ie(e.data.activo?"permitido":"denegado"),void 0!=S?.token)){const t=await pe(S.token),a=await fe(S.token);if(t&&Array.isArray(t.data)&&a&&Array.isArray(a)){const o=await Promise.all(t.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));if(parseInt(S.id_rol)>=parseInt(e.data.rol.id_rol)){const e=await Promise.all(a.map((async e=>({label:e.nombre,value:e.id_rol}))));$(e)}else{const e=await Promise.all(a.filter((e=>1===parseInt(S.id_rol)?1!==parseInt(e.id_rol):2===parseInt(S.id_rol)?1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol):3!==parseInt(S.id_rol)||1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol)&&3!==parseInt(e.id_rol))).map((async e=>({label:e.nombre,value:e.id_rol}))));$(e)}M(o)}be(e.data.tienda.id_tienda),Se(e.data.rol.id_rol),parseInt(S.id_rol)>=parseInt(e.data.rol.id_rol)?Ke(!1):Ke(!0)}}})()}),[k]);const Ct=e=>{"Enter"===e.nativeEvent.key&&It()};(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(S?.token){const e=await xe(S.token,"1",S.id_usuario),t=await xe(S.token,"3",S.id_usuario),a=await xe(S.token,"2",S.id_usuario);We(e),Ve(t),qe(a)}})(),await(async()=>{if(void 0!=S?.token)try{const e=await V(S.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({id_Usuario:e.id_usuario,nombre:e.nombre,nombre_Usuario:e.nombre_usuario,correo:e.email||"",telefono:e.telefono||"",direccion:e.direccion||"",carnet_Identidad:e.carnet_identidad||"",detalle_bancario:e.detalles_bancarios||"",id_rol:e.rol.id_rol,nombre_rol:e.rol.nombre,id_tienda:e.tienda.id_tienda,nombre_tienda:e.tienda.nombre,salario_CUP:e.salario_CUP}))));at(t)}else console.log("No se encontraron proveedoress.")}catch(e){console.log("Error al obtener los proveedores o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de los proveedores")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de los proovedores")})(),(async()=>{if(void 0!=S?.token){const e=await pe(S.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));nt([{label:"Seleccione una tienda",value:""},...t])}}})(),(async()=>{if(void 0!=S?.token){const e=await fe(S.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_rol}))));lt([{label:"Seleccione un rol",value:""},...t])}}})(),(async()=>{if(void 0!=S?.token){const e=await pe(S.token),t=await fe(S.token);if(e&&Array.isArray(e.data)&&t&&Array.isArray(t)){const a=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda})))),o=await Promise.all(t.filter((e=>1===parseInt(S.id_rol)?1!==parseInt(e.id_rol):2===parseInt(S.id_rol)?1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol):3!==parseInt(S.id_rol)||1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol)&&3!==parseInt(e.id_rol))).map((async e=>({label:e.nombre,value:e.id_rol}))));M(a),$(o)}}})()})(),()=>{})),[]));const[St,vt]=(0,o.useState)(!1),It=async()=>{jt(!0);try{if(S?.token){let e=await(async()=>{if(S?.token)try{const e=await H(S.token,ft,xt,yt,ut,dt);if(e)return await Promise.all(e.map((async e=>({id_Usuario:e.id_usuario,nombre:e.nombre,nombre_Usuario:e.nombre_usuario,correo:e.email??"",telefono:e.telefono??"",direccion:e.direccion??"",carnet_Identidad:e.carnet_identidad??"",detalle_bancario:e.detalle_bancario??"",id_rol:e.rol.id_rol,nombre_rol:e.rol.nombre,id_tienda:e.tienda.id_tienda,nombre_tienda:e.tienda.nombre,salario_CUP:e.salario_CUP}))))}catch(e){return console.error("Error al filtrar los proveedoress:",e),null}return null})()||[];vt(!St),_?.criterioOrden&&_.tipoOrden&&(e=await q(S.token,e,_.criterioOrden,St)),at(e)}}catch(e){console.error("Error al filtrar y ordenar los proovedores:",e)}finally{jt(!1)}},_t=async()=>{if(X(""),oe(""),ne(""),he(""),ye(""),R({id_proveedor:"",isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1}),S?.token){const e=await fe(S.token),t=await Promise.all(e.filter((e=>1===parseInt(S.id_rol)?1!==parseInt(e.id_rol):2===parseInt(S.id_rol)?1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol):3!==parseInt(S.id_rol)||1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol)&&3!==parseInt(e.id_rol))).map((async e=>({label:e.nombre,value:e.id_rol}))));$(t)}},kt=()=>{gt(""),pt(""),wt(""),ht(""),ct(""),Je("")},Ot=async()=>{if(Me(!1),Te("Agregando usuario. Espere por favor"),Re(!0),S?.token){let e=!0,t="ERROR AL AGREGAR USUARIO. Por favor verifique los siguientes campos:\n";const a=await V(S.token);for(let o of a)if(o.nombre_usuario===J){t+=`-Ya existe un usuario con el nombreUsuario ${J}.\n`,e=!1;break}if(""===Y.trim()&&(t+="-El nombre del usuario no puede ser vac\xedo.\n",e=!1),""===re.trim()&&(t+="-El correo electr\xf3nico no puede ser vac\xedo.\n",e=!1),""===se.trim()?(t+="-La contrase\xf1a no puede ser vac\xeda.\n",e=!1):se.trim().length<6&&(t+="-La contrase\xf1a tiene que tener 6 o m\xe1s caracteres.\n",e=!1),""===J.trim()&&(t+="-El nombreUsuario no puede ser vac\xedo.\n",e=!1),""===Q&&(t+="-El salario del trabajador no puede ser vac\xedo.\n",e=!1),""===je&&(e=!1,t+="-No ha seleccionado la tienda donde trabajar\xe1 el usuario.\n"),""===Ce&&(e=!1,t+="-No ha seleccionado un rol para el usuario.\n"),""!==de.trim()&&11!==de.trim().length&&(e=!1,t+="-El carnet de identidad del usuario deve tener 11 d\xedgitos. \n"),e){await B(S.token,Y,J,se,re,ge,ue,de,we,Ce,je,Q);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${S.nombre} agreg\xf3 al sistema al usuario ${J}`;await K(S.token,r,`${t}-${a}-${o}`,S.id_usuario,5),Me(!0),Te(`El Usuario "${J}" fue insertado con \xe9xito`),Re(!0),De(!0),G(""),X(""),oe(""),le(""),he(""),ye(""),ce(""),ne(""),me(""),$([]),M([])}else Me(!0),Te(t),De(!1),Re(!0)}},Tt=async()=>{if(Me(!1),Te("Modificando usuario. Espere por favor"),Re(!0),S?.token){let e=!0,t="ERROR AL MODIFICAR USUARIO. Compruebe los siguientes campos:\n";const a=await V(S.token);for(let o of a)if(o.nombre_usuario===J&&ee!==J){t+=`-Ya existe un usuario con el nombreUsuario ${J}.\n`,e=!1;break}if(""===Y.trim()&&(t+="-El nombre del usuario no puede ser vac\xedo.\n",e=!1),""===re.trim()&&(t+="-El correo electr\xf3nico no puede ser vac\xedo.\n",e=!1),""!==se.trim()&&se.trim().length<6&&(t+="-La contrase\xf1a tiene que tener 6 o m\xe1s caracteres.\n",e=!1),""===Q&&(t+="-El salario del trabajador no puede ser vac\xedo.\n",e=!1),""===J.trim()&&(t+="-El nombreUsuario no puede ser vac\xedo.\n",e=!1),""===je&&(e=!1,t+="-No ha seleccionado la tienda donde trabajar\xe1 el usuario.\n"),""===Ce&&(e=!1,t+="-No ha seleccionado un rol para el usuario.\n"),""!==de.trim()&&11!==de.trim().length&&(e=!1,t+="-El carnet de identidad del usuario deve tener 11 d\xedgitos. \n"),e){""===se.trim()?await W(S.token,A,Y,J,re,ge,ue,de,we,Ce,je,"permitido"===ve,Q):await N(S.token,A,Y,J,se,re,ge,ue,de,we,Ce,je,"permitido"===ve,Q);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${S.nombre} modific\xf3 al usuario ${J}`;await K(S.token,r,`${t}-${a}-${o}`,S.id_usuario,5),Me(!0),Te(`El Usuario "${J}" se modific\xf3 con \xe9xito`),Re(!0),De(!0)}else Me(!0),Te(t),Re(!0)}},zt=async()=>{if(Me(!1),Te("Eliminando usuario. Espere por favor"),Re(!0),S?.token){let e="ERROR AL TRATAR DE ELIMINAR EL USUARIO. Motivos:\n";if(!0){if(await F(S.token,A)){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${S.nombre} elimin\xf3 al usuario ${J}`;await K(S.token,r,`${t}-${a}-${o}`,S.id_usuario,5),Me(!0),Te(`El Usuario "${J}" se elimin\xf3 con \xe9xito`),Re(!0),De(!0)}else e+="-El usuario ya ha echo operaciones en el sistema.\n",Te(e),Re(!0)}else Me(!0),Te(e),Re(!0)}},Pt=["Producto","Cantidad","Costo","Fecha"],Mt=["Nombre","Correo","Tel\xe9fono","Rol","Tienda"],Et=["Nombre","Correo","Tel\xe9fono","Salario CUP","Rol","Tienda"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:Ne&&(0,w.jsx)(u.default,{onPress:()=>_t(),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Usuario"})})}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ze,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[mt?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(jo,{isMobile:r,items:tt,columns:Et,columnasMyDateTableProveedorModal:Mt,columnasMyDateTableTiendaModal:Pt,tiendasByProducto:[],proveedorByProducto:ot}),O&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},et],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre de Usuario:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del proveedor",value:ft,onKeyPress:Ct,onChangeText:gt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Correo del Usuario:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Correo del Proveedor",value:xt,onKeyPress:Ct,onChangeText:pt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"N\xfamero de Tel\xe9fono",value:yt,onKeyPress:Ct,onChangeText:wt}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rol:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:m,position:"relative"},children:(0,w.jsx)(ie,{value:ut,placeholder:"Roles",setValue:ht,items:st,direction:"BOTTOM",onDropdownOpen:()=>C("RolesSearsh")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Tienda:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:i,position:"relative"},children:(0,w.jsx)(ie,{value:dt,placeholder:"Tiendas",setValue:ct,items:it,direction:"BOTTOM",onDropdownOpen:()=>C("TiendasSearsh")})}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:kt,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>It(),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:k?.isAddProveedor??!1,animationType:"fade",onRequestClose:bt,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"95%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:bt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:k?.isModificarProveedor?"Modificar Producto":k?.isAddProductoShowProveedoresTiendas?"Datos del Usuario":"Agregar Usuario"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Usuario"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,value:Y,onChangeText:G,placeholder:"Nombre del usuario"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Usuario"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,value:J,onChangeText:X,placeholder:"Nombre usuario"}),(""===k?.id_proveedor||1===parseInt(S?.id_rol))&&(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:""===k?.id_proveedor?"Contrase\xf1a":"Cambiar Contrase\xf1a"})}),(""===k?.id_proveedor||1===parseInt(S?.id_rol))&&(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,value:se,onChangeText:le,placeholder:"Nueva contrase\xf1a del usuario"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n del Usuario"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,value:ue,onChangeText:he,placeholder:"Direcci\xf3n del Usuario    "}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ge,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ye(t)},editable:""===k?.id_proveedor||He&&Ye,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Carnet de Identidad"}),(0,w.jsx)(D,{style:p.textImputModal,value:de,onChangeText:e=>{e.length<=11&&/^[0-9]*$/.test(e)&&ce(e)},cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,placeholder:"CarnetIdentidad"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:re,onChangeText:ne,editable:""===k?.id_proveedor||He&&Ye,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(D,{style:p.textImputModal,value:we,onChangeText:me,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,placeholder:"Detalles Bancarios"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1e3,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:1e3},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Roles"}),(0,w.jsx)(Dt,{value:Ce,placeholder:"Roles",setValue:Se,items:E,readOnly:!(""===k?.id_proveedor||He&&Ye),searchable:!0})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:1e3},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiendas"}),(0,w.jsx)(Dt,{value:je,placeholder:"Tiendas",setValue:be,items:P,readOnly:!(""===k?.id_proveedor||He&&Ye),searchable:!0})]})]}),""!==k?.id_proveedor&&(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Acceso al Sistema"})}),""!==k?.id_proveedor&&(0,w.jsx)(n.default,{style:{padding:20,alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},children:_e.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:ve===e.value,onPress:()=>{(""===k?.id_proveedor||He&&Ye)&&Ie(e.value)}},e.value)))}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[He&&Ye&&k?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{$e(!0),Le(!1),Fe(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos proveedor ${J}?`)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Usuario"})}),Ue&&k?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{$e(!0),Fe(`\xbfEst\xe1s seguro que deseas ELIMINAR al proveedor ${J}?`),Le(!0),R({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Usuario"})}),Ne&&""===k?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Ot(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Usuario"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ee,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Be}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ae?zt():Tt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$e(!Ee),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>$e(!Ee),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ke,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Oe}),Pe&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ze?e.replace("Usuarios"):Re(!ke),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:(Ne||He||Ue)&&(0,w.jsx)(u.default,{onPress:()=>_t(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===Ge&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Usuario"})})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre de Usuario:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",value:ft,onKeyPress:Ct,onChangeText:gt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Correo del Usuario:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Correo del Proveedor",value:xt,onKeyPress:Ct,onChangeText:pt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"N\xfamero de Tel\xe9fono",value:yt,onKeyPress:Ct,onChangeText:wt}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rol:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:m,position:"relative"},children:(0,w.jsx)(ie,{value:ut,placeholder:"Roles",setValue:ht,items:st,direction:"BOTTOM",onDropdownOpen:()=>C("RolesSearsh")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:i,position:"relative"},children:(0,w.jsx)(ie,{value:dt,placeholder:"Tiendas",setValue:ct,items:it,direction:"BOTTOM",onDropdownOpen:()=>C("TiendasSearsh")})}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:kt,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>It(),children:"Buscar"})})]})]}),mt?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(jo,{isMobile:r,items:tt,columns:Et,columnasMyDateTableProveedorModal:Mt,columnasMyDateTableTiendaModal:Pt,tiendasByProducto:[],proveedorByProducto:ot})]}),(0,w.jsx)(f.default,{transparent:!0,visible:k?.isAddProveedor??!1,animationType:"fade",onRequestClose:bt,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:bt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:k?.isModificarProveedor?"Modificar Producto":k?.isAddProductoShowProveedoresTiendas?"Datos del Usuario":"Agregar Usuario"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Usuario"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,value:Y,onChangeText:G,placeholder:"Nombre del usuario"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Usuario"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,value:J,onChangeText:X,placeholder:"Nombre usuario"}),(""===k?.id_proveedor||1===parseInt(S?.id_rol))&&(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:""===k?.id_proveedor?"Contrase\xf1a":"Cambiar Contrase\xf1a"})}),(""===k?.id_proveedor||1===parseInt(S?.id_rol))&&(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,value:se,onChangeText:le,placeholder:"Nueva contrase\xf1a del usuario"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n del Usuario"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,value:ue,onChangeText:he,placeholder:"Direcci\xf3n del Usuario    "}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ge,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ye(t)},editable:""===k?.id_proveedor||He&&Ye,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Carnet de Identidad"}),(0,w.jsx)(D,{style:p.textImputModal,value:de,onChangeText:e=>{e.length<=11&&/^[0-9]*$/.test(e)&&ce(e)},cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,placeholder:"CarnetIdentidad"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:re,onChangeText:ne,editable:""===k?.id_proveedor||He&&Ye,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(D,{style:p.textImputModal,value:we,onChangeText:me,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,placeholder:"Detalles Bancarios"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Salario diario en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Q,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Z(a)},editable:""===k?.id_proveedor||He&&Ye,placeholder:"Salario diario en CUP"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1e3,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:i},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Roles"}),(0,w.jsx)(Dt,{value:Ce,placeholder:"Roles",setValue:Se,items:E,readOnly:!(""===k?.id_proveedor||He&&Ye),searchable:!0})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:m},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiendas"}),(0,w.jsx)(Dt,{value:je,placeholder:"Tiendas",setValue:be,items:P,readOnly:!(""===k?.id_proveedor||He&&Ye),searchable:!0})]})]}),""!==k?.id_proveedor&&(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Acceso al Sistema"})}),""!==k?.id_proveedor&&(0,w.jsx)(n.default,{style:{padding:20,alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},children:_e.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:ve===e.value,onPress:()=>{(""===k?.id_proveedor||He&&Ye)&&Ie(e.value)}},e.value)))}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[He&&Ye&&k?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{$e(!0),Le(!1),Fe(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos proveedor ${J}?`)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Usuario"})}),Ue&&k?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{$e(!0),Fe(`\xbfEst\xe1s seguro que deseas ELIMINAR al proveedor ${J}?`),Le(!0),R({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Usuario"})}),Ne&&""===k?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Ot(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Usuario"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ee,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Be}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ae?zt():Tt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$e(!Ee),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>$e(!Ee),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ke,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Oe}),Pe&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ze?e.replace("Usuarios"):Re(!ke),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const So=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:h,setModalEntradasDates:g}=Et(),{usuario:p,setUsuario:y}=v(),{sortEntradas:m,setSortEntradas:j}=Ba(),C=r?vo.containerMovil:vo.containerDesktop,[S,I]=o.useState(0),[_,k]=o.useState(10),[R,O]=o.useState([]),[T,z]=o.useState(!1),[P,M]=o.useState(!1),[E,$]=o.useState(!1),[A,L]=o.useState(!1),[B,F]=o.useState(!1),[N,W]=o.useState(""),U=["Nombre"],[V,H]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),q=e=>{g({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[Y,K]=o.useState(!1),[G,J]=o.useState(!1),[X,Q]=o.useState(!1),[Z,ee]=o.useState(!1),[te,ae]=o.useState(!1),[oe,re]=o.useState("");o.useEffect((()=>{(async()=>{if(p?.token){const e=await xe(p.token,p.id_rol,"7",p.id_usuario),t=await xe(p.token,p.id_rol,"8",p.id_usuario),a=await xe(p.token,p.id_rol,"30",p.id_usuario),o=await xe(p.token,p.id_rol,"31",p.id_usuario);J(e),Q(t),ee(a),ae(o),K(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=S*_,a=Math.min((S+1)*_,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[S,e,_]);const ie=t=>{t>=0&&t*_<e.length&&I(t)},se=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((e,t)=>(0,w.jsx)(ne.default.Title,{style:[vo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsxs)(s.default,{style:r?vo.headerTextMovil:vo.headerTextDesktop,children:[e,("Nombre Proveedor"===e||"Nombre Producto"===e||"Costo Por Unidad"===e||"Fecha"===e)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(e=>{let t="";"Nombre Proveedor"===e?t="option3":"Nombre Producto"===e?t="option4":"Costo Por Unidad"===e?t="option5":"Fecha"===e&&(t="option6")})(e),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},t)))}),[le,de]=o.useState(""),[ce,ue]=o.useState(""),he=e=>{de(e),z(!T)},fe=e=>{if(ue(e),z(!T),"Modificar"===e){if(g({id_entrada:le,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),p?.token){}}else"Eliminar"===e?$(!E):"Mover"==e&&L(!A)};return r?(0,w.jsx)(n.default,{style:C,children:(0,w.jsxs)(ne.default,{style:{width:"100%"},children:[se(),R.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>q(e.id_Tienda),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{style:[vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.direccion})}),(0,w.jsx)(ne.default.Cell,{style:[vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsxs)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:[e.comicion,"%"]})})]},e.id_Tienda))),(0,w.jsx)(f.default,{transparent:!0,visible:T,animationType:"fade",onRequestClose:()=>he(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),G&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),X&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(te||Z)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>he(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:P,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[le,ce]}),(0,w.jsx)(u.default,{onPress:()=>M(!P),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:E,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$(!E),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})}),(0,w.jsx)(u.default,{onPress:()=>$(!E),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:oe,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");re(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Lt,{columns:U,items:V})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>L(!A),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:B,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:N}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:vo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[vo.paginationButtonMovil,0===S&&vo.disabledButton],onPress:()=>ie(S-1),disabled:0===S,children:(0,w.jsx)(s.default,{style:vo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:vo.paginationLabel,children:`${S*_+1}-${Math.min((S+1)*_,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[vo.paginationButtonMovil,(S+1)*_>=e.length&&vo.disabledButton],onPress:()=>ie(S+1),disabled:(S+1)*_>=e.length,children:(0,w.jsx)(s.default,{style:vo.paginationLabel,children:"Pr\xf3xima"})})]})]})}):(0,w.jsx)(n.default,{style:C,children:(0,w.jsxs)(ne.default,{children:[se(),R.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>q(e.id_Tienda),children:[(0,w.jsx)(ne.default.Cell,{style:vo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{style:vo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.direccion})}),(0,w.jsx)(ne.default.Cell,{style:[vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsxs)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:[e.comicion,"%"]})})]},e.id_Tienda))),(0,w.jsx)(f.default,{transparent:!0,visible:B,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:N}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Tiendas"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:vo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[vo.paginationButtonDesktop,0===S&&vo.disabledButton],onPress:()=>ie(S-1),disabled:0===S,children:(0,w.jsx)(s.default,{style:vo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:vo.paginationLabel,children:`${S*_+1}-${Math.min((S+1)*_,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[vo.paginationButtonDesktop,(S+1)*_>=e.length&&vo.disabledButton],onPress:()=>ie(S+1),disabled:(S+1)*_>=e.length,children:(0,w.jsx)(s.default,{style:vo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},vo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});var Io=a(5511);const _o=(0,o.forwardRef)((({selected:e,onChange:t,style:a,placeholder:o,editable:r,cursorColor:i},s)=>(0,w.jsx)(n.default,{style:a,children:(0,w.jsx)(Io.default,{ref:s,selected:e,onChange:t,showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Hora",dateFormat:"h:mm aa",placeholderText:o,editable:r,cursorColor:i})})));function ko(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),a=t<930,r=(e,t)=>new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),e,t,0),[i,l]=(0,o.useState)(1e3),[g,m]=(0,o.useState)(1e3),[j,C]=(0,o.useState)(1e3),[S,I]=(0,o.useState)(1e3),{usuario:_,setUsuario:k}=v(),{modalEntradasDates:R,setModalEntradasDates:O}=Et(),{sortEntradas:T,setSortEntradas:z}=Ba(),[P,M]=(0,o.useState)(!1),[E,$]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[A,L]=(0,o.useState)(""),[B,F]=(0,o.useState)(""),[N,W]=(0,o.useState)("0%"),[U,V]=o.useState(r(9,0)),[H,q]=o.useState(r(16,0)),Y=(0,o.useRef)(null),[G,J]=(0,o.useState)(!1),[X,Q]=(0,o.useState)(""),[Z,ee]=(0,o.useState)(""),[oe,re]=(0,o.useState)(""),[ie,ne]=o.useState(!1),[se,le]=o.useState(""),[de,ce]=o.useState(!1),[ue,he]=(0,o.useState)(!1),[fe,ge]=(0,o.useState)(!1),[xe,we]=(0,o.useState)(""),[Ce,Se]=o.useState(!1),[ve,Ie]=o.useState(!1),[ke,Re]=o.useState(!1),[Oe,Te]=(0,o.useState)(null),[ze,De]=(0,o.useState)([]),[Pe,Me]=(0,o.useState)([]),[Ee,$e]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Ae,Le]=(0,o.useState)([]),[Be,Fe]=(0,o.useState)([]),[Ne,We]=(0,o.useState)([]),Ue=new Date,Ve=String(Ue.getFullYear()),He=String(Ue.getMonth()+1).padStart(2,"0"),qe=String(Ue.getDate()).padStart(2,"0"),[Ye,Ke]=(0,o.useState)(""),[Ge,Je]=(0,o.useState)(""),[Xe,Qe]=(0,o.useState)(""),[Ze,et]=(0,o.useState)(""),[tt,at]=(0,o.useState)(new Date),[ot,rt]=(0,o.useState)(new Date),[it,nt]=(0,o.useState)("1"),[st,lt]=(0,o.useState)("1"),[dt,ct]=(0,o.useState)("2000"),[ut,ht]=(0,o.useState)(String(parseInt(qe))),[ft,gt]=(0,o.useState)(String(parseInt(He))),[xt,pt]=(0,o.useState)(String(parseInt(Ve))),[yt,wt]=(0,o.useState)(!1),mt=()=>{L(""),F(""),O({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(_?.token&&R?.id_entrada){J(!1);const e=await be(_.token,R.id_entrada);if(e){$(e.id_tienda),L(e.nombre),F(e.direccion),W(`${e.comicion}%`);const t=new Date;t.setHours(parseInt(e.hora_apertura.split(":")[0])),t.setMinutes(parseInt(e.hora_apertura.split(":")[1])),t.setSeconds(parseInt(e.hora_apertura.split(":")[2])),V(t);const a=new Date;a.setHours(parseInt(e.hora_cierre.split(":")[0])),a.setMinutes(parseInt(e.hora_cierre.split(":")[1])),a.setSeconds(parseInt(e.hora_cierre.split(":")[2])),q(a),J(!0)}}})()}),[R]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{_?.token&&(Se(1===parseInt(_.id_rol)),Ie(1===parseInt(_.id_rol)),Re(1===parseInt(_.id_rol)))})(),await(async()=>{if(void 0!=_?.token)try{const e=await pe(_.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({id_Tienda:e.id_tienda,nombre:e.nombre,direccion:e.direccion,comicion:e.comicion}))));Me(t)}else console.log("No se encontraron entradas.")}catch(e){console.log("Error al obtener las entradas o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de las entradas")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de las entradas")})(),(async()=>{if(void 0!=_?.token){const e=await Wa(_.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_proveedor}))));Le(t)}}})(),(async()=>{if(void 0!=_?.token){const e=await _e(_.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));Fe(t)}}})(),(async()=>{if(void 0!=_?.token){const e=await pe(_.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));We([{label:"Tiendas",value:""},...t])}}})()})(),()=>{})),[]));const[jt,bt]=(0,o.useState)(!1),Ct=async()=>{if(_?.token){let e=!0,t="ERROR AL INGRESAR TIENDA. Por favor verifique los siguientes campos:\n";if(""===A.trim()&&(t+="-El nombre de la tienda no puede ser vac\xedo.\n",e=!1),U.getTime()>H.getTime()&&(t+="-La hora de apertura no puede ser m\xe1s tarde que la hora de cierre.\n",e=!1),N.includes("%")){""===N.split("%")[0].trim()&&(t+="-La comici\xf3n no puede ser vac\xedo.\n",e=!1)}else t+="-Deve poner el % a la derecha de la comici\xf3n.\n",e=!1;if(e){await ye(_.token,A,B,N.split("%")[0],U.toLocaleTimeString(),H.toLocaleTimeString());const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${_.nombre} agreg\xf3 la tienda ${A}.`;await K(_.token,r,`${t}-${a}-${o}`,_.id_usuario,6),le("La tienda fue insertada con \xe9xito"),ne(!0),ce(!0),L(""),F(""),$("")}else le(t),ne(!0)}},St=async()=>{if(_?.token){let e=!0,t="ERROR AL MODIFICAR TIENDA. Compruebe los siguientes campos:\n";if(""===A.trim()&&(t+="-El nombre de la tienda no puede ser vac\xedo.\n",e=!1),U.getTime()>H.getTime()&&(t+="-La hora de apertura no puede ser m\xe1s tarde que la hora de cierre.\n",e=!1),N.includes("%")){""===N.split("%")[0].trim()&&(t+="-La comici\xf3n no puede ser vac\xedo.\n",e=!1)}else t+="-Deve poner el % a la derecha de la comici\xf3n.\n",e=!1;if(e){await me(_.token,E,A,B,N.split("%")[0],U.toLocaleTimeString(),H.toLocaleTimeString());const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${_.nombre} modific\xf3 la tienda ${A}.`;await K(_.token,r,`${t}-${a}-${o}`,_.id_usuario,6),le("La tienda se modific\xf3 con \xe9xito"),ne(!0),ce(!0),L(""),F("")}else le(t),ne(!0),ce(!1)}},vt=["Nombre","Cantidad"],It=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],_t=a?["Nombre","Direcci\xf3n",,"Comici\xf3n"]:["Nombre","Direcci\xf3n","Comici\xf3n"];return a?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:Ce&&(0,w.jsx)(u.default,{onPress:()=>O({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Tienda"})})}),(0,w.jsx)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:yt?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(So,{isMobile:a,items:Pe,columns:_t,columnasMyDateTableEntradaModal:It,columnasMyDateTableTiendaModal:vt,tiendasByProducto:ze,proveedorByProducto:Ee})}),(0,w.jsx)(f.default,{transparent:!0,visible:R?.isAddEntrada??!1,animationType:"fade",onRequestClose:mt,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:mt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===R?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre de la Tienda"})}),(0,w.jsx)(D,{ref:Y,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!0,value:A,onChangeText:L,placeholder:"Nombre de la tienda"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n de la Tienda"})}),(0,w.jsx)(D,{ref:Y,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!0,value:B,onChangeText:F,placeholder:"Direcci\xf3n de la tienda"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Comici\xf3n de los trabajadores en %"})}),(0,w.jsx)(D,{ref:Y,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!0,value:N,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;if(parseFloat(a)>100)return;const o=`${a}%`;if(e.length<N.length){const e=N.slice(0,-1);W(e)}else W(o)},placeholder:"Comici\xf3n de los trabajadores en %"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Apertura"}),(0,w.jsx)(_o,{selected:U,onChange:V,style:{width:"100%",height:40,paddingHorizontal:10,paddingVertical:5,borderRadius:5,backgroundColor:"rgba(255, 255, 255, 0.8)",borderColor:"rgba(0, 0, 0, 0.2)",borderWidth:1,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:2},placeholder:"Selecciona una hora",editable:!0,cursorColor:"rgba(0, 0, 0, 0.8)"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginRight:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cierre"}),(0,w.jsx)(_o,{selected:H,onChange:q,style:{width:"100%",height:40,paddingHorizontal:10,paddingVertical:5,borderRadius:5,backgroundColor:"rgba(255, 255, 255, 0.8)",borderColor:"rgba(0, 0, 0, 0.2)",borderWidth:1,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:2},placeholder:"Selecciona una hora",editable:!0,cursorColor:"rgba(0, 0, 0, 0.8)"})]})]}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[""!==R?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{ge(!0),he(!1),we("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta tienda?"),O({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Tienda"})}),""===R?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Ct(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Tienda"})}),""!==R?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{ge(!0),he(!0),we("\xbfEst\xe1s seguro que deseas ELIMINAR al esta tienda?"),O({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Tienda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:fe,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:xe}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>St(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ge(!fe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>ge(!fe),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ie,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:se}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>de?e.replace("Tiendas"):ne(!ie),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:Ce&&(0,w.jsx)(u.default,{onPress:()=>(J(!1),L(""),F(""),$(""),O({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),void J(!0)),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===Oe&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Tienda"})})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsx)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop}),yt?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(So,{isMobile:a,items:Pe,columns:_t,columnasMyDateTableEntradaModal:It,columnasMyDateTableTiendaModal:vt,tiendasByProducto:ze,proveedorByProducto:Ee})]}),(0,w.jsx)(f.default,{transparent:!0,visible:R?.isAddEntrada??!1,animationType:"fade",onRequestClose:mt,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:mt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===R?.id_entrada?"Agregar Tienda":"Datos de la Tienda"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre de la Tienda"})}),(0,w.jsx)(D,{ref:Y,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!0,value:A,onChangeText:L,placeholder:"Nombre de la tienda"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n de la Tienda"})}),(0,w.jsx)(D,{ref:Y,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!0,value:B,onChangeText:F,placeholder:"Direcci\xf3n de la tienda"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Comici\xf3n de los trabajadores en %"})}),(0,w.jsx)(D,{ref:Y,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!0,value:N,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;if(parseFloat(a)>100)return;const o=`${a}%`;if(e.length<N.length){const e=N.slice(0,-1);W(e)}else W(o)},placeholder:"Comici\xf3n de los trabajadores en %"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Apertura"}),(0,w.jsx)(_o,{selected:U,onChange:V,style:{width:"100%",height:40,paddingHorizontal:10,paddingVertical:5,borderRadius:5,backgroundColor:"rgba(255, 255, 255, 0.8)",borderColor:"rgba(0, 0, 0, 0.2)",borderWidth:1,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:2},placeholder:"Selecciona una hora",editable:!0,cursorColor:"rgba(0, 0, 0, 0.8)"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginRight:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cierre"}),(0,w.jsx)(_o,{selected:H,onChange:q,style:{width:"100%",height:40,paddingHorizontal:10,paddingVertical:5,borderRadius:5,backgroundColor:"rgba(255, 255, 255, 0.8)",borderColor:"rgba(0, 0, 0, 0.2)",borderWidth:1,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:2},placeholder:"Selecciona una hora",editable:!0,cursorColor:"rgba(0, 0, 0, 0.8)"})]})]}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[""!==R?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{ge(!0),he(!1),we("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta tienda?"),O({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Tienda"})}),""===R?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Ct(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Tienda"})}),""!==R?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{ge(!0),he(!0),we("\xbfEst\xe1s seguro que deseas ELIMINAR al esta tienda?"),O({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Tienda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:fe,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:xe}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ue?(async()=>{if(_?.token){let e="ERROR AL ELIMINAR ENTRADA. Compruebe los siguientes par\xe1metros:\n";if(await je(_.token,E)){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${_.nombre} elimin\xf3 la tienda ${A}.`;await K(_.token,r,`${t}-${a}-${o}`,_.id_usuario,6),le("La tienda se elimin\xf3 con \xe9xito"),ne(!0),ce(!0),L(""),F("")}else e+="-Ya se han echo operaciones en la tienda.\n",le(e),ne(!0),ce(!1)}})():St(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ge(!fe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>ge(!fe),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ie,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:se}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>de?e.replace("Tiendas"):ne(!ie),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const Ro=(0,o.createContext)(void 0),Oo=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Ro.Provider,{value:{sortAcciones:t,setSortAcciones:a},children:e})},To=()=>{const e=o.useContext(Ro);if(void 0===e)throw new Error("useSortAcciones debe usarse dentro de un SortAcciones");return e},zo=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=Et(),{usuario:y,setUsuario:m}=v(),{sortAcciones:j,setSortAcciones:C}=To(),S=r?Do.containerMovil:Do.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(10),[O,T]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(""),V=["Nombre"],[H,q]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),Y=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[K,G]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState("");o.useEffect((()=>{(async()=>{if(y?.token){const e=await xe(y.token,"7",y.id_usuario),t=await xe(y.token,"8",y.id_usuario),a=await xe(y.token,"30",y.id_usuario),o=await xe(y.token,"31",y.id_usuario);X(e),Z(t),te(a),oe(o),G(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);T([]),setTimeout((()=>{T(e.slice(t,a))}),0)}),[I,e,k]);const se=t=>{t>=0&&t*k<e.length&&_(t)},le=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[Do.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?Do.headerTextMovil:Do.headerTextDesktop,children:[t,("Nombre Usuario"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre Usuario"===t?a="option3":"Fecha"===t&&(a="option4"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[de,ce]=o.useState(""),[ue,he]=o.useState(""),fe=e=>{ce(e),P(!z)},ge=e=>{if(he(e),P(!z),"Modificar"===e){if(p({id_entrada:de,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?A(!$):"Mover"==e&&B(!L)},pe=async()=>{if(y?.token){if(0==await Se(y.token,de,y.id_tienda)){return!!await Le(y.token,de)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[le(),O.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Accion),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:Do.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(ne.default.Cell,{style:Do.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.descripcion})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Do.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombre_TipoAccion}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Do.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Accion))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>fe(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),J&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ae||ee)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>fe(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[de,ue]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await pe();if(A(!$),e){const e=O.filter((e=>e.id_Usuario!==de));T(e),U("Producto eliminado con \xe9xito"),N(!0)}else U("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),N(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!$),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:re,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ie(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Lt,{columns:V,items:H})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Do.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Do.paginationButtonMovil,0===I&&Do.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Do.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Do.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Do.paginationButtonMovil,(I+1)*k>=e.length&&Do.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Do.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[le(),O.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Accion),children:[(0,w.jsx)(ne.default.Cell,{style:Do.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(ne.default.Cell,{style:Do.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.descripcion})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Do.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombre_TipoAccion}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Do.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Accion))),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Do.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Do.paginationButtonDesktop,0===I&&Do.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Do.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Do.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Do.paginationButtonDesktop,(I+1)*k>=e.length&&Do.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Do.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Do=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Po(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),[k,R]=(0,o.useState)(500),O=e=>{"FechaDetails"===e?(g(2e3),j(1500)):"TiendaDetails"===e&&(j(2e3),g(1500)),"FechaDesdeSearsh"===e?(S(2e3),_(1500),R(1500)):"FechaHastaSearsh"===e?(S(1500),_(2e3),R(1500)):"TipoAccionSearch"===e&&(S(1500),_(1500),R(2e3))},{usuario:T,setUsuario:z}=v(),{modalEntradasDates:P,setModalEntradasDates:M}=Et(),{sortAcciones:E,setSortAcciones:$}=To(),[A,L]=(0,o.useState)(!1),B=(0,o.useRef)(new c.default.Value(0)).current,[F,N]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[W,U]=(0,o.useState)(""),[V,H]=(0,o.useState)(""),[q,K]=(0,o.useState)(""),[Q,Z]=(0,o.useState)(""),[ee,oe]=(0,o.useState)(""),[re,ne]=(0,o.useState)(""),[se,le]=(0,o.useState)(""),[de,ce]=(0,o.useState)(""),[ue,he]=(0,o.useState)(!1),[fe,ge]=(0,o.useState)(""),[ye,we]=(0,o.useState)(""),[me,je]=(0,o.useState)(""),[be,Ce]=o.useState(!1),[Se,ve]=o.useState(""),[Ie,ke]=o.useState(!1),[Re,Oe]=(0,o.useState)(!1),[Te,ze]=(0,o.useState)(!1),[De,Pe]=(0,o.useState)(""),[Me,Ee]=o.useState(!1),[$e,Ae]=o.useState(!1),[Le,Be]=o.useState(!1),[Fe,Ne]=(0,o.useState)(null),[We,Ue]=(0,o.useState)([]),Ve=()=>{A?c.default.timing(B,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>L(!1))):(L(!0),c.default.timing(B,{toValue:400,duration:300,useNativeDriver:!1}).start())},He={height:B},[qe,Ye]=(0,o.useState)([]),[Ke,Ge]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Je,Xe]=(0,o.useState)([]),[Qe,Ze]=(0,o.useState)([]),[et,tt]=(0,o.useState)([]),at=new Date,ot=String(at.getFullYear()),rt=String(at.getMonth()+1).padStart(2,"0"),it=String(at.getDate()).padStart(2,"0"),[nt,st]=(0,o.useState)(""),[lt,dt]=(0,o.useState)(""),[ct,ut]=(0,o.useState)("1"),[ht,ft]=(0,o.useState)("1"),[gt,xt]=(0,o.useState)("2024"),[pt,yt]=(0,o.useState)(null),[wt,mt]=(0,o.useState)([]),[jt,bt]=(0,o.useState)(String(parseInt(it))),[Ct,St]=(0,o.useState)(String(parseInt(rt))),[vt,It]=(0,o.useState)(String(parseInt(ot))),[_t,kt]=(0,o.useState)(!1),[Ot,Tt]=(0,o.useState)(""),zt=[{label:"D\xeda",value:"dia"},{label:"Semana",value:"semana"},{label:"Mes",value:"mes"}],Dt=e=>{Tt(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i="";if("dia"===e)i=`${a}-${o}-${r}`;else if("semana"===e){const e=new Date(t);e.setDate(t.getDate()-6);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("mes"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setMonth(t.getMonth()-1);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}Lt(i,`${a}-${o}-${r}`)},Pt=()=>{U(""),K(""),M({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(T?.token&&P?.id_entrada){he(!1);const e=await Y(T.token,P.id_entrada);if(e){const[t,a,o]=e.fecha.split("T")[0].split("-");N(e.id_accion),U(e.usuario.id_usuario),H(e.tipo_accion.id_tipo_accion),K(e.usuario.nombre),oe(e.descripcion),Z(e.tipo_accion.nombre),ne(String(parseInt(o))),le(String(parseInt(a))),ce(String(parseInt(t))),ge(e.producto.id_producto),we(e.tienda.id_tienda),je(e.cantidad),he(!0)}}})()}),[P]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(T?.token){const e=await xe(T.token,"10",T.id_usuario),t=await xe(T.token,"12",T.id_usuario),a=await xe(T.token,"11",T.id_usuario);Ee(e),Ae(t),Be(a)}})(),await(async()=>{if(void 0!=T?.token){const e=await G(T.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_tipo_accion}))));mt([{label:"Todos los tipos de acci\xf3n",value:""},...t])}}})(),(async()=>{if(void 0!=T?.token){const e=await _e(T.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));Ze(t)}}})(),(async()=>{if(void 0!=T?.token){const e=await pe(T.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));tt([{label:"Tiendas",value:""},...t])}}})()})(),()=>{})),[]));const[Mt,At]=(0,o.useState)(!1),Lt=async(e,t)=>{kt(!0);try{if(T?.token){let a=await(async(e,t)=>{if(T?.token)try{const a=await J(T.token,pt??"",nt,lt,e,t);if(a)return await Promise.all(a.map((async e=>({id_Accion:e.id_accion,id_Usuario:e.usuario.id_usuario,nombre_Usuario:e.usuario.nombre_usuario,descripcion:e.descripcion,fecha:e.fecha,id_TipoAccion:e.tipo_accion.id_tipo_accion,nombre_TipoAccion:e.tipo_accion.nombre}))))}catch(a){return console.error("Error al filtrar los acciones:",a),null}return null})(e,t)||[];At(!Mt),a=E?.criterioOrden&&E.tipoOrden?await X(T.token,a,E.criterioOrden,Mt):await X(T.token,a,"option4",Mt),Ye(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{kt(!1)}};(0,o.useEffect)((()=>{Lt(`${gt}-${ht}-${ct}`,`${vt}-${Ct}-${jt}`)}),[E]),(0,o.useEffect)((()=>{Tt("")}),[ct,ht,gt,jt,Ct,vt]);const Bt=e=>{"Enter"===e.nativeEvent.key&&Lt(`${gt}-${ht}-${ct}`,`${vt}-${Ct}-${jt}`)},Ft=()=>{st(""),dt(""),yt(""),Ne("")},Nt=["Nombre","Cantidad"],Wt=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],Ut=["Nombre Usuario","Descripci\xf3n","Tipo de Acci\xf3n","Fecha"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ve,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[_t?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(zo,{isMobile:r,items:qe,columns:Ut,columnasMyDateTableEntradaModal:Wt,columnasMyDateTableTiendaModal:Nt,tiendasByProducto:We,proveedorByProducto:Ke}),A&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},He],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre Usuario:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre usuario",value:nt,onKeyPress:Bt,onChangeText:st}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Descripci\xf3n:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Descripci\xf3n",value:lt,onKeyPress:Bt,onChangeText:dt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Tipo de Acci\xf3n:"}),(0,w.jsx)(n.default,{style:{position:"relative",zIndex:k,height:100},children:(0,w.jsx)(ie,{value:pt,placeholder:"Tipo de acci\xf3n",setValue:yt,items:wt,onDropdownOpen:()=>O("TipoAccionSearch")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:zt.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:Ot===e.value,onPress:()=>Dt(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1800},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)($t,{dayValue:ct,monthValue:ht,yearValue:gt,onDayChange:ut,onMonthChange:ft,onYearChange:xt,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>O("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:I},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)($t,{dayValue:jt,monthValue:Ct,yearValue:vt,onDayChange:bt,onMonthChange:St,onYearChange:It,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>O("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ft,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Lt(`${gt}-${ht}-${ct}`,`${vt}-${Ct}-${jt}`),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:P?.isAddEntrada??!1,animationType:"fade",onRequestClose:Pt,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Pt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===P?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Usuario"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:q,onChangeText:e=>K(e),editable:!1,placeholder:"Nombre Usuario"})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo Acci\xf3n"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Q,onChangeText:e=>Z(e),editable:!1,placeholder:"Tipo accion"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),(0,w.jsx)(D,{style:p.textImputModal,value:`${de}-${se}-${re}`,onChangeText:e=>{},cursorColor:x.azul_Oscuro,editable:!1,placeholder:"fecha"})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,editable:!1,numberOfLines:5,value:ee,onChangeText:oe,scrollEnabled:!0}),!1]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Te,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:De}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>modificarEntradaFunction(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ze(!Te),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>ze(!Te),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:be,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Se}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ie?e.replace("Entradas"):Ce(!be),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"}}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre Usuario:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre usuario",value:nt,onKeyPress:Bt,onChangeText:st}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Descripci\xf3n:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Descripci\xf3n",value:lt,onKeyPress:Bt,onChangeText:dt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tipo de Acci\xf3n:"}),(0,w.jsx)(n.default,{style:{position:"relative",zIndex:k,height:100},children:(0,w.jsx)(ie,{value:pt,placeholder:"Tipo de acci\xf3n",setValue:yt,items:wt,onDropdownOpen:()=>O("TipoAccionSearch")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:zt.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:Ot===e.value,onPress:()=>Dt(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1800},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)($t,{dayValue:ct,monthValue:ht,yearValue:gt,onDayChange:ut,onMonthChange:ft,onYearChange:xt,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>O("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:I},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)($t,{dayValue:jt,monthValue:Ct,yearValue:vt,onDayChange:bt,onMonthChange:St,onYearChange:It,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>O("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ft,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Lt(`${gt}-${ht}-${ct}`,`${vt}-${Ct}-${jt}`),children:"Buscar"})})]})]}),_t?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(zo,{isMobile:r,items:qe,columns:Ut,columnasMyDateTableEntradaModal:Wt,columnasMyDateTableTiendaModal:Nt,tiendasByProducto:We,proveedorByProducto:Ke})]}),(0,w.jsx)(f.default,{transparent:!0,visible:P?.isAddEntrada??!1,animationType:"fade",onRequestClose:Pt,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Pt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Datos de la Acci\xf3n"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Usuario"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:q,onChangeText:e=>K(e),editable:!1,placeholder:"Nombre Usuario"})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo Acci\xf3n"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Q,onChangeText:e=>Z(e),editable:!1,placeholder:"Tipo accion"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),(0,w.jsx)(D,{style:p.textImputModal,value:`${de}-${se}-${re}`,onChangeText:e=>{},cursorColor:x.azul_Oscuro,editable:!1,placeholder:"fecha"})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,editable:!1,numberOfLines:5,value:ee,onChangeText:oe,scrollEnabled:!0}),!1]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Te,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:De}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Re?eliminarEntradaFunction():modificarEntradaFunction(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ze(!Te),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>ze(!Te),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:be,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Se}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ie?e.replace("Entradas"):Ce(!be),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const Mo=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=Et(),{usuario:y,setUsuario:m}=v(),{sortEntradas:j,setSortEntradas:C}=Ba(),S=r?Eo.containerMovil:Eo.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(10),[O,T]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(""),V=["Nombre"],[H,q]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),Y=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[K,G]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState("");o.useEffect((()=>{(async()=>{if(y?.token){const e=await xe(y.token,y.id_rol,"7"),t=await xe(y.token,y.id_rol,"8"),a=await xe(y.token,y.id_rol,"30"),o=await xe(y.token,y.id_rol,"31");X(e),Z(t),te(a),oe(o),G(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);T([]),setTimeout((()=>{T(e.slice(t,a))}),0)}),[I,e,k]);const se=t=>{t>=0&&t*k<e.length&&_(t)},le=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[Eo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?Eo.headerTextMovil:Eo.headerTextDesktop,children:[t,("Nombre Proveedor"===t||"Nombre Producto"===t||"Costo Por Unidad"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre Proveedor"===t?a="option3":"Nombre Producto"===t?a="option4":"Costo Por Unidad"===t?a="option5":"Fecha"===t&&(a="option6"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[de,ce]=o.useState(""),[ue,he]=o.useState(""),fe=e=>{ce(e),P(!z)},ge=e=>{if(he(e),P(!z),"Modificar"===e){if(p({id_entrada:de,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?A(!$):"Mover"==e&&B(!L)},pe=async()=>{if(y?.token){if(0==await Se(y.token,de,y.id_tienda)){return!!await Le(y.token,de)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[le(),O.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Entrada),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[Eo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Proveedor})}),(0,w.jsx)(ne.default.Cell,{style:[Eo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Eo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Eo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.costo})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Eo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Entrada))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>fe(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),J&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ae||ee)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>fe(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[de,ue]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await pe();if(A(!$),e){const e=O.filter((e=>e.id_Proveedor!==de));T(e),U("Producto eliminado con \xe9xito"),N(!0)}else U("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),N(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!$),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:re,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ie(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Lt,{columns:V,items:H})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Eo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Eo.paginationButtonMovil,0===I&&Eo.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Eo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Eo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Eo.paginationButtonMovil,(I+1)*k>=e.length&&Eo.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Eo.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[le(),O.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Entrada),children:[(0,w.jsx)(ne.default.Cell,{style:Eo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Proveedor})}),(0,w.jsx)(ne.default.Cell,{style:Eo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Eo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Eo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.costo}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Eo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Entrada))),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Eo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Eo.paginationButtonDesktop,0===I&&Eo.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Eo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Eo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Eo.paginationButtonDesktop,(I+1)*k>=e.length&&Eo.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Eo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Eo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function $o(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),k=e=>{"FechaDetails"===e?(g(2e3),j(1500)):"TiendaDetails"===e&&(j(2e3),g(1500)),"FechaDesdeSearsh"===e?(S(2e3),_(1500)):"FechaHastaSearsh"===e&&(S(1500),_(2e3))},{usuario:R,setUsuario:O}=v(),{modalEntradasDates:T,setModalEntradasDates:z}=Et(),{sortEntradas:P,setSortEntradas:M}=Ba(),[E,$]=(0,o.useState)(!1),A=(0,o.useRef)(new c.default.Value(0)).current,[L,B]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[F,N]=(0,o.useState)(""),[W,U]=(0,o.useState)(""),[V,H]=(0,o.useState)(""),[q,Y]=(0,o.useState)(""),[G,J]=(0,o.useState)(""),[X,Q]=(0,o.useState)(""),[Z,ee]=(0,o.useState)(""),[oe,re]=(0,o.useState)(""),[ie,ne]=(0,o.useState)(!1),[se,le]=(0,o.useState)(""),[de,ce]=(0,o.useState)(""),[ue,he]=(0,o.useState)(""),[fe,ge]=o.useState(!1),[ye,we]=o.useState(""),[me,je]=o.useState(!1),[be,Ce]=(0,o.useState)(!1),[ve,Ie]=(0,o.useState)(!1),[ke,Re]=(0,o.useState)(""),[Oe,Te]=o.useState(!1),[ze,Pe]=o.useState(!1),[Me,Ee]=o.useState(!1),[$e,Le]=(0,o.useState)(null),[Fe,Ne]=(0,o.useState)([]),We=()=>{E?c.default.timing(A,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>$(!1))):($(!0),c.default.timing(A,{toValue:400,duration:300,useNativeDriver:!1}).start())},Ue={height:A},[Ve,He]=(0,o.useState)([]),[qe,Ye]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Ke,Ge]=(0,o.useState)([]),[Je,Xe]=(0,o.useState)([]),[Qe,Ze]=(0,o.useState)([]),et=new Date,tt=String(et.getFullYear()),at=String(et.getMonth()+1).padStart(2,"0"),ot=String(et.getDate()).padStart(2,"0"),[rt,it]=(0,o.useState)(""),[nt,st]=(0,o.useState)(""),[lt,dt]=(0,o.useState)(""),[ct,ut]=(0,o.useState)(""),[ht,ft]=(0,o.useState)(new Date),[yt,wt]=(0,o.useState)(new Date),[St,vt]=(0,o.useState)("1"),[It,_t]=(0,o.useState)("1"),[kt,Rt]=(0,o.useState)("2000"),[Ot,Tt]=(0,o.useState)(String(parseInt(ot))),[zt,Pt]=(0,o.useState)(String(parseInt(at))),[Mt,At]=(0,o.useState)(String(parseInt(tt))),[Lt,Bt]=(0,o.useState)(!1),Ft=()=>{N(""),J(""),Y(""),U(""),z({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(R?.token&&T?.id_entrada){ne(!1);const e=await xt(R.token,T.id_entrada);if(e){const[t,a,o]=e.fecha.split("T")[0].split("-");B(e.id_entrada),N(e.proveedor.id_proveedor),U(e.producto.id_producto),Y(e.cantidad),H(e.tienda.id_tienda),J(e.costo),Q(String(parseInt(o))),ee(String(parseInt(a))),re(String(parseInt(t))),le(e.producto.id_producto),ce(e.tienda.id_tienda),he(e.cantidad),ne(!0)}}})()}),[T]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(R?.token){const e=await xe(R.token,R.id_rol,"10"),t=await xe(R.token,R.id_rol,"12"),a=await xe(R.token,R.id_rol,"11");Te(e),Pe(t),Ee(a)}})(),await(async()=>{if(void 0!=R?.token)try{const e=await gt(R.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({id_Entrada:e.id_entrada,id_Proveedor:e.proveedor.id_proveedor,id_Producto:e.producto.id_producto,nombre_Proveedor:e.proveedor.nombre,nombre_Producto:e.producto.nombre,cantidad:e.cantidad,costo:e.costo,fecha:e.fecha}))));He(t)}else console.log("No se encontraron entradas.")}catch(e){console.log("Error al obtener las entradas o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de las entradas")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de las entradas")})(),(async()=>{if(void 0!=R?.token){const e=await Wa(R.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_proveedor}))));Ge(t)}}})(),(async()=>{if(void 0!=R?.token){const e=await _e(R.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));Xe(t)}}})(),(async()=>{if(void 0!=R?.token){const e=await pe(R.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Ze([{label:"Tiendas",value:""},...t])}}})()})(),()=>{})),[]));const[Nt,Wt]=(0,o.useState)(!1),Ut=async()=>{Bt(!0);try{if(R?.token){let e=await(async()=>{if(R?.token)try{const e=await bt(R.token,rt,nt,lt,ct,`${kt}-${It}-${St}`,`${Mt}-${zt}-${Ot}`);if(e)return await Promise.all(e.map((async e=>({id_Entrada:e.id_entrada,id_Proveedor:e.proveedor.id_proveedor,id_Producto:e.producto.id_producto,nombre_Proveedor:e.proveedor.nombre,nombre_Producto:e.producto.nombre,cantidad:e.cantidad,costo:e.costo,fecha:e.fecha}))))}catch(e){return console.error("Error al filtrar los proveedoress:",e),null}return null})()||[];Wt(!Nt),P?.criterioOrden&&P.tipoOrden&&(e=await Ct(R.token,e,P.criterioOrden,Nt)),He(e)}}catch(e){console.error("Error al filtrar y ordenar los proovedores:",e)}finally{Bt(!1)}};(0,o.useEffect)((()=>{Ut()}),[St,It,kt,Ot,zt,Mt,P]);const Vt=e=>{"Enter"===e.nativeEvent.key&&Ut()},Ht=()=>{it(""),st(""),dt(""),Le("")},qt=async()=>{if(R?.token){let e=!0,t="ERROR AL INGRESAR ENTRADA. Por favor verifique los siguientes campos:\n";if(""===F&&(e=!1,t+="-Seleccione un proveedor.\n"),""===W&&(e=!1,t+="-Seleccione un producto.\n"),""===V&&(e=!1,t+="-Seleccione una tienda.\n"),""===q&&(e=!1,t+="-Ingrese una cantidad.\n"),""===G&&(e=!1,t+="-Ingrese el costo del producto por unidad.\n"),e){await pt(R.token,G,q,`${Z}-${X}-${oe}`,parseInt(F),parseInt(W),parseInt(V)),await De(R.token,parseInt(V),parseInt(W),parseInt(q));const e=Qe.find((e=>e.value===V)),t=Je.find((e=>e.value===W)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let n=`El usuario ${R.nombre} agreg\xf3 una entrada de ${q} del producto ${t?.label} en la tienda ${e?.label}`;await K(R.token,n,`${o}-${r}-${i}`,R.id_usuario,4),await Ae(R.token,W,V),we("La entrada fue insertado con \xe9xito"),ge(!0),je(!0),N(""),U(""),H(""),J(""),Y("")}else we(t),ge(!0)}},Yt=async()=>{if(R?.token){let e=!0,t="ERROR AL MODIFICAR ENTRADA. Compruebe los siguientes campos:\n";const a=await Se(R.token,W,V),o=await Se(R.token,se,de);if(de===V&&se===W||parseInt(o.cantidad??0)-parseInt(ue)<0&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No se dispone de sificientes productos para realizar la operoci\xf3n."),parseInt(ue)-parseInt(q)>parseInt(a.cantidad??0)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La cantidad del producto excede la cantidad en la tienda\n."),""===F&&(e=!1,t+="-Seleccione un proveedor.\n"),""===W&&(e=!1,t+="-Seleccione un producto.\n"),""===V&&(e=!1,t+="-Seleccione una tienda.\n"),""===q&&(e=!1,t+="-Ingrese una cantidad.\n"),""===G&&(e=!1,t+="-Ingrese el costo del producto por unidad.\n"),e){await mt(R.token,L,G,q,`${Z}-${X}-${oe}`,parseInt(F),parseInt(W),parseInt(V)),de!==V||se!==W?(await De(R.token,parseInt(de),parseInt(se),-1*parseInt(ue)),await De(R.token,parseInt(V),parseInt(W),parseInt(q))):ue!==q&&await De(R.token,parseInt(V),parseInt(W),parseInt(q)-parseInt(ue));const e=Qe.find((e=>e.value===de)),t=Je.find((e=>e.value===se)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let n=`El usuario ${R.nombre} modific\xf3 una entrada de originalmente ${ue} del producto ${t?.label} en la tienda ${e?.label}`;await K(R.token,n,`${o}-${r}-${i}`,R.id_usuario,4),we("La entrada se modific\xf3 con \xe9xito"),ge(!0),je(!0),N(""),J(""),U(""),Y("")}else we(t),ge(!0)}},Kt=["Nombre","Cantidad"],Gt=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],Jt=["Nombre Proveedor","Nombre Producto","Cantidad","Costo Por Unidad","Fecha"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:We,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[Lt?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Mo,{isMobile:r,items:Ve,columns:Jt,columnasMyDateTableEntradaModal:Gt,columnasMyDateTableTiendaModal:Kt,tiendasByProducto:Fe,proveedorByProducto:qe}),E&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Ue],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",onKeyPress:Vt,value:rt,onChangeText:it}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Producto",value:nt,onKeyPress:Vt,onChangeText:st}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Costo en USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:W,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");U(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:W,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");U(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1e3},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",marginRight:"25%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,marginLeft:"12%",justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"})]}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:500},children:[(0,w.jsxs)(n.default,{style:{alignItems:"center",justifyContent:"center",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)($t,{dayValue:St,monthValue:It,yearValue:kt,onDayChange:vt,onMonthChange:_t,onYearChange:Rt,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>k("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{alignItems:"center",justifyContent:"center",position:"relative",zIndex:I},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)($t,{dayValue:Ot,monthValue:zt,yearValue:Mt,onDayChange:Tt,onMonthChange:Pt,onYearChange:At,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>k("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ht,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{$(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:T?.isAddEntrada??!1,animationType:"fade",onRequestClose:Ft,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ft,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===T?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Proveedor"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(Dt,{value:F,placeholder:"Proveedores",setValue:N,items:Ke,searchable:!0})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Producto"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(Dt,{value:W,placeholder:"Productos",setValue:U,items:Je,searchable:!0})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre de la Tienda"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1e3,position:"relative"},children:(0,w.jsx)(Dt,{value:V,placeholder:"Tiendas",setValue:H,items:Qe,searchable:!0})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Cantidad"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:q,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Y(t)},editable:!!Me,placeholder:"Cantidad"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Costo en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:G,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;J(a)},cursorColor:x.azul_Oscuro,editable:!!Me,placeholder:"Costo en USD"})]})]}),(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Fecha"}),ie&&(0,w.jsx)($t,{dayValue:X,monthValue:Z,yearValue:oe,onDayChange:Q,onMonthChange:ee,onYearChange:re,style:{margin:20},styleText:p.labelTextModalMovil})]}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Me&&""!==T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ie(!0),Re("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta entrada?"),z({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Entrada"})}),Oe&&""===T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>qt(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Entrada"})}),ze&&""!==T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ie(!0),Ce(!0),Re("\xbfEst\xe1s seguro que deseas ELIMINAR al esta entrada?"),z({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Entrada"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ve,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ke}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Yt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ie(!ve),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Ie(!ve),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:fe,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ye}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>me?e.replace("Permisos"):ge(!fe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"}}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",value:rt,onKeyPress:Vt,onChangeText:it}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Producto",value:nt,onKeyPress:Vt,onChangeText:st}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Costo en USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:lt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");dt(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:ct,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ut(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)($t,{dayValue:St,monthValue:It,yearValue:kt,onDayChange:vt,onMonthChange:_t,onYearChange:Rt,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>k("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:I},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)($t,{dayValue:Ot,monthValue:zt,yearValue:Mt,onDayChange:Tt,onMonthChange:Pt,onYearChange:At,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>k("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ht,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Ut(),children:"Buscar"})})]})]}),Lt?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Mo,{isMobile:r,items:Ve,columns:Jt,columnasMyDateTableEntradaModal:Gt,columnasMyDateTableTiendaModal:Kt,tiendasByProducto:Fe,proveedorByProducto:qe})]}),(0,w.jsx)(f.default,{transparent:!0,visible:T?.isAddEntrada??!1,animationType:"fade",onRequestClose:Ft,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ft,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===T?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Proveedor"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(Dt,{value:F,placeholder:"Proveedores",setValue:N,items:Ke,searchable:!0})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Producto"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(Dt,{value:W,placeholder:"Productos",setValue:U,items:Je,searchable:!0})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:m,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre de la Tienda"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:m,position:"relative"},children:(0,w.jsx)(Dt,{value:V,placeholder:"Tiendas",setValue:H,items:Qe,searchable:!0,onDropdownOpen:()=>k("TiendaDetails")})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:q,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Y(t)},editable:!!Me,placeholder:"Cantidad"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:G,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;J(a)},cursorColor:x.azul_Oscuro,editable:!!Me,placeholder:"Costo en USD"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),ie&&(0,w.jsx)($t,{dayValue:X,monthValue:Z,yearValue:oe,onDayChange:Q,onMonthChange:ee,onYearChange:re,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>k("FechaDetails")})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Me&&""!==T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ie(!0),Ce(!1),Re("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta entrada?"),z({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Entrada"})}),Oe&&""===T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>qt(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Entrada"})}),ze&&""!==T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ie(!0),Ce(!0),Re("\xbfEst\xe1s seguro que deseas ELIMINAR al esta entrada?"),z({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Entrada"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ve,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ke}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>be?(async()=>{if(R?.token){let e=!0,t="ERROR AL ELIMINAR ENTRADA. Compruebe los siguientes par\xe1metros:\n";const a=await Se(R.token,W,V);if(parseInt(q)>parseInt(a.cantidad??0)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La cantidad del producto excede la cantidad en la tienda\n."),e){await jt(R.token,L),await De(R.token,parseInt(V),parseInt(W),-1*parseInt(q)),await Be(R.token);const e=Qe.find((e=>e.value===de)),t=Je.find((e=>e.value===se)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let n=`El usuario ${R.nombre} elimin\xf3 la entrada con una cantidad de ${ue} del producto ${t?.label} en la tienda ${e?.label}`;await K(R.token,n,`${o}-${r}-${i}`,R.id_usuario,4),we("La entrada se elimin\xf3 con \xe9xito"),ge(!0),je(!0),N(""),J(""),U(""),Y("")}else we(t),ge(!0)}})():Yt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ie(!ve),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Ie(!ve),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:fe,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ye}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>me?e.replace("Permisos"):ge(!fe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const Ao=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:h,setModalEntradasDates:g}=Et(),{usuario:p,setUsuario:y}=v(),{sortEntradas:m,setSortEntradas:j}=Ba(),C=r?Lo.containerMovil:Lo.containerDesktop,[S,I]=o.useState(0),[_,k]=o.useState(20),[R,O]=o.useState([]),[T,z]=o.useState(!1),[P,M]=o.useState(!1),[E,$]=o.useState(!1),[A,L]=o.useState(!1),[B,F]=o.useState(!1),[N,W]=o.useState(""),U=["Nombre"],[V,H]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),q=e=>{g({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[Y,K]=o.useState(!1),[G,J]=o.useState(!1),[X,Q]=o.useState(!1),[Z,ee]=o.useState(!1),[te,ae]=o.useState(!1),[oe,re]=o.useState("");o.useEffect((()=>{(async()=>{if(p?.token){const e=await xe(p.token,"7",p.id_usuario),t=await xe(p.token,"8",p.id_usuario),a=await xe(p.token,"30",p.id_usuario),o=await xe(p.token,"31",p.id_usuario);J(e),Q(t),ee(a),ae(o),K(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=S*_,a=Math.min((S+1)*_,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[S,e,_]);const ie=t=>{t>=0&&t*_<e.length&&I(t)},se=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((e,t)=>(0,w.jsx)(ne.default.Title,{style:[Lo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsxs)(s.default,{style:r?Lo.headerTextMovil:Lo.headerTextDesktop,children:[e,("Nombre Proveedor"===e||"Nombre Producto"===e||"Costo Por Unidad"===e||"Fecha"===e)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(e=>{let t="";"Nombre Proveedor"===e?t="option3":"Nombre Producto"===e?t="option4":"Costo Por Unidad"===e?t="option5":"Fecha"===e&&(t="option6")})(e),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},t)))}),[le,de]=o.useState(""),[ce,ue]=o.useState(""),he=e=>{de(e),z(!T)},fe=e=>{if(ue(e),z(!T),"Modificar"===e){if(g({id_entrada:le,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),p?.token){}}else"Eliminar"===e?$(!E):"Mover"==e&&L(!A)};return r?(0,w.jsx)(n.default,{style:C,children:(0,w.jsxs)(ne.default,{style:{width:"100%"},children:[se(),R.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>q(e.id_TipoServicio),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[Lo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_TipoServicio})}),(0,w.jsx)(ne.default.Cell,{style:[Lo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.costo})})]},e.id_TipoServicio))),(0,w.jsx)(f.default,{transparent:!0,visible:T,animationType:"fade",onRequestClose:()=>he(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),G&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),X&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(te||Z)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>he(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:P,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[le,ce]}),(0,w.jsx)(u.default,{onPress:()=>M(!P),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:E,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>auxDeleteProductoById(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$(!E),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>$(!E),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:oe,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");re(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Lt,{columns:U,items:V})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>L(!A),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:B,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:N}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Tipo de Servicio"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Lo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Lo.paginationButtonMovil,0===S&&Lo.disabledButton],onPress:()=>ie(S-1),disabled:0===S,children:(0,w.jsx)(s.default,{style:Lo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Lo.paginationLabel,children:`${S*_+1}-${Math.min((S+1)*_,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Lo.paginationButtonMovil,(S+1)*_>=e.length&&Lo.disabledButton],onPress:()=>ie(S+1),disabled:(S+1)*_>=e.length,children:(0,w.jsx)(s.default,{style:Lo.paginationLabel,children:"Pr\xf3xima"})})]})]})}):(0,w.jsx)(n.default,{style:C,children:(0,w.jsxs)(ne.default,{children:[se(),R.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>q(e.id_TipoServicio),children:[(0,w.jsx)(ne.default.Cell,{style:Lo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_TipoServicio})}),(0,w.jsx)(ne.default.Cell,{style:Lo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.costo})})]},e.id_TipoServicio))),(0,w.jsx)(f.default,{transparent:!0,visible:B,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:N}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Tipo de Servicio"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Lo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Lo.paginationButtonDesktop,0===S&&Lo.disabledButton],onPress:()=>ie(S-1),disabled:0===S,children:(0,w.jsx)(s.default,{style:Lo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Lo.paginationLabel,children:`${S*_+1}-${Math.min((S+1)*_,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Lo.paginationButtonDesktop,(S+1)*_>=e.length&&Lo.disabledButton],onPress:()=>ie(S+1),disabled:(S+1)*_>=e.length,children:(0,w.jsx)(s.default,{style:Lo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Lo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Bo(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),{usuario:k,setUsuario:R}=v(),{modalEntradasDates:O,setModalEntradasDates:T}=Et(),{sortEntradas:z,setSortEntradas:P}=Ba(),[M,E]=(0,o.useState)(!1),$=(0,o.useRef)(new c.default.Value(0)).current,[A,L]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[B,F]=(0,o.useState)(""),[N,W]=(0,o.useState)(""),[U,V]=(0,o.useState)(!1),[H,q]=(0,o.useState)(""),[Y,G]=(0,o.useState)(""),[J,X]=(0,o.useState)(""),[Q,Z]=o.useState(!1),[ee,oe]=o.useState(""),[re,ie]=o.useState(!1),[ne,se]=(0,o.useState)(!1),[le,de]=(0,o.useState)(!1),[ce,ue]=(0,o.useState)(""),[he,fe]=(0,o.useState)(!1),[ge,pe]=o.useState(!1),[ye,we]=o.useState(!1),[me,je]=o.useState(!1),[be,Ce]=(0,o.useState)(null),[Se,ve]=(0,o.useState)([]),Ie=()=>{M?c.default.timing($,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>E(!1))):(E(!0),c.default.timing($,{toValue:400,duration:300,useNativeDriver:!1}).start())},_e={height:$},[ke,Re]=(0,o.useState)([]),[Oe,Te]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[ze,De]=(0,o.useState)([]),[Pe,Me]=(0,o.useState)([]),[Ee,$e]=(0,o.useState)([]),Ae=new Date,Le=String(Ae.getFullYear()),Be=String(Ae.getMonth()+1).padStart(2,"0"),Fe=String(Ae.getDate()).padStart(2,"0"),[Ne,We]=(0,o.useState)(""),[Ue,Ve]=(0,o.useState)(""),[He,qe]=(0,o.useState)(""),[Ye,Ke]=(0,o.useState)(""),[Ge,Je]=(0,o.useState)(new Date),[Xe,Qe]=(0,o.useState)(new Date),[Ze,et]=(0,o.useState)("1"),[tt,at]=(0,o.useState)("1"),[ot,rt]=(0,o.useState)("2000"),[it,nt]=(0,o.useState)(String(parseInt(Fe))),[st,lt]=(0,o.useState)(String(parseInt(Be))),[dt,ct]=(0,o.useState)(String(parseInt(Le))),[ut,ht]=(0,o.useState)(!1),ft=()=>{F(""),W(""),W(""),T({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(k?.token&&O?.id_entrada){V(!1);const e=await Qt(k.token,O.id_entrada);e&&(L(e.id_tipo_servicio),F(e.nombre),W(e.costo),q(e.producto.id_producto),G(e.tienda.id_tienda),X(e.cantidad),V(!0))}})()}),[O]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(k?.token){const e=await xe(k.token,"20",k.id_usuario),t=await xe(k.token,"21",k.id_usuario),a=await xe(k.token,"22",k.id_usuario);pe(e),we(a),je(t)}})(),await(async()=>{if(void 0!=k?.token)try{const e=await Xt(k.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({id_TipoServicio:e.id_tipo_servicio,nombre_TipoServicio:e.nombre,costo:e.costo}))));Re(t)}else console.log("No se encontraron Tipos de Servicios.")}catch(e){console.log("Error al obtener los Tipos de Servicios o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de lo Tipos de Servicios")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de las entradas")})()})(),()=>{})),[]));const[gt,xt]=(0,o.useState)(!1),pt=async()=>{ht(!0);try{if(k?.token){let e=await(async()=>{if(k?.token)try{const e=await aa(k.token,Ne,He,Ye);if(e)return await Promise.all(e.map((async e=>({id_TipoServicio:e.id_tipo_servicio,nombre_TipoServicio:e.nombre,costo:e.costo}))))}catch(e){return console.error("Error al filtrar los proveedoress:",e),null}return null})()||[];xt(!gt),Re(e)}}catch(e){console.error("Error al filtrar y ordenar los proovedores:",e)}finally{ht(!1)}};(0,o.useEffect)((()=>{pt()}),[Ze,tt,ot,it,st,dt,z,be]);const yt=e=>{"Enter"===e.nativeEvent.key&&pt()},wt=()=>{We(""),Ve(""),qe(""),Ke(""),Ce("")},mt=async()=>{if(fe(!1),oe("Agregando tipo de servicio. Espere por favor"),Z(!0),k?.token){let e=!0,t="ERROR AL INGRESAR TIPO DE SERVICIO. Por favor verifique los siguientes campos:\n";if(""===B.trim()&&(e=!1,t+="-El nombre del tipo de servicio no puede ser vacio.\n"),""===N.trim()&&(e=!1,t+="-El costo del tipo de servicio no puede ser vacio.\n"),e){await Zt(k.token,B,N);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${k.nombre} agreg\xf3 un nuevo tipo de servicio: ${B} con un costo de ${N}`;await K(k.token,r,`${t}-${a}-${o}`,k.id_usuario,7),fe(!0),oe(`Se ha creado el tipo de servicio ${B}`),Z(!0),ie(!0),F(""),W("")}else fe(!0),oe(t),Z(!0)}},jt=async()=>{if(fe(!1),oe("Modificando tipo de servicio. Espere por favor"),Z(!0),k?.token){let e=!0,t="ERROR AL MODIFICAR TIPO DE SERVICIO. Compruebe los siguientes campos:\n";if(""===B.trim()&&(e=!1,t+="-El nombre del tipo de servicio no puede ser vacio.\n"),""===N&&(e=!1,t+="-El costo del tipo de servicio no puede ser vacio.\n"),e){await ea(k.token,A,B,N);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${k.nombre} modific\xf3 el tipo de servicio: ${B} con un costo de ${N}`;await K(k.token,r,`${t}-${a}-${o}`,k.id_usuario,7),fe(!0),oe("El tipo de servicio se modific\xf3 con \xe9xito"),Z(!0),ie(!0)}else fe(!0),oe(t),Z(!0)}},bt=["Nombre","Cantidad"],Ct=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],St=["Tipo de Servicio","Costo"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:ge&&(0,w.jsx)(u.default,{onPress:()=>T({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Tipo de Servicio"})})}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ie,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[ut?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Ao,{isMobile:r,items:ke,columns:St,columnasMyDateTableEntradaModal:Ct,columnasMyDateTableTiendaModal:bt,tiendasByProducto:Se,proveedorByProducto:Oe}),M&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},_e],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del tipo de Servicio:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del tipo de Servicio",value:Ne,onKeyPress:yt,onChangeText:We}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Costo:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:He,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");qe(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:Ye,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ke(t)}})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",marginTop:"10%",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:wt,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>pt(),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:O?.isAddEntrada??!1,animationType:"fade",onRequestClose:ft,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:ft,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===O?.id_entrada?"Agregar Tipo de Servicio":"Datos del Tipo de Servicio"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsxs)(n.default,{style:{width:"100%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Tipo de Servicio"}),(0,w.jsx)(D,{style:p.textImputModal,value:B,onChangeText:e=>{F(e)},cursorColor:x.azul_Oscuro,editable:!!me,placeholder:"Nombre Tipo de Servicio"})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:N,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;W(a)},editable:!!me,placeholder:"Costo"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[me&&""!==O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"43%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{de(!0),se(!1),ue("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este Tipo de Servicio?")},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Tipo de Servicio"})}),ge&&""===O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"43%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>mt(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Tipo de Servicio"})}),ye&&""!==O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"43%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{de(!0),se(!0),ue("\xbfEst\xe1s seguro que deseas ELIMINAR este Tipo de Servicio?"),T({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Tipo de Servicio"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:le,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ce}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>jt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>de(!le),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>de(!le),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Q,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ee}),he&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>re?e.replace("Tipo de Servicio"):Z(!Q),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:ge&&(0,w.jsx)(u.default,{onPress:()=>(V(!1),F(""),W("0"),T({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),new Date,void V(!0)),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===be&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Tipo de Servicio"})})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del tipo de Servicio:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del tipo de Servicio",value:Ne,onKeyPress:yt,onChangeText:We}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Costo:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:He,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");qe(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:Ye,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ke(t)}})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",marginTop:"10%",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:wt,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>pt(),children:"Buscar"})})]})]}),ut?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Ao,{isMobile:r,items:ke,columns:St,columnasMyDateTableEntradaModal:Ct,columnasMyDateTableTiendaModal:bt,tiendasByProducto:Se,proveedorByProducto:Oe})]}),(0,w.jsx)(f.default,{transparent:!0,visible:O?.isAddEntrada??!1,animationType:"fade",onRequestClose:ft,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:ft,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===O?.id_entrada?"Agregar Tipo de Servicio":"Datos del Tipo de Servicio"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsxs)(n.default,{style:{width:"100%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Tipo de Servicio"}),(0,w.jsx)(D,{style:p.textImputModal,value:B,onChangeText:e=>{F(e)},cursorColor:x.azul_Oscuro,editable:!!me,placeholder:"Nombre Tipo de Servicio"})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:N,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;W(a)},editable:!!me,placeholder:"Costo"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[me&&""!==O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{de(!0),se(!1),ue("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este Tipo de Servicio?")},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Tipo de Servicio"})}),ge&&""===O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>mt(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Tipo de Servicio"})}),ye&&""!==O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{de(!0),se(!0),ue("\xbfEst\xe1s seguro que deseas ELIMINAR este Tipo de Servicio?"),T({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Tipo de Servicio"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:le,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ce}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ne?(async()=>{if(fe(!1),oe("Eliminando tipo de servicio. Espere por favor"),Z(!0),k?.token){let e=!0,t="ERROR AL ELIMINAR TIPO DE SERVICIO. Compruebe los siguientes par\xe1metros:\n";if(2!==parseInt(A)&&25!==parseInt(A)&&26!==parseInt(A)||(e=!1,t+="-No es posible eliminar este tipo de servicio ya que se usa en la l\xf3gica del software.\n"),e)if(await ta(k.token,A)){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${k.nombre} elimin\xf3 el tipo de servicio ${B}.`;await K(k.token,r,`${t}-${a}-${o}`,k.id_usuario,7),fe(!0),oe("El tipo de servicio se elimin\xf3 con \xe9xito"),Z(!0),ie(!0),F(""),W("")}else oe(t),Z(!0);else fe(!0),oe(t),Z(!0)}})():jt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>de(!le),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>de(!le),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Q,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ee}),he&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>re?e.replace("Tipo de Servicio"):Z(!Q),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}function Fo(){(0,b.useNavigation)();const{width:e}=(0,d.default)(),{usuario:t,setUsuario:a}=v(),[r,i]=o.useState(!1),[l,c]=(0,o.useState)("");(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{if(t?.token){const e=await ve(t.token);c(e)}})(),()=>{})),[]));return(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",marginTop:"10%"},children:[(0,w.jsxs)(n.default,{style:{width:"20%",marginLeft:"40%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cambio de moneda de USD -> CUP"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:l,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;c(a)},placeholder:"Digite un n\xfamero"})]}),(0,w.jsx)(n.default,{style:{width:"20%",marginLeft:"41%"},children:(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"80%",height:30,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{(async()=>{t?.token&&(await Ie(t.token,l),i(!0))})()},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Cambiar Moneda"})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:r,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Se ha cambiado el valor de la moneda a ${l}`}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i(!r),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const No=(0,o.createContext)(void 0),Wo=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(No.Provider,{value:{sortClientes:t,setSortClientes:a},children:e})},Uo=()=>{const e=o.useContext(No);if(void 0===e)throw new Error("useSortEntradas debe usarse dentro de un SortClientes");return e},Vo=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalProveedoresDates:g,setModalProveedoresDates:p}=$a(),{sortProductos:y,setSortProductos:m}=he(),{usuario:j,setUsuario:C}=v(),{sortClientes:S,setSortClientes:I}=Uo(),_=r?Ho.containerMovil:Ho.containerDesktop,[k,R]=o.useState(0),[O,T]=o.useState(20),[z,P]=o.useState([]),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(!1),[V,H]=o.useState(""),q=["Nombre"],[Y,K]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),G=e=>{p({id_proveedor:e,isAddProveedor:!0,fileEditable:!1,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0})},[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState(!1),[se,le]=o.useState("");o.useEffect((()=>{(async()=>{if(j?.token){const e=await xe(j.token,"7",j.id_usuario),t=await xe(j.token,"8",j.id_usuario),a=await xe(j.token,"30",j.id_usuario),o=await xe(j.token,"31",j.id_usuario);Z(e),te(t),oe(a),ie(o),X(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=k*O,a=Math.min((k+1)*O,e.length);P([]),setTimeout((()=>{P(e.slice(t,a))}),0)}),[k,e,O]);const de=t=>{t>=0&&t*O<e.length&&R(t)},ce=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[Ho.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?Ho.headerTextMovil:Ho.headerTextDesktop,children:[t,"Nombre"===t&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre"===t&&(a="option3"),I({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[ue,fe]=o.useState(""),[ge,pe]=o.useState(""),ye=e=>{fe(e),E(!M)},we=e=>{if(pe(e),E(!M),"Modificar"===e){if(p({id_proveedor:ue,isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!0,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0}),j?.token){}}else"Eliminar"===e?B(!L):"Mover"==e&&N(!F)},me=async()=>{if(j?.token){if(0==await Se(j.token,ue,j.id_tienda)){return!!await Le(j.token,ue)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:_,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[ce(),z.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>G(e.id_Cliente),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[Ho.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{style:[Ho.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.cif})}),(0,w.jsx)(ne.default.Cell,{style:[Ho.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ho.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.detalle_bancario}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ho.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.telefono})})]},e.id_Cliente))),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",onRequestClose:()=>ye(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{we("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{we("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(re||ae)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{we("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>ye(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[ue,ge]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await me();if(B(!L),e){const e=z.filter((e=>e.id_Cliente!==ue));P(e),H("Producto eliminado con \xe9xito"),U(!0)}else H("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),U(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>B(!L),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:se,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");le(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Lt,{columns:q,items:Y})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>N(!F),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Ho.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ho.paginationButtonMovil,0===k&&Ho.disabledButton],onPress:()=>de(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:Ho.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ho.paginationLabel,children:`${k*O+1}-${Math.min((k+1)*O,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Ho.paginationButtonMovil,(k+1)*O>=e.length&&Ho.disabledButton],onPress:()=>de(k+1),disabled:(k+1)*O>=e.length,children:(0,w.jsx)(s.default,{style:Ho.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:_,children:(0,w.jsxs)(ne.default,{children:[ce(),z.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>G(e.id_Cliente),children:[(0,w.jsx)(ne.default.Cell,{style:Ho.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{style:Ho.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.cif})}),(0,w.jsx)(ne.default.Cell,{style:Ho.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ho.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.detalle_bancario}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:{flex:1.5,justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsx)(s.default,{children:e.telefono})})]},e.id_Cliente))),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Ho.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ho.paginationButtonDesktop,0===k&&Ho.disabledButton],onPress:()=>de(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:Ho.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ho.paginationLabel,children:`${k*O+1}-${Math.min((k+1)*O,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Ho.paginationButtonDesktop,(k+1)*O>=e.length&&Ho.disabledButton],onPress:()=>de(k+1),disabled:(k+1)*O>=e.length,children:(0,w.jsx)(s.default,{style:Ho.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Ho=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:16,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function qo(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,{usuario:i,setUsuario:g}=v(),{sortClientes:m,setSortClientes:j}=Uo(),{modalProveedoresDates:C,setModalProveedoresDates:S}=$a(),[I,_]=(0,o.useState)(!1),k=(0,o.useRef)(new c.default.Value(0)).current,[R,O]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[T,z]=(0,o.useState)(""),[P,M]=(0,o.useState)(""),[E,$]=(0,o.useState)(""),[A,L]=(0,o.useState)(""),[B,F]=(0,o.useState)(""),[N,W]=(0,o.useState)(""),[U,V]=(0,o.useState)(""),[H,q]=o.useState(!1),[Y,G]=o.useState(""),[J,X]=o.useState(!1),[Q,Z]=(0,o.useState)(!1),[ee,oe]=(0,o.useState)(!1),[re,ie]=(0,o.useState)(""),[ne,se]=(0,o.useState)(!1),[le,de]=(0,o.useState)(!1),[ce,ue]=o.useState(!1),[he,fe]=o.useState(!1),[ge,ye]=o.useState(!1),[we,me]=(0,o.useState)(null),[je,be]=(0,o.useState)([]),Ce=()=>{I?c.default.timing(k,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>_(!1))):(_(!0),c.default.timing(k,{toValue:400,duration:300,useNativeDriver:!1}).start())},Se={height:k},[ve,Ie]=(0,o.useState)([]),[_e,ke]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Re,Oe]=(0,o.useState)([]),[Te,ze]=(0,o.useState)(""),[De,Pe]=(0,o.useState)(""),[Me,Ee]=(0,o.useState)(""),[$e,Ae]=(0,o.useState)(""),[Le,Be]=(0,o.useState)(!1),Fe=()=>{z(""),W(""),L(""),$(""),F(""),M(""),V(""),S({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})};(0,o.useEffect)((()=>{Ve()}),[we,m]),(0,o.useEffect)((()=>{(async()=>{if(i?.token&&C?.id_proveedor){const e=await ra(i.token,C.id_proveedor);e&&(O(C.id_proveedor),z(e.nombre),M(e.email||""),F(e.descripcion||""),$(e.telefono||""),L(e.nota||""),W(e.Cif||""),V(e.detalles_bancarios||""))}})()}),[C]);const Ne=e=>{"Enter"===e.nativeEvent.key&&Ve()};(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(i?.token){const e=await xe(i.token,"18",i.id_usuario),t=await xe(i.token,"17",i.id_usuario),a=await xe(i.token,"16",i.id_usuario);ue(a),fe(e),ye(t)}})(),await(async()=>{if(void 0!=i?.token)try{const e=await oa(i.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({id_Cliente:e.id_cliente,nombre:e.nombre,correo:e.email||"",detalle_bancario:e.detalles_bancarios||"",telefono:e.telefono||"",nota:e.nota||"",cif:e.Cif||"",descripcion:e.descripcion||""}))));Ie(t)}else console.log("No se encontraron proveedoress.")}catch(e){console.log("Error al obtener los proveedores o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de los proveedores")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de los proovedores")})(),(async()=>{if(void 0!=i?.token){const e=await pe(i.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Oe([{label:"Tiendas",value:""},...t])}}})()})(),()=>{})),[]));const[We,Ue]=(0,o.useState)(!1),Ve=async()=>{Be(!0);try{if(i?.token){let e=await(async()=>{if(i?.token)try{const e=await la(i.token,Te,Me,De,$e);if(e)return await Promise.all(e.map((async e=>({id_Proveedor:e.id_proveedor,nombre:e.nombre,correo:e.email||"",direccion:e.direccion||"",telefono:e.telefono||"",nota:e.nota||"",cif:e.Cif||"",detalle_bancario:e.detalles_bancarios||"",descripcion:e.descripcion||""}))))}catch(e){return console.error("Error al filtrar los proveedoress:",e),null}return null})()||[];Ue(!We),m?.criterioOrden&&m.tipoOrden&&(e=await da(i.token,e,m.criterioOrden,We)),Ie(e)}}catch(e){console.error("Error al filtrar y ordenar los proovedores:",e)}finally{Be(!1)}},He=()=>{z(""),M(""),F(""),$(""),L(""),S({id_proveedor:"",isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},qe=()=>{ze(""),Pe(""),Ae(""),Ee(""),me("")},Ye=async()=>{if(!le){if(de(!0),se(!1),G("Agregando cliente. Espere por favor"),q(!0),i?.token){let e=!0,t="ERROR AL AGREGAR CLIENTE. Por favor verifique los siguientes campos:\n";if(""===T.trim()&&(t+="-El nombre del cliente no puede ser vac\xedo",e=!1),e){await ia(i.token,T,P,E,B,A,N,U);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${i.nombre} agreg\xf3 al sistema al cliente ${T}`;await K(i.token,r,`${t}-${a}-${o}`,i.id_usuario,8),se(!0),G(`El Cliente "${T}" fue insertado con \xe9xito`),q(!0),X(!0),z(""),$(""),M(""),F(""),L(""),W(""),V("")}else se(!0),G(t),q(!0)}de(!1)}},Ke=async()=>{if(!le){if(de(!0),se(!1),G("Modificando cliente. Espere por favor"),q(!0),i?.token){let e=!0,t="ERROR AL MODIFICAR CLIENTE. Compruebe los siguientes campos:\n";if(""===T.trim()&&(e=!1,t+="-El nombre del cliente no puede ser vac\xedo"),1===parseInt(R)&&(e=!1,t+="-No se puede modificar al cliente An\xf3nimo ya que se usa en la l\xf3gica del software"),e){await na(i.token,R,T,P,E,B,A,N,U);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${i.nombre} modific\xf3 al cliente ${T}`;await K(i.token,r,`${t}-${a}-${o}`,i.id_usuario,8),se(!0),G(`El Cliente "${T}" se modific\xf3 con \xe9xito`),q(!0),X(!0)}else se(!0),G(t),q(!0)}de(!1)}},Ge=async()=>{if(!le){if(de(!0),se(!1),G("Eliminando cliente. Espere por favor"),q(!0),i?.token){let e=!0,t="ERROR AL TRATAR DE ELIMINAR EL CLIENTE. Motivos:\n";if(1===parseInt(R)&&(e=!1,t+="-No se puede eliminar al cliente An\xf3nimo ya que se usa en la l\xf3gica del software"),e){if(await sa(i.token,R)){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${i.nombre} elimin\xf3 al cliente ${T}`;await K(i.token,r,`${t}-${a}-${o}`,i.id_usuario,8),se(!0),G(`El Cliente "${T}" se elimin\xf3 con \xe9xito`),q(!0),X(!0)}else se(!0),t+="-Ya se han echo operaciones en el sistema con este cliente.\n",G(t),q(!0)}else se(!0),G(t),q(!0)}de(!1)}},Je=["Producto","Cantidad","Costo","Fecha"],Xe=["Nombre","CIF / CI","Correo","Detalle Bancario","Tel\xe9fono"],Qe=r?["Nombre","Correo","Detalle Bancario","telefono"]:["Nombre","CIF / CI","Correo","Detalle Bancario","Tel\xe9fono"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:ce&&(0,w.jsx)(u.default,{onPress:()=>He(),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Cliente"})})}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ce,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[Le?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Vo,{isMobile:r,items:ve,columns:Qe,columnasMyDateTableProveedorModal:Xe,columnasMyDateTableTiendaModal:Je,tiendasByProducto:[],proveedorByProducto:_e}),I&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Se],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del Cliente:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del cliente",onKeyPress:Ne,value:Te,onChangeText:ze}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"CIF / Carnet Identidad:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"CIF / Carnet Identidad",value:De,onKeyPress:Ne,onChangeText:Pe}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Detalles Bancarios:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Detalles Bancarios",onKeyPress:Ne,value:$e,onChangeText:Ae}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"N\xfamero de Tel\xe9fono",value:Me,onKeyPress:Ne,onChangeText:Ee}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:qe,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{Ve(),_(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:C?.isAddProveedor??!1,animationType:"fade",onRequestClose:Fe,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"95%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Fe,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:C?.isModificarProveedor?"Modificar Producto":C?.isAddProductoShowProveedoresTiendas?"Datos del Proveedor":"Agregar Proveedor"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ge,value:T,onChangeText:z,placeholder:"Nombre del cliente"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:E,onChangeText:$,editable:!!ge,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"C\xf3digo de Identificaci\xf3n Fiscal (CIF)"}),(0,w.jsx)(D,{style:p.textImputModal,value:N,onChangeText:W,cursorColor:x.azul_Oscuro,editable:!!ge,placeholder:"C\xf3digo de Identificaci\xf3n Fiscal"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:P,onChangeText:M,editable:!!ge,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(D,{style:p.textImputModal,value:U,onChangeText:V,cursorColor:x.azul_Oscuro,editable:!!ge,placeholder:"Detalles Bancarios"})]})]}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ge,value:A,onChangeText:L,placeholder:"Nota"}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del cliente",multiline:!0,editable:!!ge,numberOfLines:5,value:B,onChangeText:F,scrollEnabled:!0}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[ge&&C?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Z(!0),oe(!1),ie(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos cliente ${T}?`)},disabled:le,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Cliente"})}),he&&C?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Z(!0),ie(`\xbfEst\xe1s seguro que deseas ELIMINAR al cliente ${T}?`),oe(!0),S({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},disabled:le,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Cliente"})}),ce&&""===C?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Ye(),disabled:le,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Cliente"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Q,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:re}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ee?Ge():Ke(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Z(!Q),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Z(!Q),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:H,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Y}),ne&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>J?e.replace("Clientes"):q(!H),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:(ce||ge||he)&&(0,w.jsx)(u.default,{onPress:()=>He(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===we&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Cliente"})})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Cliente",value:Te,onKeyPress:Ne,onChangeText:ze}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"CIF / Carnet Identidad:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"CIF / Carnet Identidad",value:De,onKeyPress:Ne,onChangeText:Pe}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Detalles Bancarios:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Detalles Bancarios",value:$e,onKeyPress:Ne,onChangeText:Ae}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"N\xfamero de Tel\xe9fono",value:Me,onKeyPress:Ne,onChangeText:Ee}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:qe,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Ve(),children:"Buscar"})})]})]}),Le?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Vo,{isMobile:r,items:ve,columns:Qe,columnasMyDateTableProveedorModal:Xe,columnasMyDateTableTiendaModal:Je,tiendasByProducto:[],proveedorByProducto:_e})]}),(0,w.jsx)(f.default,{transparent:!0,visible:C?.isAddProveedor??!1,animationType:"fade",onRequestClose:Fe,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Fe,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:C?.isModificarProveedor?"Modificar Producto":C?.isAddProductoShowProveedoresTiendas?"Datos del Cliente":"Agregar Cliente"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ge,value:T,onChangeText:z,placeholder:"Nombre del cliente"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:E,onChangeText:$,editable:!!ge,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"C\xf3digo de Identificaci\xf3n Fiscal (CIF)"}),(0,w.jsx)(D,{style:p.textImputModal,value:N,onChangeText:W,cursorColor:x.azul_Oscuro,editable:!!ge,placeholder:"C\xf3digo de Identificaci\xf3n Fiscal"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:P,onChangeText:M,editable:!!ge,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(D,{style:p.textImputModal,value:U,onChangeText:V,cursorColor:x.azul_Oscuro,editable:!!ge,placeholder:"Detalles Bancarios"})]})]}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ge,value:A,onChangeText:L,placeholder:"Nota"}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del cliente",multiline:!0,editable:!!ge,numberOfLines:5,value:B,onChangeText:F,scrollEnabled:!0}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[ge&&C?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Z(!0),oe(!1),ie(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos cliente ${T}?`)},disabled:le,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Cliente"})}),he&&C?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Z(!0),ie(`\xbfEst\xe1s seguro que deseas ELIMINAR al cliente ${T}?`),oe(!0),S({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},disabled:le,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Cliente"})}),ce&&""===C?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Ye(),disabled:le,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Cliente"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Q,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:re}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ee?Ge():Ke(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Z(!Q),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Z(!Q),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:H,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Y}),ne&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>J?e.replace("Clientes"):q(!H),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const Yo=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=Et(),{usuario:y,setUsuario:m}=v(),{sortServicios:j,setSortServicios:C}=Wt(),S=r?Ko.containerMovil:Ko.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(20),[O,T]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(0),[V,H]=o.useState(""),q=["Nombre"],[Y,K]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),G=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState(!1),[se,le]=o.useState("");o.useEffect((()=>{(async()=>{y?.token&&U(await ve(y.token))})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);T([]),setTimeout((()=>{T(e.slice(t,a))}),0)}),[I,e,k]);const de=t=>{t>=0&&t*k<e.length&&_(t)},ce=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[Ko.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?Ko.headerTextMovil:Ko.headerTextDesktop,children:[t,("Nombre Cliente"===t||"Precio"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Fecha"===t?a="option3":"Nombre Cliente"===t?a="option4":"Precio"===t&&(a="option5"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[ue,he]=o.useState(""),[fe,ge]=o.useState(""),xe=e=>{he(e),P(!z)},pe=e=>{if(ge(e),P(!z),"Modificar"===e){if(p({id_entrada:ue,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?A(!$):"Mover"==e&&B(!L)},ye=async()=>{if(y?.token){if(0==await Se(y.token,ue,y.id_tienda)){return!!await Le(y.token,ue)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[ce(),O.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>G(e.id_Garantia),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(ne.default.Cell,{style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.duracion}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:parseFloat(e.precio).toFixed(4)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*W).toFixed(0)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.cantidad?e.cantidad:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Garantia))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>xe(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(re||ae)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>xe(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[ue,fe]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await ye();if(A(!$),e){const e=O.filter((e=>e.id_Cliente!==ue));T(e),H("Producto eliminado con \xe9xito"),N(!0)}else H("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),N(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!$),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:se,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");le(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Lt,{columns:q,items:Y})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Servicios"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Ko.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ko.paginationButtonMovil,0===I&&Ko.disabledButton],onPress:()=>de(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Ko.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ko.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Ko.paginationButtonMovil,(I+1)*k>=e.length&&Ko.disabledButton],onPress:()=>de(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Ko.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[ce(),O.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>G(e.id_Garantia),children:[(0,w.jsx)(ne.default.Cell,{style:Ko.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(ne.default.Cell,{style:Ko.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.duracion}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:parseFloat(e.precio).toFixed(4)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*W).toFixed(0)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.cantidad?e.cantidad:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Garantia))),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Ko.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ko.paginationButtonDesktop,0===I&&Ko.disabledButton],onPress:()=>de(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Ko.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ko.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Ko.paginationButtonDesktop,(I+1)*k>=e.length&&Ko.disabledButton],onPress:()=>de(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Ko.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Ko=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Go(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),[k,R]=(0,o.useState)(1e3),[O,T]=(0,o.useState)(1e3),[z,P]=(0,o.useState)(1e3),[M,E]=(0,o.useState)(1e3),[$,A]=(0,o.useState)(1e3),L=e=>{"FechaDetails"===e?(g(2e3),j(1500)):"TiendaDetails"===e||"TipoServicioDetails"===e?(j(2e3),g(1500),_(1500),S(2e3),R(1500)):"ProductoDetails"===e?(j(1500),g(1500),_(2e3),S(1500),R(1500)):"ClienteDetails"===e&&(R(2e3),j(1500),g(1500),_(1500),S(1500)),"FechaDesdeSearsh"===e?(T(2e3),P(1500),A(1500),E(1500)):"FechaHastaSearsh"===e?(T(1500),P(2e3),A(1500),E(1500)):"TipoServicioSearsh"===e?(T(1500),P(1500),A(1500),E(2e3)):"TiendaSearsh"===e&&(T(1500),P(1500),A(2e3),E(1500))},{usuario:B,setUsuario:F}=v(),{modalEntradasDates:N,setModalEntradasDates:W}=Et(),{sortServicios:U,setSortServicios:V}=Wt(),[H,q]=(0,o.useState)(!1),Y=(0,o.useRef)(new c.default.Value(0)).current,[K,G]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)(0)),[J,X]=(0,o.useState)(""),[Q,Z]=(0,o.useState)(!1),[ee,oe]=(0,o.useState)(""),[re,ne]=(0,o.useState)(""),[se,le]=(0,o.useState)(""),[de,ce]=(0,o.useState)(""),[ue,he]=(0,o.useState)(""),[fe,ge]=(0,o.useState)(""),[ye,we]=(0,o.useState)("1"),[me,je]=(0,o.useState)("0"),[be,Ce]=(0,o.useState)("0"),[Se,Ie]=(0,o.useState)(""),[_e,ke]=(0,o.useState)("sin Devolver"),[Re,ze]=(0,o.useState)(""),[De,Pe]=(0,o.useState)(""),[Me,Ee]=(0,o.useState)(""),[$e,Ae]=(0,o.useState)(""),[Le,Be]=(0,o.useState)(""),[Fe,Ne]=(0,o.useState)(""),[We,Ue]=(0,o.useState)(""),[Ve,He]=(0,o.useState)(""),[qe,Ye]=(0,o.useState)(""),[Ke,Ge]=(0,o.useState)(""),[Je,Xe]=(0,o.useState)(""),[Qe,Ze]=(0,o.useState)(""),[et,tt]=(0,o.useState)("sin Devolver"),[at,ot]=(0,o.useState)(!1),[rt,it]=(0,o.useState)(""),[nt,st]=(0,o.useState)(""),[lt,dt]=(0,o.useState)(""),[ct,ut]=(0,o.useState)(!1),[ht,ft]=o.useState(!1),[gt,xt]=o.useState(""),[pt,wt]=o.useState(!1),[mt,jt]=(0,o.useState)(!1),[bt,Ct]=(0,o.useState)(!1),[St,vt]=(0,o.useState)(!1),[It,_t]=(0,o.useState)(""),[kt,Ot]=o.useState(!1),[Tt,zt]=(0,o.useState)(!1),[Dt,Pt]=(0,o.useState)(null),[Mt,At]=(0,o.useState)([]),Lt=()=>{H?c.default.timing(Y,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>q(!1))):(q(!0),c.default.timing(Y,{toValue:400,duration:300,useNativeDriver:!1}).start())},Bt={height:Y},[Ft,Nt]=(0,o.useState)([]),[Ut,Vt]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Ht,qt]=(0,o.useState)([]),[Yt,Kt]=(0,o.useState)(String),[Gt,Qt]=(0,o.useState)([]),[Zt,ea]=(0,o.useState)([]),ta=new Date,aa=String(ta.getFullYear()),ra=String(ta.getMonth()+1).padStart(2,"0"),ia=String(ta.getDate()).padStart(2,"0"),[na,sa]=(0,o.useState)(""),[la,da]=(0,o.useState)(""),[ca,ua]=(0,o.useState)(""),[fa,ga]=(0,o.useState)(""),[pa,ja]=(0,o.useState)(""),[ba,Ca]=(0,o.useState)(""),[Sa,va]=(0,o.useState)(""),[Ia,_a]=(0,o.useState)(""),[ka,Ra]=(0,o.useState)("1"),[Oa,Ta]=(0,o.useState)("1"),[za,Da]=(0,o.useState)("2024"),[Pa,Ma]=(0,o.useState)(String(parseInt(ia))),[Ea,$a]=(0,o.useState)(String(parseInt(ra))),[Aa,La]=(0,o.useState)(String(parseInt(aa))),[Ba,Fa]=(0,o.useState)(""),Na=[{label:"D\xeda",value:"dia"},{label:"Semana",value:"semana"},{label:"Mes",value:"mes"}],Wa=e=>{Fa(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i="";if("dia"===e)i=`${a}-${o}-${r}`;else if("semana"===e){const e=new Date(t);e.setDate(t.getDate()-6);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("mes"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setMonth(t.getMonth()-1);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}Ka(i,`${a}-${o}-${r}`)},[Ua,Va]=(0,o.useState)(!1),Ha=()=>{le(""),Ie(""),we(""),he(""),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(Z(!1),B?.token&&N?.id_entrada){ot(!1);const e=await xa(B.token,N.id_entrada);if(e){const[t,a,o]=e.servicio.fecha.split("T")[0].split("-");if(oe(e.servicio.id_servicio),ne(e.id_garantia),le(e.servicio.cliente.id_cliente),he(e.servicio.tipo_servicio.id_tipo_servicio),Pe(e.servicio.nota),Ee(e.servicio.descripcion),ke(e.servicio.devuelto?"devolver":"sin devolver"),Ue(e.duracion),tt(e.servicio.devuelto?"devolver":"sin devolver"),2===parseInt(e.servicio.tipo_servicio.id_tipo_servicio)||4===parseInt(e.servicio.tipo_servicio.id_tipo_servicio)||25===parseInt(e.servicio.tipo_servicio.id_tipo_servicio)){const t=await ha(B.token,e.servicio.id_servicio);t?(await yt(B?.token,t.producto.id_producto),await Oe(B.token,t.producto.id_producto),ut(!0),Kt(t.producto.nombre),ge(t.producto.id_producto),we(t.cantidad),ce(e.servicio.tienda.id_tienda),Ie(e.servicio.precio),ze(String(parseFloat(e.servicio.precio)*K)),Ce(e.producto.costo_acumulado)):(ut(!0),ge(""),we(""),ce(""),Ie(""),ze(""),Ce(""))}else ut(!1),Ie(e.servicio.precio),ze(String(parseInt(e.servicio.precio)*K)),Ce(e.servicio.costo);Ae(String(parseInt(o))),Be(String(parseInt(a))),Ne(String(parseInt(t))),ot(!0)}}Z(!0)})()}),[N]),(0,o.useEffect)((()=>{"PrecioCUP"===Ve?(Ie(parseFloat(Se).toFixed(4)),He("")):"PrecioUSD"===Ve?(ze(parseFloat(Re).toFixed(0)),He("")):"CostoCUP"===Ve?(Ce(parseFloat(be).toFixed(4)),He("")):"CostoUSD"===Ve&&(je(parseFloat(me).toFixed(0)),He("")),He("")}),[Ve]),(0,o.useEffect)((()=>{if(Q)if(""!==fe&&fe!==J&&B?.token){X(fe);(async()=>{const e=await Te(B.token,fe);Ce(e.costo_acumulado),Ie(e.precio??0),ze(String(parseFloat(e.precio)*K)??0)})()}else X(fe)}),[fe]),(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{Z(!1),await(async()=>{if(B?.token){const e=await xe(B.token,"33",B.id_usuario);G(await ve(B.token)),Ot(e)}})(),await(async()=>{if(void 0!=B?.token){const e=await Xt(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_tipo_servicio}))));ea([{label:"Todos los tipos de servicios",value:""},...t])}}})(),await(async()=>{if(void 0!=B?.token){const e=await oa(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_cliente}))));qt(t)}}})(),await(async()=>{if(void 0!=B?.token){const e=await pe(B.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Qt([{label:"Todas las tiendas",value:""},...t])}}})()})(),()=>{})),[]));const[qa,Ya]=(0,o.useState)(!1),Ka=async(e,t)=>{Va(!0);try{if(B?.token){let a=await(async(e,t)=>{if(B?.token)try{const a=await ma(B.token,na,Ia,Sa,la,e,t,fa);if(a)return await Promise.all(a.map((async e=>({id_Servicio:e.servicio.id_servicio,id_Cliente:e.servicio.cliente.id_cliente,id_Tienda:e.servicio.tienda.id_tienda,id_Tipo_servicio:"",id_Deuda:"",id_Garantia:e.id_garantia,fecha:e.servicio.fecha,precio:e.servicio.precio,nota:e.servicio.nota,descripcion:e.servicio.descripcion,nombreCliente:e.servicio.cliente.nombre,nombreTienda:e.servicio.tienda.nombre,nombreTipoServicio:"",nombreProducto:e.servicio.venta?e.servicio.venta.producto.nombre:"",cantidad:e.servicio.venta?e.servicio.venta.cantidad:"",devuelto:e.servicio.devuelto,duracion:e.duracion}))))}catch(a){return console.error("Error al filtrar los proveedoress:",a),null}return null})(e,t)||[];Ya(!qa),a=U?.criterioOrden&&U.tipoOrden?await Jt(B.token,a,U.criterioOrden,qa):await Jt(B.token,a,"option3",qa),Nt(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{Va(!1)}};(0,o.useEffect)((()=>{Ka(`${za}-${Oa}-${ka}`,`${Aa}-${Ea}-${Pa}`)}),[U,Dt]),(0,o.useEffect)((()=>{Fa("")}),[ka,Oa,za,Pa,Ea,Aa]);const Ga=e=>{"Enter"===e.nativeEvent.key&&Ka(`${za}-${Oa}-${ka}`,`${Aa}-${Ea}-${Pa}`)},Ja=()=>{sa(""),Pt(""),ga(""),ua(""),ja(""),Ca(""),Fa("")},Xa=async()=>{if(jt(!1),xt("Modificando garant\xeda. Espere por favor"),ft(!0),B?.token){let e=!0,t="ERROR AL MODIFICAR EL GARANT\xcdA. Compruebe los siguientes campos:\n";""===We&&(e=!1,t+="-Defina la duraci\xf3n de la garant\xeda.\n"),e?(await ya(B.token,We,ee,re),jt(!0),xt("La garant\xeda se modific\xf3 con \xe9xito"),ft(!0),wt(!0)):(jt(!0),xt(t),ft(!0))}},Qa=async()=>{if(jt(!1),xt("Eliminando servicio. Espere por favor"),ft(!0),B?.token){let e="ERROR AL ELIMINAR SERVICIO. Compruebe los siguientes par\xe1metros:\n";!0?(await wa(B.token,re),jt(!0),xt("La garant\xeda se elimin\xf3 con \xe9xito"),ft(!0),wt(!0),Ue(""),le(""),Ie(""),ze(""),we(""),Ce(""),he(""),we(""),Pe(""),Ee(""),W({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1})):(jt(!0),xt(e),ft(!0))}},Za=["Nombre","Cantidad"],eo=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],to=["Cliente","Tienda","Duraci\xf3n","USD","CUP","Producto","Cantidad","Fecha"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Lt,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[Ua?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Yo,{isMobile:r,items:Ft,columns:to,columnasMyDateTableEntradaModal:eo,columnasMyDateTableTiendaModal:Za,tiendasByProducto:Mt,proveedorByProducto:Ut}),H&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Bt],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:la,onKeyPress:Ga,onChangeText:da}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:na,onKeyPress:Ga,onChangeText:sa}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:$,position:"relative"},children:(0,w.jsx)(ie,{value:fa,placeholder:"Seleccione un tienda",setValue:ga,items:Gt,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaSearsh")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Duraci\xf3n en Dias"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:Sa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");va(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:Ia,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");_a(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Na.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:Ba===e.value,onPress:()=>Wa(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:O},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)($t,{dayValue:ka,monthValue:Oa,yearValue:za,onDayChange:Ra,onMonthChange:Ta,onYearChange:Da,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:z},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)($t,{dayValue:Pa,monthValue:Ea,yearValue:Aa,onDayChange:Ma,onMonthChange:$a,onYearChange:La,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ja,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Ka(`${za}-${Oa}-${ka}`,`${Aa}-${Ea}-${Pa}`),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:N?.isAddEntrada??!1,animationType:"fade",onRequestClose:Ha,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ha,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===N?.id_entrada?"Crear Servicio":"Datos del Servicio"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Ht.find((e=>e.value===se))?.label||"Cliente no encontrado"})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Gt.find((e=>e.value===de))?.label||"Tienda no encontrado"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Zt.find((e=>e.value===ue))?.label||"Tipo de Servicio no encontrado"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:100},children:(0,w.jsxs)(n.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Duraci\xf3n en d\xedas:"}),(0,w.jsx)(D,{style:p.textImputModal,value:We,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ue(t)},cursorColor:x.azul_Oscuro,editable:kt,placeholder:"Duracion En d\xedas"})]})}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C}})]}),ct&&(0,w.jsx)(n.default,{style:p.separatorNegro}),ct&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),ct&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Yt})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[ct&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:ye})]}),ct&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ct?"Costo promedio del producto en USD":"Costo del servicio en USD"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:be})]}),!ct&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:be})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ct?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Se})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ct?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:parseFloat(Se)*K})]})]}),ct&&(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsxs)(n.default,{style:{width:"100%",marginLeft:"2%",paddingHorizontal:10,zIndex:i},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),at&&(0,w.jsx)($t,{dayValue:$e,monthValue:Le,yearValue:Fe,onDayChange:Ae,onMonthChange:Be,onYearChange:Ne,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!0})]}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:(0,w.jsxs)(n.default,{style:{width:"100%",marginLeft:"2%",marginTop:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:De})]})}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(s.default,{style:p.textDescroptionLabelAsInput,children:Me}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[kt&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"35%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{vt(!0),Ct(!1),_t("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta garant\xeda?")},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Garant\xeda"})}),kt&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"35%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{vt(!0),Ct(!0),_t("\xbfEst\xe1s seguro que deseas ELIMINAR esta garant\xeda?"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Garant\xeda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:St,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:It}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>bt?Qa():Xa(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>vt(!St),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>vt(!St),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ht,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:gt}),mt&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>pt?e.replace("Garant\xedas"):ft(!ht),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"}}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:la,onKeyPress:Ga,onChangeText:da}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:na,onKeyPress:Ga,onChangeText:sa}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:$,position:"relative"},children:(0,w.jsx)(ie,{value:fa,placeholder:"Seleccione un tienda",setValue:ga,items:Gt,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaSearsh")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Duraci\xf3n en Dias"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:Sa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");va(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:Ia,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");_a(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Na.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:Ba===e.value,onPress:()=>Wa(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:O},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)($t,{dayValue:ka,monthValue:Oa,yearValue:za,onDayChange:Ra,onMonthChange:Ta,onYearChange:Da,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:z},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)($t,{dayValue:Pa,monthValue:Ea,yearValue:Aa,onDayChange:Ma,onMonthChange:$a,onYearChange:La,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ja,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Ka(`${za}-${Oa}-${ka}`,`${Aa}-${Ea}-${Pa}`),children:"Buscar"})})]})]}),Ua?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Yo,{isMobile:r,items:Ft,columns:to,columnasMyDateTableEntradaModal:eo,columnasMyDateTableTiendaModal:Za,tiendasByProducto:Mt,proveedorByProducto:Ut})]}),(0,w.jsx)(f.default,{transparent:!0,visible:N?.isAddEntrada??!1,animationType:"fade",onRequestClose:Ha,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ha,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===N?.id_entrada?"Crear Garant\xeda":"Datos del Garant\xeda"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Ht.find((e=>e.value===se))?.label||"Cliente no encontrado"})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Gt.find((e=>e.value===de))?.label||"Tienda no encontrado"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Zt.find((e=>e.value===ue))?.label||"Tipo de Servicio no encontrado"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:100},children:(0,w.jsxs)(n.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Duraci\xf3n en d\xedas:"}),(0,w.jsx)(D,{style:p.textImputModal,value:We,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ue(t)},cursorColor:x.azul_Oscuro,editable:kt,placeholder:"Duracion En d\xedas"})]})}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C}})]}),ct&&(0,w.jsx)(n.default,{style:p.separatorNegro}),ct&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),ct&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Yt})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[ct&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:ye})]}),ct&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ct?"Costo promedio del producto en USD":"Costo del servicio en USD"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:be})]}),!ct&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:be})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ct?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Se})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ct?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:parseFloat(Se)*K})]})]}),ct&&(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),at&&(0,w.jsx)($t,{dayValue:$e,monthValue:Le,yearValue:Fe,onDayChange:Ae,onMonthChange:Be,onYearChange:Ne,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!0})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"3%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:De})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(s.default,{style:p.textDescroptionLabelAsInput,children:Me}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[kt&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{vt(!0),Ct(!1),_t("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta garant\xeda?")},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Garant\xeda"})}),kt&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{vt(!0),Ct(!0),_t("\xbfEst\xe1s seguro que deseas ELIMINAR esta garant\xeda?"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Garant\xeda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:St,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:It}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>bt?Qa():Xa(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>vt(!St),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>vt(!St),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ht,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:gt}),mt&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>pt?e.replace("Garant\xedas"):ft(!ht),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const Jo=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=Et(),{usuario:y,setUsuario:m}=v(),{sortServicios:j,setSortServicios:C}=Wt(),S=r?Xo.containerMovil:Xo.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(20),[O,T]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(0),[V,H]=o.useState(""),q=["Nombre"],[Y,K]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),G=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState(!1),[se,le]=o.useState("");o.useEffect((()=>{(async()=>{y?.token&&U(await ve(y.token))})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);T([]),setTimeout((()=>{T(e.slice(t,a))}),0)}),[I,e,k]);const de=t=>{t>=0&&t*k<e.length&&_(t)},ce=(e,t)=>{let o=0;return e?(e.forEach((e=>{o+=parseFloat(e.pagada)})),parseFloat(t)===o?(0,w.jsx)(l.default,{source:a(5542),style:{width:20,height:20}}):(0,w.jsx)(l.default,{source:a(9139),style:{width:20,height:20}})):(0,w.jsx)(l.default,{source:a(9139),style:{width:20,height:20}})},ue=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[Xo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?Xo.headerTextMovil:Xo.headerTextDesktop,children:[t,"Fecha"===t&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Fecha"===t?a="option3":"Nombre Cliente"===t?a="option4":"Precio"===t&&(a="option5"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[he,fe]=o.useState(""),[ge,xe]=o.useState(""),pe=e=>{fe(e),P(!z)},ye=e=>{if(xe(e),P(!z),"Modificar"===e){if(p({id_entrada:he,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?A(!$):"Mover"==e&&B(!L)},we=async()=>{if(y?.token){if(0==await Se(y.token,he,y.id_tienda)){return!!await Le(y.token,he)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[ue(),O.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>G(e.id_Deuda),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[Xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(ne.default.Cell,{style:[Xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*parseInt(e.cantidad)).toFixed(5)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*parseInt(e.cantidad)*W).toFixed(2)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.total_pagado.toFixed(5)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:(e.total_pagado*W).toFixed(2)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:ce(e.pagos_deuda,e.deuda)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Deuda))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>pe(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ye("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ye("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(re||ae)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ye("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>pe(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[he,ge]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await we();if(A(!$),e){const e=O.filter((e=>e.id_Cliente!==he));T(e),H("Producto eliminado con \xe9xito"),N(!0)}else H("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),N(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!$),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:se,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");le(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Lt,{columns:q,items:Y})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Servicios"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Xo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Xo.paginationButtonMovil,0===I&&Xo.disabledButton],onPress:()=>de(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Xo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Xo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Xo.paginationButtonMovil,(I+1)*k>=e.length&&Xo.disabledButton],onPress:()=>de(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Xo.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[ue(),O.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>G(e.id_Deuda),children:[(0,w.jsx)(ne.default.Cell,{style:Xo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(ne.default.Cell,{style:Xo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*parseInt(e.cantidad)).toFixed(5)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*parseInt(e.cantidad)*W).toFixed(2)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.total_pagado.toFixed(5)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:(e.total_pagado*W).toFixed(2)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:ce(e.pagos_deuda,e.deuda)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Xo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Deuda))),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Xo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Xo.paginationButtonDesktop,0===I&&Xo.disabledButton],onPress:()=>de(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Xo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Xo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Xo.paginationButtonDesktop,(I+1)*k>=e.length&&Xo.disabledButton],onPress:()=>de(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Xo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Xo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),Qo=({items:e,columns:t,onButtonPress:a})=>{const[r,i]=o.useState(0),{usuario:l,setUsuario:d}=v(),[h]=o.useState(new c.default.Value(1)),[f,g]=o.useState(0),[x,p]=o.useState(5),[y,m]=o.useState([]);o.useEffect((()=>{const t=f*x,a=Math.min((f+1)*x,e.length);m(e.slice(t,a))}),[f,e,x]),(0,b.useFocusEffect)(o.useCallback((()=>((async()=>{i(await ve(l.token))})(),()=>{})),[]));const j=t=>{t>=0&&t*x<e.length&&g(t)};return(0,w.jsx)(n.default,{style:Zo.containerDesktop,children:(0,w.jsxs)(ne.default,{style:{width:"100%"},children:[(0,w.jsxs)(ne.default.Header,{style:{justifyContent:"space-between"},children:[t.map(((e,t)=>(0,w.jsx)(ne.default.Title,{style:[Zo.headerColumn,{flex:1}],numeric:t>1,children:(0,w.jsx)(s.default,{style:Zo.headerTextDesktop,children:e})},t))),(0,w.jsx)(ne.default.Title,{style:Zo.headerColumn,children:(0,w.jsx)(s.default,{style:Zo.headerTextDesktop,children:"Acci\xf3n"})})]}),y.map((e=>(0,w.jsxs)(ne.default.Row,{children:[(0,w.jsx)(ne.default.Cell,{numeric:!0,style:Zo.handerRow,children:parseFloat(e.pagada).toFixed(5)}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:Zo.handerRow,children:(parseFloat(e.pagada)*r).toFixed(2)}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:Zo.handerRow,children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})}),(0,w.jsx)(ne.default.Cell,{style:Zo.actionColumn,children:(0,w.jsx)(u.default,{style:Zo.actionButton,onPress:()=>a(e),children:(0,w.jsx)(s.default,{style:Zo.actionButtonText,children:"Eliminar"})})})]},e.id_pago_deuda))),(0,w.jsxs)(n.default,{style:Zo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Zo.paginationButtonMovil,0===f&&Zo.disabledButton],onPress:()=>j(f-1),disabled:0===f,children:(0,w.jsx)(s.default,{style:Zo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Zo.paginationLabel,children:`${f*x+1}-${Math.min((f+1)*x,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Zo.paginationButtonMovil,(f+1)*x>=e.length&&Zo.disabledButton],onPress:()=>j(f+1),disabled:(f+1)*x>=e.length,children:(0,w.jsx)(s.default,{style:Zo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Zo=g.default.create({containerDesktop:{flex:1,padding:10,justifyContent:"center",alignItems:"center",width:"100%",marginTop:"2%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold"},actionColumn:{justifyContent:"center",alignItems:"center"},actionButton:{backgroundColor:x.rojo_oscuro,borderRadius:10,paddingVertical:5,paddingHorizontal:10},actionButtonText:{color:x.blanco,fontWeight:"bold",fontSize:14},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center"},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function er(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),[k,R]=(0,o.useState)(1e3),[O,T]=(0,o.useState)(1e3),[z,P]=(0,o.useState)(1e3),[M,E]=(0,o.useState)(1e3),[$,A]=(0,o.useState)(1e3),L=e=>{"FechaDetails"===e?(g(2e3),j(1500)):"TiendaDetails"===e||"TipoServicioDetails"===e?(j(2e3),g(1500),_(1500),S(2e3),R(1500)):"ProductoDetails"===e?(j(1500),g(1500),_(2e3),S(1500),R(1500)):"ClienteDetails"===e&&(R(2e3),j(1500),g(1500),_(1500),S(1500)),"FechaDesdeSearsh"===e?(T(2e3),P(1500),A(1500),E(1500)):"FechaHastaSearsh"===e?(T(1500),P(2e3),A(1500),E(1500)):"TipoServicioSearsh"===e?(T(1500),P(1500),A(1500),E(2e3)):"TiendaSearsh"===e&&(T(1500),P(1500),A(2e3),E(1500))},{usuario:B,setUsuario:F}=v(),{modalEntradasDates:N,setModalEntradasDates:W}=Et(),{sortServicios:U,setSortServicios:V}=Wt(),[H,q]=(0,o.useState)(!1),Y=(0,o.useRef)(new c.default.Value(0)).current,[G,J]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)(0)),[X,Q]=(0,o.useState)(""),[Z,ee]=(0,o.useState)(!1),[oe,re]=(0,o.useState)(""),[ne,se]=(0,o.useState)(""),[le,de]=(0,o.useState)(""),[ce,ue]=(0,o.useState)(""),[he,fe]=(0,o.useState)(""),[ge,ye]=(0,o.useState)(""),[me,je]=(0,o.useState)("1"),[be,Ce]=(0,o.useState)("0"),[Ie,_e]=(0,o.useState)("0"),[ke,Oe]=(0,o.useState)(""),[ze,De]=(0,o.useState)("sin Devolver"),[Pe,Me]=(0,o.useState)(""),[Ee,$e]=(0,o.useState)(""),[Ae,Le]=(0,o.useState)(""),[Be,Fe]=(0,o.useState)(""),[Ne,We]=(0,o.useState)(""),[Ue,Ve]=(0,o.useState)(""),[He,qe]=(0,o.useState)(""),[Ye,Ke]=(0,o.useState)(""),[Ge,Je]=(0,o.useState)(""),[Xe,Qe]=(0,o.useState)(""),[Ze,et]=(0,o.useState)(!1),[tt,at]=(0,o.useState)(!1),[ot,rt]=(0,o.useState)(""),[it,nt]=(0,o.useState)(""),[st,lt]=(0,o.useState)(""),[dt,ct]=(0,o.useState)([]),[ut,ht]=(0,o.useState)(""),[ft,gt]=(0,o.useState)(""),[xt,pt]=(0,o.useState)(""),[yt,wt]=(0,o.useState)(""),[mt,jt]=(0,o.useState)(""),[bt,Ct]=(0,o.useState)(""),[St,vt]=(0,o.useState)("sin Devolver"),[It,_t]=(0,o.useState)(!1),[kt,Ot]=(0,o.useState)(""),[Tt,zt]=(0,o.useState)(""),[Pt,Mt]=(0,o.useState)(""),[At,Lt]=(0,o.useState)(!1),[Bt,Ft]=(0,o.useState)(!1),[Nt,Ut]=o.useState(!1),[Vt,Ht]=o.useState(!1),[qt,Kt]=o.useState(""),[Gt,Qt]=o.useState(""),[Zt,ea]=o.useState(""),[ta,aa]=o.useState(""),[ra,ia]=o.useState(""),[na,sa]=o.useState(!1),[la,da]=(0,o.useState)(!1),[fa,xa]=(0,o.useState)(!1),[ma,va]=(0,o.useState)(!1),[Oa,Ta]=(0,o.useState)(""),[za,Da]=o.useState(!1),[Pa,Ma]=o.useState(!1),[Ea,$a]=o.useState(!1),[Aa,La]=o.useState(!1),[Ba,Fa]=o.useState(!1),[Na,Wa]=(0,o.useState)(!1),[Ua,Va]=(0,o.useState)(null),[Ha,qa]=(0,o.useState)([]),Ya=()=>{H?c.default.timing(Y,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>q(!1))):(q(!0),c.default.timing(Y,{toValue:400,duration:300,useNativeDriver:!1}).start())},Ka={height:Y},[Ga,Ja]=(0,o.useState)([]),[Xa,Qa]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Za,eo]=(0,o.useState)([]),[to,ao]=(0,o.useState)([]),[oo,ro]=(0,o.useState)([]),[io,no]=(0,o.useState)([]),so=new Date,lo=String(so.getFullYear()),co=String(so.getMonth()+1).padStart(2,"0"),uo=String(so.getDate()).padStart(2,"0"),[ho,fo]=(0,o.useState)(""),[go,xo]=(0,o.useState)(""),[po,yo]=(0,o.useState)(""),[wo,mo]=(0,o.useState)(""),[jo,bo]=(0,o.useState)(!0),[Co,So]=(0,o.useState)(""),[vo,Io]=(0,o.useState)(""),[_o,ko]=(0,o.useState)("1"),[Ro,Oo]=(0,o.useState)("1"),[To,zo]=(0,o.useState)("2024"),[Do,Po]=(0,o.useState)(String(parseInt(uo))),[Mo,Eo]=(0,o.useState)(String(parseInt(co))),[$o,Ao]=(0,o.useState)(String(parseInt(lo))),[Lo,Bo]=(0,o.useState)(""),[Fo,No]=(0,o.useState)("ninguna"),Wo=[{label:"D\xeda",value:"dia"},{label:"Semana",value:"semana"},{label:"Mes",value:"mes"}],Uo=[{label:"Ninguna",value:"ninguna"},{label:"Saldada",value:"saldada"},{label:"Sin Saldar",value:"sin_saldar"}],Vo=e=>{Bo(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i="";if("dia"===e)i=`${a}-${o}-${r}`;else if("semana"===e){const e=new Date(t);e.setDate(t.getDate()-6);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("mes"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setMonth(t.getMonth()-1);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}Xo(i,`${a}-${o}-${r}`)},[Ho,qo]=(0,o.useState)(!1),Yo=()=>{de(""),Oe(""),je(""),fe(""),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(ee(!1),B?.token&&N?.id_entrada){_t(!1);const e=await Sa(B.token,N.id_entrada);if(e){const[t,a,o]=e.deuda.servicio.fecha.split("T")[0].split("-");if(re(e.deuda.id_deuda),aa(e.cantidad_restante),ea(e.total_pagado),se(e.deuda.servicio.id_servicio),de(e.deuda.servicio.cliente.id_cliente),fe(e.deuda.servicio.tipo_servicio.id_tipo_servicio),$e(e.deuda.servicio.nota),Le(e.deuda.servicio.descripcion),De(e.deuda.servicio.devuelto?"devolver":"sin devolver"),et(null!==e.deuda.servicio.garantia),Ct(e.deuda.servicio.tipo_servicio.id_tipo_servicio),ct(e.deuda.pagos_deuda),2===parseInt(e.deuda.servicio.tipo_servicio.id_tipo_servicio)){const t=await ha(B.token,ne);t?(Lt(!0),ye(t.producto.id_producto),je(t.cantidad),ue(e.deuda.servicio.tienda.id_tienda),Oe(e.deuda.servicio.precio),Me(String(parseFloat(e.deuda.servicio.precio)*G)),_e(t.producto.costo_acumulado)):(Lt(!0),ye(""),je(""),ue(""),Oe(""),Me(""),_e(""))}else Lt(!1),Oe(e.deuda.servicio.precio),Me(String(parseInt(e.deuda.servicio.precio)*G)),_e(e.deuda.servicio.costo);Fe(String(parseInt(o))),We(String(parseInt(a))),Ve(String(parseInt(t))),qe(String(parseInt(o))),Ke(String(parseInt(a))),Je(String(parseInt(t))),_t(!0)}}ee(!0)})()}),[N]),(0,o.useEffect)((()=>{26===parseInt(he)?Ft(!0):Ft(!1),(async()=>{if(B?.token){const e=await Sa(B.token,N.id_entrada);if(2===parseInt(he)||25===parseInt(he)){const t=await ha(B.token,ne);Lt(!0),t?(wt(t.producto.id_producto),jt(t.cantidad),pt(e.deuda.servicio.tienda.id_tienda),ye(t.producto.id_producto),Q(t.producto.id_producto),je(t.cantidad),ue(e.deuda.servicio.tienda.id_tienda),Oe(e.deuda.servicio.precio),Me(String(parseFloat(e.deuda.servicio.precio)*G)),_e(t.producto.costo_acumulado)):(Lt(!0),ye(""),je(""),Oe(""),Me(""),_e(""))}else Lt(!1),Oe(e.deuda.servicio.precio),Me(String(parseInt(e.deuda.servicio.precio)*G)),_e(e.deuda.servicio.costo)}})()}),[he]),(0,o.useEffect)((()=>{"PrecioCUP"===ft?(Oe(parseFloat(ke).toFixed(5)),gt("")):"PrecioUSD"===ft?(Me(parseFloat(Pe).toFixed(2)),gt("")):"CostoCUP"===ft?(_e(parseFloat(Ie).toFixed(5)),gt("")):"CostoUSD"===ft&&(Ce(parseFloat(be).toFixed(2)),gt("")),gt("")}),[ft]),(0,o.useEffect)((()=>{(async()=>{if(B?.token){const e=await Re(B.token,ce);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));ao(t)}}})()}),[ce]),(0,o.useEffect)((()=>{if(Z)if(""!==ge&&ge!==X&&B?.token){Q(ge);(async()=>{const e=await Te(B.token,ge);_e(e.costo_acumulado),Oe(e.precio??0),Me(String(parseFloat(e.precio)*G)??0)})()}else Q(ge)}),[ge]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{ee(!1),await(async()=>{if(B?.token){const e=await xe(B.token,"26",B.id_usuario),t=await xe(B.token,"25",B.id_usuario),a=await xe(B.token,"24",B.id_usuario),o=await xe(B.token,"26",B.id_usuario),r=await xe(B.token,"27",B.id_usuario);J(await ve(B.token)),La(o),Fa(r),Da(e),Ma(t),$a(a)}})(),await(async()=>{if(void 0!=B?.token){const e=await Xt(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_tipo_servicio}))));no([{label:"Todos los tipos de servicios",value:""},...t])}}})(),await(async()=>{if(void 0!=B?.token){const e=await oa(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_cliente}))));eo(t)}}})(),await(async()=>{if(void 0!=B?.token){const e=await pe(B.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));ro([{label:"Todas las tiendas",value:""},...t])}}})(),await(async()=>{if(void 0!=B?.token){const e=await xe(B.token,"27",B.id_usuario),t=await xe(B.token,"26",B.id_usuario);if(e){const e=await Re(B.token,B.id_tienda);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));ao(t)}}else if(t){const e=await Re(B.token,B.id_tienda);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));ao(t)}}}})()})(),()=>{})),[]));const[Ko,Go]=(0,o.useState)(!1),Xo=async(e,t)=>{qo(!0);try{if(B?.token){let a=await(async(e,t)=>{if(B?.token){await xe(B.token,"27",B.id_usuario);try{const a=await _a(B.token,go,ho,Co,vo,e,t,wo,po,"ninguna"===Fo?void 0:"saldada"===Fo);if(a)return await Promise.all(a.map((async e=>({id_Servicio:e.deuda.servicio.id_servicio,id_Cliente:e.deuda.servicio.cliente.id_cliente,id_Tienda:e.deuda.servicio.tienda.id_tienda,id_Tipo_servicio:e.deuda.servicio.tipo_servicio.id_tipo_servicio,id_Deuda:e.deuda.id_deuda,id_Garantia:"",fecha:e.deuda.servicio.fecha,precio:e.deuda.servicio.precio,nota:e.deuda.servicio.nota,descripcion:e.deuda.servicio.descripcion,nombreCliente:e.deuda.servicio.cliente.nombre,nombreTienda:e.deuda.servicio.tienda.nombre,nombreTipoServicio:e.deuda.servicio.tipo_servicio.nombre,nombreProducto:e.deuda.servicio.venta?e.deuda.servicio.venta.producto.nombre:"",cantidad:e.deuda.servicio.venta?e.deuda.servicio.venta.cantidad:"",devuelto:e.deuda.servicio.devuelto,deuda:e.deuda.deuda,pagos_deuda:e.deuda.pagos_deuda,total_pagado:e.total_pagado,cantidad_restante:e.cantidad_restante}))))}catch(a){return console.error("Error al filtrar los proveedoress:",a),null}}return null})(e,t)||[];Go(!Ko),a=U?.criterioOrden&&U.tipoOrden?await Jt(B.token,a,U.criterioOrden,Ko):await Jt(B.token,a,"option3",Ko),Ja(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{qo(!1)}};(0,o.useEffect)((()=>{Xo(`${To}-${Ro}-${_o}`,`${$o}-${Mo}-${Do}`)}),[U,Ua]),(0,o.useEffect)((()=>{Bo("")}),[_o,Ro,To,Do,Mo,$o]);const Zo=e=>{"Enter"===e.nativeEvent.key&&Xo(`${To}-${Ro}-${_o}`,`${$o}-${Mo}-${Do}`)},er=()=>{fo(""),Va(""),mo(""),yo(""),So(""),Io(""),Bo("")},tr=async e=>{B?.token&&(await Ra(B.token,e.id_pago_deuda),ct((t=>t.filter((t=>t.id_pago_deuda!==e.id_pago_deuda)))),Ut(!0),ia("Pago de deuda eliminado"),sa(!0),da(!0))},ar=async()=>{if(da(!1),ia("Agregando Pago de Deuda. Espere por favor"),Ut(!0),B?.token){let e="ERROR AL INGRESAR PAGO DE DEUDA. Por favor verifique los siguientes campos:\n";if(!0){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),r=await ka(B.token,qt,`${t}-${a}-${o}`,oe);dt.push(r);let i=`El usuario ${B.nombre} agreg\xf3 un pago de deuda de una cantidad de ${qt}`;await K(B.token,i,`${t}-${a}-${o}`,B.id_usuario,8),da(!0),ia("El Pago de Deuda se agreg\xf3 con \xe9xito"),Ut(!0),sa(!0)}else ia(e),da(!0),Ut(!0)}},or=async()=>{if(da(!1),ia("Modificando servicio. Espere por favor"),Ut(!0),B?.token){let e=0;const t=await Se(B.token,ge,ce);t&&(e=t.cantidad);let a=!0,o="ERROR AL MODIFICAR EL SERVICIO. Compruebe los siguientes campos:\n";if(""===le&&(a=!1,o+="-Seleccione un cliente. Si no hay datos del cliente seleccione anonimo\n"),""===he&&(a=!1,o+="-Seleccione el tipo de servicio que est\xe1 ofreciendo.\n"),""===ce&&(a=!1,o+="-Seleccione una tienda.\n"),Ze&&""===it&&(a=!1,o+="-Defina la duraci\xf3n de la garant\xeda.\n"),""===Ie&&(a=!1,o+="-Digite el costo del servicio.\n"),""===ke&&(a=!1,o+="-Defina el precio cobrado al cliente.\n"),Ze&&""===it&&(a=!1,o+="-Defina la duraci\xf3n de la garant\xeda.\n"),Ze&&1===parseInt(le)&&(a=!1,o+="-El ciente An\xf3nimo no puede tener garant\xedas"),26===parseInt(he)){const e=new Date(`${Ue}-${Ne}-${Be}`),t=new Date(`${Ge}-${Ye}-${He}`);1===parseInt(le)&&(a=!1,o+="-No se puede hacer un encargo al cliente An\xf3nimo.\n"),t<e&&(a=!1,o+="-La fecha del encargo no puede ser menor que la fecha del servicio.\n")}if(2!==parseInt(he)&&25!==parseInt(he)||(""===ge&&(a=!1,o+="-Seleccione un producto para vender.\n"),""===me&&(a=!1,o+="-Defina la cantidad que desea vender del producto.\n")),e+parseInt(mt)<parseInt(me)&&(a=!1,o+="-La cantidad que desea modificar es mayor que la cantidad que hay en la tienda.\n"),me!==mt&&ge===yt&&ce===xt&&2===parseInt(he)||25===parseInt(he)?e+parseInt(mt)<parseInt(mt)-parseInt(me)&&(a=!1,o+="-La cantidad que hay en la tienda no es suficiente para modificar la venta del producto.\n"):ge===yt&&ce===xt||e<parseInt(me)&&(a=!1,o+="-La cantidad que hay en la tienda no es suficiente para modificar la venta del producto.\n"),a){await Yt(B.token,ne,`${Ne}-${Be}-${Ue}`,ke,Ee,ce,he,"devolver"===ze,le,"Not suport yet","not suport yet"),Ze===tt&&it===st||(Ze?""!==ot?await ya(B.token,it,ne,ot):await pa(B.token,it,ne):await wa(B.token,ot)),he!==bt&&26===parseInt(bt)?await Ca(B.token,ut):he!==bt&&26===parseInt(he)?await ja(B.token,Xe,`${Ge}-${Ye}-${He}`,ne):he===bt&&26===parseInt(he)&&await ba(B.token,Xe,`${Ge}-${Ye}-${He}`,ne,ut),2===parseInt(bt)&&2!==parseInt(he)&&4!==parseInt(he)&&(await we(B.token,yt,xt,""+-1*parseInt(mt)),await ua(B.token,yt,ne)),me!==mt&&ge===yt&&ce===xt?(await we(B.token,ge,ce,""+(parseInt(me)-parseInt(mt))),await ca(B.token,ge,ne,me)):he!==bt&&2===parseInt(he)||25===parseInt(he)?(await ca(B.token,ge,ne,me),await we(B.token,yt,xt,""+-1*parseInt(mt)),await we(B.token,ge,ce,`${parseInt(me)}`)):ce===xt&&ge===yt||(await ca(B.token,ge,ne,me),await we(B.token,yt,xt,""+-1*parseInt(mt)),await we(B.token,ge,ce,`${parseInt(me)}`)),ze===St||"devolver"!==ze||2!==parseInt(he)&&25!==parseInt(he)?ze===St||"sin devolver"!==ze||2!==parseInt(he)&&25!==parseInt(he)||await we(B.token,ge,ce,`${parseInt(me)}`):await we(B.token,ge,ce,""+-1*parseInt(me));const e=oo.find((e=>e.value===Tt)),t=to.find((e=>e.value===kt)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let n=`El usuario ${B.nombre} modific\xf3 una entrada de originalmente ${Pt} del producto ${t?.label} en la tienda ${e?.label}`;await K(B.token,n,`${o}-${r}-${i}`,B.id_usuario,7),da(!0),ia("El servicio se modific\xf3 con \xe9xito"),Ut(!0),sa(!0),de(""),Oe(""),fe(""),je(""),nt(""),W({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1})}else da(!0),ia(o),Ut(!0)}},rr=["C.Pagada USD","C.Pagada CUP","Fecha"],ir=["Nombre","Cantidad"],nr=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],sr=["Cliente","Tienda","Producto","Deuda USD","Deuda CUP","C.Sal USD","C.Sal CUP","Saldada","Fecha"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ya,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[Ho?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Jo,{isMobile:r,items:Ga,columns:sr,columnasMyDateTableEntradaModal:nr,columnasMyDateTableTiendaModal:ir,tiendasByProducto:Ha,proveedorByProducto:Xa}),H&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Ka],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:go,onKeyPress:Zo,onChangeText:xo}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:ho,onKeyPress:Zo,onChangeText:fo}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tipo de Servicio:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:M,position:"relative"},children:(0,w.jsx)(ie,{value:po,placeholder:"Seleccione un tipo de servicio",setValue:yo,items:io,direction:"BOTTOM",onDropdownOpen:()=>L("TipoServicioSearsh")})}),Ba&&(0,w.jsx)(n.default,{style:p.separatorBlanco}),Ba&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),Ba&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:$,position:"relative"},children:(0,w.jsx)(ie,{value:wo,placeholder:"Seleccione un tienda",setValue:mo,items:oo,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaSearsh")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango del monto de la deuda:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:Co,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");So(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:vo,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Io(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Wo.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:Lo===e.value,onPress:()=>Vo(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:O},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)($t,{dayValue:_o,monthValue:Ro,yearValue:To,onDayChange:ko,onMonthChange:Oo,onYearChange:zo,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:z},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)($t,{dayValue:Do,monthValue:Mo,yearValue:$o,onDayChange:Po,onMonthChange:Eo,onYearChange:Ao,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:er,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Xo(`${To}-${Ro}-${_o}`,`${$o}-${Mo}-${Do}`),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:N?.isAddEntrada??!1,animationType:"fade",onRequestClose:Yo,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Yo,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===N?.id_entrada?"Crear Servicio":"Datos del Servicio"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(Dt,{value:le,placeholder:"Seleccione un Cliente",setValue:de,items:Za,searchable:!0,readOnly:!(Ea||Aa),onDropdownOpen:()=>L("ClienteDetails")})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(Dt,{value:ce,placeholder:"Seleccione una tienda",setValue:ue,items:oo,readOnly:!(Ba&&""===N?.id_entrada||Ba&&Ea),searchable:!0,onDropdownOpen:()=>L("TipoServicioDetails")})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(Dt,{value:he,placeholder:"Seleccione un tipo de servicio",setValue:fe,items:io,readOnly:!(Ea||Aa),searchable:!0,onDropdownOpen:()=>L("TipoServicioDetails")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:100},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiene Garant\xeda"}),(0,w.jsx)(ga,{onPress:()=>et(!Ze),selected:Ze,label:"Garant\xeda"}),Ze&&(0,w.jsxs)(n.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Duraci\xf3n en d\xedas:"}),(0,w.jsx)(D,{style:p.textImputModal,value:it,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");nt(t)},cursorColor:x.azul_Oscuro,editable:Ea||Aa,placeholder:"Duracion En d\xedas"})]})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C}})]}),At&&(0,w.jsx)(n.default,{style:p.separatorNegro}),At&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),At&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Dt,{value:ge,placeholder:"Seleccione un produto",setValue:ye,items:to,searchable:!0,readOnly:!(Ea||Aa),onDropdownOpen:()=>L("ProductoDetails")})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[At&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:me,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");je(t)},editable:Ea||Aa,placeholder:"Cantidad del producto"})]}),(!At||Ba)&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:At?"Costo promedio del producto en USD":"Costo del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:Ie,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Ce(""!==a?String((parseFloat(a)*G).toFixed(2)):"0"),_e(a),gt("CostoUSD")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(he)&&25!==parseInt(he)&&(Ea||Aa),placeholder:"Costo Promedio"})]}),!At&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:be,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;_e(""!==a?String(parseFloat(a)/G):"0"),Ce(a),gt("CostoCUP")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(he)&&25!==parseInt(he)&&(Ea||Aa),placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:At?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ke,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Me(""!==a?String((parseFloat(a)*G).toFixed(2)):"0"),Oe(a),gt("PrecioUSD")},editable:Ea||Aa,placeholder:"Precio por unidad en usd"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:At?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModalNOEDITABLE,value:Pe,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Oe(""!==a?String(parseFloat(a)/G):"0"),Me(a),gt("PrecioCUP")},cursorColor:x.azul_Oscuro,editable:Ea||Aa,placeholder:"Precio por unidad en cup"})]})]}),At&&(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),It&&(0,w.jsx)($t,{dayValue:Be,monthValue:Ne,yearValue:Ue,onDayChange:Fe,onMonthChange:We,onYearChange:Ve,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!(Ea||Aa)})]})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:[(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Ee,onChangeText:$e,editable:Ea||Aa,placeholder:"Nota"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"}})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del servicio",multiline:!0,editable:Ea||Aa,numberOfLines:5,value:Ae,onChangeText:Le,scrollEnabled:!0}),(0,w.jsx)(n.default,{style:{flex:1,borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,height:500,width:"90%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(Qo,{columns:rr,items:dt,onButtonPress:e=>tr(e)})}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[za&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{parseFloat(ta)>0?Ht(!0):(Ut(!0),ia("La deuda ya est\xe1 saldada"),sa(!1),da(!0))},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar pago a la deuda"})}),Pa&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"45%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{va(!0),xa(!0),Ta("\xbfEst\xe1s seguro que deseas ELIMINAR al esta deuda?"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Deuda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ma,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Oa}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>or(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>va(!ma),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>va(!ma),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Vt,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:400,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"center"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Agregar un pago a la deuda."}),(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Cantidad a pagar USD"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},value:qt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Kt(a),Qt((a*G).toFixed(2))},cursorColor:x.azul_Oscuro,editable:!0,placeholder:"Cantidad del pago en USD"}),(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Cantidad a pagar CUP"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},value:Gt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Qt(a),Kt(String((a/G).toFixed(5)))},cursorColor:x.azul_Oscuro,editable:!0,placeholder:"Cantidad del pago en CUP"}),(0,w.jsx)(u.default,{onPress:()=>{parseFloat(qt)<=parseFloat(ta)?ar():(ia(`La cantidad de el pago de la deuda ${qt} es mayor a la cantidad faltante de la deuda ${ta}`),Ut(!0),sa(!1),da(!0))},style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:30,width:"90%",height:40,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",color:x.blanco_Suave},children:"Agregar"})}),(0,w.jsx)(u.default,{onPress:()=>Ht(!Vt),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Nt,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ra}),la&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>na?e.replace("Deudas"):Ut(!Nt),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"}}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:go,onKeyPress:Zo,onChangeText:xo}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:ho,onKeyPress:Zo,onChangeText:fo}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tipo de Servicio:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:M,position:"relative"},children:(0,w.jsx)(ie,{value:po,placeholder:"Seleccione un tipo de servicio",setValue:yo,items:io,direction:"BOTTOM",onDropdownOpen:()=>L("TipoServicioSearsh")})}),Ba&&(0,w.jsx)(n.default,{style:p.separatorBlanco}),Ba&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),Ba&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:$,position:"relative"},children:(0,w.jsx)(ie,{value:wo,placeholder:"Seleccione un tienda",setValue:mo,items:oo,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaSearsh")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango del monto de la deuda:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:Co,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");So(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:vo,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Io(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Estado de deuda:"}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Uo.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:Fo===e.value,onPress:()=>No(e.value)},e.value)))}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Wo.map((e=>(0,w.jsx)(Rt,{label:e.label,selected:Lo===e.value,onPress:()=>Vo(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:O},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)($t,{dayValue:_o,monthValue:Ro,yearValue:To,onDayChange:ko,onMonthChange:Oo,onYearChange:zo,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:z},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)($t,{dayValue:Do,monthValue:Mo,yearValue:$o,onDayChange:Po,onMonthChange:Eo,onYearChange:Ao,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:er,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Xo(`${To}-${Ro}-${_o}`,`${$o}-${Mo}-${Do}`),children:"Buscar"})})]})]}),Ho?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Jo,{isMobile:r,items:Ga,columns:sr,columnasMyDateTableEntradaModal:nr,columnasMyDateTableTiendaModal:ir,tiendasByProducto:Ha,proveedorByProducto:Xa})]}),(0,w.jsx)(f.default,{transparent:!0,visible:N?.isAddEntrada??!1,animationType:"fade",onRequestClose:Yo,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Yo,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===N?.id_entrada?"Crear Servicio":"Datos de la Deuda"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Za.find((e=>e.value===le))?.label||"Cliente no encontrado"})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:oo.find((e=>e.value===ce))?.label||"Tienda no encontrado"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:io.find((e=>e.value===he))?.label||"Tipo de Servicio no encontrado"})]})]}),At&&(0,w.jsx)(n.default,{style:p.separatorNegro}),At&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),At&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:to.find((e=>e.value===ge))?.label||"Producto no encontrado"})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[At&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:me})]}),(!At||Ba)&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:At?"Costo promedio del producto en USD":"Costo del servicio en USD"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Ie})]}),!At&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Ie})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:At?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:ke})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:At?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Pe})]})]}),At&&(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),It&&(0,w.jsx)($t,{dayValue:Be,monthValue:Ne,yearValue:Ue,onDayChange:Fe,onMonthChange:We,onYearChange:Ve,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!0})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Ee})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(s.default,{style:p.textDescroptionLabelAsInput,children:Ae}),(0,w.jsx)(n.default,{style:{flex:1,borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,height:500,width:"90%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(Qo,{columns:rr,items:dt,onButtonPress:e=>tr(e)})}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[za&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{parseFloat(ta)>0?Ht(!0):(Ut(!0),ia("La deuda ya est\xe1 saldada"),sa(!1),da(!0))},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar pago a la deuda"})}),Pa&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{va(!0),xa(!0),Ta("\xbfEst\xe1s seguro que deseas ELIMINAR al esta deuda?"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Deuda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ma,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Oa}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>fa?(async()=>{if(da(!1),ia("Eliminando deuda. Espere por favor"),Ut(!0),B?.token){{const e=await Sa(B.token,oe);Array.isArray(e.deuda.pagos_deuda)&&e.deuda.pagos_deuda.length>0&&e.deuda.pagos_deuda.map((async e=>{await Ra(B.token,e.id_pago_deuda)})),await Ia(B.token,oe);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i=`El usuario ${B.nombre} elimin\xf3 la deuda del tipo de servicio ${e.deuda.servicio.tipo_servicio.nombre} el cual dev\xeda ${e.cantidad_restante} y se hab\xeda pagado ${e.total_pagado}`;await K(B.token,i,`${a}-${o}-${r}`,B.id_usuario,8),da(!0),ia("La deuda se elimin\xf3 con \xe9xito"),Ut(!0),sa(!0),de(""),Oe(""),Me(""),je(""),_e(""),fe(""),je(""),$e(""),Le(""),nt(""),W({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1})}}})():or(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>va(!ma),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>va(!ma),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Vt,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:400,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"center"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Agregar un pago a la deuda."}),(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Cantidad a pagar USD"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},value:qt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Kt(a),Qt((a*G).toFixed(2))},cursorColor:x.azul_Oscuro,editable:!0,placeholder:"Cantidad del pago en USD"}),(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Cantidad a pagar CUP"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},value:Gt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Qt(a),Kt(String((a/G).toFixed(5)))},cursorColor:x.azul_Oscuro,editable:!0,placeholder:"Cantidad del pago en CUP"}),(0,w.jsx)(u.default,{onPress:()=>{parseFloat(qt)<=parseFloat(ta)?ar():(ia(`La cantidad de el pago de la deuda ${qt} es mayor a la cantidad faltante de la deuda ${ta}`),Ut(!0),sa(!1),da(!0))},style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:30,width:"90%",height:40,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",color:x.blanco_Suave},children:"Agregar"})}),(0,w.jsx)(u.default,{onPress:()=>Ht(!Vt),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Nt,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ra}),la&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>na?e.replace("Deudas"):Ut(!Nt),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const tr=(0,i.default)();const ar=function(){return(0,w.jsx)(Z,{children:(0,w.jsx)(Wo,{children:(0,w.jsx)(Nt,{children:(0,w.jsx)(rt,{children:(0,w.jsx)(Oo,{children:(0,w.jsx)(wo,{children:(0,w.jsx)(It,{children:(0,w.jsx)(_,{children:(0,w.jsx)(ho,{children:(0,w.jsx)(Da,{children:(0,w.jsx)(Na,{children:(0,w.jsx)(La,{children:(0,w.jsx)(Mt,{children:(0,w.jsx)(Ea,{children:(0,w.jsx)(ue,{children:(0,w.jsx)(le,{children:(0,w.jsx)(S,{children:(0,w.jsx)(r.default,{ref:$,children:(0,w.jsxs)(tr.Navigator,{initialRouteName:"Login",children:[(0,w.jsx)(tr.Screen,{name:"Login",component:Ta}),(0,w.jsx)(tr.Screen,{name:"HomeScreen",component:Tt}),(0,w.jsx)(tr.Screen,{name:"Productos",component:Ot}),(0,w.jsx)(tr.Screen,{name:"Ventas",component:Oa}),(0,w.jsx)(tr.Screen,{name:"Proveedores",component:Qa}),(0,w.jsx)(tr.Screen,{name:"Mi Tienda",component:to}),(0,w.jsx)(tr.Screen,{name:"Entradas",component:no}),(0,w.jsx)(tr.Screen,{name:"Movimientos",component:po}),(0,w.jsx)(tr.Screen,{name:"Administraci\xf3n",component:co}),(0,w.jsx)(tr.Screen,{name:"Usuarios",component:Co}),(0,w.jsx)(tr.Screen,{name:"Tiendas",component:ko}),(0,w.jsx)(tr.Screen,{name:"Acciones",component:Po}),(0,w.jsx)(tr.Screen,{name:"Permisos",component:$o}),(0,w.jsx)(tr.Screen,{name:"Clientes",component:qo}),(0,w.jsx)(tr.Screen,{name:"Tipo de Servicio",component:Bo}),(0,w.jsx)(tr.Screen,{name:"Cambiar Moneda",component:Fo}),(0,w.jsx)(tr.Screen,{name:"Garant\xedas",component:Go}),(0,w.jsx)(tr.Screen,{name:"Deudas",component:er})]})})})})})})})})})})})})})})})})})})})}},5751:(e,t,a)=>{e.exports=a.p+"static/media/Cambio_moneda.fe68f2723918842a6145.png"},8270:(e,t,a)=>{e.exports=a.p+"static/media/Deudas.4e3ba2abd7c94884a75d.png"},2475:(e,t,a)=>{e.exports=a.p+"static/media/Tipo_Servicio.9c2c02a596173d54810e.png"},1603:(e,t,a)=>{e.exports=a.p+"static/media/acci\xf3n.8a5f93e7886d0150a1ac.png"},5542:(e,t,a)=>{e.exports=a.p+"static/media/aprobado.34b906a81acc87007bb5.png"},9139:(e,t,a)=>{e.exports=a.p+"static/media/candelado.0fed6d34cc2a57874424.png"},1165:(e,t,a)=>{e.exports=a.p+"static/media/delete.1e25a02781c99a9e012d.png"},1248:(e,t,a)=>{e.exports=a.p+"static/media/edit.37f3d4c0904cbe156066.png"},9927:(e,t,a)=>{e.exports=a.p+"static/media/entrada.e45810635791b864f88b.png"},7520:(e,t,a)=>{e.exports=a.p+"static/media/exel.f41cafa36ad3575d656f.png"},1605:(e,t,a)=>{e.exports=a.p+"static/media/features.fc25f39ca3611c717913.png"},5234:(e,t,a)=>{e.exports=a.p+"static/media/gente.1c455e0545f9062b2049.png"},7496:(e,t,a)=>{e.exports=a.p+"static/media/gerente.3c2ae7e9d0c205fdc988.png"},4429:(e,t,a)=>{e.exports=a.p+"static/media/logo.6ebca536d96f2b29712c.png"},1055:(e,t,a)=>{e.exports=a.p+"static/media/loupe.4ce0d0d818fc702979a3.png"},1709:(e,t,a)=>{e.exports=a.p+"static/media/menu.c1e4a220742fb80878ee.png"},7213:(e,t,a)=>{e.exports=a.p+"static/media/mover.a840a87b624527cc5d8c.png"},5102:(e,t,a)=>{e.exports=a.p+"static/media/moving.e516858414307ef98a2b.png"},3432:(e,t,a)=>{e.exports=a.p+"static/media/nueva-cuenta.198214c3c2f3a529e8ac.png"},575:(e,t,a)=>{e.exports=a.p+"static/media/option.54c02da68895ceb44d29.png"},4031:(e,t,a)=>{e.exports=a.p+"static/media/ordenar.44332fe9d5ea63c4fc30.png"},9519:(e,t,a)=>{e.exports=a.p+"static/media/product.8a2407d6915f453b54fe.png"},237:(e,t,a)=>{e.exports=a.p+"static/media/public-service.c7c31e37c7a4b3e6be0a.png"},788:(e,t,a)=>{e.exports=a.p+"static/media/solutel.304214b685c51b1ecc23.jpg"},7587:(e,t,a)=>{e.exports=a.p+"static/media/solutel1.1fe889a62eabe066164c.jpg"},4929:(e,t,a)=>{e.exports=a.p+"static/media/tienda.b7aadcce38332e7f3c0d.png"},759:(e,t,a)=>{e.exports=a.p+"static/media/usuarios.f252714e052e0e6c14eb.png"},9772:(e,t,a)=>{e.exports=a.p+"static/media/wallpaper.099a0e5180a2951dfdc3.jpg"}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,a),i.exports}a.m=e,(()=>{var e=[];a.O=(t,o,r,i)=>{if(!o){var n=1/0;for(c=0;c<e.length;c++){for(var[o,r,i]=e[c],s=!0,l=0;l<o.length;l++)(!1&i||n>=i)&&Object.keys(a.O).every((e=>a.O[e](o[l])))?o.splice(l--,1):(s=!1,i<n&&(n=i));if(s){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,r,i]}})(),a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(o,r){if(1&r&&(o=this(o)),8&r)return o;if("object"===typeof o&&o){if(4&r&&o.__esModule)return o;if(16&r&&"function"===typeof o.then)return o}var i=Object.create(null);a.r(i);var n={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&o;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>n[e]=()=>o[e]));return n.default=()=>o,a.d(i,n),i}})(),a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="/",(()=>{var e={792:0};a.O.j=t=>0===e[t];var t=(t,o)=>{var r,i,[n,s,l]=o,d=0;if(n.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(l)var c=l(a)}for(t&&t(o);d<n.length;d++)i=n[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=a.O(void 0,[26],(()=>a(5819)));o=a.O(o)})();
//# sourceMappingURL=main.63968e1f.js.map