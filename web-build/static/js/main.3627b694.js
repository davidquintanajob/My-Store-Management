(()=>{"use strict";var e={3804:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Qo});var o=a(6665),r=a(6520),i=a(8384),n=a(3929),s=a(6283),l=a(484),d=a(558),c=a(5009),u=a(5648),h=a(2772),f=a(8264),g=a(5675);const x={negro:"#000000",blanco:"#ffffff",azul_Claro:"#31a6bf",azul_Oscuro:"#1b5dad",azul_Suave:"#97e4f4",blanco_Suave:"#F2F2F2",gris_claro:"#D3D3D3",rojo_oscuro:"#cd1111",verde_claro:"#13cf3c"},p=g.default.create({radioButtonDesktop:{flexDirection:"row",height:40,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"1%",backgroundColor:x.azul_Suave},radioButtonMovil:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",marginVertical:"5%",backgroundColor:x.azul_Suave},radioButtonSelected:{backgroundColor:x.azul_Oscuro},radioButtonTextDesktop:{fontSize:14,color:x.blanco,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},radioButtonTextMovil:{fontSize:12,color:x.blanco,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},labelTextDesktop:{fontSize:16,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},labelTextModalDesktop:{fontSize:16,marginTop:"3%",marginLeft:"6%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},labelTextModalMovil:{fontSize:16,marginTop:"3%",marginLeft:"6%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},labelTextMovil:{fontSize:20,marginRight:"15%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},radioButtonTextSelected:{fontWeight:"bold",color:x.blanco_Suave},selectedText:{marginTop:20,fontSize:18,color:"#333"},navbarDekstop:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:15,position:"absolute",top:0,width:"100%",zIndex:1e3},navbarMobile:{flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:15,width:"100%",zIndex:1e3},menuIcon:{position:"absolute",left:15,top:15},scrollContainer:{flexGrow:1,justifyContent:"center",alignItems:"center",paddingVertical:10},buttonsContainerDesktop:{flexDirection:"row",justifyContent:"flex-start",flex:1},buttonContainterMovile:{flexDirection:"column",alignItems:"center",justifyContent:"center"},searchContainerDesktop:{height:"100%",width:"20%",marginTop:"2%",borderRadius:20,shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,justifyContent:"flex-start"},loginContainerStilesDesktop:{height:"70%",width:"25%",flexDirection:"column",borderRadius:20,shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,justifyContent:"center",alignItems:"center"},loginContainerStilesMovil:{height:"70%",width:"95%",flexDirection:"column",borderRadius:20,shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,justifyContent:"center",alignItems:"center"},searchContainerMovil:{height:"100%",width:"100%",borderRadius:20,marginTop:"3%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,justifyContent:"flex-start"},modalViewMesajeContainerDesktop:{width:"40%",padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},modalViewMesajeContainerMovil:{width:"80%",padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},textSearchDesktop:{color:x.blanco,fontSize:18,marginTop:"5%",justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},textSearchMovil:{color:x.blanco,fontSize:16,marginTop:"5%",justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},textNavbarMovil:{color:x.blanco,fontSize:17,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},textImputLogin:{height:35,borderColor:x.azul_Suave,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.azul_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},textImputModal:{height:40,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},textLabelAsInput:{height:40,borderColor:x.negro,borderWidth:1,shadowColor:x.negro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,fontWeight:"bold",paddingHorizontal:10,paddingVertical:10,color:x.negro,lineHeight:20,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2},textDescroptionLabelAsInput:{height:150,borderColor:x.negro,borderWidth:1,shadowColor:x.negro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,fontWeight:"bold",paddingHorizontal:10,paddingVertical:10,color:x.negro,lineHeight:20,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2},textImputModalNOEDITABLE:{height:40,borderColor:x.negro,borderWidth:1,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},customTextImputSearchFullDesktop:{height:30,borderColor:x.azul_Suave,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",backgroundColor:x.azul_Suave,borderRadius:13,marginLeft:"5%",marginTop:"4%",fontSize:16,fontWeight:"bold",paddingHorizontal:10},customTextImputSearchFullMovil:{height:30,borderColor:x.azul_Suave,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",backgroundColor:x.azul_Suave,borderRadius:13,marginLeft:"5%",marginTop:"4%",fontSize:12,fontWeight:"bold",paddingHorizontal:10},customTextImputSearchFiftyDesktop:{height:30,borderColor:x.azul_Suave,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"42.5%",backgroundColor:x.azul_Suave,borderRadius:13,marginLeft:"5%",marginTop:"4%",fontSize:16,fontWeight:"bold",paddingHorizontal:10},customTextImputSearchFiftyMovil:{height:30,borderColor:x.azul_Suave,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"42.5%",backgroundColor:x.azul_Suave,borderRadius:13,marginLeft:"5%",marginTop:"4%",fontSize:12,fontWeight:"bold",paddingHorizontal:10},movilButtonBusqueda:{backgroundColor:x.azul_Suave,borderRadius:15,flexDirection:"row",width:"70%",height:50,marginRight:"2%",marginTop:"2%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},separatorBlanco:{width:"90%",marginLeft:"5%",marginTop:"5%",height:1,backgroundColor:x.blanco},separatorNegro:{width:"95%",marginTop:"8%",height:1,backgroundColor:x.negro}});var y=a(893),w=a(397);const m=g.default.create({mobileButton:{backgroundColor:x.azul_Claro,borderRadius:15,height:80,width:"180%",marginLeft:"80%",marginVertical:5,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,elevation:3},desktopButton:{backgroundColor:x.azul_Claro,borderRadius:15,width:"4%",minWidth:120,height:100,marginHorizontal:10,marginBottom:2,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,elevation:3},desktopContent:{flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",width:"100%"},mobileContent:{flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%"},image:{width:50,height:50,marginRight:10},text:{fontSize:18,color:x.blanco}}),j=({imageSource:e,onPress:t,text:a,isSelected:r})=>{const[i]=(0,o.useState)(new c.default.Value(1)),{width:h}=(0,d.default)(),f=h<930,g=[f?m.mobileButton:m.desktopButton,r&&{backgroundColor:x.azul_Oscuro}],p=f?m.mobileContent:m.desktopContent;return(0,w.jsx)(u.default,{style:g,onPressIn:()=>{c.default.spring(i,{toValue:1.5,useNativeDriver:!0}).start()},onPressOut:()=>{c.default.spring(i,{toValue:1,useNativeDriver:!0}).start()},onPress:t,children:(0,w.jsx)(c.default.View,{style:{transform:[{scale:i}]},children:(0,w.jsxs)(n.default,{style:p,children:[(0,w.jsx)(l.default,{source:e,style:m.image}),(0,w.jsx)(s.default,{style:m.text,children:a})]})})})};var b=a(2626);const C=(0,o.createContext)(void 0),S=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(C.Provider,{value:{usuario:t,setUsuario:a},children:e})},v=()=>{const e=o.useContext(C);if(void 0===e)throw new Error("useUsuario debe usarse dentro de un ProductoUsuario");return e},I=(0,o.createContext)(void 0),_=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(I.Provider,{value:{selectedButon:t,setSelectedButon:a},children:e})},k=()=>{const e=o.useContext(I);if(void 0===e)throw new Error("useSortEntradas debe usarse dentro de un SortEntradas");return e};var R=a(932);const T=g.default.create({mobileButton:{backgroundColor:x.azul_Claro,borderRadius:15,height:80,width:"180%",marginVertical:5,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,elevation:3},desktopButton:{backgroundColor:x.azul_Claro,borderRadius:15,width:"4%",minWidth:120,height:100,marginHorizontal:10,marginBottom:2,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,elevation:3},desktopContent:{flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",width:"100%"},mobileContent:{flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%"},image:{width:50,height:50,marginRight:10},text:{fontSize:18,color:x.blanco},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},modalContentDesktop:{backgroundColor:"white",borderRadius:10,padding:20,width:"30%",maxHeight:"50%"},modalContentMovil:{backgroundColor:"white",borderRadius:10,padding:20,width:"80%",maxHeight:"50%"},option:{flexDirection:"row",alignItems:"center",paddingVertical:10,borderBottomWidth:1,borderBottomColor:"#ccc"},optionImage:{width:30,height:30,marginRight:10,tintColor:x.negro},optionText:{fontSize:18,color:x.azul_Oscuro}}),O=({imageSource:e,text:t,options:a,onSelect:r,isSelected:i})=>{const[h]=(0,o.useState)(new c.default.Value(1)),{width:g}=(0,d.default)(),[p,y]=(0,o.useState)(!1),m=g<930,j=[m?T.mobileButton:T.desktopButton,i&&{backgroundColor:x.azul_Oscuro}],b=m?T.mobileContent:T.desktopContent;return(0,w.jsxs)(n.default,{children:[(0,w.jsx)(u.default,{style:j,onPressIn:()=>{c.default.spring(h,{toValue:1.5,useNativeDriver:!0}).start()},onPressOut:()=>{c.default.spring(h,{toValue:1,useNativeDriver:!0}).start()},onPress:()=>y(!0),children:(0,w.jsx)(c.default.View,{style:{transform:[{scale:h}]},children:(0,w.jsxs)(n.default,{style:b,children:[(0,w.jsx)(l.default,{source:e,style:T.image}),(0,w.jsx)(s.default,{style:T.text,children:t})]})})}),(0,w.jsx)(f.default,{transparent:!0,animationType:"fade",visible:p,onRequestClose:()=>y(!1),children:(0,w.jsx)(u.default,{style:T.modalOverlay,onPress:()=>y(!1),children:(0,w.jsx)(n.default,{style:m?T.modalContentMovil:T.modalContentDesktop,children:(0,w.jsx)(R.default,{data:a,keyExtractor:e=>e.value,renderItem:({item:e})=>(0,w.jsxs)(u.default,{style:T.option,onPress:()=>{return t=e.value,r(t),void y(!1);var t},children:[(0,w.jsx)(l.default,{source:e.image,style:T.optionImage})," ",(0,w.jsx)(s.default,{style:T.optionText,children:e.label})]})})})})})]})};var z=a(6773);const D=(0,o.forwardRef)((({placeholder:e,autoCapitalize:t,autoCompleteType:a,secureTextEntry:o,keyboardType:r,cursorColor:i,onChangeText:n,value:s,onBlur:l,style:d,multiline:c,numberOfLines:u,scrollEnabled:h,editable:f,onKeyPress:g},x)=>(0,w.jsx)(z.default,{style:d,editable:f,numberOfLines:u,placeholder:e,placeholderTextColor:"rgba(255, 255, 255, 0.8)",autoCapitalize:t,autoComplete:a,secureTextEntry:o,keyboardType:r,cursorColor:i,value:s,scrollEnabled:h,multiline:c,onBlur:l,ref:x,onChangeText:n,onKeyPress:g})));var P=a(7109);const M="http://147.93.128.46:3000",E="http://147.93.128.46:8080/",A=(0,o.createRef)();function $(e,t){A.current?.navigate(e,t)}const L=async(e,t)=>{try{const a=await P.default.post(`${M}/Usuario/auth`,{nombre_usuario:e,contrasenna:t});if("Usuario encontrado"===a.data.msg)return a}catch(a){return console.log("Error al iniciar seci\xf3n: ",a),!1}},B=async(e,t,a,o,r,i,n,s,l,d,c)=>{try{return(await P.default.post(`${M}/Usuario/createUsuario`,{nombre:t,nombre_usuario:a,contrasenna:o,email:r,telefono:i,direccion:n,carnet_identidad:""===s?null:s,detalles_bancarios:l,rol:{id_rol:d},tienda:{id_tienda:c}},{headers:{Authorization:`${e}`}})).data}catch(u){return P.default.isAxiosError(u)&&401===u.response?.status&&$("Login"),console.log("Error incertar el usuario: ",u),!1}},N=async(e,t)=>{try{return await P.default.delete(`${M}/Usuario/deleteUsuario/${t}`,{headers:{Authorization:`${e}`}})}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al eliminar el usuario: ",a),!1}},F=async(e,t,a,o,r,i,n,s,l,d,c,u,h)=>{try{return(await P.default.put(`${M}/Usuario/updateUsuario/${t}`,{nombre:a,nombre_usuario:o,contrasenna:r,email:i,telefono:n,direccion:s,carnet_identidad:l,detalles_bancarios:d,activo:h,rol:{id_rol:c},tienda:{id_tienda:u}},{headers:{Authorization:`${e}`}})).data}catch(f){return P.default.isAxiosError(f)&&401===f.response?.status&&$("Login"),console.log("Error modificar el usuario: ",f),!1}},W=async(e,t,a,o,r,i,n,s,l,d,c,u)=>{console.log("id_usuario:",t),console.log("nombre:",a),console.log("nombre_usuario:",o),console.log("email:",r),console.log("telefono:",i),console.log("direccion:",n),console.log("carnet_identidad:",s),console.log("detalles_bancarios:",l),console.log("rol:",d),console.log("tienda:",c),console.log("activo:",u);try{return(await P.default.put(`${M}/Usuario/updateUsuario/${t}`,{nombre:a,nombre_usuario:o,email:r,telefono:i,direccion:n,carnet_identidad:s,detalles_bancarios:l,activo:u,rol:{id_rol:d},tienda:{id_tienda:c}},{headers:{Authorization:`${e}`}})).data}catch(h){return P.default.isAxiosError(h)&&401===h.response?.status&&$("Login"),console.log("Error modificar el usuario: ",h),!1}},U=async(e,t)=>{try{return await P.default.get(`${M}/Usuario/${t}`,{headers:{Authorization:`${e}`}})}catch(a){return console.error("Error en la solicitud de datos de el usuario:",a),alert(a),!1}},V=async e=>{try{return(await P.default.get(`${M}/Usuario`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&$("Login"),console.error("Error en la solicitud de datos de los usuarios:",t),alert(t),!1}},H=async(e,t,a,o,r,i)=>{try{return(await P.default.post(`${M}/Usuario/api/filtrar`,{nombre_usuario:t,email:a,telefono:o,id_rol:r,id_tienda:i},{headers:{Authorization:`${e}`}})).data}catch(n){return P.default.isAxiosError(n)&&401===n.response?.status&&$("Login"),console.log("Error al filtrar usuarios: ",n),!1}},q=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Usuario/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error al ordenar los usuarios: ",r),!1}},Y=async(e,t)=>{try{return(await P.default.get(`${M}/Accion/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener datos de una acci\xf3n en espec\xedfico segun el ID: ",a),!1}},G=async(e,t,a,o,r)=>{try{return(await P.default.post(`${M}/Accion/createAccion`,{descripcion:t,fecha:a,usuario:{id_usuario:o},tipo_accion:{id_tipo_accion:r}},{headers:{Authorization:`${e}`}})).data}catch(i){return console.log("Error al agregar acci\xf3n de usuario: ",i),!1}},K=async e=>{try{return(await P.default.get(`${M}/Tipo_accion`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&$("Login"),console.log("Error al obtener datos de todas los tipos de acci\xf3n: ",t),!1}},J=async(e,t,a,o,r,i)=>{try{return(await P.default.post(`${M}/Accion/api/filtrar`,{id_tipo_accion:t,nombre_usuario:a,descripcion:o,fecha_limsup:i,fecha_liminf:r},{headers:{Authorization:`${e}`}})).data}catch(n){return P.default.isAxiosError(n)&&401===n.response?.status&&$("Login"),console.log("Error al filtrar acciones: ",n),!1}},X=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Accion/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error al ordenar las acciones: ",r),!1}},Q=(0,o.createContext)(void 0),Z=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Q.Provider,{value:{permisosUsuarioNavbar:t,setPermisosUsuarioNavbar:a},children:e})},ee=()=>{const e=o.useContext(Q);if(void 0===e)throw new Error("usePermisosUsuario debe usarse dentro de un PermisosUsuario");return e},te=()=>{const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(!1),m=(0,o.useRef)(new c.default.Value(0)).current,[C,S]=(0,o.useState)(!1),[I,_]=(0,o.useState)(""),[R,T]=(0,o.useState)(""),[z,E]=(0,o.useState)(""),[A,L]=(0,o.useState)(!1),[B,N]=(0,o.useState)(!1),[F,W]=(0,o.useState)(!1),[U,V]=(0,o.useState)(!1),[H,q]=(0,o.useState)(!1),[Y,K]=(0,o.useState)(!1),[J,X]=(0,o.useState)(!1),[Q,Z]=(0,o.useState)(!1),[te,ae]=(0,o.useState)(!1),[oe,re]=(0,o.useState)(!1),ie=(0,o.useRef)(null),{setUsuario:ne,usuario:se}=v(),{permisosUsuarioNavbar:le,setPermisosUsuarioNavbar:de}=ee(),{setSelectedButon:ce,selectedButon:ue}=k(),[he,fe]=o.useState(!1),[ge,xe]=o.useState(""),[pe,ye]=o.useState(!1),[we,me]=(0,o.useState)(!1),[je,be]=(0,o.useState)(!1),[Ce,Se]=(0,o.useState)(""),[ve,Ie]=(0,o.useState)(null),_e=t=>{ce({butonSelected:"Administraci\xf3n"}),"1"===t?e.navigate("Usuarios"):"3"===t?e.navigate("Tiendas"):"2"===t?e.navigate("Acciones"):"4"===t?e.navigate("Permisos"):"5"===t?e.navigate("Tipo de Servicio"):"6"===t&&e.navigate("Cambiar Moneda"),Ie(t)},[ke,Re]=(0,o.useState)([]);(0,o.useEffect)((()=>{(async()=>{if(se?.token){K(le?.resultEntradaView??!1),L(le?.resultProductoView??!1),X(le?.resultProveedorView??!1),q(le?.resultAccionesView??!1),Z((le?.resultMovimientoLocalView??!1)||(le?.resultMovimientoGeneralView??!1)),W((le?.resultAgregarUsuario??!1)||(le?.resultModificarUsuario??!1)||(le?.resultEliminarUsuario??!1)),V(1===parseInt(se.id_usuario)),ae(le?.resultClienteView??!1),re(le?.resultGarantiaView??!1);const e=[];(le?.resultAgregarUsuario||le?.resultModificarUsuario||le?.resultEliminarUsuario)&&e.push({label:"Usuarios",value:"1",image:a(759)}),le?.resultAccionesView&&e.push({label:"Acciones",value:"2",image:a(1603)}),1===parseInt(se.id_rol)&&e.push({label:"Tiendas",value:"3",image:a(4929)}),le?.resultTipoServicio&&e.push({label:"Tipos de Servicios",value:"5",image:a(2475)}),1===parseInt(se.id_rol)&&e.push({label:"Cambiar  moneda",value:"6",image:a(5751)}),Re(e)}})()}),[le]);const Te=!!r,Oe=r?p.buttonContainterMovile:p.buttonsContainerDesktop,ze=async()=>{if(se?.token){let e=!0,t="ERROR AL CAMBIAR LA CONTRASE\xd1A. Comprueve los siguientes par\xe1metros:\n";if(R!==z&&(e=!1,t+="-No ha ingresado bien su contrase\xf1a en los campos requeridos.\n"),R.length<6&&(e=!1,t+="-La contrase\xf1a nueva debe tener m\xe1s de 6 caracteres.\n"),""!==R.trim()&&""!==z.trim()||(e=!1,t+="-Deve digitar la nueva contrase\xf1a en los campos correspondientes.\n"),e){(async(e,t,a,o,r)=>{try{return(await P.default.post(`${M}/Usuario/change/pass`,{contrasenna_vieja:t,contrasenna_nueva1:a,contrasenna_nueva2:o,nombre_usuario:r},{headers:{Authorization:`${e}`}})).data}catch(i){return P.default.isAxiosError(i)&&401===i.response?.status&&$("Login"),console.log("Error al cambiar la contrase\xf1a del usuario: ",i),!1}})(se.token,I,R,z,se.nombre_usuario);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${se.nombre} cambi\xf3 su contrase\xf1a.`;await G(se.token,r,`${t}-${a}-${o}`,se.id_usuario,5),be(!1),xe("La contrase\xf1a se cambi\xf3 con \xe9xito."),ye(!1),fe(!0)}else xe(t),ye(!1),fe(!0)}},De=()=>{i?c.default.timing(m,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>g(!1))):(g(!0),c.default.timing(m,{toValue:300,duration:300,useNativeDriver:!1}).start())},Pe={height:m};function Me(){return(0,w.jsx)(h.default,{horizontal:!0,contentContainerStyle:{flexDirection:"row",justifyContent:"flex-start"},showsHorizontalScrollIndicator:!0,children:(0,w.jsxs)(n.default,{style:Oe,children:[A&&(0,w.jsx)(j,{imageSource:a(1605),text:"En tu Tienda",isSelected:"Mi Tienda"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Mi Tienda"}),e.navigate("Mi Tienda")}}),A&&(0,w.jsx)(j,{imageSource:a(9519),text:"Productos",isSelected:"Productos"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Productos"}),e.navigate("Productos")}}),A&&(0,w.jsx)(j,{imageSource:a(237),text:"Servicios",isSelected:"Servicios"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Servicios"}),e.navigate("Servicios")}}),Q&&(0,w.jsx)(j,{imageSource:a(5102),text:"Movimientos",isSelected:"Movimientos"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Movimientos"}),e.navigate("Movimientos")}}),oe&&(0,w.jsx)(j,{imageSource:a(8800),text:"Garantias",isSelected:"Garantias"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Garantias"}),e.navigate("Garant\xedas")}}),te&&(0,w.jsx)(j,{imageSource:a(3432),text:"Clientes",isSelected:"Clientes"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Clientes"}),e.navigate("Clientes")}}),A&&(0,w.jsx)(j,{imageSource:a(8270),text:"Deudas",isSelected:"Deudas"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Deudas"}),e.navigate("Deudas")}}),J&&(0,w.jsx)(j,{imageSource:a(5234),text:"Proveedores",isSelected:"Proveedores"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Proveedores"}),e.navigate("Proveedores")}}),Y&&(0,w.jsx)(j,{imageSource:a(9927),text:"Entradas",isSelected:"Entradas"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Entradas"}),e.navigate("Entradas")}}),(F||U||H)&&(0,w.jsx)(O,{imageSource:a(7496),text:"Administraci\xf3n",options:ke,onSelect:_e,isSelected:"Administraci\xf3n"===ue?.butonSelected})]})})}return Te?(0,w.jsxs)(n.default,{style:{padding:15},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.navbarMobile,children:[(0,w.jsx)(u.default,{onPress:()=>S(!C),children:(0,w.jsxs)(n.default,{style:{justifyContent:"center",flexDirection:"column",alignItems:"center",borderWidth:1,borderColor:x.blanco,borderRadius:15,width:300,height:60,marginVertical:10},children:[(0,w.jsx)(s.default,{style:{fontSize:20,color:x.blanco},children:"Usuario"}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(s.default,{style:{fontSize:16,color:x.blanco},children:["Nombre: ",se?.nombre]}),(0,w.jsxs)(s.default,{style:{fontSize:16,color:x.blanco},children:["Usuario: ",se?.nombre_usuario]}),(0,w.jsx)(u.default,{style:{width:"90%",height:"45%",marginTop:"5%",backgroundColor:x.azul_Suave,borderRadius:15,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:()=>e.navigate("Login"),children:(0,w.jsx)(s.default,{style:{fontSize:16,color:x.blanco},children:"Cerrar Sesi\xf3n"})})]})}),(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:40,marginTop:35,justifyContent:"center",paddingHorizontal:15,shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:De,children:[(0,w.jsx)(l.default,{source:a(1709),style:{width:40,height:40}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Navegaci\xf3n"})]})]}),i&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden"},Pe],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:Me()})}),C&&(0,w.jsx)(f.default,{transparent:!0,visible:C,animationType:"fade",onRequestClose:()=>S(!1),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:()=>{_(""),T(""),E(""),S(!1)},children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Tus Datos"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:[(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu nombre: ",se?.nombre]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu nombre de usuario en el sistema:"," ",se?.nombre_usuario]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu rol en el sistema: ",se?.nombre_rol]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tienda en la que trabajas: ",se?.nombre_tienda]})]}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:20,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Cambiar Contrase\xf1a"})}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Contrase\xf1a Vieja"})}),(0,w.jsx)(D,{ref:ie,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:I,onChangeText:_,placeholder:"Contrase\xf1a vieja"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Contrase\xf1a Nueva"})}),(0,w.jsx)(D,{ref:ie,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:R,onChangeText:T,placeholder:"Contrase\xf1a nueva"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Repita la Nueva Contrase\xf1a"})}),(0,w.jsx)(D,{ref:ie,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:z,onChangeText:E,placeholder:"Contrase\xf1a nueva"}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Se(`Estas seguro que deseas cambiar tu contrase\xf1a nueva a ${R}`),be(!0),S(!C)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Cambiar Contrase\xf1a"})})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:je,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ce}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ze(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>be(!je),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>be(!je),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:he,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ge}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>pe?e.navigate("Login"):fe(!he),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.navbarDekstop,children:[(0,w.jsx)(u.default,{onPress:()=>S(!C),children:(0,w.jsxs)(n.default,{style:{justifyContent:"center",flexDirection:"column",alignItems:"center",borderWidth:1,borderColor:x.blanco,borderRadius:15,width:260,height:60},children:[(0,w.jsx)(s.default,{style:{fontSize:18,color:x.blanco},children:"Usuario"}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(s.default,{style:{fontSize:14,color:x.blanco},children:["Nombre: ",se?.nombre]}),(0,w.jsxs)(s.default,{style:{fontSize:14,color:x.blanco},children:["Usuario: ",se?.nombre_usuario]}),(0,w.jsx)(u.default,{style:{width:"90%",height:"40%",marginTop:"5%",backgroundColor:x.azul_Suave,borderRadius:15,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:()=>e.navigate("Login"),children:(0,w.jsx)(s.default,{style:{fontSize:14,color:x.blanco},children:"Cerrar Sesi\xf3n"})})]})}),Me()]}),C&&(0,w.jsx)(f.default,{transparent:!0,visible:C,animationType:"fade",onRequestClose:()=>S(!1),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:()=>{_(""),T(""),E(""),S(!1)},children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Tus Datos"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:[(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu nombre: ",se?.nombre]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu nombre de usuario en el sistema:"," ",se?.nombre_usuario]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu rol en el sistema: ",se?.nombre_rol]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tienda en la que trabajas: ",se?.nombre_tienda]})]}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:20,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Cambiar Contrase\xf1a"})}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Contrase\xf1a Vieja"})}),(0,w.jsx)(D,{ref:ie,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:I,onChangeText:_,placeholder:"Contrase\xf1a vieja"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Contrase\xf1a Nueva"})}),(0,w.jsx)(D,{ref:ie,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:R,onChangeText:T,placeholder:"Contrase\xf1a nueva"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Repita la Nueva Contrase\xf1a"})}),(0,w.jsx)(D,{ref:ie,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:z,onChangeText:E,placeholder:"Contrase\xf1a nueva"}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Se(`Estas seguro que deseas cambiar tu contrase\xf1a nueva a ${R}`),be(!0),S(!C)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Cambiar Contrase\xf1a"})})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:je,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ce}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ze(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>be(!je),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>be(!je),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:he,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ge}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>{_(""),T(""),E(""),pe?e.navigate("Login"):fe(!he)},children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})};var ae=a(530),oe=a(1356);const re=g.default.create({container:{flex:1,marginLeft:"5%",marginTop:"4%",alignItems:"center",justifyContent:"flex-start"},dropdown:{backgroundColor:x.azul_Suave,borderColor:x.azul_Suave,borderRadius:13,width:"90%",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},dropdownTextDesktop:{fontSize:14,fontWeight:"bold",color:x.blanco},dropdownTextMovil:{fontSize:12,fontWeight:"bold",color:x.blanco},dropdownContainer:{borderColor:x.azul_Suave,backgroundColor:x.azul_Claro,width:"90%"}}),ie=({value:e,setValue:t,items:a,placeholder:r,searchable:i=!1,onDropdownOpen:s})=>{const[l,c]=(0,o.useState)(!1),{width:u}=(0,d.default)(),h=u<1150?re.dropdownTextMovil:re.dropdownTextDesktop;return(0,o.useEffect)((()=>{l&&s&&s()}),[l]),(0,w.jsx)(n.default,{style:re.container,children:(0,w.jsx)(oe.default,{open:l,value:e,items:a,setOpen:c,setValue:e=>{t(e),c(!1)},setItems:()=>{},placeholder:r,style:re.dropdown,textStyle:h,dropDownContainerStyle:re.dropdownContainer,searchable:i})})};var ne=a(4730);const se=(0,o.createContext)(void 0),le=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(se.Provider,{value:{modalProductsDates:t,setModalProductsDates:a},children:e})},de=()=>{const e=o.useContext(se);if(void 0===e)throw new Error("useModalProductsDates debe usarse dentro de un ModalProductsDates");return e},ce=(0,o.createContext)(void 0),ue=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(ce.Provider,{value:{sortProductos:t,setSortProductos:a},children:e})},he=()=>{const e=o.useContext(ce);if(void 0===e)throw new Error("useSortProductos debe usarse dentro de un SortProductos");return e},fe=async e=>{try{return(await P.default.get(`${M}/Rol`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&$("Login"),console.log("Error al obtener todos los roles: ",t),!1}},ge=async(e,t)=>{try{return(await P.default.get(`${M}/Rol_permiso/getPermisosbyRol/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener datos de los productos por el rol: ",a),!1}},xe=async(e,t,a)=>{try{return(await P.default.get(`${M}/Usuario/tiene_permiso/${a}/${t}`,{headers:{Authorization:`${e}`}})).data.tiene}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&$("Login"),console.log("Error al obtener datos de los permisos: ",o),!1}},pe=async e=>{try{return await P.default.get(`${M}/Tienda`,{headers:{Authorization:`${e}`}})}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&$("Login"),console.log("Error al obtener datos de las tiendas: ",t),!1}},ye=async(e,t,a)=>{try{return(await P.default.post(`${M}/Tienda/createTienda`,{nombre:t,direccion:a},{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&$("Login"),console.log("Error incertar la tienda: ",o),!1}},we=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Producto_tienda/realizarVenta`,{id_producto:t,id_tienda:a,cantidad:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error al realizar venta en producto tienda: ",r),!1}},me=async(e,t,a,o)=>{try{await P.default.put(`${M}/Tienda/updateTienda/${t}`,{nombre:a,direccion:o},{headers:{Authorization:`${e}`}})}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error actualizar la tienda: ",r),!1}},je=async(e,t)=>{try{await P.default.delete(`${M}/Tienda/deleteTienda/${t}`,{headers:{Authorization:`${e}`}});return!0}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error eliminar la tienda: ",a),!1}},be=async(e,t)=>{try{return(await P.default.get(`${M}/Tienda/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener dato de la tienda en espec\xedfico: ",a),!1}},Ce=async(e,t)=>{try{return(await P.default.get(`${M}/Producto_tienda/getTiendas/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener datos de las tiendas seg\xfan el producto: ",a),!1}},Se=async(e,t,a)=>{try{return(await P.default.get(`${M}/Producto_tiendabyID/${t}/${a}`,{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&$("Login"),console.log("Error al obtener datos de las tiendas: ",o),0}},ve=async e=>{try{return(await P.default.get(`${M}/Moneda/obtener/USD`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&$("Login"),console.log("Error al obtener valor de la moneda USD: ",t),!1}},Ie=async(e,t)=>{try{return(await P.default.put(`${M}/Moneda/cambiar/USD/${t}`,{},{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al cambiar el valor de la monea USD: ",a),!1}},_e=async e=>{try{return await P.default.get(`${M}/Producto`,{headers:{Authorization:`${e}`}})}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&$("Login"),console.log("Error al obtener datos de los productos: ",t),!1}},ke=async(e,t)=>{try{return(await P.default.get(`${M}/Producto/getPaginated/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener datos de los productos: ",a),!1}},Re=async(e,t)=>{try{return(await P.default.get(`${M}/producto_tienda/getProductos/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener datos de los identificadores de  productos con la tienda: ",a),!1}},Te=async(e,t)=>{try{return(await P.default.get(`${M}/Producto_tienda/getCantidadTotal/${t}`,{headers:{Authorization:`${e}`}})).data.cantidad_total}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener datos de los productos: ",a),!1}},Oe=async(e,t)=>{try{return(await P.default.get(`${M}/Producto/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener datos principales de los productos: ",a),!1}},ze=async(e,t,a,o,r,i)=>{try{return(await P.default.post(`${M}/Producto/createProducto`,{nombre:t,Sku:a,precio:o,precio_empresa:r,descripcion:i},{headers:{Authorization:`${e}`}})).data}catch(n){return P.default.isAxiosError(n)&&401===n.response?.status&&$("Login"),console.log("Error incertar el producto: ",n),!1}},De=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Producto_tienda/HacerEntrada`,{id_producto:a,id_tienda:t,cantidad:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error incertar el la entrada al producto: ",r),!1}},Pe=async(e,t,a)=>{console.log(t,a);try{return(await P.default.post(`${M}/Producto/createProducto`,{id_producto:t,imagenes:a},{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&$("Login"),console.log("Error incertar el producto: ",o),!1}},Me=async(e,t,a,o,r,i,n)=>{try{await P.default.put(`${M}/Producto/updateProducto/${t}`,{nombre:a,Sku:o,precio:r,precio_empresa:i,descripcion:n},{headers:{Authorization:`${e}`}})}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&$("Login"),console.log("Error actualizar el producto: ",s),!1}},Ee=async(e,t,a,o)=>{try{await P.default.put(`${M}/Producto_tienda/updateProducto_tienda`,{id_producto:t,id_tienda:a,cantidad:o},{headers:{Authorization:`${e}`}})}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error actualizar el producto_tienda: ",r),!1}},Ae=async(e,t,a)=>{try{await P.default.post(`${M}/Producto/agregar/Tienda`,{id_tienda:a,id_producto:t},{headers:{Authorization:`${e}`}})}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&$("Login"),console.log("Error crear la relaci\xf3n con la tienda en el producto: ",o),!1}},$e=async(e,t)=>{try{await P.default.delete(`${M}/Producto/deleteProducto/${t}`,{headers:{Authorization:`${e}`}});return!0}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener datos principales de los productos: ",a),!1}},Le=async e=>{try{await P.default.delete(`${M}/Producto_tienda/DeleteAllTiendas/inProducto`,{headers:{Authorization:`${e}`}}),await P.default.delete(`${M}/Producto_tienda/delete/in0`,{headers:{Authorization:`${e}`}});return!0}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&$("Login"),console.log("Error al eliminar en productos en 0: ",t),!1}},Be=async(e,t,a,o,r,i,n)=>{try{return(await P.default.post(`${M}/Producto/api/filtrar`,{nombre:t||"",sku:a||"",precio_liminf:o||"",precio_limsup:r||"",cantidad:"0"===i?0:parseInt(i),id_tienda:n||null},{headers:{Authorization:`${e}`}})).data}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&$("Login"),console.log("Error al obtener datos principales de los productos: ",s),!1}},Ne=async(e,t,a,o,r,i,n)=>{try{return(await P.default.post(`${M}/Producto_tienda/api/filtrar`,{nombre:t||"",sku:a||"",precio_liminf:o||"",precio_limsup:r||"",cantidad:"0"===i?0:parseInt(i),id_tienda:parseInt(n)},{headers:{Authorization:`${e}`}})).data}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&$("Login"),console.log("Error al obtener datos principales de los productos: ",s),!1}},Fe=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Producto/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error al ordenar los productos: ",r),!1}},We=async(e,t,a,o,r)=>{try{return await P.default.post(`${M}/Producto_tienda/MoverProducto_tienda`,{id_producto:t,id_tienda_origen:a,id_tienda_destino:o,cantidad:r},{headers:{Authorization:`${e}`}})}catch(i){return P.default.isAxiosError(i)&&401===i.response?.status&&$("Login"),console.log("Error al mover el producto: ",i),!1}},Ue=async(e,t)=>{try{const a=await ve(e),o=t.map((e=>({sku:e.sku,nombre:e.nombre,precioUSD:e.precioUSD,precioCUP:(parseFloat(e.precioUSD)*a).toFixed(2),precioEmpresaCUP:e.precioEmpresaUSD??"0",cantidad:e.cantidadTotal??"0"})));return(await P.default.post(`${M}/Producto/to/excel`,{productos:o},{headers:{Authorization:`${e}`},responseType:"blob"})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al crear excel: ",a),!1}},Ve=async(e,t,a)=>{try{return(await P.default.post(`${M}/Producto/to/excelwithcolumns`,{productos:a,columns:t},{headers:{Authorization:`${e}`},responseType:"blob"})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&$("Login"),console.log("Error al crear excel: ",o),!1}},He=g.default.create({container:{flex:1,alignItems:"center",justifyContent:"flex-start",width:"90%"},dropdown:{backgroundColor:x.azul_Suave,borderColor:x.azul_Suave,borderRadius:13,width:"90%",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},dropdownContainer:{borderColor:x.azul_Suave,backgroundColor:x.azul_Claro,width:"90%"}}),qe=({value:e,setValue:t,items:a,placeholder:r,onDropdownOpen:i})=>{const[s,l]=(0,o.useState)(!1),{width:c}=(0,d.default)();return(0,o.useEffect)((()=>{s&&i&&i()}),[s,i]),(0,w.jsx)(n.default,{style:He.container,children:(0,w.jsx)(oe.default,{open:s,value:e,items:a,setOpen:l,setValue:t,setItems:()=>{},placeholder:r,style:He.dropdown,dropDownContainerStyle:He.dropdownContainer})})},Ye=async(e,t,a)=>{try{return(await P.default.post(`${M}/Imagen/createImagen`,{url:a,uri:t},{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&$("Login"),console.log(`Error al guardar imagenes en los archivos ${o}`),!1}},Ge=async(e,t,a)=>{try{return(await P.default.delete(`${M}/Imagen/deleteImagen/${t}/${a}`,{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&$("Login"),alert(`Error al eliminar la imagenes en los archivos ${o}`),!1}},Ke=async(e,t,a,o,r,i,n)=>{try{return(await P.default.post(`${M}/Salida/createSalida`,{fecha:t,cantidad:r,producto:i,tienda_origen:a,tienda_destino:o,usuario:n},{headers:{Authorization:`${e}`}})).data}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&$("Login"),console.log("Error al crear la salida del producto: ",s),!1}},Je=async(e,t)=>{try{return(await P.default.get(`${M}/Salida/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return console.log("Error al obtener datos del movimiento en espec\xedfico: ",a),!1}},Xe=async(e,t,a,o,r,i,n,s)=>{try{return(await P.default.put(`${M}/Salida/updateSalida/${t}`,{fecha:a,cantidad:i,producto:n,tienda_origen:o,tienda_destino:r,usuario:s},{headers:{Authorization:`${e}`}})).data}catch(l){return P.default.isAxiosError(l)&&401===l.response?.status&&$("Login"),console.log("Error al actualizar datos del movimiento: ",l),!1}},Qe=async(e,t)=>{try{return(await P.default.delete(`${M}/Salida/deleteSalida/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al eliminar el movimiento: ",a),!1}},Ze=async(e,t,a,o,r,i,n,s)=>{console.log(n,s);try{return(await P.default.post(`${M}/Salida/api/filtrar`,{nombre_usuario:t??null,nombre_producto:a??null,cantidad:parseInt(o)??null,fecha_liminf:r??null,fecha_limsup:i??null,id_tienda_origen:n??null,id_tienda_destino:s??null},{headers:{Authorization:`${e}`}})).data}catch(l){return P.default.isAxiosError(l)&&401===l.response?.status&&$("Login"),console.log("Error al filtrar movimientos: ",l),!1}},et=async(e,t,a,o,r,i,n,s,l)=>{console.log("NombreUsuario: ",t,"NombreProducto: ",a,"Cantidad: ",o,"fechaDesde: ",r,"fechaHasta: ",i,"TiendaUsuario: ",n,"TiendaOr: ",s,"tiendaDes: ",l);try{return(await P.default.post(`${M}/Salida/api/filtrarJT`,{nombre_usuario:t??null,nombre_producto:a??null,cantidad:parseInt(o)??null,fecha_liminf:r??null,fecha_limsup:i??null,id_tienda:n??null,id_tienda_origen:s??null,id_tienda_destino:l??null},{headers:{Authorization:`${e}`}})).data}catch(d){return P.default.isAxiosError(d)&&401===d.response?.status&&$("Login"),console.log("Error al filtrarEspecial movimientos: ",d),!1}},tt=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Salida/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error al ordenar las entradas: ",r),!1}},at=(0,o.createContext)(void 0),ot=({children:e})=>{const[t,a]=(0,o.useState)({page:1});return(0,w.jsx)(at.Provider,{value:{paginadoProductos:t,setPaginadoProductos:a},children:e})},rt=()=>{const e=o.useContext(at);if(void 0===e)throw new Error("usePaginadoProductos debe usarse dentro de un PaginadoProductos");return e},it=({items:e,columns:t,isMobile:r,imtemsLength:i})=>{const d=(0,b.useNavigation)(),[g]=o.useState(new c.default.Value(1)),{modalProductsDates:p,setModalProductsDates:y}=de(),{sortProductos:m,setSortProductos:j}=he(),{usuario:C,setUsuario:S}=v(),{paginadoProductos:I,setPaginadoProductos:_}=rt(),[k,R]=o.useState(0),T=r?nt.containerMovil:nt.containerDesktop,[O,z]=o.useState(0),[P,M]=o.useState(20),[E,A]=o.useState([]),[$,L]=o.useState(!1),[B,N]=o.useState(!1),[F,W]=o.useState(!1),[U,V]=o.useState(!1),[H,q]=o.useState(!1),[Y,K]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(""),[ee,te]=o.useState(""),[ae,oe]=o.useState(""),[re,ie]=o.useState(""),[se,le]=o.useState(""),[ce,ue]=o.useState([]),[fe,ge]=o.useState([]),[ye,we]=o.useState(""),[me,je]=o.useState(""),Ie=async()=>{if(!Re&&(Te(!0),C?.token)){await We(C.token,tt,ee,ae,Ye);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");await Ke(C.token,`${a}-${o}-${t}`,ee,ae,Ye,tt,C.id_usuario),await Ae(C.token,tt,ae);let r=`El usuario ${C.nombre} movi\xf3 ${Ye} de ${ot} desde la tienda ${me} hasta la tienda ${ye}`;await G(C.token,r,`${t}-${a}-${o}`,C.id_usuario,1),Z(`Se movieron ${Ye} de ${ot} desde la tienda ${me} a ${ye}`),V(!1),X(!0),K(!0)}},_e=async()=>{let e=!0,t="Error. Compruebe los siguientes par\xe1metros:\n",a=0;if(C?.token){const e=await Se(C.token,tt,ee);e.encontrado&&(a=parseInt(e.cantidad))}if(ee===ae&&(e=!1,t+="-La tienda origen no puede ser igual a la tienda destino.\n"),"0"===Ye&&(e=!1,t+="-La cantidad a mover debe ser mayor a 0.\n"),""===Ye?(e=!1,t+="-La cantidad a mover no puede ser vacio.\n"):parseInt(Ye)>a&&(e=!1,t+="-La cantidad a mover es mayor que la cantidad que existe en la tienda.\n"),Ue&&""===ee&&(e=!1,t+="-Elija la tienda desde la que decea hacer el movimiento.\n"),""===ae&&(e=!1,t+="-Elija una tienda a la que desea hacer el movimiento.\n"),e){const e=fe.find((e=>e.value===ae));we(String(e?.label));const t=ce.find((e=>e.value===ee));je(String(t?.label)),q(!1),V(!0)}else Z(t),X(!1),K(!0)};o.useEffect((()=>{(async()=>{if(C?.token){const e=await be(C.token,ee),t=await Se(C.token,tt,ee);le(t.cantidad),ie(e.nombre)}})()}),[ee]);const ke=e=>{y({id_producto:e,isAddProducto:!0,fileEditable:!1,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!0,isAddProductoShowProveedores:!0})},[Re,Te]=o.useState(!1),[ze,De]=o.useState(!1),[Pe,Me]=o.useState(!1),[Ee,Be]=o.useState(!1),[Ne,Fe]=o.useState(!1),[Ue,Ve]=o.useState(!1),He=e=>{if(C?.id_rol)return!!("1"==C.id_rol&&ze||"2"==C.id_rol&&ze)||!(!e.tieneOpciones||!ze)},[Ye,Je]=o.useState("");o.useEffect((()=>{(async()=>{if(C?.token){const e=await xe(C.token,"7",C.id_usuario),t=await xe(C.token,"8",C.id_usuario),a=await xe(C.token,"30",C.id_usuario),o=await xe(C.token,"31",C.id_usuario);R(await ve(C.token)),Me(e),Be(t),Fe(a),Ve(o),De(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=O*P,a=Math.min((O+1)*P,i);A([]),setTimeout((()=>{A(e.slice(t,a))}),0)}),[O,e,P]);const Xe=e=>{e>=0&&e*P<i&&(z(e),_({page:e}))},Qe=()=>(0,w.jsx)(ne.default.Header,{style:{justifyContent:"space-between"},children:t.map(((t,o)=>(0,w.jsxs)(ne.default.Title,{style:[nt.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:[(0,w.jsx)(s.default,{style:r?nt.headerTextMovil:nt.headerTextDesktop,children:t}),("USD"===t||"Nombre"===t||"CUP"===t||"Cantidad"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre"===t?a="option3":"USD"===t||"CUP"===t?a="option4":"Cantidad"===t&&(a="option5"),j({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]},o)))}),Ze=()=>{c.default.spring(g,{toValue:1.5,useNativeDriver:!0}).start()},et=()=>{c.default.spring(g,{toValue:1,useNativeDriver:!0}).start()},[tt,at]=o.useState(""),[ot,it]=o.useState(""),[st,lt]=o.useState(""),dt=async e=>{if(at(e),C?.token){const t=await Oe(C.token,e);t&&it(t.nombre)}L(!$)},ct=e=>{if(lt(e),L(!$),"Modificar"===e){if(y({id_producto:tt,isAddProducto:!0,fileEditable:!0,isModificarProducto:!0,isAddProductoShowProveedoresTiendas:!0,isAddProductoShowProveedores:!0}),C?.token){}}else"Eliminar"===e?W(!F):"Mover"==e&&((async()=>{if(void 0!=C?.token){const e=await pe(C.token),t=await Ce(C.token,tt);if(e&&Array.isArray(e.data)&&!1!==t&&Array.isArray(t)){const a=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));let o=[],r=[];t.forEach((async e=>{parseInt(e.cantidad)>0&&o.push(e.id_tienda)}));for(let e of o){let t={value:"",label:""};const a=await be(C.token,e);t.label=a.nombre,t.value=e,r.push(t)}let i=!1;i=r.some((e=>{e.value,C.id_tienda}));for(let e=0;e<r.length;e++)r[e].value===C.id_tienda&&(i=!0);i&&te(C.id_tienda),Ue||te(C.id_tienda),ue(r),ge(a)}}})(),q(!H))},ut=async()=>{if(!Re&&(Te(!0),C?.token)){const e=await Oe(C.token,tt);if(e)for(let a of e.imagenes)a.id_imagen&&a.url?await Ge(C?.token,a.id_imagen,a.url.substring(1,a.url.length)):console.log("Error en comprobar el id o el uri de la imagen");const t=await ht();if(W(!F),t){const e=E.filter((e=>e.id_Producto!==tt)),t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i=`El usuario ${C.nombre} elimin\xf3 el producto ${ot}`;await G(C.token,i,`${a}-${o}-${r}`,C.id_usuario,1),A(e),Z("Producto eliminado con \xe9xito"),K(!0)}else Z("ERROR AL ELIMINAR: Ya se han hecho operaciones con el producto o ya est\xe1 en una tienda"),X(!1),K(!0)}},ht=async()=>{if(C?.token){await Le(C.token);return!!await $e(C.token,tt)}};return r?(0,w.jsx)(n.default,{style:T,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"180%"},children:[Qe(),E.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>ke(e.id_Producto),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:nt.handerRowMovil,children:e.sku}),(0,w.jsx)(ne.default.Cell,{style:nt.handerRowMovil,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:nt.handerRowMovil,children:e.precioUSD}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:nt.handerRowMovil,children:(parseFloat(e.precioUSD)*k).toFixed(2)}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:nt.handerRowMovil,children:(0,w.jsxs)(s.default,{children:[e.cantidadTotal," "]})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:{flex:.5,justifyContent:"center",flexDirection:"row",alignItems:"center"},children:He(e)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,justifyContent:"center",alignItems:"center",borderRadius:12,height:"50%",width:"70%",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,marginRight:"100%"},onPressIn:Ze,onPressOut:et,onPress:()=>dt(e.id_Producto),children:(0,w.jsx)(l.default,{source:a(575),style:{width:"70%",height:"70%"}})})})]},e.id_Producto))),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",onRequestClose:()=>dt(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Pe&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ct("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ct("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(Ue||Ne)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ct("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>dt(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:B,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[tt,st]}),(0,w.jsx)(u.default,{onPress:()=>N(!B),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ut(),disabled:Re,children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>W(!F),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>W(!F),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:H,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:""===ee?"Seleccione una tienda origen":`Mover Producto "${ot}" en la Tienda\n ${re} con una cantidad de ${se}`}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:Ye,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Je(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[" ",Ue&&(0,w.jsx)(qe,{value:ee,items:ce,placeholder:"Tienda desde donde se quiere mover",setValue:te}),(0,w.jsx)(qe,{value:ae,items:fe,placeholder:"Tienda a la que se quiere mover",setValue:oe})]}),(0,w.jsx)(u.default,{onPress:()=>_e(),style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:150,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>q(!H),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:U,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:450,height:250,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Desea mover ${Ye} producto ${ot} desde la tienda ${me} a ${ye}?`}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ie(),disabled:Re,children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>V(!U),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>V(!U),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:H,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:Ye,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Je(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[" ",Ue&&(0,w.jsx)(qe,{value:ee,items:ce,placeholder:"Tienda desde donde se quiere mover",setValue:te}),(0,w.jsx)(qe,{value:ae,items:fe,placeholder:"Tienda a la que se quiere mover",setValue:oe})]}),(0,w.jsx)(u.default,{onPress:()=>_e(),style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:150,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>q(!H),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsxs)(n.default,{style:nt.paginationContainer,children:[(0,w.jsx)(u.default,{style:[nt.paginationButtonMovil,0===O&&nt.disabledButton],onPress:()=>Xe(O-1),disabled:0===O,children:(0,w.jsx)(s.default,{style:nt.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:nt.paginationLabel,children:`${O*P+1}-${Math.min((O+1)*P,i)} de ${i}`}),(0,w.jsx)(u.default,{style:[nt.paginationButtonMovil,(O+1)*P>=i&&nt.disabledButton],onPress:()=>Xe(O+1),disabled:(O+1)*P>=i,children:(0,w.jsx)(s.default,{style:nt.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:T,children:(0,w.jsxs)(ne.default,{children:[Qe(),E.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>ke(e.id_Producto),children:[(0,w.jsx)(ne.default.Cell,{style:nt.handerRowDesktop,children:e.sku}),(0,w.jsx)(ne.default.Cell,{style:nt.handerRowDesktop,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:nt.handerRowDesktop,children:e.precioUSD}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:nt.handerRowDesktop,children:(parseFloat(e.precioUSD)*k).toFixed(2)}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:{flex:1.5,justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsxs)(s.default,{style:{marginRight:"13%"},children:[e.cantidadTotal," "]})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:{flex:.5,justifyContent:"center",flexDirection:"row",alignItems:"center"},children:He(e)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,justifyContent:"center",alignItems:"center",borderRadius:12,height:"60%",width:"80%",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,marginRight:"100%"},onPressIn:Ze,onPressOut:et,onPress:()=>dt(e.id_Producto),children:(0,w.jsx)(l.default,{source:a(575),style:{width:"70%",height:"70%"}})})})]},e.id_Producto))),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",onRequestClose:()=>dt(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Pe&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ct("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ct("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(Ue||Ne)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ct("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>dt(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ut(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>W(!F),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>W(!F),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:H,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:500,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:""===ee?"Seleccione una tienda origen":`Mover Producto "${ot}" en la Tienda ${re} con una cantidad de ${se}`}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:Ye,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Je(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[" ",Ue&&(0,w.jsx)(qe,{value:ee,items:ce,placeholder:"Tienda desde donde se quiere mover",setValue:te}),(0,w.jsx)(qe,{value:ae,items:fe,placeholder:"Tienda a la que se quiere mover",setValue:oe})]}),(0,w.jsx)(u.default,{onPress:()=>_e(),style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:150,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>q(!H),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:U,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:450,height:250,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Desea mover ${Ye} producto ${ot} desde la tienda ${me} a ${ye}?`}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ie(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>V(!U),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>V(!U),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Y,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Q}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>{J?d.replace("Productos"):K(!Y)},children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:nt.paginationContainer,children:[(0,w.jsx)(u.default,{style:[nt.paginationButtonDesktop,0===O&&nt.disabledButton],onPress:()=>Xe(O-1),disabled:0===O,children:(0,w.jsx)(s.default,{style:nt.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:nt.paginationLabel,children:`${O*P+1}-${Math.min((O+1)*P,i)} of ${i}`}),(0,w.jsx)(u.default,{style:[nt.paginationButtonDesktop,(O+1)*P>=i&&nt.disabledButton],onPress:()=>Xe(O+1),disabled:(O+1)*P>=i,children:(0,w.jsx)(s.default,{style:nt.paginationLabel,children:"Pr\xf3xima"})})]})]})})},nt=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRowDesktop:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},handerRowMovil:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});var st=a(1614),lt=a(4090);const dt=({items:e,columns:t})=>{(0,b.useNavigation)();const[a]=o.useState(new c.default.Value(1)),[r,i]=o.useState(0),[l,d]=o.useState(3),[f,g]=o.useState([]);o.useEffect((()=>{const t=r*l,a=Math.min((r+1)*l,e.length);g([]),setTimeout((()=>{g(e.slice(t,a))}),0)}),[r,e,l]);const x=t=>{t>=0&&t*l<e.length&&i(t)},[p,y]=o.useState(!1);return(0,w.jsx)(n.default,{style:ct.containerDesktop,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[(0,w.jsx)(ne.default.Header,{style:{justifyContent:"space-between"},children:t.map(((e,t)=>(0,w.jsx)(ne.default.Title,{style:[ct.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsx)(s.default,{style:ct.headerTextDesktop,children:e})},t)))}),f.filter((e=>0!==parseInt(e.cantidad))).map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>{},children:[(0,w.jsx)(ne.default.Cell,{style:ct.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"left"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:ct.handerRow,children:e.cantidad})]},e.id_tienda))),(0,w.jsxs)(n.default,{style:ct.paginationContainer,children:[(0,w.jsx)(u.default,{style:[ct.paginationButtonMovil,0===r&&ct.disabledButton],onPress:()=>x(r-1),disabled:0===r,children:(0,w.jsx)(s.default,{style:ct.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:ct.paginationLabel,children:`${r*l+1}-${Math.min((r+1)*l,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[ct.paginationButtonMovil,(r+1)*l>=e.length&&ct.disabledButton],onPress:()=>x(r+1),disabled:(r+1)*l>=e.length,children:(0,w.jsx)(s.default,{style:ct.paginationLabel,children:"Pr\xf3xima"})})]})]})})})},ct=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),ut=({items:e,columns:t})=>{(0,b.useNavigation)();const[a]=o.useState(new c.default.Value(1)),[r,i]=o.useState(0),[l,d]=o.useState(3),[f,g]=o.useState([]);o.useEffect((()=>{const t=r*l,a=Math.min((r+1)*l,e.length);g([]),setTimeout((()=>{g(e.slice(t,a))}),0)}),[r,e,l]);const x=t=>{t>=0&&t*l<e.length&&i(t)},[p,y]=o.useState(!1);return(0,w.jsx)(n.default,{style:ht.containerDesktop,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[(0,w.jsx)(ne.default.Header,{style:{justifyContent:"space-between"},children:t.map(((e,t)=>(0,w.jsx)(ne.default.Title,{style:[ht.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsx)(s.default,{style:ht.headerTextDesktop,children:e})},t)))}),f.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>{},children:[(0,w.jsx)(ne.default.Cell,{style:ht.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"left"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:ht.handerRow,children:e.cantidad}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:ht.handerRow,children:e.costoPorUnidad})]},e.id_proveedor))),(0,w.jsxs)(n.default,{style:ht.paginationContainer,children:[(0,w.jsx)(u.default,{style:[ht.paginationButtonMovil,0===r&&ht.disabledButton],onPress:()=>x(r-1),disabled:0===r,children:(0,w.jsx)(s.default,{style:ht.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:ht.paginationLabel,children:`${r*l+1}-${Math.min((r+1)*l,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[ht.paginationButtonMovil,(r+1)*l>=e.length&&ht.disabledButton],onPress:()=>x(r+1),disabled:(r+1)*l>=e.length,children:(0,w.jsx)(s.default,{style:ht.paginationLabel,children:"Pr\xf3xima"})})]})]})})})},ht=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),ft=async e=>{try{return(await P.default.get(`${M}/Entrada`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&$("Login"),console.log("Error al obtener datos de todas las entradas: ",t),!1}},gt=async(e,t)=>{try{return(await P.default.get(`${M}/Entrada/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener datos de una entrada en espec\xedfico segun el ID: ",a),!1}},xt=async(e,t,a,o,r,i,n)=>{try{return(await P.default.post(`${M}/Entrada/createEntrada`,{costo:t,cantidad:a,fecha:o,proveedor:{id_proveedor:r},producto:{id_producto:i},tienda:{id_tienda:n}},{headers:{Authorization:`${e}`}})).data}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&$("Login"),console.log("Error incertar la entrada: ",s),!1}},pt=async(e,t)=>{try{return(await P.default.get(`${M}/Entrada/Producto/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener todos las entradas seg\xfan el producto: ",a),!1}},yt=async(e,t)=>{try{return(await P.default.get(`${M}/Entrada/getProveedores/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener todos las entradas seg\xfan el proveedor: ",a),!1}},wt=async(e,t,a,o,r,i,n,s)=>{try{return(await P.default.put(`${M}/Entrada/updateEntrada/${t}`,{costo:a,cantidad:o,fecha:r,proveedor:{id_proveedor:i},producto:{id_producto:n},tienda:{id_tienda:s}},{headers:{Authorization:`${e}`}})).data}catch(l){return P.default.isAxiosError(l)&&401===l.response?.status&&$("Login"),console.log("Error modificar la entrada: ",l),!1}},mt=async(e,t)=>{try{return(await P.default.delete(`${M}/Entrada/deleteEntrada/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error incertar la entrada: ",a),!1}},jt=async(e,t,a,o,r,i,n)=>{try{return(await P.default.post(`${M}/Entrada/api/filtrar`,{nombre_producto:a,nombre_proveedor:t,costo_liminf:o,costo_limsup:r,fecha_liminf:i,fecha_limsup:n},{headers:{Authorization:`${e}`}})).data}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&$("Login"),console.log("Error al filtrar los datos: ",s),!1}},bt=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Entrada/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error al ordenar las entradas: ",r),!1}};var Ct=a(7045);const St=(0,o.createContext)(void 0),vt=({children:e})=>{const[t,a]=(0,o.useState)({isOnToken:!1});return(0,w.jsx)(St.Provider,{value:{navigationLostDates:t,setNavigationLostDates:a},children:e})},It=()=>{const e=o.useContext(St);if(void 0===e)throw new Error("useNavigationLostDates debe usarse dentro de un NavigationLostDatesProvider");return e},_t=(e,t)=>{let a=0,o=0,r=0;return e.forEach((e=>{r+=e.cantidad})),r-=t,e.forEach((e=>{let t=e;if(parseInt(t.cantidad)>r){t.cantidad-=r,r=0;let e=parseFloat(t.costo),i=parseFloat(t.cantidad);o=(a*o+i*e)/(a+i),a+=i}else r-=parseInt(t.cantidad)})),o.toFixed(5)};function kt(){(0,b.useNavigation)();const{width:e}=(0,d.default)(),t=e<930,{usuario:r}=v(),{sortProductos:i}=he(),{modalProductsDates:g,setModalProductsDates:m}=de(),{navigationLostDates:j,setNavigationLostDates:C}=It(),{paginadoProductos:S,setPaginadoProductos:I}=rt(),[_,k]=(0,o.useState)(0),[R,T]=(0,o.useState)(!1),O=(0,o.useRef)(new c.default.Value(0)).current,[z,P]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[M,A]=(0,o.useState)(""),[$,L]=(0,o.useState)(""),[B,N]=(0,o.useState)(""),[F,W]=(0,o.useState)(""),[U,V]=(0,o.useState)(""),[H,q]=(0,o.useState)(""),[Y,K]=(0,o.useState)([]),[J,X]=(0,o.useState)([]),[Q,Z]=(0,o.useState)([]),[ee,oe]=o.useState(!1),[re,ne]=o.useState(!1),[se,le]=o.useState(!1),[ce,ue]=(0,o.useState)(!1),[fe,ge]=(0,o.useState)(!1),[ye,we]=(0,o.useState)(!1),[me,je]=o.useState(""),[be,Se]=o.useState(!1),[Ie,Re]=(0,o.useState)(!1),[De,Ee]=(0,o.useState)(!1);let Ae=!1;const $e=()=>{},Le=()=>{R?c.default.timing(O,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>T(!1))):(T(!0),c.default.timing(O,{toValue:400,duration:300,useNativeDriver:!1}).start())},Ne={height:O},[We,Ue]=(0,o.useState)([]),[He,qe]=(0,o.useState)(0),[Ke,Je]=(0,o.useState)([]),[Xe,Qe]=(0,o.useState)([]),Ze=e=>{"Enter"===e.nativeEvent.key&&$t()},et=(0,o.useRef)(null);(0,o.useEffect)((()=>{g?.isAddProducto&&et.current?.focus()}),[g?.isAddProducto]),(0,o.useEffect)((()=>{j?.isOnToken&&alert(j.isOnToken)}),[j?.isOnToken]),(0,o.useEffect)((()=>{if(fe&&void 0!==S?.page&&r?.token&&ye){(async()=>{if(void 0!=r?.token)try{const e=await ke(r.token,S.page+1);if(qe(e.cantidad_total_productos),e&&Array.isArray(e.productos)){const t=await Promise.all(e.productos.map((async e=>{let t=!1;for(let a of e.tiendas)if(r.id_tienda===a.id_tienda){t=!0;break}return{id_Producto:e.id_producto,nombre:e.nombre,sku:e.Sku,cantidadTotal:e.cantidad_total,precioUSD:e.precio.toString(),tieneOpciones:t}})));Ue((e=>[...e,...t]))}else console.log("No se encontraron productos.")}catch(e){console.log("Error al obtener los productos o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de los productos")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de los productos")})()}}),[S]);const[tt,at]=(0,o.useState)([]),[ot,nt]=(0,o.useState)(""),[ct,ht]=(0,o.useState)(""),[ft,gt]=(0,o.useState)(""),[xt,yt]=(0,o.useState)(""),[wt,mt]=(0,o.useState)(""),[jt,bt]=(0,o.useState)(null),[St,vt]=(0,o.useState)(null),[kt,Rt]=(0,o.useState)(!1),[Tt,Ot]=(0,o.useState)(!1),zt=()=>{m({id_producto:"",isAddProducto:!1,isModificarProducto:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1})},Dt=async()=>{if(r?.token&&g?.id_producto){const e=await Oe(r.token,g.id_producto);if(e){P(e.id_producto),A(e.nombre),L(e.precio),W(e.precio_empresa),V(e.Sku),q(e.descripcion||""),(async e=>{if(r?.token){const t=await Ce(r.token,e);if(Array.isArray(t)){const e=t.map((e=>({id_tienda:e.tienda.id_tienda.toString(),nombre:e.tienda.nombre,cantidad:e.cantidad.toString()})));Je(e)}}})(e.id_producto),(async e=>{try{if(r?.token){const t=await pt(r?.token,e),a=await Te(r.token,e);if(t){N(_t(t,a));const e=t.map((e=>({id_proveedor:e.proveedor.id_proveedor,nombre:e.proveedor.nombre,cantidad:e.cantidad,costoPorUnidad:e.costo})));Qe(e)}}}catch(t){console.log("Error al cargar los proveedores por producto:",t)}})(e.id_producto);const t=e.imagenes.map((async e=>{let t=await e.url,a=await e.id_imagen,o=t.substring(1,t.length);return t=E+o,{uri:t,id:a}})),a=await Promise.all(t);K(a)}}};(0,o.useEffect)((()=>{fe&&Dt()}),[g]);const Pt=async e=>{if(ne(!1),Rt(!0),void 0!=r?.token)try{const t=await ke(r.token,e);if(qe(t.cantidad_total_productos),t&&Array.isArray(t.productos)){const e=await Promise.all(t.productos.map((async e=>{let t=!1;if(Ae)for(let a of e.tiendas)if(r.id_tienda===a.id_tienda){t=!0;break}return{id_Producto:e.id_producto,nombre:e.nombre,sku:e.Sku,cantidadTotal:e.cantidad_total,precioUSD:e.precio.toString(),tieneOpciones:t}})));Ue(e)}else console.log("No se encontraron productos.")}catch(t){console.log("Error al obtener los productos o verificar permisos:",t),alert("Ocurri\xf3 un problema al cargar los datos de los productos")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de los productos");Rt(!1)};const Mt=async()=>{ge(!1),I({page:1}),await(async()=>{if(r?.token){const e=await xe(r.token,"6",r.id_usuario),t=await xe(r.token,"38",r.id_usuario),a=await xe(r.token,"7",r.id_usuario),o=await xe(r.token,"8",r.id_usuario),i=await xe(r.token,"30",r.id_usuario),n=await xe(r.token,"31",r.id_usuario);k(await ve(r.token)),Ae=o||a||i||n,Re(e),Ee(t)}})(),await Pt(S.page),await(async()=>{if(void 0!=r?.token){const e=await pe(r.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));at([{label:"Seleccione una tienda",value:""},...t])}}})(),ge(!0)};(0,b.useFocusEffect)((0,o.useCallback)((()=>(Mt(),()=>{})),[])),(0,o.useEffect)((()=>{fe&&$t()}),[i,St]),(0,o.useEffect)((()=>{we(""===ot&&""===ct&&""===ft&&""===xt&&""===wt&&null===jt)}),[ot,ct,ft,xt,wt,jt]);const[Et,At]=(0,o.useState)(!1),$t=async()=>{Rt(!0);try{if(r?.token){let e=await(async()=>{if(r?.token)try{const e=await Be(r.token,ot,ct,xt,wt,ft,jt??"");if(e)return await Promise.all(e.map((async e=>({id_Producto:e.id_producto,nombre:e.nombre,sku:e.Sku,cantidadTotal:e.cantidad_total,precioUSD:e.precio.toString(),precioEmpresaUSD:e.precio_empresa}))))}catch(e){return console.error("Error al filtrar los productos:",e),null}return null})();At(!Et),i?.criterioOrden&&i.tipoOrden&&(e=await Fe(r.token,e,i.criterioOrden,Et)),qe(e.length),Ue(e)}}catch(e){console.error("Error al filtrar y ordenar los productos:",e)}finally{Rt(!1)}},Lt=async()=>{(0,st.launchImageLibrary)({mediaType:"photo",quality:.8,includeBase64:!1,selectionLimit:100},(async e=>{if(e.didCancel)console.log("El usuario cancel\xf3 la selecci\xf3n de la imagen.");else if(e.errorMessage)console.error("Error al seleccionar la imagen: ",e.errorMessage);else if(e.assets&&e.assets.length>0){const t=await Promise.all(e.assets.map((async e=>{if(e.uri){const a=await Ft(e.uri);try{if(a>307200){const t=await fetch(e.uri),a=await t.blob(),o=new File([a],e.fileName||"image.jpg",{type:a.type}),r=await(0,Ct.default)(o,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0}),i=await Bt(r);return Object.assign({},e,{uri:i,isCompressed:!0})}{const t=await Nt(e.uri);if(!t.startsWith("data:image"))throw new Error("Conversi\xf3n incorrecta de la URI a base64");return Object.assign({},e,{uri:t,isCompressed:!1})}}catch(t){console.error(`Error al procesar la imagen (${e.fileName||"sin nombre"}):`,t)}}return e})));K(t)}else console.log("No se seleccion\xf3 ninguna imagen.")}))},Bt=e=>new Promise(((t,a)=>{const o=new FileReader;o.onload=()=>t(o.result),o.onerror=e=>a(e),o.readAsDataURL(e)})),Nt=async e=>{try{const t=await fetch(e),a=await t.blob();return Bt(new File([a],"image.jpg",{type:a.type}))}catch(t){throw console.error("Error al convertir URI a base64:",t),t}},Ft=async e=>{try{const t=await fetch(e);return(await t.blob()).size}catch(t){return console.error("Error al obtener el tama\xf1o del archivo:",t),0}},Wt=e=>{const t=Y.filter(((t,a)=>a!==e)),a=Y.filter(((t,a)=>a===e))[0];X((e=>[...e,a])),K(t)},Ut=()=>{nt(""),ht(""),gt(""),yt(""),mt(""),vt(""),bt(null)},Vt=async()=>{if(!be){if(Se(!0),ue(!1),je("Agregando producto. Espere por favor"),ne(!0),r?.token){let e=!0,t="ERROR AL INSERTAR PRODUCTO. Por favor compruebe los siguientes campos:\n";const a=await _e(r.token);if(a&&Array.isArray(a.data)&&a.data.forEach((a=>{a.Sku===U&&(e=!1,t+=`-El SKU debe ser \xfanico. Coincide con el SKU de  ${a.nombre}`)})),""===M.trim()&&(t+="-El nombre no puede ser vac\xedo.\n",e=!1),""==U.trim()&&(t+="-El SKU no puede ser vac\xedo.\n",e=!1),""===String($).trim()&&(t+="-El precio en USD del producto no puede ser vac\xedo.\n",e=!1),""===String(F).trim()&&(t+="-El precio de la empresa en USD no puede ser vac\xedo.\n",e=!1),e){const e=await ze(r.token,M,U,$,F,H);if(e){const t={id_Producto:e.id_producto,nombre:M,sku:U,cantidadTotal:await Te(r.token,e.id_producto),precioUSD:$,tieneOpciones:!0};Ue((e=>[...e,t]));let a=[],o=[];for(const[u,h]of Y.entries()){const t=await Ye(r.token,h,`\\${e.id_producto}_${u}.jpg`);t?a.push(t):alert("Error en algo de las imagenes")}let i=0;for(;i<a.length;)o.push({id_imagen:a[i].id_imagen}),i++;await Pe(r.token,e.id_producto,o);const n=new Date,s=String(n.getFullYear()),l=String(n.getMonth()+1).padStart(2,"0"),d=String(n.getDate()).padStart(2,"0");let c=`El usuario ${r.nombre} agreg\xf3 al sistema el producto ${M} a un precio en usd de ${$} y con un precio de empresa en usd de ${F}`;await G(r.token,c,`${s}-${l}-${d}`,r.id_usuario,1),je(`El Producto ${M} fue agregado con \xe9xito`),ue(!0),ne(!0),V(""),A(""),L(""),q(""),W(""),K([]),m({id_producto:"",isAddProducto:!1,fileEditable:!0,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1})}else alert("Error al agregar prducto")}else je(t),ne(!0),le(!1),ue(!0)}Se(!1)}},Ht=async()=>{if(!be){if(Se(!0),ue(!1),je("Modificando producto. Espere por favor"),ne(!0),r?.token){let e=!0,t="ERROR AL MODIFICAR PRODUCTO. Por favor compruebe los siguientes campos:\n";""===M.trim()&&(t+="-El nombre no puede ser vac\xedo.\n",e=!1),""===U.trim()&&(t+="-El SKU no puede ser vac\xedo.\n",e=!1),""===String($).trim()&&(t+="-El precio en USD del producto no puede ser vac\xedo.\n",e=!1),""===String(F).trim()&&(t+="-El precio de la empresa en USD no puede ser vac\xedo.\n",e=!1);let a=[],o=[];if(e){for(const[o,d]of Y.entries())if(d.id){const e=await Ye(r.token,d,`\\${z}_${o}.jpg`);e?a.push(e):alert("Error en algo de las imagenes")}let e=0;for(;e<a.length;)o.push({id_imagen:a[e].id_imagen}),e++;await Pe(r.token,z,o),await Me(r.token,z,M,U,$,F,H),J.forEach((async e=>{e.id&&e.uri&&await Ge(r.token,e.id,e.uri.split("/")[3])}));const t=new Date,i=String(t.getFullYear()),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");let l=`El usuario ${r.nombre} modific\xf3 el producto ${M}`;await G(r.token,l,`${i}-${n}-${s}`,r.id_usuario,1),le(!0),je(`El Producto "${M}" se modific\xf3 con \xe9xito`),ne(!0),ue(!0)}else je(t),ue(!0),le(!1),ne(!0)}Se(!1)}},qt=["Nombre","Cantidad"],Yt=["Nombre","Cantidad","Costo"],Gt=["SKU","Nombre","USD","CUP","Cantidad"," "];return t?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:Ie&&(0,w.jsx)(u.default,{onPress:()=>m({id_producto:"",isAddProducto:!0,fileEditable:!0,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1}),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Producto"})})}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Le,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[kt?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(it,{isMobile:t,items:We,columns:Gt,columnasMyDateTableProveedorModal:Yt,columnasMyDateTableTiendaModal:qt,tiendasByProducto:Ke,proveedorByProducto:Xe,imtemsLength:He}),R&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Ne],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del producto",value:ot,onKeyPress:Ze,onChangeText:nt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"SKU:"}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Cantidad:"})]}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"SKU",value:ct,onKeyPress:Ze,onChangeText:ht}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Cantidad",value:ft,onKeyPress:Ze,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");gt(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Precio USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:xt,onKeyPress:Ze,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");yt(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:wt,onKeyPress:Ze,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");mt(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Buscar por Tienda:"}),(0,w.jsx)(n.default,{style:{position:"relative",zIndex:500,height:100},children:(0,w.jsx)(ie,{value:jt,placeholder:"Seleccione un Tiendas",setValue:bt,items:tt})}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ut,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{$t(),T(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:g?.isAddProducto??!1,animationType:"fade",onRequestClose:zt,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:zt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:g?.isModificarProducto?"Modificar Producto":g?.isAddProductoShowProveedoresTiendas?"Datos del Producto":"Agregar Producto"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Producto"})}),(0,w.jsx)(D,{style:p.textImputModal,value:M,onChangeText:A,cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Nombre del producto"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:$,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;L(a)},cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Precio en USD"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio de empresa en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:F,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;W(a)},cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Precio de empresa en CUP"})]})]}),!g?.isModificarProducto&&((g?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:(parseFloat($)*_).toFixed(2),cursorColor:x.azul_Oscuro,editable:!1,placeholder:"Precio en CUP"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[De&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo Promedio"}),De&&(0,w.jsx)(D,{style:p.textImputModal,value:B,cursorColor:x.azul_Oscuro,editable:!1,placeholder:"Costo Promedio"})]})]})),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Sku"}),(0,w.jsx)(D,{style:p.textImputModal,value:U,onChangeText:V,cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Sku"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:p.textImputModal,value:H,onChangeText:q,cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Descripci\xf3n"})]})]}),!g?.isModificarProducto&&((g?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(n.default,{style:{borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,flexDirection:"row",height:350,width:"90%"},children:[(0,w.jsxs)(n.default,{style:{flexDirection:"column",height:340,width:"45%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Tiendas en las que existe el producto"}),(0,w.jsx)(dt,{columns:qt,items:Ke})]}),(g?.isAddProductoShowProveedores??!1)&&De&&(0,w.jsxs)(n.default,{style:{height:340,width:"45%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Historial de proveedores"}),(0,w.jsx)(ut,{columns:Yt,items:Xe})]})]})),(0,w.jsx)(lt.PanGestureHandler,{onGestureEvent:$e,children:(0,w.jsxs)(n.default,{style:{marginTop:20,width:"90%",borderWidth:1,borderColor:x.azul_Oscuro,borderRadius:13,padding:20,alignItems:"center",justifyContent:"center",backgroundColor:x.blanco_Suave},children:[(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,marginBottom:"5%"},children:"Im\xe1genes del producto"}),(g?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Lt,children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Seleccionar Im\xe1genes"})}),Y.length>0&&(0,w.jsx)(h.default,{horizontal:!0,style:{marginTop:10,width:"100%",height:100},children:Y.map(((e,t)=>(0,w.jsxs)(n.default,{style:{position:"relative",width:100,height:100,marginRight:10},children:[(0,w.jsx)(l.default,{source:{uri:e.uri},style:{width:100,height:100,marginRight:10,borderRadius:10}},t),(0,w.jsx)(u.default,{style:{position:"absolute",top:5,right:5,backgroundColor:"red",borderRadius:15,width:20,height:20,justifyContent:"center",alignItems:"center",zIndex:1},onPress:()=>Wt(t),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:"X"})})]},t)))})]})}),(g?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>g?.isModificarProducto?Ht():Vt(),disabled:be,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:g?.isModificarProducto?"Modificar Producto":"Agregar Producto"})})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:re,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:me}),ce&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>se?Pt(1):ne(!re),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ee,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:me}),Tt?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Datos Recopilados. Espere a que termine la descarga."}),(0,w.jsx)(u.default,{style:{backgroundColor:"#007BFF",padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>oe(!ee),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:[Ie&&(0,w.jsx)(u.default,{onPress:()=>{A(""),L(""),W(""),V(""),q(""),K([]),m({id_producto:"",isAddProducto:!0,fileEditable:!0,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1})},style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"1%",marginTop:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===i?.criterioOrden&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Producto"})}),(0,w.jsxs)(u.default,{onPress:()=>(async()=>{if(je("Recopilando datos de todos los productos filtrados para el Exel. Espere un momento por favor."),Ot(!0),oe(!0),r?.token)if(We.length<He){const e=await pe(r.token),t=await Be(r.token,"","","","","","");if(e&&Array.isArray(e.data)&&t&&Array.isArray(t)){let a=[];for(let i of t){const t={sku:i.Sku,Nombre:i.nombre,Existencia:i.cantidad_total,Precio_USD:parseFloat(i.precio).toFixed(2),Precio_CUP:(parseFloat(i.precio)*_).toFixed(0),Precio_Mayorista:i.precio_empresa},o=await Ce(r.token,i.id_producto);if(o&&Array.isArray(o)){for(let e of o)t[e.tienda.nombre]=e.cantidad??0;for(let a of e.data)t[a.nombre]||(t[a.nombre]=0)}a.push(t)}const o=await Ve(r.token,[],a);if(o){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=window.URL.createObjectURL(o),n=document.createElement("a");n.href=i,n.download=`Productos_${t}-${a}-${r}.xlsx`,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}else console.error("No se pudo descargar el archivo.")}}else{const e=await pe(r.token);if(e&&Array.isArray(e.data)){let t=[];for(let o of We){const a={sku:o.sku,Nombre:o.nombre,Existencia:o.cantidadTotal,Precio_USD:parseFloat(o.precioUSD).toFixed(2),Precio_CUP:(parseFloat(o.precioUSD)*_).toFixed(0),Precio_Mayorista:o.precioEmpresaUSD??"0"},i=await Ce(r.token,o.id_Producto);if(i&&Array.isArray(i)){for(let e of i)a[e.tienda.nombre]=e.cantidad??0;for(let t of e.data)a[t.nombre]||(a[t.nombre]=0)}t.push(a)}const a=await Ve(r.token,[],t);if(a){const e=new Date,t=String(e.getFullYear()),o=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=window.URL.createObjectURL(a),n=document.createElement("a");n.href=i,n.download=`Productos_${t}-${o}-${r}.xlsx`,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}else console.error("No se pudo descargar el archivo.")}}Ot(!1)})(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.verde_claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"1%",marginTop:"1%",backgroundColor:x.verde_claro},children:[(0,w.jsx)(l.default,{source:a(7520),style:{width:20,height:20,marginRight:"10%"}}),(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===i?.criterioOrden&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Exportar a Excel"})]})]}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:ot,onKeyPress:Ze,onChangeText:nt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"SKU:"}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Cantidad:"})]}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"SKU",onKeyPress:Ze,value:ct,onChangeText:ht}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Cantidad",value:ft,onKeyPress:Ze,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");gt(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Precio en USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",onKeyPress:Ze,value:xt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");yt(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:wt,onKeyPress:Ze,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");mt(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Buscar por Tienda:"}),(0,w.jsx)(n.default,{style:{position:"relative",zIndex:500,height:100},children:(0,w.jsx)(ie,{value:jt,placeholder:"Seleccione una Tienda",setValue:bt,items:tt})}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ut,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>$t(),children:"Buscar"})})]})]}),kt?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(it,{isMobile:t,items:We,columns:Gt,columnasMyDateTableProveedorModal:Yt,columnasMyDateTableTiendaModal:qt,tiendasByProducto:Ke,proveedorByProducto:Xe,imtemsLength:He})]}),(0,w.jsx)(f.default,{transparent:!0,visible:g?.isAddProducto??!1,animationType:"fade",onRequestClose:zt,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:zt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:g?.isModificarProducto?"Modificar Producto":g?.isAddProductoShowProveedoresTiendas?"Datos del Producto":"Agregar Producto"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Producto"})}),(0,w.jsx)(D,{ref:et,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:g?.fileEditable,value:M,onChangeText:A,placeholder:"Nombre del producto"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:$,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;L(a)},editable:!!g?.fileEditable,placeholder:"Precio en USD"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio de empresa en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:F,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;W(a)},cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Precio de empresa en CUP"})]})]}),!g?.isModificarProducto&&((g?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:(parseFloat($)*_).toFixed(2),cursorColor:x.azul_Oscuro,editable:!1,placeholder:"Precio en CUP"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[De&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo Promedio"}),De&&(0,w.jsx)(D,{style:p.textImputModal,value:B,cursorColor:x.azul_Oscuro,editable:!1,placeholder:"Costo Promedio"})]})]})),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Sku"}),(0,w.jsx)(D,{style:p.textImputModal,value:U,onChangeText:V,cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Sku"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:p.textImputModal,value:H,onChangeText:q,cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Descripci\xf3n"})]})]}),!g?.isModificarProducto&&((g?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(n.default,{style:{borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,flexDirection:"row",height:350,width:"90%"},children:[(0,w.jsxs)(n.default,{style:{flexDirection:"column",height:350,width:"50%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiendas en las que existe el producto"}),(0,w.jsx)(dt,{columns:qt,items:Ke})]}),(g?.isAddProductoShowProveedores??!1)&&De&&(0,w.jsxs)(n.default,{style:{height:350,width:"50%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Historial de proveedores"}),(0,w.jsx)(ut,{columns:Yt,items:Xe})]})]})),(0,w.jsx)(lt.PanGestureHandler,{onGestureEvent:$e,children:(0,w.jsxs)(n.default,{style:{marginTop:20,width:"90%",borderWidth:1,borderColor:x.azul_Oscuro,borderRadius:13,padding:20,alignItems:"center",justifyContent:"center",backgroundColor:x.blanco_Suave},children:[(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,marginBottom:"5%"},children:"Im\xe1genes del producto"}),(g?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Lt,children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Seleccionar Im\xe1genes"})}),Y.length>0&&(0,w.jsx)(h.default,{horizontal:!0,style:{marginTop:10,width:"100%",height:100},children:Y.map(((e,t)=>(0,w.jsxs)(n.default,{style:{position:"relative",width:100,height:100,marginRight:10},children:[(0,w.jsx)(l.default,{source:{uri:e.uri},style:{width:100,height:100,marginRight:10,borderRadius:10}},t),g?.fileEditable&&(0,w.jsx)(u.default,{style:{position:"absolute",top:5,right:5,backgroundColor:"red",borderRadius:15,width:20,height:20,justifyContent:"center",alignItems:"center",zIndex:1},onPress:()=>Wt(t),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:"X"})})]},t)))})]})}),(g?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>g?.isModificarProducto?Ht():Vt(),disabled:be,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:g?.isModificarProducto?"Modificar Producto":"Agregar Producto"})})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:re,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:me}),ce&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>se?Pt(1):ne(!re),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ee,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:me}),Tt?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Datos Recopilados. Espere a que termine la descarga."}),(0,w.jsx)(u.default,{style:{backgroundColor:"#007BFF",padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>oe(!ee),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})]})})})]})}function Rt(){const{width:e}=(0,d.default)(),t=e<930,{setUsuario:r,usuario:i}=((0,b.useNavigation)(),v()),{permisosUsuarioNavbar:s,setPermisosUsuarioNavbar:c}=ee();return(0,o.useEffect)((()=>{(async()=>{if(i?.token){const e=await xe(i.token,"9",i.id_usuario),t=await xe(i.token,"38",i.id_usuario),a=await xe(i.token,"13",i.id_usuario),o=await xe(i.token,"30",i.id_usuario),r=await xe(i.token,"31",i.id_usuario),n=await xe(i.token,"1",i.id_usuario),s=await xe(i.token,"2",i.id_usuario),l=await xe(i.token,"3",i.id_usuario),d=await xe(i.token,"15",i.id_usuario),u=await xe(i.token,"20",i.id_usuario),h=await xe(i.token,"21",i.id_usuario),f=await xe(i.token,"22",i.id_usuario),g=await xe(i.token,"18",i.id_usuario),x=await xe(i.token,"17",i.id_usuario),p=await xe(i.token,"16",i.id_usuario),y=await xe(i.token,"19",i.id_usuario),w=await xe(i.token,"32",i.id_usuario),m=await xe(i.token,"33",i.id_usuario),j=await xe(i.token,"34",i.id_usuario);c({resultAccionesView:d,resultAgregarUsuario:n,resultEliminarUsuario:l,resultEntradaView:a,resultModificarUsuario:s,resultMovimientoGeneralView:r,resultMovimientoLocalView:o,resultProductoView:e,resultProveedorView:t,resultTipoServicio:u||h||f,resultClienteView:y||p||x||g,resultGarantiaView:j||w||m})}})()}),[]),t?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsxs)(n.default,{style:{flex:1,justifyContent:"space-around",alignItems:"center",flexDirection:"column"},children:[(0,w.jsx)(l.default,{source:a(788),style:{width:"60%",height:"55%"}}),(0,w.jsx)(l.default,{source:a(7587),style:{width:"90%",height:"30%"}})]})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsxs)(n.default,{style:{flex:1,justifyContent:"space-around",alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(l.default,{source:a(788),style:{width:"25%",height:"60%",marginTop:"5%"}}),(0,w.jsx)(l.default,{source:a(7587),style:{width:"50%",height:"40%"}})]})]})}a(7239);const Tt=g.default.create({container:{flex:1,marginTop:"1%",marginLeft:"5%",alignItems:"center",justifyContent:"flex-start",zIndex:1,position:"relative"},dropdown:{backgroundColor:x.blanco,borderColor:x.azul_Suave,borderRadius:13,width:"95%",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,zIndex:1e3},dropdownTextDesktop:{fontSize:16,fontWeight:"bold",color:x.negro},dropdownTextMovil:{fontSize:12,fontWeight:"bold",color:x.negro},dropdownContainer:{borderColor:x.azul_Suave,backgroundColor:x.blanco,width:"95%",zIndex:1e3},searchInput:{borderColor:x.azul_Suave,borderWidth:1,borderRadius:10,padding:10,fontSize:14}}),Ot=({value:e,setValue:t,items:a,placeholder:r,searchable:i,readOnly:s=!1,onDropdownOpen:l})=>{const[c,u]=(0,o.useState)(!1),{width:h}=(0,d.default)(),f=h<1150?Tt.dropdownTextMovil:Tt.dropdownTextDesktop;(0,o.useEffect)((()=>{c&&l&&l()}),[c]);return(0,w.jsx)(n.default,{style:Tt.container,children:(0,w.jsx)(oe.default,{open:c,value:e,items:a,setOpen:()=>{s||u((e=>!e))},setValue:t,setItems:()=>{},placeholder:r,style:Tt.dropdown,textStyle:f,dropDownContainerStyle:Tt.dropdownContainer,searchable:i&&!s,searchPlaceholder:"Buscar...",searchTextInputStyle:Tt.searchInput,zIndex:1e3,disabled:s})})},zt=(0,o.createContext)(void 0),Dt=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(zt.Provider,{value:{modalEntradasDates:t,setModalEntradasDates:a},children:e})},Pt=()=>{const e=o.useContext(zt);if(void 0===e)throw new Error("useModalEntradasDates debe usarse dentro de un ModalEntradasDates");return e},Mt=({dayValue:e,monthValue:t,yearValue:a,onDayChange:r,onMonthChange:i,onYearChange:l,style:d,styleText:c,isReadOnly:u=!1,onDropdownOpen:h})=>{const[f,g]=(0,o.useState)(e),[x,p]=(0,o.useState)(t),[y,m]=(0,o.useState)(a),[j,b]=(0,o.useState)([]),[C,S]=(0,o.useState)(null);(0,o.useEffect)((()=>{const e=((e,t)=>new Date(t,e,0).getDate())(Number(x),Number(y)),t=Array.from({length:e},((e,t)=>({label:String(t+1),value:String(t+1)})));Number(f)>e&&g(String(e)),b(t)}),[x,y]);const v=(e,t,a)=>{r(e),i(t),l(a)},I=e=>{C===e?S(null):(S(e),h&&h())};return(0,w.jsxs)(n.default,{style:[Et.container,d],children:[(0,w.jsxs)(n.default,{style:Et.inputWrapper,children:[(0,w.jsx)(s.default,{style:[Et.label,c],children:"D\xeda"}),(0,w.jsx)(oe.default,{open:"day"===C,value:f,items:j,setOpen:()=>!u&&I("day"),setValue:e=>{g(e),v(e,x,y)},style:Et.picker,containerStyle:[Et.pickerContainer,{zIndex:"day"===C?2:1}],dropDownContainerStyle:Et.dropDownContainer,disabled:u})]}),(0,w.jsxs)(n.default,{style:Et.inputWrapper,children:[(0,w.jsx)(s.default,{style:[Et.label,c],children:"Mes"}),(0,w.jsx)(oe.default,{open:"month"===C,value:x,items:Array.from({length:12},((e,t)=>({label:String(t+1),value:String(t+1)}))),setOpen:()=>!u&&I("month"),setValue:e=>{p(e),v(f,e,y)},style:Et.picker,containerStyle:[Et.pickerContainer,{zIndex:"month"===C?2:1}],dropDownContainerStyle:Et.dropDownContainer,disabled:u})]}),(0,w.jsxs)(n.default,{style:Et.inputWrapper,children:[(0,w.jsx)(s.default,{style:[Et.label,c],children:"A\xf1o"}),(0,w.jsx)(oe.default,{open:"year"===C,value:y,items:Array.from({length:101},((e,t)=>{const a=(new Date).getFullYear()-t;return{label:String(a),value:String(a)}})),setOpen:()=>!u&&I("year"),setValue:e=>{m(e),v(f,x,e)},style:Et.picker,containerStyle:[Et.pickerContainer,{zIndex:"year"===C?2:1}],dropDownContainerStyle:Et.dropDownContainer,disabled:u})]})]})},Et=g.default.create({container:{flexDirection:"row",justifyContent:"space-between"},inputWrapper:{flex:1,marginHorizontal:5},label:{fontSize:14,marginBottom:5,color:"#000"},picker:{height:20,borderColor:"gray",borderWidth:1,borderRadius:12},pickerContainer:{height:35,width:80},dropDownContainer:{borderColor:"gray",zIndex:9999}}),At=({items:e,columns:t})=>{(0,b.useNavigation)();const[a]=o.useState(new c.default.Value(1)),[r,i]=o.useState(0),[l,d]=o.useState(3),[f,g]=o.useState([]);o.useEffect((()=>{const t=r*l,a=Math.min((r+1)*l,e.length);g([]),setTimeout((()=>{g(e.slice(t,a))}),0)}),[r,e,l]);const x=t=>{t>=0&&t*l<e.length&&i(t)},[p,y]=o.useState(!1);return(0,w.jsx)(n.default,{style:$t.containerDesktop,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[(0,w.jsx)(ne.default.Header,{style:{justifyContent:"space-between"},children:t.map(((e,t)=>(0,w.jsx)(ne.default.Title,{style:[$t.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsx)(s.default,{style:$t.headerTextDesktop,children:e})},t)))}),f.map((e=>(0,w.jsx)(ne.default.Row,{onPress:()=>alert("Not supported yet"),children:(0,w.jsx)(ne.default.Cell,{style:$t.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"left"},numberOfLines:2,children:e.nombre})})},e.id_tienda))),(0,w.jsxs)(n.default,{style:$t.paginationContainer,children:[(0,w.jsx)(u.default,{style:[$t.paginationButtonMovil,0===r&&$t.disabledButton],onPress:()=>x(r-1),disabled:0===r,children:(0,w.jsx)(s.default,{style:$t.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:$t.paginationLabel,children:`${r*l+1}-${Math.min((r+1)*l,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[$t.paginationButtonMovil,(r+1)*l>=e.length&&$t.disabledButton],onPress:()=>x(r+1),disabled:(r+1)*l>=e.length,children:(0,w.jsx)(s.default,{style:$t.paginationLabel,children:"Pr\xf3xima"})})]})]})})})},$t=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%",width:"100%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:24,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:16,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:50,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:50,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:20,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),Lt=(0,o.createContext)(void 0),Bt=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Lt.Provider,{value:{sortServicios:t,setSortServicios:a},children:e})},Nt=()=>{const e=o.useContext(Lt);if(void 0===e)throw new Error("useSortServicios debe usarse dentro de un SortServicios");return e},Ft=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=Pt(),{usuario:y,setUsuario:m}=v(),{sortServicios:j,setSortServicios:C}=Nt(),S=r?Wt.containerMovil:Wt.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(20),[T,O]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[A,$]=o.useState(!1),[L,B]=o.useState(!1),[N,F]=o.useState(!1),[W,U]=o.useState(0),[V,H]=o.useState(""),q=["Nombre"],[Y,G]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),K=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState(!1),[se,le]=o.useState(!1),[de,ce]=o.useState("");o.useEffect((()=>{(async()=>{if(y?.token){const e=await xe(y.token,"27",y.id_usuario);le(e)}})(),(async()=>{y?.token&&U(await ve(y.token))})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const ue=t=>{t>=0&&t*k<e.length&&_(t)},he=()=>{let t="Suma de precios de servicios minoristas filtrados:   ",a=0,o=0;return e.forEach((e=>{e.devuelto||(25===parseInt(e.id_Tipo_servicio)?o+=parseFloat(e.precio)*(e.cantidad?parseInt(e.cantidad??"0"):0):a+=parseFloat(e.precio)*(2===parseInt(e.id_Tipo_servicio)||4===parseInt(e.id_Tipo_servicio)?e.cantidad?parseInt(e.cantidad??"0"):0:1))})),t+=`USD: ${a.toFixed(4)}   CUP: ${(a*W).toFixed(0)}      Suma de precios de servicios mayoristas filtrados:  CUP: ${(o*W).toFixed(0)} `,String(t)},fe=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[Wt.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?Wt.headerTextMovil:Wt.headerTextDesktop,children:[t,("Nombre Cliente"===t||"Precio"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Fecha"===t?a="option3":"Nombre Cliente"===t?a="option4":"Precio"===t&&(a="option5"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[ge,pe]=o.useState(""),[ye,we]=o.useState(""),me=e=>{pe(e),P(!z)},je=e=>{if(we(e),P(!z),"Modificar"===e){if(p({id_entrada:ge,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?$(!A):"Mover"==e&&B(!L)},be=async()=>{if(y?.token){if(0==await Se(y.token,ge,y.id_tienda)){return!!await $e(y.token,ge)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[fe(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>K(e.id_Servicio),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[Wt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(ne.default.Cell,{style:[Wt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Wt.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombreTipoServicio}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Wt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:parseFloat(e.precio).toFixed(4)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Wt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*W).toFixed(0)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Wt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Wt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.cantidad?e.cantidad:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Wt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Servicio))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>me(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{je("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{je("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(re||ae)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{je("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>me(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[ge,ye]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await be();if($(!A),e){const e=T.filter((e=>e.id_Cliente!==ge));O(e),H("Producto eliminado con \xe9xito"),F(!0)}else H("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),F(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$(!A),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>$(!A),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:de,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ce(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(At,{columns:q,items:Y})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Servicios"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:he()})}),(0,w.jsxs)(n.default,{style:Wt.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Wt.paginationButtonMovil,0===I&&Wt.disabledButton],onPress:()=>ue(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Wt.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Wt.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Wt.paginationButtonMovil,(I+1)*k>=e.length&&Wt.disabledButton],onPress:()=>ue(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Wt.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[fe(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>K(e.id_Servicio),children:[(0,w.jsx)(ne.default.Cell,{style:Wt.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(ne.default.Cell,{style:Wt.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Wt.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombreTipoServicio}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Wt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:parseFloat(e.precio).toFixed(4)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Wt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*W).toFixed(0)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Wt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Wt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.cantidad?e.cantidad:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Wt.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Servicio))),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:he()})}),(0,w.jsxs)(n.default,{style:Wt.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Wt.paginationButtonDesktop,0===I&&Wt.disabledButton],onPress:()=>ue(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Wt.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Wt.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Wt.paginationButtonDesktop,(I+1)*k>=e.length&&Wt.disabledButton],onPress:()=>ue(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Wt.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Wt=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),Ut=async(e,t)=>{try{return(await P.default.get(`${M}/Servicio/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener datos de un servicio en espec\xedfico segun el ID: ",a),!1}},Vt=async(e,t,a,o,r,i,n,s,l,d,c)=>{try{return(await P.default.post(`${M}/Servicio/createServicio`,{fecha:t,precio:a,nota:o,descripcion:r,tienda:{id_tienda:i},tipo_servicio:{id_tipo_servicio:n},cliente:{id_cliente:l??null},costo:s,garantia:null,deuda:null,encargo:null},{headers:{Authorization:`${e}`}})).data}catch(u){return P.default.isAxiosError(u)&&401===u.response?.status&&$("Login"),console.log("Error agregar servicio: ",u),!1}},Ht=async(e,t,a,o,r,i,n,s,l,d,c,u)=>{try{return(await P.default.put(`${M}/Servicio/updateServicio/${t}`,{fecha:a,precio:o,nota:r,costo:s,devuelto:l,tienda:{id_tienda:i},tipo_servicio:{id_tipo_servicio:n},cliente:{id_cliente:d??null}},{headers:{Authorization:`${e}`}})).data}catch(h){return P.default.isAxiosError(h)&&401===h.response?.status&&$("Login"),console.log("Error modificar servicio: ",h),!1}},qt=async(e,t)=>{try{return(await P.default.delete(`${M}/Servicio/deleteServicio/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al eliminar servicio: ",a),!1}},Yt=async(e,t,a,o,r,i,n,s,l)=>{try{return(await P.default.post(`${M}/Servicio/api/filtrar`,{nombre_cliente:t,id_tipo_servicio:a,id_tienda:o,precio_liminf:r,precio_limsup:i,fecha_liminf:n,fecha_limsup:s,nombre_producto:l},{headers:{Authorization:`${e}`}})).data}catch(d){return P.default.isAxiosError(d)&&401===d.response?.status&&$("Login"),console.log("Error al filtrar los datos: ",d),!1}},Gt=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Servicio/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error al ordenar las servicios: ",r),!1}},Kt=async e=>{try{return(await P.default.get(`${M}/Tipo_servicio`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&$("Login"),console.log("Error al obtener datos de todos los Tipos de Servicios: ",t),!1}},Jt=async(e,t)=>{try{return(await P.default.get(`${M}/Tipo_servicio/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener datos de un Tipo de Servicio espesifico segun el ID: ",a),!1}},Xt=async(e,t,a)=>{try{return(await P.default.post(`${M}/Tipo_servicio/createTipo_servicio`,{nombre:t,costo:a},{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&$("Login"),console.log("Error incertar el tipo de servicio: ",o),!1}},Qt=async(e,t,a,o)=>{try{return(await P.default.put(`${M}/Tipo_servicio/updateTipo_servicio/${t}`,{nombre:a,costo:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error modificar el tipo de servicio: ",r),!1}},Zt=async(e,t)=>{try{return(await P.default.delete(`${M}/Tipo_servicio/deleteTipo_servicio/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error eliminar el tipo de servocio: ",a),!1}},ea=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Tipo_servicio/api/filtrar`,{nombre:t,costo_liminf:a,costo_limsup:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error al filtrar los datos: ",r),!1}},ta=async e=>{try{return(await P.default.get(`${M}/cliente`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&$("Login"),console.log("Error al obtener datos de todos los Clientes: ",t),!1}},aa=async(e,t)=>{try{return(await P.default.get(`${M}/Cliente/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return console.log("Error al obtener datos del cliente: ",a),!1}},oa=async(e,t,a,o,r,i,n,s)=>{try{return(await P.default.post(`${M}/Cliente/createCliente`,{nombre:t,email:a||"",descripcion:r||"",nota:i||"",telefono:o||"",Cif:n||"",detalles_bancarios:s||""},{headers:{Authorization:`${e}`}})).data}catch(l){return console.log("Error al incertar un nuevo cliente: ",l),!1}},ra=async(e,t,a,o,r,i,n,s,l)=>{try{return(await P.default.put(`${M}/Cliente/updateCliente/${t}`,{nombre:a,email:o||"",descripcion:i||"",nota:n||"",telefono:r||"",Cif:s||"",detalles_bancarios:l||""},{headers:{Authorization:`${e}`}})).data}catch(d){return console.log("Error al actualizar el cliente: ",d),!1}},ia=async(e,t)=>{try{return await P.default.delete(`${M}/Cliente/deleteCliente/${t}`,{headers:{Authorization:`${e}`}})}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al eliminar el cliente: ",a),!1}},na=async(e,t,a,o,r)=>{try{return(await P.default.post(`${M}/Cliente/api/filtrar`,{nombre:t||"",cif:o||"",telefono:a||"",detalles_bancarios:r||""},{headers:{Authorization:`${e}`}})).data}catch(i){return P.default.isAxiosError(i)&&401===i.response?.status&&$("Login"),console.log("Error al filtrar los clientes: ",i),!1}},sa=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Cliente/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error al ordenar los clientes: ",r),!1}},la=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Venta/createVenta`,{producto:{id_producto:t},servicio:{id_servicio:a},cantidad:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error agregar venta: ",r),!1}},da=async(e,t,a)=>{try{return(await P.default.delete(`${M}/Venta/deleteVenta/${t}/${a}`,{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&$("Login"),console.log("Error al eliminar venta: ",o),!1}},ca=async(e,t)=>{try{return(await P.default.get(`${M}/Venta/getbyServicio/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener datos de la venta segun el id del servicio: ",a),!1}},ua=g.default.create({radioButton:{flexDirection:"row",height:50,width:"45%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"2%",backgroundColor:x.azul_Suave},radioButtonSelected:{backgroundColor:x.azul_Oscuro},radioButtonText:{fontSize:16,color:x.blanco,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},radioButtonTextSelected:{fontWeight:"bold",color:x.blanco_Suave},selectedText:{marginTop:20,fontSize:18,color:"#333"}}),ha=({onPress:e,selected:t,label:a})=>(0,w.jsx)(u.default,{onPress:e,style:[ua.radioButton,t&&ua.radioButtonSelected],children:(0,w.jsx)(s.default,{style:[ua.radioButtonText,t&&ua.radioButtonTextSelected],children:a})}),fa=g.default.create({radioButton:{flexDirection:"row",height:40,width:"35%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginLeft:"5%",backgroundColor:x.azul_Suave},radioButtonSelected:{backgroundColor:x.azul_Oscuro},radioButtonText:{fontSize:16,color:x.blanco,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},radioButtonTextSelected:{fontWeight:"bold",color:x.blanco_Suave}}),ga=({onPress:e,selected:t,label:a})=>(0,w.jsx)(u.default,{onPress:e,style:[fa.radioButton,t&&fa.radioButtonSelected],children:(0,w.jsx)(s.default,{style:[fa.radioButtonText,t&&fa.radioButtonTextSelected],children:a})}),xa=async(e,t)=>{try{return(await P.default.get(`${M}/Garantia/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener datos de una garantia en espec\xedfico segun el ID: ",a),!1}},pa=async(e,t,a)=>{try{return(await P.default.post(`${M}/Garantia/createGarantia`,{duracion:t,servicio:{id_servicio:a}},{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&$("Login"),console.log("Error incertar la garantia: ",o),!1}},ya=async(e,t,a,o)=>{try{return(await P.default.put(`${M}/Garantia/updateGarantia/${o}`,{duracion:t,servicio:{id_servicio:a}},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error modificar la garantia: ",r),!1}},wa=async(e,t)=>{try{return(await P.default.delete(`${M}/Garantia/deleteGarantia/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error eliminar la garantia: ",a),!1}},ma=async(e,t,a,o,r,i,n,s)=>{try{return(await P.default.post(`${M}/Garantia/api/filtrar`,{nombre_producto:r,nombre_cliente:t,duracion_liminf:o,duracion_limsup:a,fecha_liminf:i,fecha_limsup:n,id_tienda:s},{headers:{Authorization:`${e}`}})).data}catch(l){return P.default.isAxiosError(l)&&401===l.response?.status&&$("Login"),console.log("Error al filtrar los datos: ",l),!1}},ja=async(e,t,a,o)=>{console.log(t,a,o);try{return(await P.default.post(`${M}/Encargo/createEncargo`,{adelanto:t,fecha_final:a,servicio:{id_servicio:o}},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error incertar el encargo: ",r),!1}},ba=async(e,t,a,o,r)=>{try{return(await P.default.put(`${M}/Encargo/updateEncargo/${r}`,{adelanto:t,fecha_final:a,servicio:{id_servicio:o}},{headers:{Authorization:`${e}`}})).data}catch(i){return P.default.isAxiosError(i)&&401===i.response?.status&&$("Login"),console.log("Error modificar el encargo: ",i),!1}},Ca=async(e,t)=>{try{return(await P.default.delete(`${M}/Encargo/deleteEncargo/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error eliminar el encargo: ",a),!1}},Sa=async(e,t)=>{try{return(await P.default.get(`${M}/Deuda/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al obtener datos de una deuda en espec\xedfico segun el ID: ",a),!1}},va=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Deuda/createDeuda`,{deuda:t,pago_deuda:{id_pago_deuda:o},servicio:{id_servicio:a}},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error incertar la deuda: ",r),!1}},Ia=async(e,t)=>{try{return(await P.default.delete(`${M}/Deuda/deleteDeuda/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error eliminar la deuda: ",a),!1}},_a=async(e,t,a,o,r,i,n,s,l,d)=>{try{return(await P.default.post(`${M}/Deuda/api/filtrar`,{nombre_producto:t,nombre_cliente:a,deuda_liminf:o,deuda_limsup:r,id_tienda:s,id_tipo_servicio:l,fecha_liminf:i,fecha_limsup:n,saldada:d},{headers:{Authorization:`${e}`}})).data}catch(c){return P.default.isAxiosError(c)&&401===c.response?.status&&$("Login"),console.log("Error al filtrar los datos: ",c),!1}},ka=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Pago_Deuda/createPago_Deuda`,{pagada:t,fecha:a,deuda:{id_deuda:o}},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&$("Login"),console.log("Error incertar la pago deuda: ",r),!1}},Ra=async(e,t)=>{try{return(await P.default.delete(`${M}/Pago_Deuda/deletePago_Deuda/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error eliminar la pago deuda: ",a),!1}};function Ta(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),[k,R]=(0,o.useState)(1e3),[T,O]=(0,o.useState)(1e3),[z,P]=(0,o.useState)(1e3),[M,E]=(0,o.useState)(1e3),[A,$]=(0,o.useState)(1e3),L=e=>{"FechaDetails"===e?(g(2e3),j(1500)):"TiendaDetails"===e||"TipoServicioDetails"===e?(j(2e3),g(1500),_(1500),S(2e3),R(1500)):"ProductoDetails"===e?(j(1500),g(1500),_(2e3),S(1500),R(1500)):"ClienteDetails"===e&&(R(2e3),j(1500),g(1500),_(1500),S(1500)),"FechaDesdeSearsh"===e?(O(2e3),P(1500),$(1500),E(1500)):"FechaHastaSearsh"===e?(O(1500),P(2e3),$(1500),E(1500)):"TipoServicioSearsh"===e?(O(1500),P(1500),$(1500),E(2e3)):"TiendaSearsh"===e&&(O(1500),P(1500),$(2e3),E(1500))},{usuario:B,setUsuario:N}=v(),{modalEntradasDates:F,setModalEntradasDates:W}=Pt(),{sortServicios:U,setSortServicios:V}=Nt(),[H,q]=(0,o.useState)(!1),Y=(0,o.useRef)(new c.default.Value(0)).current,[K,J]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)(0)),[X,Q]=(0,o.useState)(""),[Z,ee]=(0,o.useState)(!1),[oe,re]=(0,o.useState)(""),[ne,se]=(0,o.useState)(""),[le,de]=(0,o.useState)(""),[ce,ue]=(0,o.useState)(""),[he,fe]=(0,o.useState)(""),[ge,ye]=(0,o.useState)("1"),[me,je]=(0,o.useState)("0"),[be,Ce]=(0,o.useState)("0"),[Ie,_e]=(0,o.useState)(""),[ke,ze]=(0,o.useState)("sin Devolver"),[De,Pe]=(0,o.useState)(""),[Me,Ee]=(0,o.useState)(""),[$e,Le]=(0,o.useState)(""),[Be,Ne]=(0,o.useState)(""),[Fe,We]=(0,o.useState)(""),[Ue,Ve]=(0,o.useState)(""),[He,qe]=(0,o.useState)(""),[Ye,Ge]=(0,o.useState)(""),[Ke,Je]=(0,o.useState)(""),[Xe,Qe]=(0,o.useState)(""),[Ze,et]=(0,o.useState)(!1),[tt,at]=(0,o.useState)(!1),[ot,rt]=(0,o.useState)(!1),[it,nt]=(0,o.useState)(""),[st,lt]=(0,o.useState)(""),[dt,ct]=(0,o.useState)("0"),[ut,ht]=(0,o.useState)("0"),[ft,gt]=(0,o.useState)(""),[xt,yt]=(0,o.useState)(""),[wt,mt]=(0,o.useState)(""),[jt,bt]=(0,o.useState)(""),[Ct,St]=(0,o.useState)(""),[vt,It]=(0,o.useState)(""),[kt,Rt]=(0,o.useState)(""),[Tt,zt]=(0,o.useState)(""),[Dt,Et]=(0,o.useState)("sin Devolver"),[At,$t]=(0,o.useState)(!1),[Lt,Bt]=(0,o.useState)(""),[Wt,Jt]=(0,o.useState)(""),[Xt,Qt]=(0,o.useState)(""),[Zt,ea]=(0,o.useState)(!1),[aa,oa]=(0,o.useState)(!1),[ra,ia]=o.useState(!1),[na,sa]=o.useState(""),[ua,fa]=o.useState(!1),[xa,ma]=(0,o.useState)(!1),[_a,Ta]=(0,o.useState)(!1),[Oa,za]=(0,o.useState)(!1),[Da,Pa]=(0,o.useState)(""),[Ma,Ea]=(0,o.useState)(!1),[Aa,$a]=o.useState(!1),[La,Ba]=o.useState(!1),[Na,Fa]=o.useState(!1),[Wa,Ua]=o.useState(!1),[Va,Ha]=o.useState(!1),[qa,Ya]=(0,o.useState)(!1),[Ga,Ka]=(0,o.useState)(null),[Ja,Xa]=(0,o.useState)([]),Qa=()=>{H?c.default.timing(Y,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>q(!1))):(q(!0),c.default.timing(Y,{toValue:400,duration:300,useNativeDriver:!1}).start())},Za={height:Y},[eo,to]=(0,o.useState)([]),[ao,oo]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[ro,io]=(0,o.useState)([]),[no,so]=(0,o.useState)([]),[lo,co]=(0,o.useState)([]),[uo,ho]=(0,o.useState)([]),fo=new Date,go=String(fo.getFullYear()),xo=String(fo.getMonth()+1).padStart(2,"0"),po=String(fo.getDate()).padStart(2,"0"),[yo,wo]=(0,o.useState)(""),[mo,jo]=(0,o.useState)(""),[bo,Co]=(0,o.useState)(""),[So,vo]=(0,o.useState)(""),[Io,_o]=(0,o.useState)(""),[ko,Ro]=(0,o.useState)(""),[To,Oo]=(0,o.useState)("1"),[zo,Do]=(0,o.useState)("1"),[Po,Mo]=(0,o.useState)("2024"),[Eo,Ao]=(0,o.useState)(String(parseInt(po))),[$o,Lo]=(0,o.useState)(String(parseInt(xo))),[Bo,No]=(0,o.useState)(String(parseInt(go))),[Fo,Wo]=(0,o.useState)(""),Uo=[{label:"D\xeda",value:"dia"},{label:"Semana",value:"semana"},{label:"Mes",value:"mes"}],Vo=[{label:"Devolver",value:"devolver"},{label:"Sin Devolver",value:"sin devolver"}],Ho=e=>{Wo(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i="";if("dia"===e)i=`${a}-${o}-${r}`;else if("semana"===e){const e=new Date(t);e.setDate(t.getDate()-6);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("mes"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setMonth(t.getMonth()-1);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}Xo(i,`${a}-${o}-${r}`)},[qo,Yo]=(0,o.useState)(!1),Go=()=>{se(""),_e(""),ye(""),ue(""),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(ee(!1),B?.token&&F?.id_entrada){$t(!1);const e=await Ut(B.token,F.id_entrada);if(e){const[t,a,o]=e.fecha.split("T")[0].split("-");if(re(e.id_servicio),se(e.cliente.id_cliente),ue(e.tipo_servicio.id_tipo_servicio),Ee(e.nota),Le(e.descripcion),ze(e.devuelto?"devolver":"sin devolver"),et(null!==e.garantia),lt(null!==e.garantia?e.garantia.duracion:""),nt(null!==e.garantia?e.garantia.id_garantia:""),yt(null!==e.encargo?e.encargo.id_encargo:""),Qe(null!==e.encargo?e.encargo.adelanto:""),mt(null!==e.deuda?e.deuda.id_deuda:""),null!==e.encargo){const t=String(e.encargo.fecha).split("-"),a=t[0],o=t[1],r=t[2];Je(String(parseInt(a))),Ge(String(parseInt(o))),qe(String(parseInt(r)))}if(zt(e.tipo_servicio.id_tipo_servicio),Et(e.devuelto?"devolver":"sin devolver"),gt(null!==e.garantia?e.garantia.duracion:""),rt(null!==e.garantia),2===parseInt(e.tipo_servicio.id_tipo_servicio)||4===parseInt(e.tipo_servicio.id_tipo_servicio)){const t=await ca(B.token,oe);if(t){const a=await pt(B?.token,t.producto.id_producto),o=await Te(B.token,t.producto.id_producto);ea(!0),fe(t.producto.id_producto),ye(t.cantidad),de(e.tienda.id_tienda),_e(e.precio),Pe(String(parseFloat(e.precio)*K)),Ce(_t(a,o))}else ea(!0),fe(""),ye(""),de(""),_e(""),Pe(""),Ce("")}else ea(!1),_e(e.precio),Pe(String(parseInt(e.precio)*K)),Ce(e.costo);Ne(String(parseInt(o))),We(String(parseInt(a))),Ve(String(parseInt(t))),qe(String(parseInt(o))),Ge(String(parseInt(a))),Je(String(parseInt(t))),$t(!0)}}ee(!0)})()}),[F]),(0,o.useEffect)((()=>{26===parseInt(ce)?oa(!0):oa(!1),(async()=>{if(B?.token){const e=await Ut(B.token,F.id_entrada);if(2===parseInt(ce)||4===parseInt(ce)||25===parseInt(ce)){const t=await ca(B.token,oe);if(ea(!0),t){const a=await pt(B?.token,t.producto.id_producto),o=await Te(B.token,t.producto.id_producto);It(t.producto.id_producto),Rt(t.cantidad),St(e.tienda.id_tienda),fe(t.producto.id_producto),Q(t.producto.id_producto),ye(t.cantidad),de(e.tienda.id_tienda),_e(e.precio),Pe(String(parseFloat(e.precio)*K)),Ce(_t(a,o))}else ea(!0),fe(""),ye(""),_e(""),Pe(""),Ce("")}else ea(!1),_e(e.precio),Pe(String(parseInt(e.precio)*K)),Ce(e.costo)}})()}),[ce]),(0,o.useEffect)((()=>{"PrecioCUP"===jt?(_e(parseFloat(Ie).toFixed(4)),bt("")):"PrecioUSD"===jt?(Pe(parseFloat(De).toFixed(0)),bt("")):"CostoCUP"===jt?(Ce(parseFloat(be).toFixed(4)),bt("")):"CostoUSD"===jt&&(je(parseFloat(me).toFixed(0)),bt("")),bt("")}),[jt]),(0,o.useEffect)((()=>{(async()=>{if(B?.token){const e=await Re(B.token,le);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));so(t)}}})()}),[le]),(0,o.useEffect)((()=>{if(Z)if(""!==he&&he!==X&&B?.token){Q(he);(async()=>{const e=await pt(B?.token,he),t=await Oe(B.token,he),a=await Te(B.token,he);Ce(_t(e,a)),_e(t.precio??0),Pe(String(parseFloat(t.precio)*K)??0)})()}else Q(he)}),[he]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{ee(!1),await(async()=>{if(B?.token){const e=await xe(B.token,"26",B.id_usuario),t=await xe(B.token,"25",B.id_usuario),a=await xe(B.token,"24",B.id_usuario),o=await xe(B.token,"26",B.id_usuario),r=await xe(B.token,"27",B.id_usuario);J(await ve(B.token)),Ua(o),Ha(r),$a(e),Ba(t),Fa(a)}})(),await(async()=>{if(void 0!=B?.token){const e=await Kt(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_tipo_servicio}))));ho([{label:"Todos los tipos de servicios",value:""},...t])}}})(),await(async()=>{if(void 0!=B?.token){const e=await ta(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_cliente}))));io(t)}}})(),await(async()=>{if(void 0!=B?.token){const e=await pe(B.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));co([{label:"Todas las tiendas",value:""},...t])}}})(),await(async()=>{if(void 0!=B?.token){const e=await xe(B.token,"27",B.id_usuario),t=await xe(B.token,"26",B.id_usuario);if(e){const e=await Re(B.token,B.id_tienda);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));so(t)}}else if(t){const e=await Re(B.token,B.id_tienda);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));so(t)}}}})()})(),()=>{})),[]));const[Ko,Jo]=(0,o.useState)(!1),Xo=async(e,t)=>{Yo(!0);try{if(B?.token){let a=await(async(e,t)=>{if(B?.token){const o=await xe(B.token,"27",B.id_usuario);try{const a=await Yt(B.token,yo,bo,o?So:B.id_tienda,Io,ko,e,t,mo);if(a)return await Promise.all(a.map((async e=>({id_Servicio:e.id_servicio,id_Cliente:e.cliente.id_cliente,id_Tienda:e.tienda.id_tienda,id_Tipo_servicio:e.tipo_servicio.id_tipo_servicio,id_Deuda:"",id_Garantia:"",fecha:e.fecha,precio:e.precio,nota:e.nota,descripcion:e.descripcion,nombreCliente:e.cliente.nombre,nombreTienda:e.tienda.nombre,nombreTipoServicio:e.tipo_servicio.nombre,nombreProducto:e.venta?e.venta.producto.nombre:"",cantidad:e.venta?e.venta.cantidad:"",devuelto:e.devuelto,costo:e.costo}))))}catch(a){return console.error("Error al filtrar los proveedoress:",a),null}}return null})(e,t)||[];Jo(!Ko),a=U?.criterioOrden&&U.tipoOrden?await Gt(B.token,a,U.criterioOrden,Ko):await Gt(B.token,a,"option3",Ko),to(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{Yo(!1)}};(0,o.useEffect)((()=>{Xo(`${Po}-${zo}-${To}`,`${Bo}-${$o}-${Eo}`)}),[U,Ga]),(0,o.useEffect)((()=>{Wo("")}),[To,zo,Po,Eo,$o,Bo]);const Qo=()=>{$t(!1),de(B?.id_tienda),se(""),_e(""),Pe(""),ye(""),Ce(""),ue(""),ye(""),Ee(""),Le(""),W({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1});const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");Ne(String(parseInt(o))),We(String(parseInt(a))),Ve(String(parseInt(t))),qe(String(parseInt(o))),Ge(String(parseInt(a))),Je(String(parseInt(t))),$t(!0)},Zo=e=>{"Enter"===e.nativeEvent.key&&Xo(`${Po}-${zo}-${To}`,`${Bo}-${$o}-${Eo}`)},er=()=>{wo(""),Ka(""),vo(""),Co(""),_o(""),Ro(""),Wo("")},tr=async()=>{if(!Ma){if(Ea(!0),ma(!1),sa("Agregando servicio. Espere por favor"),ia(!0),B?.token){const e=await Se(B.token,he,le);let t=!0,a="ERROR AL INGRESAR SERVICIO. Por favor verifique los siguientes campos:\n";if(""!==be&&void 0!==be||(t=!1,a+="-Digite el costo del servicio.\n"),""!==Ie&&void 0!==be||(t=!1,a+="-Defina el precio cobrado al cliente.\n"),""===ne&&(t=!1,a+="-Seleccione un cliente. Si no hay datos del cliente seleccione anonimo\n"),""===ce&&(t=!1,a+="-Seleccione el tipo de servicio que est\xe1 ofreciendo.\n"),Ze&&""===st&&(t=!1,a+="-Defina la duraci\xf3n de la garant\xeda.\n"),Ze&&1===parseInt(ne)&&(t=!1,a+="-El ciente An\xf3nimo no puede tener garant\xedas"),""===le&&(t=!1,a+="-Seleccione una tienda.\n"),e&&parseInt(e.cantidad)<parseInt(ge)&&(t=!1,a+="-La cantidad que desea vender es mayor que la cantidad que hay en la tienda.\n"),2!==parseInt(ce)&&4!==parseInt(ce)&&25!==parseInt(ce)||(""===he&&(t=!1,a+="-Seleccione un producto para vender.\n"),""===ge&&(t=!1,a+="-Defina la cantidad que desea vender del producto.\n")),26===parseInt(ce)){const e=new Date(`${Ue}-${Fe}-${Be}`),o=new Date(`${Ke}-${Ye}-${He}`);1===parseInt(ne)&&(t=!1,a+="-No se puede hacer un encargo al cliente An\xf3nimo.\n"),o<e&&(t=!1,a+="-La fecha del encargo no puede ser menor que la fecha del servicio.\n")}if(tt&&!aa&&(parseFloat(dt)>parseFloat(Ie)&&(t=!1,a+="-El adelanto inicial de la deuda es mayor que el monto a cobrar por el servicio.\n"),1===parseInt(ne)&&(t=!1,a+="-El cliente An\xf3nimo no puede tener deudas")),t){const e=await Vt(B.token,`${Fe}-${Be}-${Ue}`,Ie,Me,$e,le,ce,be,ne,"Not suport yet","not suport yet");if(Ze&&await pa(B.token,st,e.id_servicio),tt){const t=await va(B.token,Ie,e.id_servicio,void 0);dt&&parseFloat(dt)>0&&await ka(B.token,dt,`${Fe}-${Be}-${Ue}`,t.id_deuda)}if(2===parseInt(ce)||4===parseInt(ce)||25===parseInt(ce)){await la(B.token,he,e.id_servicio,ge),await we(B.token,he,le,`${parseInt(ge)}`);const t=ro.find((e=>e.value===ne)),a=uo.find((e=>e.value===ce)),o=no.find((e=>e.value===he)),r=new Date,i=String(r.getFullYear()),n=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");let l=`El usuario ${B.nombre} agreg\xf3 un servicio del tipo de servicio ${a?.label} al cliente ${t?.label}. Se vendi\xf3 una cantidad de ${ge} del producto ${o?.label} a un precio de ${Ie} USD`;await G(B.token,l,`${i}-${n}-${s}`,B.id_usuario,7)}else{26===parseInt(ce)&&await ja(B.token,Xe,`${Ke}-${Ye}-${He}`,e.id_servicio);const t=ro.find((e=>e.value===ne)),a=uo.find((e=>e.value===ce)),o=new Date,r=String(o.getFullYear()),i=String(o.getMonth()+1).padStart(2,"0"),n=String(o.getDate()).padStart(2,"0");let s=`El usuario ${B.nombre} agreg\xf3 un servicio del tipo de servicio ${a?.label} a un precio de ${Ie} USD al cliente ${t?.label}`;await G(B.token,s,`${r}-${i}-${n}`,B.id_usuario,7)}await Ae(B.token,ce,le),ma(!0),sa("El servicio se agreg\xf3 con \xe9xito"),ia(!0),fa(!0),se(""),_e(""),Pe(""),ye(""),Ce(""),ue(""),ye(""),Ee(""),Le(""),lt(""),W({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1})}else sa(a),ma(!0),ia(!0)}Ea(!1)}},ar=async()=>{if(!Ma){if(Ea(!0),ma(!1),sa("Modificando servicio. Espere por favor"),ia(!0),B?.token){let e=0;const t=await Se(B.token,he,le);t&&(e=t.cantidad);let a=!0,o="ERROR AL MODIFICAR EL SERVICIO. Compruebe los siguientes campos:\n";if(""===ne&&(a=!1,o+="-Seleccione un cliente. Si no hay datos del cliente seleccione anonimo\n"),""===ce&&(a=!1,o+="-Seleccione el tipo de servicio que est\xe1 ofreciendo.\n"),""===le&&(a=!1,o+="-Seleccione una tienda.\n"),Ze&&""===st&&(a=!1,o+="-Defina la duraci\xf3n de la garant\xeda.\n"),""===be&&(a=!1,o+="-Digite el costo del servicio.\n"),""===Ie&&(a=!1,o+="-Defina el precio cobrado al cliente.\n"),Ze&&""===st&&(a=!1,o+="-Defina la duraci\xf3n de la garant\xeda.\n"),Ze&&1===parseInt(ne)&&(a=!1,o+="-El ciente An\xf3nimo no puede tener garant\xedas"),26===parseInt(ce)){const e=new Date(`${Ue}-${Fe}-${Be}`),t=new Date(`${Ke}-${Ye}-${He}`);1===parseInt(ne)&&(a=!1,o+="-No se puede hacer un encargo al cliente An\xf3nimo.\n"),t<e&&(a=!1,o+="-La fecha del encargo no puede ser menor que la fecha del servicio.\n")}if(2!==parseInt(ce)&&4!==parseInt(ce)&&25!==parseInt(ce)||(""===he&&(a=!1,o+="-Seleccione un producto para vender.\n"),""===ge&&(a=!1,o+="-Defina la cantidad que desea vender del producto.\n")),e+parseInt(kt)<parseInt(ge)&&(a=!1,o+="-La cantidad que desea modificar es mayor que la cantidad que hay en la tienda.\n"),ge!==kt&&he===vt&&le===Ct&&2===parseInt(ce)||4===parseInt(ce)||25===parseInt(ce)?e+parseInt(kt)<parseInt(kt)-parseInt(ge)&&(a=!1,o+="-La cantidad que hay en la tienda no es suficiente para modificar la venta del producto.\n"):he===vt&&le===Ct||e<parseInt(ge)&&(a=!1,o+="-La cantidad que hay en la tienda no es suficiente para modificar la venta del producto.\n"),a){await Ht(B.token,oe,`${Fe}-${Be}-${Ue}`,Ie,Me,le,ce,be,"devolver"===ke,ne,"Not suport yet","not suport yet"),Ze===ot&&st===ft||(Ze?""!==it?await ya(B.token,st,oe,it):await pa(B.token,st,oe):await wa(B.token,it)),ce!==Tt&&26===parseInt(Tt)?await Ca(B.token,xt):ce!==Tt&&26===parseInt(ce)?await ja(B.token,Xe,`${Ke}-${Ye}-${He}`,oe):ce===Tt&&26===parseInt(ce)&&await ba(B.token,Xe,`${Ke}-${Ye}-${He}`,oe,xt),2!==parseInt(Tt)&&4!==parseInt(Tt)||2===parseInt(ce)||4===parseInt(ce)||(await we(B.token,vt,Ct,""+-1*parseInt(kt)),await da(B.token,vt,oe)),ge!==kt&&he===vt&&le===Ct?(await we(B.token,he,le,""+(parseInt(ge)-parseInt(kt))),await la(B.token,he,oe,ge)):ce!==Tt&&2===parseInt(ce)||4===parseInt(ce)||25===parseInt(ce)?(await la(B.token,he,oe,ge),await we(B.token,vt,Ct,""+-1*parseInt(kt)),await we(B.token,he,le,`${parseInt(ge)}`)):le===Ct&&he===vt||(await la(B.token,he,oe,ge),await we(B.token,vt,Ct,""+-1*parseInt(kt)),await we(B.token,he,le,`${parseInt(ge)}`)),ke===Dt||"devolver"!==ke||2!==parseInt(ce)&&4!==parseInt(ce)&&25!==parseInt(ce)?ke===Dt||"sin devolver"!==ke||2!==parseInt(ce)&&4!==parseInt(ce)&&25!==parseInt(ce)||await we(B.token,he,le,`${parseInt(ge)}`):await we(B.token,he,le,""+-1*parseInt(ge));const e=lo.find((e=>e.value===Wt)),t=no.find((e=>e.value===Lt)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let n=`El usuario ${B.nombre} modific\xf3 una entrada de originalmente ${Xt} del producto ${t?.label} en la tienda ${e?.label}`;await G(B.token,n,`${o}-${r}-${i}`,B.id_usuario,7),ma(!0),sa("El servicio se modific\xf3 con \xe9xito"),ia(!0),fa(!0)}else ma(!0),sa(o),ia(!0)}Ea(!1)}},or=async()=>{if(!Ma&&(Ea(!0),ma(!1),sa("Eliminando servicio. Espere por favor"),ia(!0),B?.token)){let e="ERROR AL ELIMINAR SERVICIO. Compruebe los siguientes par\xe1metros:\n";if(!0){const e=await Ut(B.token,oe),t=await ca(B.token,oe);if(ot&&await wa(B.token,it),""!==wt){const e=await Sa(B.token,wt);Array.isArray(e.deuda.pagos_deuda)&&e.deuda.pagos_deuda.length>0&&e.deuda.pagos_deuda.map((async e=>{await Ra(B.token,e.id_pago_deuda)})),await Ia(B.token,wt)}if(26===parseInt(Tt)&&await Ca(B.token,xt),2!==parseInt(ce)&&4!==parseInt(ce)&&25!==parseInt(ce)||"sin devolver"!==Dt?2!==parseInt(ce)&&4!==parseInt(ce)&&25!==parseInt(ce)||"devolver"!==Dt||await da(B.token,t.producto.id_producto,e.id_servicio):(await da(B.token,t.producto.id_producto,e.id_servicio),await we(B.token,t.producto.id_producto,e.tienda.id_tienda,""+-1*parseInt(t.cantidad))),await qt(B.token,oe),2===parseInt(oe)){const a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let n=`El usuario ${B.nombre} elimin\xf3 la el servicio de venta de la tienda ${e.tienda.nombre}. La venta eliminada fue del producto ${yo}, se sumo una canidad de ${t.cantidad} nuevamente en la tienda cuyo producto val\xeda ${t.precio} y se vendi\xf3 una cantidad de ${t.cantidad}.`;await G(B.token,n,`${o}-${r}-${i}`,B.id_usuario,7)}else{const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i=`El usuario ${B.nombre} elimin\xf3 la un servicio de la tienda ${e.tienda.nombre} por el cual se hab\xeda cobrado ${e.precio} y ten\xeda un costo de ${e.costo}`;await G(B.token,i,`${a}-${o}-${r}`,B.id_usuario,7)}ma(!0),sa("El servicio se elimin\xf3 con \xe9xito"),ia(!0),fa(!0),se(""),_e(""),Pe(""),ye(""),Ce(""),ue(""),ye(""),Ee(""),Le(""),lt(""),W({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1})}else ma(!0),sa(e),ia(!0)}},rr=["Nombre","Cantidad"],ir=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],nr=["Nombre Cliente","Tienda","Tipo de Servicio","Precio USD","Precio CUP","Producto","Cantidad","Fecha"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:Aa&&(0,w.jsx)(u.default,{onPress:()=>Qo(),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Servicio"})})}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Qa,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[qo?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Ft,{isMobile:r,items:eo,columns:nr,columnasMyDateTableEntradaModal:ir,columnasMyDateTableTiendaModal:rr,tiendasByProducto:Ja,proveedorByProducto:ao}),H&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Za],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:mo,onKeyPress:Zo,onChangeText:jo}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:yo,onKeyPress:Zo,onChangeText:wo}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tipo de Servicio:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:M,position:"relative"},children:(0,w.jsx)(ie,{value:bo,placeholder:"Seleccione un tipo de servicio",setValue:Co,items:uo,direction:"BOTTOM",onDropdownOpen:()=>L("TipoServicioSearsh")})}),Va&&(0,w.jsx)(n.default,{style:p.separatorBlanco}),Va&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),Va&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:A,position:"relative"},children:(0,w.jsx)(ie,{value:So,placeholder:"Seleccione un tienda",setValue:vo,items:lo,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaSearsh")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Precio en USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:Io,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");_o(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:ko,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ro(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Uo.map((e=>(0,w.jsx)(ha,{label:e.label,selected:Fo===e.value,onPress:()=>Ho(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:T},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(Mt,{dayValue:To,monthValue:zo,yearValue:Po,onDayChange:Oo,onMonthChange:Do,onYearChange:Mo,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:z},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(Mt,{dayValue:Eo,monthValue:$o,yearValue:Bo,onDayChange:Ao,onMonthChange:Lo,onYearChange:No,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:er,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Xo(`${Po}-${zo}-${To}`,`${Bo}-${$o}-${Eo}`),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:F?.isAddEntrada??!1,animationType:"fade",onRequestClose:Go,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Go,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===F?.id_entrada?"Crear Servicio":"Datos del Servicio"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(Ot,{value:ne,placeholder:"Seleccione un Cliente",setValue:se,items:ro,searchable:!0,readOnly:!(Na||Wa),onDropdownOpen:()=>L("ClienteDetails")})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(Ot,{value:le,placeholder:"Seleccione una tienda",setValue:de,items:lo,readOnly:!(Va&&""===F?.id_entrada||Va&&Na),searchable:!0,onDropdownOpen:()=>L("TipoServicioDetails")})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(Ot,{value:ce,placeholder:"Seleccione un tipo de servicio",setValue:ue,items:uo,readOnly:!(Na||Wa),searchable:!0,onDropdownOpen:()=>L("TipoServicioDetails")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:500},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:500},children:[!aa&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiene Garant\xeda"}),!aa&&""===F?.id_entrada&&(0,w.jsx)(ga,{onPress:()=>et(!Ze),selected:Ze,label:"Garant\xeda"}),aa&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto del encargo"}),aa&&(0,w.jsx)(D,{style:p.textImputModal,value:Xe,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Qe(a)},cursorColor:x.azul_Oscuro,editable:!0,placeholder:"Adelanto del encargo"}),Ze&&!aa&&(0,w.jsxs)(n.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Duraci\xf3n en d\xedas:"}),(0,w.jsx)(D,{style:p.textImputModal,value:st,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");lt(t)},cursorColor:x.azul_Oscuro,editable:Na||Wa,placeholder:"Duracion En d\xedas"})]})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[!aa&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Genera Deuda"}),!aa&&(0,w.jsx)(ga,{onPress:()=>at(!tt),selected:tt,label:"Deuda"}),At&&aa&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha llegada"}),At&&aa&&(0,w.jsx)(Mt,{dayValue:He,monthValue:Ye,yearValue:Ke,onDayChange:qe,onMonthChange:Ge,onYearChange:Je,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!(Na||Wa)}),tt&&!aa&&""===F?.id_entrada&&(0,w.jsxs)(n.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto inicial de la deuda en USD:"}),(0,w.jsx)(D,{style:p.textImputModal,value:dt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ct(t),ht(String((parseFloat(String(t))*K).toFixed(2)))},cursorColor:x.azul_Oscuro,editable:Na||Wa,placeholder:"Adelanto"})]}),!aa&&tt&&""===F?.id_entrada&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Conv. CUP"}),!aa&&tt&&""===F?.id_entrada&&(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:ut})]})]}),Zt&&(0,w.jsx)(n.default,{style:p.separatorNegro}),Zt&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),Zt&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Ot,{value:he,placeholder:"Seleccione un produto",setValue:fe,items:no,searchable:!0,readOnly:!(Na||Wa),onDropdownOpen:()=>L("ProductoDetails")})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[Zt&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ge,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ye(t)},editable:Na||Wa,placeholder:"Cantidad del producto"})]}),(!Zt||Va)&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Zt?"Costo promedio del producto en USD":"Costo del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:be,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;je(""!==a?String((parseFloat(a)*K).toFixed(0)):"0"),Ce(a),bt("CostoUSD")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(ce)&&4!==parseInt(ce)&&25!==parseInt(ce)&&(Na||Wa),placeholder:"Costo Promedio"})]}),!Zt&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:me,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Ce(""!==a?String(parseFloat(a)/K):"0"),je(a),bt("CostoCUP")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(ce)&&4!==parseInt(ce)&&25!==parseInt(ce)&&(Na||Wa),placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Zt?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Ie,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Pe(""!==a?String((parseFloat(a)*K).toFixed(0)):"0"),_e(a),bt("PrecioUSD")},editable:Na||Wa,placeholder:"Precio por unidad en usd"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Zt?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModalNOEDITABLE,value:De,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;_e(""!==a?String(parseFloat(a)/K):"0"),Pe(a),bt("PrecioCUP")},cursorColor:x.azul_Oscuro,editable:Na||Wa,placeholder:"Precio por unidad en cup"})]})]}),Zt&&(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),At&&(0,w.jsx)(Mt,{dayValue:Be,monthValue:Fe,yearValue:Ue,onDayChange:Ne,onMonthChange:We,onYearChange:Ve,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!(Na||Wa)})]})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:[(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Me,onChangeText:Ee,editable:Na||Wa,placeholder:"Nota"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"}})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del servicio",multiline:!0,editable:Na||Wa,numberOfLines:5,value:$e,onChangeText:Le,scrollEnabled:!0}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Na&&""!==F?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"45%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{za(!0),Ta(!1),Pa("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este servicio?")},disabled:Ma,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Servicio"})}),Aa&&""===F?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"45%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>tr(),disabled:Ma,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Servicio"})}),La&&""!==F?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"45%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{za(!0),Ta(!0),Pa("\xbfEst\xe1s seguro que deseas ELIMINAR al este servicio?"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},disabled:Ma,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Servicio"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Oa,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Da}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>_a?or():ar(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>za(!Oa),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>za(!Oa),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ra,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:na}),xa&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ua?e.replace("Servicios"):ia(!ra),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:Aa&&(0,w.jsx)(u.default,{onPress:()=>Qo(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===Ga&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Servicio"})})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:mo,onKeyPress:Zo,onChangeText:jo}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:yo,onKeyPress:Zo,onChangeText:wo}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tipo de Servicio:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:M,position:"relative"},children:(0,w.jsx)(ie,{value:bo,placeholder:"Seleccione un tipo de servicio",setValue:Co,items:uo,direction:"BOTTOM",onDropdownOpen:()=>L("TipoServicioSearsh")})}),Va&&(0,w.jsx)(n.default,{style:p.separatorBlanco}),Va&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),Va&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:A,position:"relative"},children:(0,w.jsx)(ie,{value:So,placeholder:"Seleccione un tienda",setValue:vo,items:lo,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaSearsh")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Precio en USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:Io,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");_o(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:ko,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ro(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Uo.map((e=>(0,w.jsx)(ha,{label:e.label,selected:Fo===e.value,onPress:()=>Ho(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:T},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(Mt,{dayValue:To,monthValue:zo,yearValue:Po,onDayChange:Oo,onMonthChange:Do,onYearChange:Mo,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:z},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(Mt,{dayValue:Eo,monthValue:$o,yearValue:Bo,onDayChange:Ao,onMonthChange:Lo,onYearChange:No,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:er,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Xo(`${Po}-${zo}-${To}`,`${Bo}-${$o}-${Eo}`),children:"Buscar"})})]})]}),qo?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Ft,{isMobile:r,items:eo,columns:nr,columnasMyDateTableEntradaModal:ir,columnasMyDateTableTiendaModal:rr,tiendasByProducto:Ja,proveedorByProducto:ao})]}),(0,w.jsx)(f.default,{transparent:!0,visible:F?.isAddEntrada??!1,animationType:"fade",onRequestClose:Go,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Go,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===F?.id_entrada?"Crear Servicio":"Datos del Servicio"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(Ot,{value:ne,placeholder:"Seleccione un Cliente",setValue:se,items:ro,searchable:!0,readOnly:!(Na||Wa),onDropdownOpen:()=>L("ClienteDetails")})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(Ot,{value:le,placeholder:"Seleccione una tienda",setValue:de,items:lo,readOnly:!(Va&&""===F?.id_entrada||Va&&Na),searchable:!0,onDropdownOpen:()=>L("TipoServicioDetails")})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(Ot,{value:ce,placeholder:"Seleccione un tipo de servicio",setValue:ue,items:uo,readOnly:!(Na||Wa),searchable:!0,onDropdownOpen:()=>L("TipoServicioDetails")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:500},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:500},children:[!aa&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiene Garant\xeda"}),!aa&&(0,w.jsx)(ga,{onPress:()=>et(!Ze),selected:Ze,label:"Garant\xeda"}),aa&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto del encargo"}),aa&&(0,w.jsx)(D,{style:p.textImputModal,value:Xe,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Qe(a)},cursorColor:x.azul_Oscuro,editable:!0,placeholder:"Adelanto del encargo"}),Ze&&!aa&&(0,w.jsxs)(n.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Duraci\xf3n en d\xedas:"}),(0,w.jsx)(D,{style:p.textImputModal,value:st,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");lt(t)},cursorColor:x.azul_Oscuro,editable:Na||Wa,placeholder:"Duracion En d\xedas"})]})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[!aa&&""===F?.id_entrada&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Genera Deuda"}),!aa&&""===F?.id_entrada&&(0,w.jsx)(ga,{onPress:()=>at(!tt),selected:tt,label:"Deuda"}),At&&aa&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha llegada"}),At&&aa&&(0,w.jsx)(Mt,{dayValue:He,monthValue:Ye,yearValue:Ke,onDayChange:qe,onMonthChange:Ge,onYearChange:Je,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!(Na||Wa)}),tt&&!aa&&(0,w.jsxs)(n.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto inicial de la deuda en USD:"}),(0,w.jsx)(D,{style:p.textImputModal,value:dt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ct(t),ht(String((parseFloat(String(t))*K).toFixed(2)))},cursorColor:x.azul_Oscuro,editable:Na||Wa,placeholder:"Adelanto"})]}),!aa&&tt&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Conv. CUP"}),!aa&&tt&&(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:ut})]})]}),Zt&&(0,w.jsx)(n.default,{style:p.separatorNegro}),Zt&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),Zt&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Ot,{value:he,placeholder:"Seleccione un produto",setValue:fe,items:no,searchable:!0,readOnly:!(Na||Wa),onDropdownOpen:()=>L("ProductoDetails")})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[Zt&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ge,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ye(t)},editable:Na||Wa,placeholder:"Cantidad del producto"})]}),(!Zt||Va)&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Zt?"Costo promedio del producto en USD":"Costo del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:be,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;je(""!==a?String((parseFloat(a)*K).toFixed(0)):"0"),Ce(a),bt("CostoUSD")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(ce)&&4!==parseInt(ce)&&25!==parseInt(ce)&&(Na||Wa),placeholder:"Costo Promedio"})]}),!Zt&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:me,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Ce(""!==a?String(parseFloat(a)/K):"0"),je(a),bt("CostoCUP")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(ce)&&4!==parseInt(ce)&&25!==parseInt(ce)&&(Na||Wa),placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Zt?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Ie,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Pe(""!==a?String((parseFloat(a)*K).toFixed(0)):"0"),_e(a),bt("PrecioUSD")},editable:Na||Wa,placeholder:"Precio por unidad en usd"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Zt?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModalNOEDITABLE,value:De,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;_e(""!==a?String(parseFloat(a)/K):"0"),Pe(a),bt("PrecioCUP")},cursorColor:x.azul_Oscuro,editable:Na||Wa,placeholder:"Precio por unidad en cup"})]})]}),""!==F?.id_entrada&&(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hacer Devoluci\xf3n"})}),""!==F?.id_entrada&&(0,w.jsx)(n.default,{style:{padding:20,alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},children:Vo.map((e=>(0,w.jsx)(ha,{label:e.label,selected:ke===e.value,onPress:()=>{(""===F?.id_entrada||Na)&&ze(e.value)}},e.value)))}),Zt&&(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),At&&(0,w.jsx)(Mt,{dayValue:Be,monthValue:Fe,yearValue:Ue,onDayChange:Ne,onMonthChange:We,onYearChange:Ve,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!(Na||Wa)})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Me,onChangeText:Ee,editable:Na||Wa,placeholder:"Nota"})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del servicio",multiline:!0,editable:Na||Wa,numberOfLines:5,value:$e,onChangeText:Le,scrollEnabled:!0}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Na&&""!==F?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{za(!0),Ta(!1),Pa("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este servicio?")},disabled:Ma,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Servicio"})}),Aa&&""===F?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>tr(),disabled:Ma,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Servicio"})}),La&&""!==F?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{za(!0),Ta(!0),Pa("\xbfEst\xe1s seguro que deseas ELIMINAR al este servicio?"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},disabled:Ma,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Servicio"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Oa,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Da}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>_a?or():ar(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>za(!Oa),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>za(!Oa),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ra,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:na}),xa&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ua?e.replace("Servicios"):ia(!ra),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}function Oa(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,{setUsuario:i,usuario:c}=v(),{setSelectedButon:h,selectedButon:g}=k(),m=r?p.loginContainerStilesMovil:p.loginContainerStilesDesktop,[j,C]=o.useState(!1),S=()=>{C(!j)},[I,_]=(0,o.useState)(""),[R,T]=(0,o.useState)(""),O=async()=>{if(""!=I.trim()&&""!=R.trim()){const t=await L(I,R);if(t){const a=await U(t.data.token,t.data.id_usuario);if(a){const o=await ge(t.data.token,t.data.rol.id_rol);if(o){i({id_usuario:a.data.id_usuario,nombre:t.data.nombre,telefono:a.data.telefono,direccion:a.data.direccion,carnet_identidad:a.data.carnet_identidad,detalles_bancarios:a.data.detalles_bancarios,nombre_usuario:I,email:a.data.email,token:t.data.token,id_rol:t.data.rol.id_rol,nombre_rol:t.data.rol.nombre,id_tienda:t.data.tienda.id_tienda,nombre_tienda:t.data.tienda.nombre,permisos:o});const r=new Date,n=String(r.getFullYear()),s=String(r.getMonth()+1).padStart(2,"0"),l=String(r.getDate()).padStart(2,"0");let d=`El usuario ${t.data.nombre} con el nombre de usuario ${I} inici\xf3 sesi\xf3n`;await G(t.data.token,d,`${n}-${s}-${l}`,a.data.id_usuario,5),e.navigate("HomeScreen")}}else alert("Error en userDates"),S()}else T(""),S()}else S()},z=e=>{"Enter"===e.nativeEvent.key&&O()};return(0,w.jsxs)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:[(0,w.jsx)(l.default,{source:a(9772),style:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",resizeMode:"cover"}}),(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:m,children:[(0,w.jsx)(l.default,{source:a(4429),style:{position:"absolute",resizeMode:"cover",height:"50%",width:"70%",marginBottom:"95%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5}}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",width:"100%",marginTop:"35%"},children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre de Usuario:"}),(0,w.jsx)(D,{style:p.textImputLogin,placeholder:"Nombre de Usuario",value:I,onChangeText:_,onKeyPress:z}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Contrase\xf1a"}),(0,w.jsx)(D,{style:p.textImputLogin,placeholder:"Contrase\xf1a",value:R,secureTextEntry:!0,onChangeText:T,onKeyPress:z}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,borderColor:x.azul_Suave,borderWidth:2,width:"90%",height:35,alignItems:"center",marginTop:"5%",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:()=>{h({butonSelected:""}),O()},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:20,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:200},children:"Iniciar Sesi\xf3n"})}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,borderColor:x.azul_Suave,borderWidth:2,width:"45%",height:30,alignItems:"center",marginRight:"5%",marginTop:"5%",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:()=>alert("Not Suport Yet"),children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Recuperar Contrase\xf1a"})}),(0,w.jsx)(f.default,{transparent:!0,visible:j,animationType:"fade",onRequestClose:S,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:r?p.modalViewMesajeContainerMovil:p.modalViewMesajeContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.labelTextDesktop,children:"Error al iniciar sesi\xf3n, posibles errores:"}),(0,w.jsx)(s.default,{style:p.labelTextDesktop,children:"-Nombre de usuario o contrase\xf1a incorrecta."}),(0,w.jsx)(s.default,{style:p.labelTextDesktop,children:"-Debe llenar todos los campos."}),(0,w.jsx)(u.default,{style:{alignItems:"center",justifyContent:"center",marginTop:"5%",width:"100%",paddingVertical:10,backgroundColor:x.azul_Oscuro,borderRadius:5},onPress:S,children:(0,w.jsx)(s.default,{style:{color:"white",fontWeight:"bold"},children:"Intentar de nuevo"})})]})})})]})]})]})]})}const za=(0,o.createContext)(void 0),Da=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(za.Provider,{value:{SortMovimientosDates:t,setSortMovimientosDates:a},children:e})},Pa=()=>{const e=o.useContext(za);if(void 0===e)throw new Error("useModalMovimientosDates debe usarse dentro de un ModalMovimientosDates");return e},Ma=(0,o.createContext)(void 0),Ea=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Ma.Provider,{value:{modalProveedoresDates:t,setModalProveedoresDates:a},children:e})},Aa=()=>{const e=o.useContext(Ma);if(void 0===e)throw new Error("useModalProveedoresDates debe usarse dentro de un ModalProveedoresDates");return e},$a=(0,o.createContext)(void 0),La=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)($a.Provider,{value:{sortEntradas:t,setSortEntradas:a},children:e})},Ba=()=>{const e=o.useContext($a);if(void 0===e)throw new Error("useSortEntradas debe usarse dentro de un SortEntradas");return e},Na=(0,o.createContext)(void 0),Fa=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Na.Provider,{value:{imagenesDelete:t,setImagenesDelete:a},children:e})},Wa=async e=>{try{return await P.default.get(`${M}/Proveedor`,{headers:{Authorization:`${e}`}})}catch(t){return console.log("Error al obtener datos de los proveedores: ",t),!1}},Ua=async(e,t)=>{try{return(await P.default.get(`${M}/Proveedor/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return console.log("Error al obtener datos de el proveedor: ",a),!1}},Va=async(e,t,a,o,r,i,n,s)=>{try{return(await P.default.post(`${M}/Proveedor/createProveedor`,{nombre:t,email:a||"",direccion:r||"",nota:i||"",telefono:o||"",Cif:n||"",detalle_bacario:s||""},{headers:{Authorization:`${e}`}})).data}catch(l){return console.log("Error al incertar un nuevo proveedor: ",l),!1}},Ha=async(e,t,a,o,r,i,n,s,l)=>{try{return(await P.default.put(`${M}/Proveedor/updateProveedor/${t}`,{nombre:a,email:o||"",direccion:i||"",nota:n||"",telefono:r||"",Cif:s||"",detalle_bancario:l||""},{headers:{Authorization:`${e}`}})).data}catch(d){return console.log("Error al actualizar el proveedor: ",d),!1}},qa=async(e,t)=>{try{return await P.default.delete(`${M}/Proveedor/deleteProveedor/${t}`,{headers:{Authorization:`${e}`}})}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&$("Login"),console.log("Error al eliminar el proveedor: ",a),!1}},Ya=async(e,t,a,o,r)=>{try{return(await P.default.post(`${M}/Proveedor/api/filtrar`,{nombre:t,email:o||"",telefono:a||"",detalle_bacario:r||""},{headers:{Authorization:`${e}`}})).data}catch(i){return P.default.isAxiosError(i)&&401===i.response?.status&&$("Login"),console.log("Error al filtrar los proveedores: ",i),!1}},Ga=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalProveedoresDates:g,setModalProveedoresDates:p}=Aa(),{sortProductos:y,setSortProductos:m}=he(),{usuario:j,setUsuario:C}=v(),S=r?Ka.containerMovil:Ka.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(20),[T,O]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[A,$]=o.useState(!1),[L,B]=o.useState(!1),[N,F]=o.useState(!1),[W,U]=o.useState(""),V=["Nombre"],[H,q]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),Y=e=>{p({id_proveedor:e,isAddProveedor:!0,fileEditable:!1,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0})},[G,K]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState("");o.useEffect((()=>{(async()=>{if(j?.token){const e=await xe(j.token,"7",j.id_usuario),t=await xe(j.token,"8",j.id_usuario),a=await xe(j.token,"30",j.id_usuario),o=await xe(j.token,"31",j.id_usuario);X(e),Z(t),te(a),oe(o),K(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const se=t=>{t>=0&&t*k<e.length&&_(t)},le=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((e,t)=>(0,w.jsx)(ne.default.Title,{style:[Ka.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsx)(s.default,{style:r?Ka.headerTextMovil:Ka.headerTextDesktop,children:e})},t)))}),[de,ce]=o.useState(""),[ue,fe]=o.useState(""),ge=e=>{ce(e),P(!z)},pe=e=>{if(fe(e),P(!z),"Modificar"===e){if(p({id_proveedor:de,isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!0,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0}),j?.token){}}else"Eliminar"===e?$(!A):"Mover"==e&&B(!L)},ye=async()=>{if(j?.token){if(0==await Se(j.token,de,j.id_tienda)){return!!await $e(j.token,de)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[le(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Proveedor),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[Ka.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{style:[Ka.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ka.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.detalle_bancario}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ka.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.telefono})})]},e.id_Proveedor))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>ge(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),J&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ae||ee)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>ge(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[de,ue]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await ye();if($(!A),e){const e=T.filter((e=>e.id_Proveedor!==de));O(e),U("Producto eliminado con \xe9xito"),F(!0)}else U("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),F(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$(!A),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>$(!A),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:re,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ie(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(At,{columns:V,items:H})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Ka.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ka.paginationButtonMovil,0===I&&Ka.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Ka.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ka.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Ka.paginationButtonMovil,(I+1)*k>=e.length&&Ka.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Ka.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[le(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Proveedor),children:[(0,w.jsx)(ne.default.Cell,{style:Ka.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{style:Ka.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ka.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.detalle_bancario}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:{flex:1.5,justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsx)(s.default,{children:e.telefono})})]},e.id_Proveedor))),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Ka.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ka.paginationButtonDesktop,0===I&&Ka.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Ka.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ka.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Ka.paginationButtonDesktop,(I+1)*k>=e.length&&Ka.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Ka.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Ka=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:16,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),Ja=({items:e,columns:t})=>{(0,b.useNavigation)();const[a]=o.useState(new c.default.Value(1)),[r,i]=o.useState(0),[l,d]=o.useState(3),[h,f]=o.useState([]);o.useEffect((()=>{const t=r*l,a=Math.min((r+1)*l,e.length);f([]),setTimeout((()=>{f(e.slice(t,a))}),0)}),[r,e,l]);const g=t=>{t>=0&&t*l<e.length&&i(t)},[x,p]=o.useState(!1);return(0,w.jsx)(n.default,{style:Xa.containerDesktop,children:(0,w.jsxs)(ne.default,{style:{width:"100%",height:"auto"},children:[(0,w.jsx)(ne.default.Header,{style:{justifyContent:"space-between"},children:t.map(((e,t)=>(0,w.jsx)(ne.default.Title,{style:[Xa.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsx)(s.default,{style:Xa.headerTextDesktop,children:e})},t)))}),h.filter((e=>0!==parseInt(e.cantidad))).map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>{},children:[(0,w.jsx)(ne.default.Cell,{style:Xa.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"left"},numberOfLines:2,children:e.nombreProducto})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:Xa.handerRow,children:e.cantidad}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:Xa.handerRow,children:e.costo}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Xa.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_entrada))),(0,w.jsxs)(n.default,{style:Xa.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Xa.paginationButtonMovil,0===r&&Xa.disabledButton],onPress:()=>g(r-1),disabled:0===r,children:(0,w.jsx)(s.default,{style:Xa.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Xa.paginationLabel,children:`${r*l+1}-${Math.min((r+1)*l,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Xa.paginationButtonMovil,(r+1)*l>=e.length&&Xa.disabledButton],onPress:()=>g(r+1),disabled:(r+1)*l>=e.length,children:(0,w.jsx)(s.default,{style:Xa.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Xa=g.default.create({containerDesktop:{flex:1,padding:10,justifyContent:"center",alignItems:"center",width:"100%",marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Qa(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,{usuario:i,setUsuario:g}=v(),{modalProveedoresDates:m,setModalProveedoresDates:j}=Aa(),[C,S]=(0,o.useState)(!1),I=(0,o.useRef)(new c.default.Value(0)).current,[_,k]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[R,T]=(0,o.useState)(""),[O,z]=(0,o.useState)(""),[P,M]=(0,o.useState)(""),[E,A]=(0,o.useState)(""),[$,L]=(0,o.useState)(""),[B,N]=(0,o.useState)(""),[F,W]=(0,o.useState)(""),[U,V]=o.useState(!1),[H,q]=o.useState(""),[Y,K]=o.useState(!1),[J,X]=(0,o.useState)(!1),[Q,Z]=(0,o.useState)(!1),[ee,oe]=(0,o.useState)(""),[re,ie]=(0,o.useState)(!1),[ne,se]=o.useState(!1),[le,de]=o.useState(!1),[ce,ue]=o.useState(!1),[he,fe]=(0,o.useState)(null),[ge,ye]=(0,o.useState)([]),we=()=>{C?c.default.timing(I,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>S(!1))):(S(!0),c.default.timing(I,{toValue:400,duration:300,useNativeDriver:!1}).start())},me={height:I},[je,be]=(0,o.useState)([]),[Ce,Se]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[ve,Ie]=(0,o.useState)([]),[_e,ke]=(0,o.useState)(""),[Re,Te]=(0,o.useState)(""),[Oe,ze]=(0,o.useState)(""),[De,Pe]=(0,o.useState)(""),[Me,Ee]=(0,o.useState)(!1),Ae=()=>{T(""),N(""),L(""),A(""),M(""),z(""),W(""),j({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})};(0,o.useEffect)((()=>{Le()}),[he]),(0,o.useEffect)((()=>{(async()=>{if(i?.token&&m?.id_proveedor){const e=await Ua(i.token,m.id_proveedor);if(e){k(m.id_proveedor),T(e.nombre),z(e.email||""),M(e.direccion||""),A(e.telefono||""),L(e.nota||""),N(e.Cfi||""),W(e.detalle_bancario||"");const t=await yt(i.token,m.id_proveedor);if(t){const e=await Promise.all(t.map((async e=>({id_entrada:e.id_entrada,nombreProducto:e.producto.nombre,cantidad:e.cantidad,costo:e.costo,fecha:e.fecha}))));ye(e)}}}})()}),[m]);const $e=e=>{"Enter"===e.nativeEvent.key&&Le()};(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(i?.token){const e=await xe(i.token,"35",i.id_usuario),t=await xe(i.token,"37",i.id_usuario),a=await xe(i.token,"36",i.id_usuario);se(e),de(t),ue(a)}})(),await(async()=>{if(void 0!=i?.token)try{const e=await Wa(i.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({id_Proveedor:e.id_proveedor,nombre:e.nombre,correo:e.email||"",detalle_bancario:e.detalle_bancario||"",telefono:e.telefono||""}))));be(t)}else console.log("No se encontraron proveedoress.")}catch(e){console.log("Error al obtener los proveedores o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de los proveedores")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de los proovedores")})(),(async()=>{if(void 0!=i?.token){const e=await pe(i.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Ie([{label:"Tiendas",value:""},...t])}}})()})(),()=>{})),[]));const Le=async()=>{Ee(!0);try{if(i?.token){let e=await(async()=>{if(i?.token)try{const e=await Ya(i.token,_e,Oe,Re,De);if(e)return await Promise.all(e.map((async e=>({id_Proveedor:e.id_proveedor,nombre:e.nombre,correo:e.email||"",direccion:e.direccion||"",telefono:e.telefono||"",nota:e.nota||"",cif:e.Cif||"",detalle_bancario:e.detalle_bancario||""}))))}catch(e){return console.error("Error al filtrar los proveedoress:",e),null}return null})()||[];be(e)}}catch(e){console.error("Error al filtrar y ordenar los proovedores:",e)}finally{Ee(!1)}},Be=()=>{T(""),z(""),M(""),A(""),L(""),j({id_proveedor:"",isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},Ne=()=>{ke(""),Te(""),Pe(""),ze(""),fe("")},Fe=async()=>{if(ie(!1),q("Agregando proveedor. Espere por favor"),V(!0),i?.token){let e=!0,t="ERROR AL AGREGAR PROVEEDOR. Por favor verifique los siguientes campos:\n";if(""===R.trim()&&(t+="-El nombre del proveedor no puede ser vac\xedo",e=!1),e){await Va(i.token,R,O,E,P,$,B,F);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${i.nombre} agreg\xf3 al sistema al proveedor ${R}`;await G(i.token,r,`${t}-${a}-${o}`,i.id_usuario,3),ie(!0),q(`El Proveedor "${R}" fue insertado con \xe9xito`),V(!0),K(!0),T(""),A(""),z(""),M(""),L(""),N(""),W("")}else ie(!0),q(t),V(!0)}},We=async()=>{if(ie(!1),q("Modificando proveedor. Espere por favor"),V(!0),i?.token){let e=!0,t="ERROR AL MODIFICAR PROVEEDOR. Compruebe los siguientes campos:\n";if(""===R.trim()&&(e=!1,t+="-El nombre del proveedor no puede ser vac\xedo"),e){await Ha(i.token,_,R,O,E,P,$,B,F);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${i.nombre} modific\xf3 al proveedor ${R}`;await G(i.token,r,`${t}-${a}-${o}`,i.id_usuario,3),ie(!0),q(`El Proveedor "${R}" se modific\xf3 con \xe9xito`),V(!0),K(!0)}else ie(!0),q(t),V(!0)}},Ue=async()=>{if(ie(!1),q("Eliminando proveedor. Espere por favor"),V(!0),i?.token){let e="ERROR AL TRATAR DE ELIMINAR EL PROVEEDOR. Motivos:\n";if(!0){if(await qa(i.token,_)){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${i.nombre} elimin\xf3 al proveedor ${R}`;await G(i.token,r,`${t}-${a}-${o}`,i.id_usuario,3),ie(!0),q(`El Proveedor "${R}" se elimin\xf3 con \xe9xito`),V(!0),K(!0)}else ie(!0),e+="-El proveedor ya ha echo operaciones en el sistema.\n",q(e),V(!0)}else ie(!0),q(e),V(!0)}},Ve=["Producto","Cantidad","Costo","Fecha"],He=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],qe=r?["Nombre","Correo","Detalle Bancario","telefono"]:["Nombre","Correo","Detalle Bancario","Tel\xe9fono"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:ne&&(0,w.jsx)(u.default,{onPress:()=>Be(),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Proveedor"})})}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:we,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[Me?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Ga,{isMobile:r,items:je,columns:qe,columnasMyDateTableProveedorModal:He,columnasMyDateTableTiendaModal:Ve,tiendasByProducto:[],proveedorByProducto:Ce}),C&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},me],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",onKeyPress:$e,value:_e,onChangeText:ke}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Correo del Proveedor:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Correo del Proveedor",onKeyPress:$e,value:Re,onChangeText:Te}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Detalles Bancarios:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Detalles Bancarios",onKeyPress:$e,value:De,onChangeText:Pe}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"N\xfamero de Tel\xe9fono",value:Oe,onKeyPress:$e,onChangeText:ze}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ne,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{Le(),S(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:m?.isAddProveedor??!1,animationType:"fade",onRequestClose:Ae,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"95%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ae,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:m?.isModificarProveedor?"Modificar Producto":m?.isAddProductoShowProveedoresTiendas?"Datos del Proveedor":"Agregar Proveedor"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Proveedor"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ce,value:R,onChangeText:T,placeholder:"Nombre del proveedor"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n del Proveedor"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ce,value:P,onChangeText:M,placeholder:"Direcci\xf3n del Proveedor"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:E,onChangeText:A,editable:!!ce,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"C\xf3digo de Identificaci\xf3n Fiscal (CIF)"}),(0,w.jsx)(D,{style:p.textImputModal,value:B,onChangeText:N,cursorColor:x.azul_Oscuro,editable:!!ce,placeholder:"C\xf3digo de Identificaci\xf3n Fiscal"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:O,onChangeText:z,editable:!!ce,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(D,{style:p.textImputModal,value:F,onChangeText:W,cursorColor:x.azul_Oscuro,editable:!!ce,placeholder:"Detalles Bancarios"})]})]}),!m?.isModificarProveedor&&((m?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsx)(n.default,{style:{borderColor:x.azul_Oscuro,borderWidth:2,alignItems:"center",marginTop:"3%",borderRadius:15,flexDirection:"row",height:350,width:"90%"},children:(0,w.jsx)(Ja,{columns:Ve,items:ge})})),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Nota"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,editable:!!ce,numberOfLines:5,value:$,onChangeText:L,scrollEnabled:!0}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",width:"100%",justifyContent:"space-between"},children:[ce&&m?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{X(!0),Z(!1),oe(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos proveedor ${R}?`)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Proveedor"})}),le&&m?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{X(!0),oe(`\xbfEst\xe1s seguro que deseas ELIMINAR al proveedor ${R}?`),Z(!0),j({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Proveedor"})}),ne&&""===m?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Fe(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Proveedor"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:J,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ee}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Q?Ue():We(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>X(!J),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>X(!J),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:U,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:H}),re&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Y?e.replace("Proveedores"):V(!U),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:(ne||ce||le)&&(0,w.jsx)(u.default,{onPress:()=>Be(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===he&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Proveedor"})})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",value:_e,onKeyPress:$e,onChangeText:ke}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Correo del Proveedor:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Correo del Proveedor",value:Re,onKeyPress:$e,onChangeText:Te}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Detalles Bancarios:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Detalles Bancarios",value:De,onKeyPress:$e,onChangeText:Pe}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"N\xfamero de Tel\xe9fono",value:Oe,onKeyPress:$e,onChangeText:ze}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ne,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Le(),children:"Buscar"})})]})]}),Me?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Ga,{isMobile:r,items:je,columns:qe,columnasMyDateTableProveedorModal:He,columnasMyDateTableTiendaModal:Ve,tiendasByProducto:[],proveedorByProducto:Ce})]}),(0,w.jsx)(f.default,{transparent:!0,visible:m?.isAddProveedor??!1,animationType:"fade",onRequestClose:Ae,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ae,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:m?.isModificarProveedor?"Modificar Producto":m?.isAddProductoShowProveedoresTiendas?"Datos del Proveedor":"Agregar Proveedor"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Proveedor"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ce,value:R,onChangeText:T,placeholder:"Nombre del proveedor"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n del Proveedor"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ce,value:P,onChangeText:M,placeholder:"Direcci\xf3n del Proveedor"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:E,onChangeText:A,editable:!!ce,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"C\xf3digo de Identificaci\xf3n Fiscal (CIF)"}),(0,w.jsx)(D,{style:p.textImputModal,value:B,onChangeText:N,cursorColor:x.azul_Oscuro,editable:!!ce,placeholder:"C\xf3digo de Identificaci\xf3n Fiscal"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:O,onChangeText:z,editable:!!ce,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(D,{style:p.textImputModal,value:F,onChangeText:W,cursorColor:x.azul_Oscuro,editable:!!ce,placeholder:"Detalles Bancarios"})]})]}),!m?.isModificarProveedor&&((m?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsx)(n.default,{style:{flex:1,borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,height:500,width:"90%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(Ja,{columns:Ve,items:ge})})),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Nota"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,editable:!!ce,numberOfLines:5,value:$,onChangeText:L,scrollEnabled:!0}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[ce&&m?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{X(!0),Z(!1),oe(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos proveedor ${R}?`)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Proveedor"})}),le&&m?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{X(!0),oe(`\xbfEst\xe1s seguro que deseas ELIMINAR al proveedor ${R}?`),Z(!0),j({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Proveedor"})}),ne&&""===m?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Fe(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Proveedor"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:J,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ee}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Q?Ue():We(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>X(!J),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>X(!J),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:U,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:H}),re&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Y?e.replace("Proveedores"):V(!U),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const Za=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalProductsDates:g,setModalProductsDates:p}=de(),{sortProductos:y,setSortProductos:m}=he(),{usuario:j,setUsuario:C}=v(),S=r?eo.containerMovil:eo.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(0),[T,O]=o.useState(20),[z,P]=o.useState([]),[M,E]=o.useState(!1),[A,$]=o.useState(!1),[L,B]=o.useState(!1),[N,F]=o.useState(!1),[W,U]=o.useState(!1),[V,H]=o.useState(!1),[q,Y]=o.useState(""),G=["Nombre"],[K,J]=o.useState(""),[X,Q]=o.useState([{value:"1",label:"Tienda 1"},{value:"2",label:"Tienda 2"},{value:"3",label:"Tienda 3"}]),Z=e=>{p({id_producto:e,isAddProducto:!0,fileEditable:!1,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!0,isAddProductoShowProveedores:!0})},[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState(!1),[se,le]=o.useState(!1),[ce,ue]=o.useState(!1),[fe,ge]=o.useState(!1),[ye,we]=o.useState(""),[me,je]=o.useState(""),[Ie,_e]=o.useState(""),[ke,Re]=o.useState(""),[Te,Oe]=o.useState(""),[ze,De]=o.useState(""),[Pe,Me]=o.useState([]),[Ee,Ae]=o.useState([]);o.useEffect((()=>{(async()=>{if(j?.token){const e=await xe(j.token,"7",j.id_usuario),t=await xe(j.token,"8",j.id_usuario),a=await xe(j.token,"30",j.id_usuario),o=await xe(j.token,"31",j.id_usuario);ie(e),le(t),ue(a),ge(o),oe(t||e||a||o),_(await ve(j.token))}})()}),[]),o.useEffect((()=>{const t=k*T,a=Math.min((k+1)*T,e.length);P([]),setTimeout((()=>{P(e.slice(t,a))}),0)}),[k,e,T]);const Le=t=>{t>=0&&t*T<e.length&&R(t)},Be=()=>(0,w.jsx)(ne.default.Header,{style:{justifyContent:"space-between"},children:t.map(((t,o)=>(0,w.jsxs)(ne.default.Title,{style:[eo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:[(0,w.jsx)(s.default,{style:r?eo.headerTextMovil:eo.headerTextDesktop,children:t}),("PrecioUSD"===t||"Nombre"===t||"Precio"===t||"PrecioCUP"===t||"Cantidad"===t||"Cantidad Total"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre"===t?a="option3":"PrecioUSD"===t||"PrecioCUP"===t||"Precio"===t?a="option4":"Cantidad Total"!==t&&"Cantidad"!==t||(a="option5"),m({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]},o)))}),[Ne,Fe]=o.useState(""),[Ue,Ve]=o.useState(""),He=e=>{Fe(e),E(!M)},Ye=e=>{if(Ve(e),E(!M),"Modificar"===e){if(p({id_producto:Ne,isAddProducto:!0,fileEditable:!0,isModificarProducto:!0,isAddProductoShowProveedoresTiendas:!0,isAddProductoShowProveedores:!0}),j?.token){}}else"Eliminar"===e?B(!L):"Mover"==e&&(alert("Entr\xf3 a mover"),(async()=>{if(void 0!=j?.token){const e=await pe(j.token),t=await Ce(j.token,Ne);if(e&&Array.isArray(e.data)&&!1!==t&&Array.isArray(t)){const a=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));let o=[],r=[];t.forEach((async e=>{parseInt(e.cantidad)>0&&o.push(e.id_tienda)}));for(let e of o){let t={value:"",label:""};const a=await be(j.token,e);t.label=a.nombre,t.value=e,r.push(t)}let i=!1;i=r.some((e=>{e.value,j.id_tienda}));for(let e=0;e<r.length;e++)r[e].value===j.id_tienda&&(i=!0);i&&we(j.id_tienda),fe||we(j.id_tienda),alert(`Datos cargador: ${r.length}`),Me(r),Ae(a)}}})(),F(!N))},Ge=async()=>{const e=await Je();if(B(!L),e){const e=z.filter((e=>e.id_Producto!==Ne));P(e),Y("Producto eliminado con \xe9xito"),U(!0)}else Y("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),U(!0)},Je=async()=>{if(j?.token){if(0==await Se(j.token,Ne,j.id_tienda)){return!!await $e(j.token,Ne)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[Be(),z.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Z(e.id_Producto),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:eo.handerRow,children:e.sku}),(0,w.jsx)(ne.default.Cell,{style:eo.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:eo.handerRow,children:e.precioUSD}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:eo.handerRow,children:(parseFloat(e.precioUSD)*I).toFixed(2)}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:eo.handerRow,children:(0,w.jsxs)(s.default,{children:[e.cantidadTotal," "]})})]},e.id_Producto))),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",onRequestClose:()=>He(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),re&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{Ye("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),se&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{Ye("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(fe||ce)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{Ye("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>He(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[Ne,Ue]}),(0,w.jsx)(u.default,{onPress:()=>$(!A),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ge(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>B(!L),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:me,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");je(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(At,{columns:G,items:X})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>F(!N),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:q}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:eo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[eo.paginationButtonMovil,0===k&&eo.disabledButton],onPress:()=>Le(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:eo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:eo.paginationLabel,children:`${k*T+1}-${Math.min((k+1)*T,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[eo.paginationButtonMovil,(k+1)*T>=e.length&&eo.disabledButton],onPress:()=>Le(k+1),disabled:(k+1)*T>=e.length,children:(0,w.jsx)(s.default,{style:eo.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[Be(),z.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Z(e.id_Producto),children:[(0,w.jsx)(ne.default.Cell,{style:eo.handerRow,children:e.sku}),(0,w.jsx)(ne.default.Cell,{style:eo.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:eo.handerRow,children:e.precioUSD}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:eo.handerRow,children:(parseFloat(e.precioUSD)*I).toFixed(2)}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:eo.handerRow,children:(0,w.jsxs)(s.default,{children:[e.cantidadTotal," "]})})]},e.id_Producto))),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",onRequestClose:()=>He(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),re&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{Ye("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),se&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{Ye("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(fe||ce)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{Ye("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>He(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ge(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>B(!L),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:V,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Estas seguro de que deseas mover una cantidad de ${me} del producto ${Ie} desde la tienda ${ke} a ${Te}?`}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{if(!ee&&(te(!0),j?.token)){await We(j.token,Ne,ye,ze,me);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");await Ke(j.token,`${a}-${o}-${t}`,ye,ze,me,Ne,j.id_usuario),Y(`Se movieron ${me} de ${Ie} desde la tienda ${ke} a ${Te}`),H(!1),U(!0)}})(),disabled:ee,children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>H(!V),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>H(!V),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Mover Producto "${Ie}" a una Tienda\ncon una cantidad de ${me} en ${ke}`}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:me,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");je(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[" ",fe&&(0,w.jsx)(qe,{value:ye,items:Pe,placeholder:"Tienda desde donde se quiere mover",setValue:we}),(0,w.jsx)(qe,{value:ze,items:Ee,placeholder:"Tienda a la que se quiere mover",setValue:De})]}),(0,w.jsx)(u.default,{onPress:()=>(async()=>{if(ee)return;te(!0);let e=!0,t="Error. Comprueve los siguientes par\xe1metros:\n",a=0;if(j?.token){const e=await Se(j.token,Ne,ye);e.encontrado&&(a=parseInt(e.cantidad))}if(ye===ze&&(e=!1,t+="-La tienda origen no puede ser igual a la tienda destino.\n"),""===me?(e=!1,t+="-La cantidad a mover no puede ser vacio.\n"):parseInt(me)>a&&(e=!1,t+="-La cantidad a mover es mayor que la cantidad que existe en la tienda.\n"),fe&&""===ye&&(e=!1,t+="-Elija la tienda desde la que decea hacer el movimiento.\n"),""===ze&&(e=!1,t+="-Elija una tienda a la que desea hacer el movimiento.\n"),e){const e=Ee.find((e=>e.value===ze));Oe(String(e?.label));const t=Pe.find((e=>e.value===ye));Re(String(t?.label)),F(!1),H(!0)}else Y(t),F(!1),U(!0)})(),disabled:ee,style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:150,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>F(!N),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:q}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:eo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[eo.paginationButtonDesktop,0===k&&eo.disabledButton],onPress:()=>Le(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:eo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:eo.paginationLabel,children:`${k*T+1}-${Math.min((k+1)*T,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[eo.paginationButtonDesktop,(k+1)*T>=e.length&&eo.disabledButton],onPress:()=>Le(k+1),disabled:(k+1)*T>=e.length,children:(0,w.jsx)(s.default,{style:eo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},eo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function to(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,{usuario:i,setUsuario:g}=v(),{sortProductos:m,setSortProductos:j}=he(),{modalProductsDates:C,setModalProductsDates:S}=de(),[I,_]=(0,o.useState)(!1),k=(0,o.useRef)(new c.default.Value(0)).current,[R,T]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)(!1)),[O,z]=(0,o.useState)(0),[P,M]=(0,o.useState)(""),[A,$]=(0,o.useState)(""),[L,B]=(0,o.useState)(""),[N,F]=(0,o.useState)(""),[W,U]=(0,o.useState)(""),[V,H]=(0,o.useState)(""),[q,Y]=(0,o.useState)(""),[K,J]=(0,o.useState)(""),[X,Q]=(0,o.useState)([]),[Z,ee]=o.useState(!1),[oe,re]=o.useState(!1),[ne,se]=o.useState(!1),[le,ce]=o.useState(!1),[ue,fe]=o.useState(!1),[ge,ye]=o.useState(!1),[me,je]=(0,o.useState)(!1),[Ie,ke]=o.useState(""),[ze,De]=o.useState(!1),[Pe,Me]=o.useState(!1),[$e,Le]=(0,o.useState)([]),[Be,Ve]=(0,o.useState)([]),[He,Ye]=(0,o.useState)([]),[Ge,Je]=(0,o.useState)([]),[Xe,Qe]=(0,o.useState)(!1),[Ze,et]=o.useState(!1),[tt,at]=o.useState(!1),[ot,rt]=o.useState(!1),[it,nt]=o.useState(!1),[ct,ht]=o.useState(!1),[ft,gt]=(0,o.useState)(""),[xt,yt]=(0,o.useState)(""),[wt,mt]=(0,o.useState)(i?.id_tienda??""),[jt,bt]=(0,o.useState)("2"),[Ct,St]=(0,o.useState)("1"),[vt,It]=(0,o.useState)("0"),[kt,Rt]=(0,o.useState)("0"),[Tt,zt]=(0,o.useState)(""),[Dt,Pt]=(0,o.useState)(""),[Et,At]=(0,o.useState)(""),[$t,Lt]=(0,o.useState)(""),[Bt,Nt]=(0,o.useState)(""),[Ft,Wt]=(0,o.useState)(""),[Ht,qt]=(0,o.useState)(""),[Yt,Gt]=(0,o.useState)(""),[Jt,Xt]=(0,o.useState)(!1),Qt=async()=>{if(i?.token){const e=await Se(i.token,L,wt);let t=!0,a="ERROR AL INGRESAR SERVICIO. Por favor verifique los siguientes campos:\n";if(""===xt&&(t=!1,a+="-Seleccione un cliente. Si no hay datos del cliente seleccione anonimo\n"),""===jt&&(t=!1,a+="-Seleccione el tipo de servicio que est\xe1 ofreciendo.\n"),""===wt&&(t=!1,a+="-Seleccione una tienda.\n"),e&&parseInt(e.cantidad)<parseInt(Ct)&&(t=!1,a+="-La cantidad que desea vender es mayor que la cantidad que hay en la tienda.\n"),""===vt&&(t=!1,a+="-Digite el costo del servicio.\n"),""===Tt&&(t=!1,a+="-Defina el precio cobrado al cliente.\n"),2!==parseInt(jt)&&4!==parseInt(jt)||(""===L&&(t=!1,a+="-Seleccione un producto para vender.\n"),""===Ct&&(t=!1,a+="-Defina la cantidad que desea vender del producto.\n")),t){const e=await Vt(i.token,`${Ft}-${Bt}-${Ht}`,Tt,Et,wt,jt,xt,"Not suport yet","not suport yet");if(2===parseInt(jt)||4===parseInt(jt)){await la(i.token,L,e.id_servicio,Ct),await we(i.token,L,wt,`${parseInt(Ct)}`);const t=$e.find((e=>e.value===xt)),a=Ge.find((e=>e.value===jt)),o=Be.find((e=>e.value===L)),r=new Date,n=String(r.getFullYear()),s=String(r.getMonth()+1).padStart(2,"0"),l=String(r.getDate()).padStart(2,"0");let d=`El usuario ${i.nombre} agreg\xf3 un servicio del tipo de servicio ${a?.label} al cliente ${t?.label}. Se vendi\xf3 una cantidad de ${Ct} del producto ${o?.label} a un precio de ${Tt} USD`;await G(i.token,d,`${n}-${s}-${l}`,i.id_usuario,7)}else{const e=$e.find((e=>e.value===xt)),t=Ge.find((e=>e.value===jt)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");let s=`El usuario ${i.nombre} agreg\xf3 un servicio del tipo de servicio ${t?.label} a un precio de ${Tt} USD al cliente ${e?.label}`;await G(i.token,s,`${o}-${r}-${n}`,i.id_usuario,7)}await Ae(i.token,jt,wt),ke("El servicio se agreg\xf3 con \xe9xito"),re(!0),ye(!0),yt(""),zt(""),Pt(""),St(""),It(""),bt(""),At(""),Lt(""),Me(!1),S({id_producto:"",isAddProducto:!1,fileEditable:!0,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1})}else ke(a),re(!0)}},[Zt,ea]=o.useState(""),[aa,oa]=o.useState(""),[ra,ia]=o.useState(""),[na,sa]=o.useState(""),[da,ua]=o.useState(""),[ha,fa]=o.useState(""),[ga,xa]=o.useState(""),[pa,ya]=o.useState(""),[wa,ma]=o.useState([]),[ja,ba]=o.useState([]),Ca=async()=>{if(i?.token){let e=!0,t="ERROR AL RESTAR PRODUCTOS. Verifique los siguientes par\xe1metros.\n";parseInt(aa)<parseInt(da)&&(e=!1,t+="-La cantidad a restar es mayor que la cantidad en la tienda.\n"),e?(fe(!1),ce(!0)):(ke(t),re(!0),je(!0),ye(!1))}},Sa=async()=>{if(je(!1),ke("Restando producto. Espere por favor"),re(!0),i){let e=parseInt(aa)-parseInt(da);await Ee(i.token,L,fo,String(e));const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let n=`El usuario ${i.nombre} rest\xf3 una cantidad de ${da} de ${N} de la tienda ${Zt}`;await G(i.token,n,`${a}-${o}-${r}`,i.id_usuario,1),ke(`Se restaron ${da} de la tienda ${Zt}`),je(!0),re(!0),je(!0),ye(!0)}},va=async()=>{if(je(!1),ke("Moviendo producto. Espere por favor"),re(!0),i?.token){await We(i.token,L,ra,pa,na);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");await Ke(i.token,`${a}-${o}-${t}`,ra,pa,na,L,i.id_usuario),await Ae(i.token,L,pa);let r=`El usuario ${i.nombre} movi\xf3 ${na} de ${N} desde la tienda ${ha} hasta la tienda ${ga}`;await G(i.token,r,`${t}-${a}-${o}`,i.id_usuario,2),ke(`Se movieron ${na} de ${N} desde la tienda ${ha} a ${ga}`),je(!0),ye(!0),se(!1),re(!0)}},Ia=async()=>{let e=!0,t="Error. Compruebe los siguientes par\xe1metros:\n",a=0;if(i?.token){const e=await Se(i.token,L,ra);e.encontrado&&(a=parseInt(e.cantidad))}if(ra===pa&&(e=!1,t+="-La tienda origen no puede ser igual a la tienda destino.\n"),"0"===na&&(e=!1,t+="-La cantidad a mover debe ser mayor que 0.\n"),""===na?(e=!1,t+="-La cantidad a mover no puede ser vac\xedo.\n"):parseInt(na)>a&&(e=!1,t+="-La cantidad a mover es mayor que la cantidad que existe en la tienda.\n"),$a&&""===ra&&(e=!1,t+="-Elija la tienda desde la que decea hacer el movimiento.\n"),""===pa&&(e=!1,t+="-Elija una tienda a la que desea hacer el movimiento.\n"),e){const e=ja.find((e=>e.value===pa));xa(String(e?.label));const t=wa.find((e=>e.value===ra));fa(String(t?.label)),De(!1),ye(!0),se(!0)}else ke(t),re(!0),je(!0),ye(!1)},_a=e=>{"Enter"===e.nativeEvent.key&&So()},ka=async()=>{if(void 0!=i?.token){const e=await pe(i.token),t=await Ce(i.token,L);if(e&&Array.isArray(e.data)&&!1!==t&&Array.isArray(t)){const a=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));let o=[],r=[];t.forEach((async e=>{parseInt(e.cantidad)>0&&o.push(e.id_tienda)}));for(let e of o){let t={value:"",label:""};const a=await be(i.token,e);t.label=a.nombre,t.value=e,r.push(t)}let n=!1;n=r.some((e=>{e.value,i.id_tienda}));for(let e=0;e<r.length;e++)r[e].value===i.id_tienda&&(n=!0);n&&ia(i.id_tienda),$a||ia(i.id_tienda),ma(r),ba(a)}}};(0,o.useEffect)((()=>{R&&(async()=>{if(i?.token){const e=await be(i.token,ra),t=await Se(i.token,L,ra);oa(t.cantidad),ea(e.nombre)}})()}),[ra]),(0,o.useEffect)((()=>{"PrecioCUP"===Yt?(zt(parseFloat(Tt).toFixed(4)),Gt("")):"PrecioUSD"===Yt?(Pt(parseFloat(Dt).toFixed(0)),Gt("")):"CostoCUP"===Yt?(It(parseFloat(vt).toFixed(4)),Gt("")):"CostoUSD"===Yt&&(Rt(parseFloat(kt).toFixed(0)),Gt("")),Gt("")}),[Yt]),(0,o.useEffect)((()=>{(async()=>{if(i?.token){const e=await Ut(i.token,L);if(2===parseInt(jt)||4===parseInt(jt)){const t=await ca(i.token,ft);if(Qe(!0),t){const a=await pt(i?.token,t.producto.id_producto),o=await Te(i.token,t.producto.id_producto);B(t.producto.id_producto),St(t.cantidad),mt(e.tienda.id_tienda),zt(t.producto.precio),Pt(String(parseInt(t.producto.precio)*O)),It(_t(a,o))}else Qe(!0),B(""),St(""),zt(""),Pt(""),It("")}else Qe(!1),zt(e.precio),Pt(String(parseInt(e.precio)*O)),It(e.costo)}})()}),[jt]),(0,o.useEffect)((()=>{if(""!==L&&i?.token){(async()=>{const e=await pt(i?.token,L),t=await Oe(i.token,L),a=await Te(i.token,L);It(_t(e,a)),zt(t.precio??0),Pt(String(parseFloat(t.precio)*O)??0)})()}}),[L]);const Ra=async()=>{if(ke("Recopilando datos de todos los productos filtrados para el Exel. Espere un momento por favor."),wo(!0),ee(!0),i?.token){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),r=await Ue(i.token,Ya);if(r){const e=window.URL.createObjectURL(r),n=document.createElement("a");n.href=e,n.download=`${i.nombre_tienda}_${o}-${a}-${t}.xlsx`,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(e)}else console.error("No se pudo descargar el archivo.")}wo(!1)},[Ta,Oa]=(0,o.useState)(!1),[za,Da]=(0,o.useState)(!1),[Pa,Ma]=o.useState(!1),[Ea,Aa]=o.useState(!1),[$a,La]=o.useState(!1),[Ba,Na]=o.useState(!1),Fa=async()=>{if(i?.token){const e=await xe(i.token,"6",i.id_usuario),t=await xe(i.token,"38",i.id_usuario),a=await xe(i.token,"7",i.id_usuario),o=await xe(i.token,"8",i.id_usuario),r=await xe(i.token,"30",i.id_usuario),n=await xe(i.token,"31",i.id_usuario),s=await xe(i.token,"27",i.id_usuario);(async()=>{if(i?.token){const e=await xe(i.token,"26",i.id_usuario),t=await xe(i.token,"25",i.id_usuario),a=await xe(i.token,"24",i.id_usuario),o=await xe(i.token,"26",i.id_usuario),r=await xe(i.token,"27",i.id_usuario);z(await ve(i.token)),nt(o),ht(r),et(e),at(t),rt(a)}})(),Ma(o||a||r||n),Oa(e),Da(t),La(n),Aa(r),Na(s)}},Wa=e=>{},[Ua,Va]=(0,o.useState)(null),Ha=()=>{I?c.default.timing(k,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>_(!1))):(_(!0),c.default.timing(k,{toValue:400,duration:300,useNativeDriver:!1}).start())},qa={height:k},[Ya,Ga]=(0,o.useState)([]),[Ka,Ja]=(0,o.useState)([]),[Xa,Qa]=(0,o.useState)([]),[eo,to]=(0,o.useState)([]),[ao,oo]=(0,o.useState)(""),[ro,io]=(0,o.useState)(""),[no,so]=(0,o.useState)(""),[lo,co]=(0,o.useState)(""),[uo,ho]=(0,o.useState)(""),[fo,go]=(0,o.useState)(i?.id_tienda),[xo,po]=(0,o.useState)(!1),[yo,wo]=(0,o.useState)(!1),mo=()=>{S({id_producto:"",isAddProducto:!1,isModificarProducto:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1})},jo=async()=>{if(i?.token&&C?.id_producto){const e=await Oe(i.token,C.id_producto);if(e){B(e.id_producto),F(e.nombre),U(e.precio),H(e.precio_empresa),Y(e.Sku),J(e.descripcion||""),(async e=>{if(i?.token){const t=await Ce(i.token,e);if(Array.isArray(t)){const e=t.map((e=>({id_tienda:e.tienda.id_tienda.toString(),nombre:e.tienda.nombre,cantidad:e.cantidad.toString()})));Ja(e)}}})(e.id_producto),(async e=>{try{if(i?.token){const t=await pt(i?.token,e),a=await Te(i.token,e);if(t){M(_t(t,a));const e=t.map((e=>({id_proveedor:e.proveedor.id_proveedor,nombre:e.proveedor.nombre,cantidad:e.cantidad,costoPorUnidad:e.costo})));Qa(e)}}}catch(t){console.log("Error al cargar los proveedores por producto:",t)}})(e.id_producto);await be(i.token,ra);const t=await Se(i.token,e.id_producto,fo),a=eo.find((e=>parseInt(e.value)===parseInt(fo??"0")));oa(t.cantidad),ea(a?.label??"");const o=e.imagenes.map((async e=>{let t=await e.url,a=t.substring(1,t.length);return t=E+a,{uri:t}})),r=await Promise.all(o);Q(r)}}};(0,o.useEffect)((()=>{R&&jo()}),[C]),(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{go(i?.id_tienda),z(await ve(i?.token)),await Fa(),await(async()=>{if(void 0!=i?.token){const e=await Kt(i.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_tipo_servicio}))));Je(t),bt("2")}}})(),await(async()=>{if(void 0!=i?.token){const e=await ta(i.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_cliente}))));Le(t)}}})(),await(async()=>{if(void 0!=i?.token){let e;const t=await xe(i.token,"27",i.id_usuario),a=await xe(i.token,"26",i.id_usuario);if(t){if(e=await _e(i.token),e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));Ve(t)}}else if(a){const e=await Re(i.token,i.id_tienda);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));Ve(t)}}}})(),await(async()=>{if(void 0!=i?.token){const e=await pe(i.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Ye([{label:"Todas las tiendas",value:""},...t])}}})(),(async()=>{if(void 0!=i?.token){const e=await pe(i.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));to(t)}}})()})(),T(!0),()=>{})),[]));const[bo,Co]=(0,o.useState)(!1),So=async()=>{po(!0);try{if(i?.token){let e=await(async()=>{if(i?.token)try{const e=await Ne(i.token,ao,ro,lo,uo,no,fo);if(e)return await Promise.all(e.map((async e=>({id_Producto:e.id_producto,nombre:e.producto.nombre,sku:e.producto.Sku,cantidadTotal:e.cantidad,precioUSD:e.producto.precio.toString(),precioEmpresaUSD:e.producto.precio_empresa}))))}catch(e){return console.error("Error al filtrar los productos:",e),null}return null})();console.log(m?.criterioOrden&&Ua),Co(!bo),m?.criterioOrden&&m.tipoOrden&&(e=await Fe(i.token,e,m.criterioOrden,bo)),Ga(e)}}catch(e){console.error("Error al filtrar y ordenar los productos:",e)}finally{po(!1)}};(0,o.useEffect)((()=>{So()}),[m,Ua]);const vo=()=>{(0,st.launchImageLibrary)({mediaType:"photo",quality:1,includeBase64:!1,selectionLimit:100,includeExtra:!0},(e=>{e.didCancel?console.log("El usuario cancel\xf3 la selecci\xf3n de la imagen."):e.errorMessage?console.error("Error al seleccionar la imagen: ",e.errorMessage):e.assets&&e.assets.length>0?Q((t=>{const a=100-t.length,o=e.assets.slice(0,a);return[...t,...o]})):console.log("No se seleccion\xf3 ninguna imagen.")}))},Io=e=>{const t=X.filter(((t,a)=>a!==e));Q(t)},_o=()=>{oo(""),io(""),so(""),co(""),ho(""),Va(""),go(i?.id_tienda)},ko=["Nombre","Cantidad"],Ro=["Nombre","Cantidad","Costo"],To=r?["SKU","Nombre","Precio","Precio","Cantidad"]:["SKU","Nombre","PrecioUSD","PrecioCUP","Cantidad en la Tienda"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:[(0,w.jsxs)(u.default,{onPress:()=>Ra(),style:{flexDirection:"row",height:30,width:"40%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.verde_claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"1%",marginTop:"1%",backgroundColor:x.verde_claro},children:[(0,w.jsx)(l.default,{source:a(7520),style:{width:20,height:20,marginRight:"10%"}}),(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===m?.criterioOrden&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Exportar a Excel"})]}),(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ha,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})]}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[xo?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Za,{isMobile:r,items:Ya,columns:To,columnasMyDateTableProveedorModal:Ro,columnasMyDateTableTiendaModal:ko,tiendasByProducto:Ka,proveedorByProducto:Xa}),I&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},qa],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del producto",value:ao,onKeyPress:_a,onChangeText:oo}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"SKU:"}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Cantidad:"})]}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"SKU",value:ro,onKeyPress:_a,onChangeText:io}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Cantidad",value:no,onKeyPress:_a,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");so(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Precio USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:lo,onKeyPress:_a,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");co(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:uo,onKeyPress:_a,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ho(t)}})]}),("2"===String(i?.id_rol)||"1"===String(i?.id_rol))&&(0,w.jsx)(n.default,{style:p.separatorBlanco}),("2"===String(i?.id_rol)||"1"===String(i?.id_rol))&&(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Cambiar de Tienda:"}),("2"===String(i?.id_rol)||"1"===String(i?.id_rol))&&(0,w.jsx)(n.default,{style:{position:"relative",zIndex:500,height:100},children:(0,w.jsx)(ie,{value:fo,placeholder:"Tiendas",setValue:go,items:eo})}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",marginTop:25},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:_o,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{So(),_(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:C?.isAddProducto??!1,animationType:"fade",onRequestClose:mo,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:mo,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:C?.isModificarProducto?"Modificar Producto":C?.isAddProductoShowProveedoresTiendas?"Datos del Producto":"Agregar Producto"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Del Producto"})}),(0,w.jsx)(D,{style:p.textImputModal,value:N,onChangeText:F,cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Nombre del producto"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:W,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;U(a)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Precio en USD"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio de empresa en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:V,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;H(a)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Precio de empresa en CUP"})]})]}),za&&(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo Promedio"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:P,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;M(a)},editable:!1,placeholder:"Costo Promedio"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),!C?.isModificarProducto&&((C?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:(parseFloat(W)*O).toFixed(0),cursorColor:x.azul_Oscuro,editable:!1,placeholder:"Precio en CUP"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Sku"}),(0,w.jsx)(D,{style:p.textImputModal,value:q,onChangeText:Y,cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Sku"})]})]})),!C?.isModificarProducto&&((C?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(n.default,{style:{borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,flexDirection:"row",height:350,width:"90%"},children:[(0,w.jsxs)(n.default,{style:{flexDirection:"column",height:340,width:"45%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Tiendas en las que existe el producto"}),(0,w.jsx)(dt,{columns:ko,items:Ka})]}),(C?.isAddProductoShowProveedores??!1)&&za&&(0,w.jsxs)(n.default,{style:{height:340,width:"45%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Historial de proveedores"}),(0,w.jsx)(ut,{columns:Ro,items:Xa})]})]})),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,value:K,onChangeText:J,editable:!!C?.fileEditable,numberOfLines:5,scrollEnabled:!0}),(0,w.jsx)(lt.PanGestureHandler,{onGestureEvent:Wa,children:(0,w.jsxs)(n.default,{style:{marginTop:20,width:"90%",borderWidth:1,borderColor:x.azul_Oscuro,borderRadius:13,padding:20,alignItems:"center",justifyContent:"center",backgroundColor:x.blanco_Suave},children:[(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,marginBottom:"5%"},children:"Im\xe1genes del producto"}),(C?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:vo,children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Seleccionar Imagenes"})}),X.length>0&&(0,w.jsx)(h.default,{horizontal:!0,style:{marginTop:10,width:"100%",height:100},children:X.map(((e,t)=>(0,w.jsxs)(n.default,{style:{position:"relative",width:100,height:100,marginRight:10},children:[(0,w.jsx)(l.default,{source:{uri:e.uri},style:{width:100,height:100,marginRight:10,borderRadius:10}},t),(0,w.jsx)(u.default,{style:{position:"absolute",top:5,right:5,backgroundColor:"red",borderRadius:15,width:20,height:20,justifyContent:"center",alignItems:"center",zIndex:1},onPress:()=>Io(t),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:"X"})})]},t)))})]})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",flexDirection:"row"},children:[($a||Ea)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,padding:10,marginTop:"3%",marginLeft:"5%",borderRadius:12,width:"30%",alignItems:"center",justifyContent:"center"},onPress:()=>{S({id_producto:"",isAddProducto:!1,isModificarProducto:!1,fileEditable:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1}),ka(),De(!0)},children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover Producto"})}),Ba&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,marginTop:"3%",borderRadius:12,width:"30%",alignItems:"center",justifyContent:"center"},onPress:()=>{mo(),fe(!0)},children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Restar Producto"})}),!1]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Pe,animationType:"fade",onRequestClose:()=>Me(!Pe),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:()=>Me(!Pe),children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Vender Producto"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:5e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:5e3,position:"relative"},children:(0,w.jsx)(Ot,{value:xt,placeholder:"Seleccione un Cliente",setValue:yt,items:$e,searchable:!0,readOnly:!(ot||it)})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1500,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(Ot,{value:wt,placeholder:"Seleccione una tienda",setValue:mt,items:He,readOnly:!0,searchable:!0,onDropdownOpen:()=>{}})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio: Venta"})})]}),Xe&&(0,w.jsx)(n.default,{style:p.separatorNegro}),Xe&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:100,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),Xe&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:500,position:"relative"},children:(0,w.jsx)(Ot,{value:L,placeholder:"Seleccione un produto",setValue:B,items:Be,searchable:!0,readOnly:!0,onDropdownOpen:()=>{}})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[Xe&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Ct,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");St(t)},editable:ot||it,placeholder:"Cantidad del producto"})]}),(!Xe||ct)&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Xe?"Costo promedio del producto en USD":"Costo del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:vt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Rt(""!==a?String((parseFloat(a)*O).toFixed(0)):"0"),It(a),Gt("CostoUSD")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(jt)&&4!==parseInt(jt)&&(ot||it),placeholder:"Costo Promedio"})]}),!Xe&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:kt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;It(""!==a?String(parseFloat(a)/O):"0"),Rt(a),Gt("CostoCUP")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(jt)&&4!==parseInt(jt)&&(ot||it),placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Xe?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Tt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Pt(""!==a?String((parseFloat(a)*O).toFixed(0)):"0"),zt(a),Gt("PrecioUSD")},editable:ot||it,placeholder:"Precio por unidad en usd"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Xe?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModalNOEDITABLE,value:Dt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;zt(""!==a?String(parseFloat(a)/O):"0"),Pt(a),Gt("PrecioCUP")},cursorColor:x.azul_Oscuro,editable:ot||it,placeholder:"Precio por unidad en cup"})]})]}),Xe&&(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:600},children:(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),Jt&&(0,w.jsx)(Mt,{dayValue:Bt,monthValue:Ft,yearValue:Ht,onDayChange:Nt,onMonthChange:Wt,onYearChange:qt,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>{},isReadOnly:!(ot||it)})]})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:500},children:[(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Et,onChangeText:At,editable:ot||it,placeholder:"Nota"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"}})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del servicio",multiline:!0,editable:ot||it,numberOfLines:5,value:$t,onChangeText:Lt,scrollEnabled:!0}),(0,w.jsx)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"45%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Qt()},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Servicio"})})})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:le,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Est\xe1s seguro de que deseas restar una cantidad de ${da} del producto ${N} de la tienda ${Zt}?`}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Sa(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ce(!le),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>ce(!le),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ue,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:300,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"center"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Restar ${N} de la tienda ${Zt} en la cual hay ${aa}`}),(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Cantidad a restar"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},value:da,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ua(t)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Cantidad a restar"}),(0,w.jsx)(u.default,{onPress:()=>Ca(),style:{backgroundColor:x.rojo_oscuro,borderRadius:15,marginTop:30,width:"90%",height:40,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",color:x.blanco_Suave},children:"Restar Productos"})}),(0,w.jsx)(u.default,{onPress:()=>fe(!ue),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ue,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Restar ${N} de la tienda ${Zt} en la cual hay ${aa}`}),(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Cantidad a restar"}),(0,w.jsx)(D,{style:p.textImputModal,value:N,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");so(t)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Cantidad a restar"}),(0,w.jsx)(u.default,{onPress:()=>se(!ne),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ne,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:450,height:250,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Desea mover ${na} producto ${N} desde la tienda ${ha} a ${ga}?`}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>va(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>se(!ne),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>se(!ne),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ze,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:""===ra?"Seleccione una tienda origen":`Mover Producto "${N}" en la Tienda\n ${Zt} con una cantidad de ${aa}`}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:na,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");sa(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[" ",$a&&(0,w.jsx)(qe,{value:ra,items:wa,placeholder:"Tienda desde donde se quiere mover",setValue:ia}),(0,w.jsx)(qe,{value:pa,items:ja,placeholder:"Tienda a la que se quiere mover",setValue:ya})]}),(0,w.jsx)(u.default,{onPress:()=>Ia(),style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:150,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>De(!ze),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:oe,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ie}),me&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ge?e.replace("Mi Tienda"):re(!oe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Z,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ie}),yo?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Datos Recopilados. Espere a que termine la descarga."}),(0,w.jsx)(u.default,{style:{backgroundColor:"#007BFF",padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ee(!Z),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:(0,w.jsxs)(u.default,{onPress:()=>Ra(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.verde_claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"1%",marginTop:"1%",backgroundColor:x.verde_claro},children:[(0,w.jsx)(l.default,{source:a(7520),style:{width:20,height:20,marginRight:"10%"}}),(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===m?.criterioOrden&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Exportar a Excel"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:ao,onChangeText:oo,onKeyPress:_a}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"SKU:"}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Cantidad:"})]}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"SKU",value:ro,onChangeText:io,onKeyPress:_a}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Cantidad",value:no,onKeyPress:_a,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");so(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Precio en USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:lo,onKeyPress:_a,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");co(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:uo,onKeyPress:_a,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ho(t)}})]}),("2"===String(i?.id_rol)||"1"===String(i?.id_rol))&&(0,w.jsx)(n.default,{style:p.separatorBlanco}),("2"===String(i?.id_rol)||"1"===String(i?.id_rol))&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Cambiar de Tienda:"}),("2"===String(i?.id_rol)||"1"===String(i?.id_rol))&&(0,w.jsx)(n.default,{style:{position:"relative",zIndex:500,height:100},children:(0,w.jsx)(ie,{value:fo,placeholder:"Tiendas",setValue:go,items:eo})}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",marginTop:25},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:_o,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>So(),children:"Buscar"})})]})]}),xo?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Za,{isMobile:r,items:Ya,columns:To,columnasMyDateTableProveedorModal:Ro,columnasMyDateTableTiendaModal:ko,tiendasByProducto:Ka,proveedorByProducto:Xa})]}),(0,w.jsx)(f.default,{transparent:!0,visible:C?.isAddProducto??!1,animationType:"fade",onRequestClose:mo,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:mo,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:C?.isModificarProducto?"Modificar Producto":C?.isAddProductoShowProveedoresTiendas?"Datos del Producto":"Agregar Producto"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Del Producto"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,value:N,onChangeText:F,placeholder:"Nombre del producto"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:W,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;U(a)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Precio en USD"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio de empresa en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:V,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;H(a)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Precio de empresa en CUP"})]})]}),za&&(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo Promedio"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:P,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;M(a)},editable:!1,placeholder:"Costo Promedio"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),!C?.isModificarProducto&&((C?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:(parseFloat(W)*O).toFixed(0),cursorColor:x.azul_Oscuro,editable:!1,placeholder:"Precio en CUP"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Sku"}),(0,w.jsx)(D,{style:p.textImputModal,value:q,onChangeText:Y,cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Sku"})]})]})),!C?.isModificarProducto&&((C?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(n.default,{style:{borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,flexDirection:"row",height:350,width:"90%"},children:[(0,w.jsxs)(n.default,{style:{flexDirection:"column",height:350,width:"50%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiendas en las que existe el producto"}),(0,w.jsx)(dt,{columns:ko,items:Ka})]}),(C?.isAddProductoShowProveedores??!1)&&za&&(0,w.jsxs)(n.default,{style:{height:350,width:"50%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Historial de proveedores"}),(0,w.jsx)(ut,{columns:Ro,items:Xa})]})]})),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,editable:!!C?.fileEditable,numberOfLines:5,value:K,onChangeText:J,scrollEnabled:!0}),(0,w.jsx)(lt.PanGestureHandler,{onGestureEvent:Wa,children:(0,w.jsxs)(n.default,{style:{marginTop:20,width:"90%",borderWidth:1,borderColor:x.azul_Oscuro,borderRadius:13,padding:20,alignItems:"center",justifyContent:"center",backgroundColor:x.blanco_Suave},children:[(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,marginBottom:"5%"},children:"Im\xe1genes del producto"}),(C?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:vo,children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Seleccionar Imagenes"})}),X.length>0&&(0,w.jsx)(h.default,{horizontal:!0,style:{marginTop:10,width:"100%",height:100},children:X.map(((e,t)=>(0,w.jsxs)(n.default,{style:{position:"relative",width:100,height:100,marginRight:10},children:[(0,w.jsx)(l.default,{source:{uri:e.uri},style:{width:100,height:100,marginRight:10,borderRadius:10}},t),(0,w.jsx)(u.default,{style:{position:"absolute",top:5,right:5,backgroundColor:"red",borderRadius:15,width:20,height:20,justifyContent:"center",alignItems:"center",zIndex:1},onPress:()=>Io(t),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:"X"})})]},t)))})]})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",flexDirection:"row"},children:[($a||Ea)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,padding:10,marginTop:"3%",marginLeft:"5%",borderRadius:12,width:"30%",alignItems:"center",justifyContent:"center"},onPress:()=>{S({id_producto:"",isAddProducto:!1,isModificarProducto:!1,fileEditable:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1}),ka(),De(!0)},children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover Producto"})}),Ba&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,marginTop:"3%",borderRadius:12,width:"30%",alignItems:"center",justifyContent:"center"},onPress:()=>{mo(),fe(!0)},children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Restar Producto"})}),!1]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Pe,animationType:"fade",onRequestClose:()=>Me(!Pe),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:()=>Me(!Pe),children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Vender Producto"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:5e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:5e3,position:"relative"},children:(0,w.jsx)(Ot,{value:xt,placeholder:"Seleccione un Cliente",setValue:yt,items:$e,searchable:!0,readOnly:!(ot||it)})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1500,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(Ot,{value:wt,placeholder:"Seleccione una tienda",setValue:mt,items:He,readOnly:!0,searchable:!0,onDropdownOpen:()=>{}})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio: Venta"})})]}),Xe&&(0,w.jsx)(n.default,{style:p.separatorNegro}),Xe&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:100,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),Xe&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:500,position:"relative"},children:(0,w.jsx)(Ot,{value:L,placeholder:"Seleccione un produto",setValue:B,items:Be,searchable:!0,readOnly:!0,onDropdownOpen:()=>{}})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[Xe&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Ct,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");St(t)},editable:ot||it,placeholder:"Cantidad del producto"})]}),(!Xe||ct)&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Xe?"Costo promedio del producto en USD":"Costo del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:vt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Rt(""!==a?String((parseFloat(a)*O).toFixed(0)):"0"),It(a),Gt("CostoRedondeo")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(jt)&&4!==parseInt(jt)&&(ot||it),placeholder:"Costo Promedio"})]}),!Xe&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:kt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;It(""!==a?String(parseFloat(a)/O):"0"),Rt(a),Gt("CostoCUP")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(jt)&&4!==parseInt(jt)&&(ot||it),placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Xe?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Tt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Pt(""!==a?String((parseFloat(a)*O).toFixed(0)):"0"),zt(a),Gt("PrecioUSD")},editable:ot||it,placeholder:"Precio por unidad en usd"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Xe?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModalNOEDITABLE,value:Dt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;zt(""!==a?String(parseFloat(a)/O):"0"),Pt(a),Gt("PrecioCUP")},cursorColor:x.azul_Oscuro,editable:ot||it,placeholder:"Precio por unidad en cup"})]})]}),Xe&&(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:600},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),Jt&&(0,w.jsx)(Mt,{dayValue:Bt,monthValue:Ft,yearValue:Ht,onDayChange:Nt,onMonthChange:Wt,onYearChange:qt,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>{},isReadOnly:!(ot||it)})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Et,onChangeText:At,editable:ot||it,placeholder:"Nota"})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del servicio",multiline:!0,editable:ot||it,numberOfLines:5,value:$t,onChangeText:Lt,scrollEnabled:!0}),(0,w.jsx)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Qt()},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Vender"})})})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:le,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Est\xe1s seguro de que deseas restar una cantidad de ${da} del producto ${N} de la tienda ${Zt}?`}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Sa(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ce(!le),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>ce(!le),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ue,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:300,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"center"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Restar ${N} de la tienda ${Zt} en la cual hay ${aa}`}),(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Cantidad a restar"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},value:da,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ua(t)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Cantidad a restar"}),(0,w.jsx)(u.default,{onPress:()=>Ca(),style:{backgroundColor:x.rojo_oscuro,borderRadius:15,marginTop:30,width:"90%",height:40,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",color:x.blanco_Suave},children:"Restar Productos"})}),(0,w.jsx)(u.default,{onPress:()=>fe(!ue),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ne,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:450,height:250,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Desea mover ${na} producto ${N} desde la tienda ${ha} a ${ga}?`}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>va(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>se(!ne),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>se(!ne),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ze,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:500,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:""===ra?"Seleccione una tienda origen":`Mover Producto "${N}" en la Tienda ${Zt} con una cantidad de ${aa}`}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:na,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");sa(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row",position:"relative",zIndex:500},children:[" ",$a&&(0,w.jsx)(qe,{value:ra,items:wa,placeholder:"Tienda desde donde se quiere mover",setValue:ia}),(0,w.jsx)(qe,{value:pa,items:ja,placeholder:"Tienda a la que se quiere mover",setValue:ya})]}),(0,w.jsx)(u.default,{onPress:()=>Ia(),style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:170,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>De(!ze),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:oe,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ie}),me&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ge?e.replace("Mi Tienda"):re(!oe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Z,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ie}),yo?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Datos Recopilados. Espere a que termine la descarga."}),(0,w.jsx)(u.default,{style:{backgroundColor:"#007BFF",padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ee(!Z),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})]})})})]})}const ao=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=Pt(),{usuario:y,setUsuario:m}=v(),{sortEntradas:j,setSortEntradas:C}=Ba(),S=r?oo.containerMovil:oo.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(20),[T,O]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[A,$]=o.useState(!1),[L,B]=o.useState(!1),[N,F]=o.useState(!1),[W,U]=o.useState(""),V=["Nombre"],[H,q]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),Y=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[G,K]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState("");o.useEffect((()=>{(async()=>{if(y?.token){const e=await xe(y.token,"7",y.id_usuario),t=await xe(y.token,"8",y.id_usuario),a=await xe(y.token,"30",y.id_usuario),o=await xe(y.token,"31",y.id_usuario);X(e),Z(t),te(a),oe(o),K(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const se=()=>{let t="La suma total de los costos de los productos filtrados es de: ",a=0;return e.forEach((e=>{a+=parseFloat(e.costo)})),t+=`${a} USD.`,t},le=t=>{t>=0&&t*k<e.length&&_(t)},de=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[oo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?oo.headerTextMovil:oo.headerTextDesktop,children:[t,("Nombre Proveedor"===t||"Nombre Producto"===t||"Costo Por Unidad"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre Proveedor"===t?a="option3":"Nombre Producto"===t?a="option4":"Costo Por Unidad"===t?a="option5":"Fecha"===t&&(a="option6"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[ce,ue]=o.useState(""),[he,fe]=o.useState(""),ge=e=>{ue(e),P(!z)},pe=e=>{if(fe(e),P(!z),"Modificar"===e){if(p({id_entrada:ce,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?$(!A):"Mover"==e&&B(!L)},ye=async()=>{if(y?.token){if(0==await Se(y.token,ce,y.id_tienda)){return!!await $e(y.token,ce)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[de(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Entrada),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Proveedor})}),(0,w.jsx)(ne.default.Cell,{style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.costo})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Entrada))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>ge(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),J&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ae||ee)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>ge(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[ce,he]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await ye();if($(!A),e){const e=T.filter((e=>e.id_Proveedor!==ce));O(e),U("Producto eliminado con \xe9xito"),F(!0)}else U("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),F(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$(!A),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>$(!A),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:re,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ie(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(At,{columns:V,items:H})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:se()})}),(0,w.jsxs)(n.default,{style:oo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[oo.paginationButtonMovil,0===I&&oo.disabledButton],onPress:()=>le(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:oo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:oo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[oo.paginationButtonMovil,(I+1)*k>=e.length&&oo.disabledButton],onPress:()=>le(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:oo.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[de(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Entrada),children:[(0,w.jsx)(ne.default.Cell,{style:oo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Proveedor})}),(0,w.jsx)(ne.default.Cell,{style:oo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.costo}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[oo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Entrada))),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:se()})}),(0,w.jsxs)(n.default,{style:oo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[oo.paginationButtonDesktop,0===I&&oo.disabledButton],onPress:()=>le(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:oo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:oo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[oo.paginationButtonDesktop,(I+1)*k>=e.length&&oo.disabledButton],onPress:()=>le(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:oo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},oo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function ro(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),[k,R]=(0,o.useState)(1e3),[T,O]=(0,o.useState)(1e3),z=e=>{"FechaDetails"===e?(g(2e3),j(1500),S(1500),_(1500)):"TiendaDetails"===e?(j(2e3),g(1500),S(1500),_(1500)):"ProductosDetails"===e?(j(1500),g(1500),S(2e3),_(1500)):"ProveedoresDetails"===e&&(j(1500),g(1500),S(1500),_(2e3)),"FechaDesdeSearsh"===e?(R(2e3),O(1500)):"FechaHastaSearsh"===e&&(R(1500),O(2e3))},{usuario:P,setUsuario:M}=v(),{modalEntradasDates:E,setModalEntradasDates:A}=Pt(),{sortEntradas:$,setSortEntradas:L}=Ba(),[B,N]=(0,o.useState)(!1),F=(0,o.useRef)(new c.default.Value(0)).current,[W,U]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[V,H]=(0,o.useState)(""),[q,Y]=(0,o.useState)(""),[K,J]=(0,o.useState)(""),[X,Q]=(0,o.useState)(""),[Z,ee]=(0,o.useState)(""),[oe,re]=(0,o.useState)(""),[ie,ne]=(0,o.useState)(""),[se,le]=(0,o.useState)(""),[de,ce]=(0,o.useState)(!1),[ue,he]=(0,o.useState)(""),[fe,ge]=(0,o.useState)(""),[ye,we]=(0,o.useState)(""),[me,je]=o.useState(!1),[be,Ce]=o.useState(""),[ve,Ie]=o.useState(!1),[ke,Re]=(0,o.useState)(!1),[Te,Oe]=(0,o.useState)(!1),[ze,Pe]=(0,o.useState)(""),[Me,Ee]=(0,o.useState)(!1),[$e,Be]=(0,o.useState)(!1),[Ne,Fe]=o.useState(!1),[We,Ue]=o.useState(!1),[Ve,He]=o.useState(!1),[qe,Ye]=(0,o.useState)(null),[Ge,Ke]=(0,o.useState)([]),Je=()=>{B?c.default.timing(F,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>N(!1))):(N(!0),c.default.timing(F,{toValue:400,duration:300,useNativeDriver:!1}).start())},Xe={height:F},[Qe,Ze]=(0,o.useState)([]),[et,tt]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[at,ot]=(0,o.useState)([]),[rt,it]=(0,o.useState)([]),[nt,st]=(0,o.useState)([]),lt=new Date,dt=String(lt.getFullYear()),ct=String(lt.getMonth()+1).padStart(2,"0"),ut=String(lt.getDate()).padStart(2,"0"),[ht,pt]=(0,o.useState)(""),[yt,Ct]=(0,o.useState)(""),[St,vt]=(0,o.useState)(""),[It,_t]=(0,o.useState)(""),[kt,Rt]=(0,o.useState)(new Date),[Tt,zt]=(0,o.useState)(new Date),[Dt,Et]=(0,o.useState)("1"),[At,$t]=(0,o.useState)("1"),[Lt,Bt]=(0,o.useState)("2024"),[Nt,Ft]=(0,o.useState)(String(parseInt(ut))),[Wt,Ut]=(0,o.useState)(String(parseInt(ct))),[Vt,Ht]=(0,o.useState)(String(parseInt(dt))),[qt,Yt]=(0,o.useState)(!1),[Gt,Kt]=(0,o.useState)(""),Jt=[{label:"D\xeda",value:"dia"},{label:"Semana",value:"semana"},{label:"Mes",value:"mes"}],Xt=e=>{Kt(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i="";if("dia"===e)i=`${a}-${o}-${r}`;else if("semana"===e){const e=new Date(t);e.setDate(t.getDate()-6);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("mes"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setMonth(t.getMonth()-1);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}ta(i,`${a}-${o}-${r}`)},Qt=()=>{H(""),ee(""),Q(""),Y(""),A({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(P?.token&&E?.id_entrada){ce(!1);const e=await gt(P.token,E.id_entrada);if(e){const[t,a,o]=e.fecha.split("T")[0].split("-");U(e.id_entrada),H(e.proveedor.id_proveedor),Y(e.producto.id_producto),Q(e.cantidad),J(e.tienda.id_tienda),ee(e.costo),re(String(parseInt(o))),ne(String(parseInt(a))),le(String(parseInt(t))),he(e.producto.id_producto),ge(e.tienda.id_tienda),we(e.cantidad),ce(!0)}}})()}),[E]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(P?.token){const e=await xe(P.token,"10",P.id_usuario),t=await xe(P.token,"12",P.id_usuario),a=await xe(P.token,"11",P.id_usuario);Fe(e),Ue(t),He(a)}})(),await(async()=>{if(void 0!=P?.token)try{const e=await ft(P.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({id_Entrada:e.id_entrada,id_Proveedor:e.proveedor.id_proveedor,id_Producto:e.producto.id_producto,nombre_Proveedor:e.proveedor.nombre,nombre_Producto:e.producto.nombre,cantidad:e.cantidad,costo:e.costo,fecha:e.fecha}))));Ze(t)}else console.log("No se encontraron entradas.")}catch(e){console.log("Error al obtener las entradas o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de las entradas")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de las entradas")})(),(async()=>{if(void 0!=P?.token){const e=await Wa(P.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_proveedor}))));ot(t)}}})(),(async()=>{if(void 0!=P?.token){const e=await _e(P.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));it(t)}}})(),(async()=>{if(void 0!=P?.token){const e=await pe(P.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));st([...t])}}})()})(),()=>{})),[]));const[Zt,ea]=(0,o.useState)(!1),ta=async(e,t)=>{Yt(!0);try{if(P?.token){let a=await(async(e,t)=>{if(P?.token)try{const a=await jt(P.token,ht,yt,St,It,e,t);if(a)return await Promise.all(a.map((async e=>({id_Entrada:e.id_entrada,id_Proveedor:e.proveedor.id_proveedor,id_Producto:e.producto.id_producto,nombre_Proveedor:e.proveedor.nombre,nombre_Producto:e.producto.nombre,cantidad:e.cantidad,costo:e.costo,fecha:e.fecha}))))}catch(a){return console.error("Error al filtrar los proveedoress:",a),null}return null})(e,t)||[];ea(!Zt),a=$?.criterioOrden&&$.tipoOrden?await bt(P.token,a,$?.criterioOrden,Zt):await bt(P.token,a,"option6",Zt),Ze(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{Yt(!1)}};(0,o.useEffect)((()=>{ta(`${Lt}-${At}-${Dt}`,`${Vt}-${Wt}-${Nt}`)}),[$,qe]),(0,o.useEffect)((()=>{Kt("")}),[Dt,At,Lt,Nt,Wt,Vt]);const aa=()=>{ce(!1),H(""),Y(""),J(""),Q(""),ee(""),A({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1});const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");re(String(parseInt(o))),ne(String(parseInt(a))),le(String(parseInt(t))),ce(!0)},oa=e=>{"Enter"===e.nativeEvent.key&&ta(`${Lt}-${At}-${Dt}`,`${Vt}-${Wt}-${Nt}`)},ra=()=>{pt(""),Ct(""),vt(""),_t(""),Ye("")},ia=async()=>{if(!$e){if(Be(!0),Ee(!1),Ce("Agregando entrada. Espere por favor"),je(!0),P?.token){let e=!0,t="ERROR AL INGRESAR ENTRADA. Por favor verifique los siguientes campos:\n";if(""===V&&(e=!1,t+="-Seleccione un proveedor.\n"),""===q&&(e=!1,t+="-Seleccione un producto.\n"),""===K&&(e=!1,t+="-Seleccione una tienda.\n"),""===X&&(e=!1,t+="-Ingrese una cantidad.\n"),""===Z&&(e=!1,t+="-Ingrese el costo del producto por unidad.\n"),e){await xt(P.token,Z,X,`${ie}-${oe}-${se}`,parseInt(V),parseInt(q),parseInt(K)),await De(P.token,parseInt(K),parseInt(q),parseInt(X));const e=nt.find((e=>e.value===K)),t=rt.find((e=>e.value===q)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let n=`El usuario ${P.nombre} agreg\xf3 una entrada de ${X} del producto ${t?.label} en la tienda ${e?.label}`;await G(P.token,n,`${o}-${r}-${i}`,P.id_usuario,4),await Ae(P.token,q,K),H(""),Y(""),J(""),ee(""),Q(""),A({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1}),Ee(!0),Ce("La entrada fue insertado con \xe9xito"),je(!0),Ie(!0)}else Ee(!0),Ce(t),je(!0)}Be(!1)}},na=async()=>{if(!$e){if(Be(!0),Ee(!1),Ce("Modificando entrada. Espere por favor"),je(!0),P?.token){let e=!0,t="ERROR AL MODIFICAR ENTRADA. Compruebe los siguientes campos:\n";const a=await Se(P.token,q,K),o=await Se(P.token,ue,fe);if(fe===K&&ue===q||parseInt(o.cantidad??0)-parseInt(ye)<0&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No se dispone de sificientes productos para realizar la operoci\xf3n."),parseInt(ye)-parseInt(X)>parseInt(a.cantidad??0)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La cantidad del producto excede la cantidad en la tienda\n."),""===V&&(e=!1,t+="-Seleccione un proveedor.\n"),""===q&&(e=!1,t+="-Seleccione un producto.\n"),""===K&&(e=!1,t+="-Seleccione una tienda.\n"),""===X&&(e=!1,t+="-Ingrese una cantidad.\n"),""===Z&&(e=!1,t+="-Ingrese el costo del producto por unidad.\n"),e){await wt(P.token,W,Z,X,`${ie}-${oe}-${se}`,parseInt(V),parseInt(q),parseInt(K)),fe!==K||ue!==q?(await De(P.token,parseInt(fe),parseInt(ue),-1*parseInt(ye)),await De(P.token,parseInt(K),parseInt(q),parseInt(X))):ye!==X&&await De(P.token,parseInt(K),parseInt(q),parseInt(X)-parseInt(ye));const e=nt.find((e=>e.value===fe)),t=rt.find((e=>e.value===ue)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let n=`El usuario ${P.nombre} modific\xf3 una entrada de originalmente ${ye} del producto ${t?.label} en la tienda ${e?.label}`;await G(P.token,n,`${o}-${r}-${i}`,P.id_usuario,4),Ee(!0),Ce("La entrada se modific\xf3 con \xe9xito"),je(!0),Ie(!0)}else Ee(!0),Ce(t),je(!0)}Be(!1)}},sa=["Nombre","Cantidad"],la=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],da=["Nombre Proveedor","Nombre Producto","Cantidad","Costo Por Unidad","Fecha"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:Ne&&(0,w.jsx)(u.default,{onPress:()=>aa(),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Entrada"})})}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Je,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[qt?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(ao,{isMobile:r,items:Qe,columns:da,columnasMyDateTableEntradaModal:la,columnasMyDateTableTiendaModal:sa,tiendasByProducto:Ge,proveedorByProducto:et}),B&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Xe],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Producto",value:yt,onKeyPress:oa,onChangeText:Ct}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",onKeyPress:oa,value:ht,onChangeText:pt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Costo en USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:q,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Y(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:q,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Y(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Jt.map((e=>(0,w.jsx)(ha,{label:e.label,selected:Gt===e.value,onPress:()=>Xt(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1e3},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",marginRight:"25%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,marginLeft:"12%",justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"})]}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:500},children:[(0,w.jsxs)(n.default,{style:{alignItems:"center",justifyContent:"center",position:"relative",zIndex:k},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(Mt,{dayValue:Dt,monthValue:At,yearValue:Lt,onDayChange:Et,onMonthChange:$t,onYearChange:Bt,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>z("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{alignItems:"center",justifyContent:"center",position:"relative",zIndex:T},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(Mt,{dayValue:Nt,monthValue:Wt,yearValue:Vt,onDayChange:Ft,onMonthChange:Ut,onYearChange:Ht,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>z("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:ra,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{filtrarYOrdenarProductos(),N(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:E?.isAddEntrada??!1,animationType:"fade",onRequestClose:Qt,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Qt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===E?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Proveedor"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(Ot,{value:V,placeholder:"Seleccione un Proveedor",setValue:H,items:at,searchable:!0,onDropdownOpen:()=>z("ProveedoresDetails")})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Producto"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(Ot,{value:q,placeholder:"Seleccione un Producto",setValue:Y,items:rt,searchable:!0,onDropdownOpen:()=>z("ProductosDetails")})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre de la Tienda"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1e3,position:"relative"},children:(0,w.jsx)(Ot,{value:K,placeholder:"Seleccione una Tienda",setValue:J,items:nt,searchable:!0})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Cantidad"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:X,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Q(t)},editable:!!Ve,placeholder:"Cantidad"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Costo en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:Z,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;ee(a)},cursorColor:x.azul_Oscuro,editable:!!Ve,placeholder:"Costo en USD"})]})]}),(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Fecha"}),de&&(0,w.jsx)(Mt,{dayValue:oe,monthValue:ie,yearValue:se,onDayChange:re,onMonthChange:ne,onYearChange:le,style:{margin:20},styleText:p.labelTextModalMovil})]}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Ve&&""!==E?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Oe(!0),Pe("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta entrada?")},disabled:$e,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Entrada"})}),Ne&&""===E?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>ia(),disabled:$e,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Entrada"})}),We&&""!==E?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Oe(!0),Re(!0),Pe("\xbfEst\xe1s seguro que deseas ELIMINAR al esta entrada?"),A({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},disabled:$e,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Entrada"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Te,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ze}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>na(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Oe(!Te),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Oe(!Te),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:me,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:be}),Me&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ve?e.replace("Entradas"):je(!me),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:Ne&&(0,w.jsx)(u.default,{onPress:()=>aa(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===qe&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Entrada"})})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Producto",value:yt,onKeyPress:oa,onChangeText:Ct}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",value:ht,onKeyPress:oa,onChangeText:pt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Costo en USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:St,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");vt(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:It,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");_t(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Jt.map((e=>(0,w.jsx)(ha,{label:e.label,selected:Gt===e.value,onPress:()=>Xt(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:k},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(Mt,{dayValue:Dt,monthValue:At,yearValue:Lt,onDayChange:Et,onMonthChange:$t,onYearChange:Bt,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>z("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:T},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(Mt,{dayValue:Nt,monthValue:Wt,yearValue:Vt,onDayChange:Ft,onMonthChange:Ut,onYearChange:Ht,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>z("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:ra,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>ta(`${Lt}-${At}-${Dt}`,`${Vt}-${Wt}-${Nt}`),children:"Buscar"})})]})]}),qt?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(ao,{isMobile:r,items:Qe,columns:da,columnasMyDateTableEntradaModal:la,columnasMyDateTableTiendaModal:sa,tiendasByProducto:Ge,proveedorByProducto:et})]}),(0,w.jsx)(f.default,{transparent:!0,visible:E?.isAddEntrada??!1,animationType:"fade",onRequestClose:Qt,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Qt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===E?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Proveedor"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(Ot,{value:V,placeholder:"Seleccione un Proveedor",setValue:H,items:at,searchable:!0,onDropdownOpen:()=>z("ProveedoresDetails")})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Producto"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(Ot,{value:q,placeholder:"Seleccione un Producto",setValue:Y,items:rt,searchable:!0,onDropdownOpen:()=>z("ProductosDetails")})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:m,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre de la Tienda"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:m,position:"relative"},children:(0,w.jsx)(Ot,{value:K,placeholder:"Seleccione una Tienda",setValue:J,items:nt,searchable:!0,onDropdownOpen:()=>z("TiendaDetails")})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:X,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Q(t)},editable:!!Ve,placeholder:"Cantidad"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:Z,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;ee(a)},cursorColor:x.azul_Oscuro,editable:!!Ve,placeholder:"Costo en USD"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),de&&(0,w.jsx)(Mt,{dayValue:oe,monthValue:ie,yearValue:se,onDayChange:re,onMonthChange:ne,onYearChange:le,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>z("FechaDetails")})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Ve&&""!==E?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Oe(!0),Re(!1),Pe("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta entrada?")},disabled:$e,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Entrada"})}),Ne&&""===E?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>ia(),disabled:$e,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Entrada"})}),We&&""!==E?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Oe(!0),Re(!0),Pe("\xbfEst\xe1s seguro que deseas ELIMINAR al esta entrada?"),A({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},disabled:$e,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Entrada"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Te,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ze}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ke?(async()=>{if(!$e){if(Be(!0),Ee(!1),Ce("Eliminando entrada. Espere por favor"),je(!0),P?.token){let e=!0,t="ERROR AL ELIMINAR ENTRADA. Compruebe los siguientes par\xe1metros:\n";const a=await Se(P.token,q,K);if(parseInt(X)>parseInt(a.cantidad??0)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La cantidad del producto excede la cantidad en la tienda\n."),e){await mt(P.token,W),await De(P.token,parseInt(K),parseInt(q),-1*parseInt(X)),await Le(P.token);const e=nt.find((e=>e.value===fe)),t=rt.find((e=>e.value===ue)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let n=`El usuario ${P.nombre} elimin\xf3 la entrada con una cantidad de ${ye} del producto ${t?.label} en la tienda ${e?.label}`;await G(P.token,n,`${o}-${r}-${i}`,P.id_usuario,4),Ee(!0),Ce("La entrada se elimin\xf3 con \xe9xito"),je(!0),Ie(!0),H(""),ee(""),Y(""),Q("")}else Ee(!0),Ce(t),je(!0)}Be(!1)}})():na(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Oe(!Te),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Oe(!Te),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:me,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:be}),Me&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ve?e.replace("Entradas"):je(!me),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const io=g.default.create({desktopButton:{height:110,width:110,justifyContent:"center",borderRadius:15,alignItems:"center",shadowColor:x.negro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,marginHorizontal:10},movilButton:{height:110,width:110,justifyContent:"center",borderRadius:15,alignItems:"center",shadowColor:x.negro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,marginHorizontal:10},desktopContent:{flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",width:"100%"},textDesktop:{fontSize:16,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2,fontWeight:"bold"},textMovil:{fontSize:16,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2,fontWeight:"bold"},image:{height:70,width:70,tintColor:x.negro}}),no=({onPress:e,text:t,imageSource:a})=>{const[r]=(0,o.useState)(new c.default.Value(1)),{width:i}=(0,d.default)(),h=i<1150?io.movilButton:io.desktopButton;return(0,w.jsx)(u.default,{style:h,onPressIn:()=>{c.default.spring(r,{toValue:1.5,useNativeDriver:!0}).start()},onPressOut:()=>{c.default.spring(r,{toValue:1,useNativeDriver:!0}).start()},onPress:e,children:(0,w.jsx)(c.default.View,{style:{transform:[{scale:r}]},children:(0,w.jsxs)(n.default,{style:io.desktopContent,children:[(0,w.jsx)(l.default,{source:a,style:io.image}),(0,w.jsx)(s.default,{style:io.textDesktop,children:t})]})})})};function so(){const{width:e}=(0,d.default)(),t=e<930,o=(0,b.useNavigation)();return t?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"space-around",alignItems:"center",flexDirection:"column"}})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsxs)(n.default,{style:{marginTop:150,justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(no,{imageSource:a(7496),onPress:()=>o.navigate("Usuarios"),text:"Usuarios"}),(0,w.jsx)(no,{imageSource:a(7496),onPress:()=>o.navigate("Tiendas"),text:"Tiendas"})]}),(0,w.jsx)(n.default,{})]})}const lo=(0,o.createContext)(void 0),co=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(lo.Provider,{value:{modalMovimientosDates:t,setModalMovimientosDates:a},children:e})},uo=()=>{const e=o.useContext(lo);if(void 0===e)throw new Error("useModalMovimientosDates debe usarse dentro de un ModalMovimientosDates");return e},ho=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalMovimientosDates:g,setModalMovimientosDates:p}=uo(),{usuario:y,setUsuario:m}=v(),{SortMovimientosDates:j,setSortMovimientosDates:C}=Pa(),S=r?fo.containerMovil:fo.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(20),[T,O]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[A,$]=o.useState(!1),[L,B]=o.useState(!1),[N,F]=o.useState(!1),[W,U]=o.useState(""),V=["Nombre"],[H,q]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),Y=e=>{p({id_movimiento:e,isAddMovimiento:!0,fileEditable:!1,isModificarMovimiento:!1})},[G,K]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState("");o.useEffect((()=>{(async()=>{if(y?.token){const e=await xe(y.token,"7",y.id_usuario),t=await xe(y.token,"8",y.id_usuario),a=await xe(y.token,"30",y.id_usuario),o=await xe(y.token,"31",y.id_usuario);X(e),Z(t),te(a),oe(o),K(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const se=t=>{t>=0&&t*k<e.length&&_(t)},le=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[fo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?fo.headerTextMovil:fo.headerTextDesktop,children:[t,("Usuario"===t||"Producto"===t||"Cantidad"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Usuario"===t?a="option3":"Producto"===t?a="option4":"Cantidad"===t?a="option5":"Fecha"===t&&(a="option6"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[de,ce]=o.useState(""),[ue,he]=o.useState(""),fe=e=>{ce(e),P(!z)},ge=e=>{if(he(e),P(!z),"Modificar"===e){if(p({id_movimiento:de,isAddMovimiento:!0,fileEditable:!0,isModificarMovimiento:!1}),y?.token){}}else"Eliminar"===e?$(!A):"Mover"==e&&B(!L)},pe=async()=>{if(y?.token){if(0==await Se(y.token,de,y.id_tienda)){return!!await $e(y.token,de)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[le(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Movimiento),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[fo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(ne.default.Cell,{style:[fo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[fo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[fo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreTiendaOrigen})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[fo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombreTiendaDestino}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[fo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Movimiento))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>fe(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),J&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ae||ee)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>fe(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[de,ue]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await pe();if($(!A),e){const e=T.filter((e=>e.id_TiendaOrigen!==de));O(e),U("Producto eliminado con \xe9xito"),F(!0)}else U("ERROR AL ELIMINAR: Ya se han hecho operaciones con el producto o ya est\xe1 en una tieda"),F(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$(!A),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>$(!A),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:re,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ie(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(At,{columns:V,items:H})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:fo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[fo.paginationButtonMovil,0===I&&fo.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:fo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:fo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[fo.paginationButtonMovil,(I+1)*k>=e.length&&fo.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:fo.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[le(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Movimiento),children:[(0,w.jsx)(ne.default.Cell,{style:fo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(ne.default.Cell,{style:fo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[fo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[fo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombreTiendaOrigen}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[fo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombreTiendaDestino}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[fo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Movimiento))),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:fo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[fo.paginationButtonDesktop,0===I&&fo.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:fo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:fo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[fo.paginationButtonDesktop,(I+1)*k>=e.length&&fo.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:fo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},fo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:50,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function go(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(500),[m,j]=(0,o.useState)(500),[C,S]=(0,o.useState)(500),[I,_]=(0,o.useState)(500),[k,R]=(0,o.useState)(500),[T,O]=(0,o.useState)(500),[z,P]=(0,o.useState)(500),[M,E]=(0,o.useState)(500),[A,$]=(0,o.useState)(500),L=e=>{"TiendaOrigenSearsh"===e?(S(2e3),_(1500),j(1500),g(1500),R(1e3),O(500)):"TiendaDestinoSearsh"===e?(S(1500),_(2e3),j(1500),g(1500),R(1e3),O(500)):"FechaDesdeSearsh"===e?(S(1500),_(1500),j(1500),g(2e3),R(500),O(1e3)):"FechaHastaSearsh"===e&&(S(1500),_(1500),j(2e3),g(1500),R(500),O(1e3)),"FechaDetails"===e?(P(2e3),E(1e3)):"TiendasDetails"===e?(P(1e3),E(2e3),$(1e3)):"ProductosDetails"===e&&(P(1e3),E(1e3),$(2e3))},{usuario:B,setUsuario:N}=v(),{modalMovimientosDates:F,setModalMovimientosDates:W}=uo(),{SortMovimientosDates:U,setSortMovimientosDates:H}=Pa(),[q,Y]=(0,o.useState)(""),K=[{label:"Ayer",value:"ayer"},{label:"Hoy",value:"hoy"},{label:"Semana",value:"semana"}],J=e=>{Y(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i="";if("hoy"===e)i=`${a}-${o}-${r}`;else if("ayer"===e){const e=new Date(t);e.setDate(t.getDate()-1);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("semana"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setDate(t.getDate()-7);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}ba(i,`${a}-${o}-${r}`)},[X,Q]=(0,o.useState)(!1),Z=(0,o.useRef)(new c.default.Value(0)).current,[ee,oe]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[re,ne]=(0,o.useState)(""),[se,le]=(0,o.useState)(""),[de,ce]=(0,o.useState)(""),[ue,he]=(0,o.useState)(""),[fe,ge]=(0,o.useState)(""),[ye,we]=(0,o.useState)(""),[me,je]=(0,o.useState)(""),[be,Ce]=(0,o.useState)(""),[ve,Ie]=(0,o.useState)(""),[ke,Re]=(0,o.useState)(!1),[Te,Oe]=(0,o.useState)(!1),[ze,De]=(0,o.useState)(!1),[Pe,Me]=(0,o.useState)(""),[Ee,$e]=(0,o.useState)(""),[Le,Be]=(0,o.useState)(""),[Ne,Fe]=(0,o.useState)(""),[Ue,Ve]=o.useState(!1),[He,qe]=o.useState(""),[Ye,Ge]=o.useState(!1),[Ke,at]=(0,o.useState)(!1),[ot,rt]=(0,o.useState)(!1),[it,nt]=(0,o.useState)(""),[st,lt]=(0,o.useState)(!1),[dt,ct]=(0,o.useState)(!1),[ut,ht]=o.useState(!1),[ft,gt]=o.useState(!1),[xt,pt]=o.useState(!1),[yt,wt]=o.useState(!1),[mt,jt]=(0,o.useState)(null),[bt,Ct]=(0,o.useState)([]),St=()=>{X?c.default.timing(Z,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>Q(!1))):(Q(!0),c.default.timing(Z,{toValue:400,duration:300,useNativeDriver:!1}).start())},vt={height:Z},[It,_t]=(0,o.useState)([]),[kt,Rt]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Tt,zt]=(0,o.useState)(!1),[Dt,Pt]=(0,o.useState)([]),[Et,At]=(0,o.useState)([]),[$t,Lt]=(0,o.useState)([]),Bt=new Date,Nt=String(Bt.getFullYear()),Ft=String(Bt.getMonth()+1).padStart(2,"0"),Wt=String(Bt.getDate()).padStart(2,"0"),[Ut,Vt]=(0,o.useState)(""),[Ht,qt]=(0,o.useState)(""),[Yt,Gt]=(0,o.useState)(""),[Kt,Jt]=(0,o.useState)(""),[Xt,Qt]=(0,o.useState)(""),[Zt,ea]=(0,o.useState)(new Date),[ta,aa]=(0,o.useState)(new Date),[oa,ra]=(0,o.useState)("1"),[ia,na]=(0,o.useState)("1"),[sa,la]=(0,o.useState)("2024"),[da,ca]=(0,o.useState)(String(parseInt(Wt))),[ua,fa]=(0,o.useState)(String(parseInt(Ft))),[ga,xa]=(0,o.useState)(String(parseInt(Nt))),[pa,ya]=(0,o.useState)(!1),wa=()=>{ne(""),we(""),ce(""),W({id_movimiento:"",isAddMovimiento:!1,isModificarMovimiento:!1,fileEditable:!0})};(0,o.useEffect)((()=>{Tt&&(async()=>{if(B?.token&&F?.id_movimiento){De(!1);const e=await Je(B.token,F.id_movimiento);if(e){const[t,a,o]=e.fecha.split("T")[0].split("-");oe(e.id_salida),ne(e.usuario.id_usuario),ce(e.producto.id_producto),we(e.cantidad),he(e.tienda_origen.id_tienda),ge(e.tienda_destino.id_tienda),le(e.usuario.nombre_usuario),Re(e.usuario.id_usuario===B.id_usuario||1===parseInt(B.id_rol)),Oe(e.usuario.id_usuario===B.id_usuario||1===parseInt(B.id_rol)),je(String(parseInt(o))),Ce(String(parseInt(a))),Ie(String(parseInt(t))),Me(e.producto.id_producto),Be(e.tienda_destino.id_tienda),$e(e.tienda_origen.id_tienda),Fe(e.cantidad),De(!0)}}})()}),[F]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(B?.token){const e=await xe(B.token,"30",B.id_usuario),t=await xe(B.token,"31",B.id_usuario);ht(!0),gt(!0),pt(e),wt(t)}})(),(async()=>{if(void 0!=B?.token){const e=await V(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_usuario}))));Pt(t)}}})(),(async()=>{if(void 0!=B?.token){const e=await _e(B.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));At(t)}}})(),(async()=>{if(void 0!=B?.token){const e=await pe(B.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Lt([{label:"Todos los movimientos",value:""},...t])}}})(),ba(`${sa}-${ia}-${oa}`,`${ga}-${ua}-${da}`),zt(!0)})(),()=>{})),[]));const[ma,ja]=(0,o.useState)(!1),ba=async(e,t)=>{ya(!0);try{if(B?.token){let a=await(async(e,t)=>{if(B?.token)try{const a=await xe(B.token,"31",B.id_usuario);let o;if(o=a?await Ze(B.token,Ut,Ht,Yt,e,t,a?Kt:B.id_tienda,Xt):await et(B.token,Ut,Ht,Yt,e,t,B.id_tienda,Kt,Xt),o)return await Promise.all(o.map((async e=>({id_Movimiento:e.id_salida,id_TiendaOrigen:e.tienda_origen.id_tienda,id_TiendaDestino:e.tienda_destino.id_tienda,id_Producto:e.producto.id_producto,nombreTiendaOrigen:e.tienda_origen.nombre,nombreTiendaDestino:e.tienda_destino.nombre,nombre_Usuario:e.usuario.nombre,nombre_Producto:e.producto.nombre,cantidad:e.cantidad,fecha:e.fecha}))))}catch(a){return console.error("Error al filtrar los proveedoress:",a),null}return null})(e,t)||[];ja(!ma),a=U?.criterioOrden&&U.tipoOrden?await tt(B.token,a,U.criterioOrden,ma):await tt(B.token,a,"option6",ma),_t(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{ya(!1)}};(0,o.useEffect)((()=>{Tt&&ba(`${sa}-${ia}-${oa}`,`${ga}-${ua}-${da}`)}),[U,mt]),(0,o.useEffect)((()=>{Tt&&Y("")}),[oa,ia,sa,da,ua,ga]);const Ca=()=>{qt(""),Vt(""),Gt(""),Jt(""),Qt(""),la("2024"),na("1"),ra("1"),xa(String(parseInt(Nt))),fa(String(parseInt(Ft))),ca(String(parseInt(Wt))),jt("")},Sa=e=>{"Enter"===e.nativeEvent.key&&ba(`${sa}-${ia}-${oa}`,`${ga}-${ua}-${da}`)},va=async()=>{if(!dt){if(ct(!0),lt(!1),qe("Modificando movimiento. Espere por favor"),Ve(!0),B?.token){let e=!0,t="ERROR AL MODIFICAR MOVIMIENTO. Compruebe los siguientes campos:\n";const a=await Se(B.token,Pe,Ee),o=await Se(B.token,Pe,Le),r=await Se(B.token,Pe,ue),i=await Se(B.token,de,Ee),n=await Se(B.token,de,ue);let s=parseInt(ye),l=parseInt(Ne),d=a?parseInt(a.cantidad):0,c=o?parseInt(o.cantidad):0,u=r?parseInt(r.cantidad):0,h=i?parseInt(i.cantidad):0,f=n?parseInt(n.cantidad):0;if(ue===Ee&&fe===Le&&de===Pe&&s!==l?s>=l?s-l>d&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos en la tienda origen para agregar a la tienda destino.\n"):l-s>c&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos en la tienda destino para agregar a la tienda origen.\n"):ue===Ee&&de===Pe&&fe!==Le?s!==l?s>c&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La vieja tienda destino no tiene suficientes productos para darle a la nueva tienda destino.\n"):c-l<0&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos en la tienda destino vieja para pasarle a la nueva.\n"):ue!==Ee&&de===Pe&&fe===Le?s!==l?s>d&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La vieja tienda origen no tiene sificientes productos para darle a la nueva tienda destino.\n"):d-l<0&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos en la tienda origen vieja para pasarle a la nueva.\n"):ue!==Ee&&fe!==Le&&de===Pe?s!==l?(l>c||s>u)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No se puede restablecer la cantidad dada de los en las tiendas originales o no hay productos suficientes en la nueva tienda de origen para asignar a la nueva tienda destino.\n"):(l>c||l>u)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No se puede restablecer los prouductos en las tiendas originales o no hay productos suficientes en la tienda de origen para asignar a la nueva tienda destino.\n"):de!==Pe&&(l>h?(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos viejos en la tienda vieja para modificar el producto a uno nuevo.\n"):ue===Ee&&fe===Le&&s===l?l>h&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos nuevos en la tienda vieja para modificar el producto a uno nuevo.\n"):l!==s?ue===Ee&&fe===Le&&s!==l?s>h&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay sificientes productos en la tienda origen con la cantidad dada.\n"):ue!==Ee&&fe===Le&&s!==l?s>f&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay esa cantidad de productos en la tienda origen especificada.\n"):ue===Ee&&fe!==Le&&s!==l?s>h&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay esa cantidad de productos en la tienda origen seleccionada.\n"):ue!==Ee&&fe!==Le&&s!==l&&s>f&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay esa cantidad de productos en la tienda origen seleccionada.\n"):ue===Ee&&fe===Le||l>f&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay sificintes productos nuevos en la nueva tienda origen.\n")),fe===ue&&(e=!1,t+="-La tienda origen no puede ser igual a la tienda destino.\n"),""===de&&(e=!1,t+="-Seleccione un producto.\n"),""===ue&&(e=!1,t+="-Seleccione una tienda Origen.\n"),""===fe&&(e=!1,t+="-Seleccione una tienda Destino.\n"),""===ye&&(e=!1,t+="-Ingrese una cantidad.\n"),e){await Xe(B.token,ee,`${be}-${me}-${ve}`,ue,fe,ye,de,re),ue===Ee&&fe===Le&&de===Pe&&s!==l?await We(B.token,Pe,Ee,Le,String(s-l)):ue===Ee&&de===Pe&&fe!==Le?(await Ae(B.token,de,fe),await We(B.token,Pe,Le,Ee,String(l)),await We(B.token,Pe,Ee,fe,String(s))):ue!==Ee&&de===Pe&&fe===Le?(await We(B.token,Pe,Le,Ee,String(l)),await We(B.token,Pe,ue,Le,String(s))):(ue!==Ee&&fe!==Le&&de===Pe||de!==Pe)&&(await Ae(B.token,de,fe),await We(B.token,Pe,Le,Ee,String(l)),await We(B.token,de,ue,fe,String(s)));const e=Et.find((e=>parseInt(e.value)===parseInt(Pe))),t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i=`El usuario ${B.nombre} modific\xf3 un movimiento de productos que originalmente ten\xeda un nombre ${e.lavel}`;await G(B.token,i,`${a}-${o}-${r}`,B.id_usuario,2),lt(!0),qe("El movimiento se modific\xf3 con \xe9xito"),Ve(!0),Ge(!0),W(!1)}else lt(!0),qe(t),Ve(!0)}ct(!1)}},Ia=async()=>{if(!dt){if(ct(!0),lt(!1),qe("Eliminando movimiento. Espere por favor"),Ve(!0),B?.token){let e=!0,t="ERROR AL TRATAR DE ELIMINAR EL MOVIMIENTO. Motivos:\n";const a=await Se(B.token,Pe,Le);let o=a?parseInt(a.cantidad):0,r=parseInt(Ne);if(r>o&&(e=!1,t+="-No hay suficientes productos en la tienda destino para devolver la operaci\xf3n.\n"),e){await We(B.token,Pe,Le,Ee,String(r)),await Qe(B.token,ee);const e=Et.find((e=>parseInt(e.value)===parseInt(Pe))),t=$t.find((e=>parseInt(e.value)===parseInt(ue))),a=$t.find((e=>parseInt(e.value)===parseInt(fe))),o=new Date,i=String(o.getFullYear()),n=String(o.getMonth()+1).padStart(2,"0"),s=String(o.getDate()).padStart(2,"0");let l=`El usuario ${B.nombre} elimin\xf3 el movimiento del producto ${e?.label} con cantidad ${ye} y tienda origen ${t?.label} y una tienda destino ${a?.label}`;await G(B.token,l,`${i}-${n}-${s}`,B.id_usuario,2),lt(!0),qe("El movimiento se elimin\xf3 con \xe9xito"),Ve(!0),Ge(!0)}else lt(!0),qe(t),Ve(!0)}ct(!1)}},_a=["Nombre","Cantidad"],ka=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],Ra=["Usuario","Producto","Cantidad","Tienda Origen","Tienda Destino","Fecha"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:St,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[pa?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(ho,{isMobile:r,items:It,columns:Ra,columnasMyDateTableEntradaModal:ka,columnasMyDateTableTiendaModal:_a,tiendasByProducto:bt,proveedorByProducto:kt}),X&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},vt],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[yt&&(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del Usuario:"}),yt&&(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del usuario",value:Ut,onKeyPress:Sa,onChangeText:Vt}),yt&&(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del producto",value:Ht,onKeyPress:Sa,onChangeText:qt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Cantidad:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Cantidad",value:Yt,onKeyPress:Sa,onChangeText:Gt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:k},children:[(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:22,fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Tienda:"})}),yt&&(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Origen:"}),yt&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(ie,{value:Kt,placeholder:"Tienda Origen",setValue:Jt,items:$t,searchable:!0,onDropdownOpen:()=>L("TiendaOrigenSearsh")})}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Destino:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(ie,{value:Xt,placeholder:"Tienda Destino",setValue:Qt,items:$t,searchable:!0,onDropdownOpen:()=>L("TiendaDestinoSearsh")})})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative"},children:K.map((e=>(0,w.jsx)(ha,{label:e.label,selected:q===e.value,onPress:()=>J(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:k},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:i},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:20,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(Mt,{dayValue:oa,monthValue:ia,yearValue:sa,onDayChange:ra,onMonthChange:na,onYearChange:la,style:{margin:20},styleText:p.textSearchMovil})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:m},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:20,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(Mt,{dayValue:da,monthValue:ua,yearValue:ga,onDayChange:ca,onMonthChange:fa,onYearChange:xa,style:{margin:20},styleText:p.textSearchMovil})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ca,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{ba(`${sa}-${ia}-${oa}`,`${ga}-${ua}-${da}`),Q(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:F?.isAddMovimiento??!1,animationType:"fade",onRequestClose:wa,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:wa,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===F?.id_movimiento?"Agregar Entrada":"Datos del Movimiento"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Usuario"})}),(0,w.jsx)(n.default,{style:{width:"100%"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",marginLeft:"6%",fontWeight:"bold",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:se})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Producto"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(Ot,{value:de,placeholder:"Productos",setValue:ce,items:Et,searchable:!0,readOnly:!ke})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1200,position:"relative"}}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Tienda Origen"}),(0,w.jsx)(Ot,{value:ue,placeholder:"Tiendas",setValue:he,items:$t,searchable:!0,readOnly:!(ke&&yt)})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Tienda Destino"}),(0,w.jsx)(Ot,{value:fe,placeholder:"Tiendas",setValue:ge,items:$t,searchable:!0,readOnly:!ke})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Cantidad"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ye,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");we(t)},editable:ft,placeholder:"Cantidad"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsx)(n.default,{style:{height:100},children:ze&&(0,w.jsx)(Mt,{dayValue:me,monthValue:be,yearValue:ve,onDayChange:je,onMonthChange:Ce,onYearChange:Ie,style:{margin:20},styleText:p.labelTextModalMovil,isReadOnly:!ke})}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[ft&&ke&&""!==F?.id_movimiento&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{at(!0),rt(!1),nt("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este movimiento?"),W({id_movimiento:"",isAddMovimiento:!1,isModificarMovimiento:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Movimiento"})}),ut&&Te&&""!==F?.id_movimiento&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{at(!0),nt("\xbfEst\xe1s seguro que deseas ELIMINAR este movimiento?"),rt(!0),W({id_movimiento:"",isAddMovimiento:!1,isModificarMovimiento:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Movimiento"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ke,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:it}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ot?Ia():va(),disabled:dt,children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>at(!Ke),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>at(!Ke),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ue,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:He}),st&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ye?e.replace("Entradas"):Ve(!Ue),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"}}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[yt&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Usuario:"}),yt&&(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del usuario",onKeyPress:Sa,value:Ut,onChangeText:Vt}),yt&&(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:Ht,onKeyPress:Sa,onChangeText:qt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Cantidad:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Cantidad",value:Yt,onKeyPress:Sa,onChangeText:Gt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:k},children:[(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Tienda:"})}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Origen:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(ie,{value:Kt,placeholder:"Tienda Origen",setValue:Jt,items:$t,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaOrigenSearsh")})}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Destino:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(ie,{value:Xt,placeholder:"Tienda Destino",setValue:Qt,items:$t,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaDestinoSearsh")})})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative"},children:K.map((e=>(0,w.jsx)(ha,{label:e.label,selected:q===e.value,onPress:()=>J(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",zIndex:T,position:"relative",marginTop:"2%"},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:i},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(Mt,{dayValue:oa,monthValue:ia,yearValue:sa,onDayChange:ra,onMonthChange:na,onYearChange:la,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:m},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(Mt,{dayValue:da,monthValue:ua,yearValue:ga,onDayChange:ca,onMonthChange:fa,onYearChange:xa,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ca,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{ba(`${sa}-${ia}-${oa}`,`${ga}-${ua}-${da}`)},children:"Buscar"})})]})]}),pa?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(ho,{isMobile:r,items:It,columns:Ra,columnasMyDateTableEntradaModal:ka,columnasMyDateTableTiendaModal:_a,tiendasByProducto:bt,proveedorByProducto:kt})]}),(0,w.jsx)(f.default,{transparent:!0,visible:F?.isAddMovimiento??!1,animationType:"fade",onRequestClose:wa,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:wa,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===F?.id_movimiento?"Agregar Entrada":"Datos del Movimiento"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Usuario"})}),(0,w.jsx)(n.default,{style:{width:"100%"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",marginLeft:"6%",fontWeight:"bold",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:se})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:A,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Producto"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:A,position:"relative"},children:(0,w.jsx)(Ot,{value:de,placeholder:"Productos",setValue:ce,items:Et,readOnly:!ke,searchable:!0,onDropdownOpen:()=>L("ProductosDetails")})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"}}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:M,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda Origen"}),(0,w.jsx)(Ot,{value:ue,placeholder:"Tiendas",setValue:he,items:$t,readOnly:!(ke&&yt),searchable:!0,onDropdownOpen:()=>L("TiendasDetails")})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda Destino"}),(0,w.jsx)(Ot,{value:fe,placeholder:"Tiendas",setValue:ge,items:$t,readOnly:!ke,searchable:!0,onDropdownOpen:()=>L("TiendasDetails")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,position:"relative",zIndex:z},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ye,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");we(t)},editable:ke,placeholder:"Cantidad"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:z},children:ze&&(0,w.jsx)(Mt,{dayValue:me,monthValue:be,yearValue:ve,onDayChange:je,onMonthChange:Ce,onYearChange:Ie,style:{margin:20},styleText:p.labelTextModalDesktop,isReadOnly:!ke,onDropdownOpen:()=>L("FechaDetails")})})]}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:10},children:[ft&&ke&&""!==F?.id_movimiento&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{at(!0),rt(!1),nt("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este movimiento?")},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Movimiento"})}),ut&&Te&&""!==F?.id_movimiento&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{at(!0),nt("\xbfEst\xe1s seguro que deseas ELIMINAR este movimiento?"),rt(!0),W({id_movimiento:"",isAddMovimiento:!1,isModificarMovimiento:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Movimiento"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ke,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:it}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ot?Ia():va(),disabled:dt,children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>at(!Ke),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>at(!Ke),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ue,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:He}),st&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ye?e.replace("Movimientos"):Ve(!Ue),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const xo=(0,o.createContext)(void 0),po=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(xo.Provider,{value:{sortUsuarios:t,setSortUsuarios:a},children:e})},yo=()=>{const e=o.useContext(xo);if(void 0===e)throw new Error("useSortUsuarios debe usarse dentro de un SortUsuarios");return e},wo=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalProveedoresDates:g,setModalProveedoresDates:p}=Aa(),{sortUsuarios:y,setSortUsuarios:m}=yo(),{usuario:j,setUsuario:C}=v(),S=r?mo.containerMovil:mo.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(10),[T,O]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[A,$]=o.useState(!1),[L,B]=o.useState(!1),[N,F]=o.useState(!1),[W,U]=o.useState(""),V=["Nombre"],[H,q]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),Y=e=>{p({id_proveedor:e,isAddProveedor:!0,fileEditable:!1,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0})},[G,K]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState("");o.useEffect((()=>{(async()=>{if(j?.token){const e=await xe(j.token,"7",j.id_usuario),t=await xe(j.token,"8",j.id_usuario),a=await xe(j.token,"30",j.id_usuario),o=await xe(j.token,"31",j.id_usuario);X(e),Z(t),te(a),oe(o),K(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const se=t=>{t>=0&&t*k<e.length&&_(t)},le=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[mo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?mo.headerTextMovil:mo.headerTextDesktop,children:[t,("Nombre"===t||"Correo"===t||"Tel\xe9fono"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre"===t?a="option3":"Correo"===t?a="option4":"Tel\xe9fono"===t&&(a="option5"),m({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[de,ce]=o.useState(""),[ue,he]=o.useState(""),fe=e=>{ce(e),P(!z)},ge=e=>{if(he(e),P(!z),"Modificar"===e){if(p({id_proveedor:de,isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!0,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0}),j?.token){}}else"Eliminar"===e?$(!A):"Mover"==e&&B(!L)},pe=async()=>{if(j?.token){if(0==await Se(j.token,de,j.id_tienda)){return!!await $e(j.token,de)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[le(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Usuario),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[mo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(ne.default.Cell,{style:[mo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[mo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.telefono}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[mo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombre_rol})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[mo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombre_tienda})})]},e.id_Usuario))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>fe(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),J&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ae||ee)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>fe(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[de,ue]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await pe();if($(!A),e){const e=T.filter((e=>e.id_Usuario!==de));O(e),U("Producto eliminado con \xe9xito"),F(!0)}else U("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),F(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$(!A),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>$(!A),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:re,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ie(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(At,{columns:V,items:H})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:mo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[mo.paginationButtonMovil,0===I&&mo.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:mo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:mo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[mo.paginationButtonMovil,(I+1)*k>=e.length&&mo.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:mo.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[le(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Usuario),children:[(0,w.jsx)(ne.default.Cell,{style:mo.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(ne.default.Cell,{style:mo.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(ne.default.Cell,{style:mo.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.telefono})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:{justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsx)(s.default,{children:e.nombre_rol})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:{justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsx)(s.default,{children:e.nombre_tienda})})]},e.id_Usuario))),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:mo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[mo.paginationButtonDesktop,0===I&&mo.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:mo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:mo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[mo.paginationButtonDesktop,(I+1)*k>=e.length&&mo.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:mo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},mo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:16,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function jo(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(500),[m,j]=(0,o.useState)(500),C=e=>{"TiendasSearsh"===e?(j(1500),g(2e3)):"RolesSearsh"===e&&(j(2e3),g(1500))},{usuario:S,setUsuario:I}=v(),{sortUsuarios:_}=yo(),{modalProveedoresDates:k,setModalProveedoresDates:R}=Aa(),[T,O]=(0,o.useState)(!1),z=(0,o.useRef)(new c.default.Value(0)).current,[P,M]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)([])),[E,A]=(0,o.useState)([]),[$,L]=(0,o.useState)(""),[Y,K]=(0,o.useState)(""),[J,X]=(0,o.useState)(""),[Q,Z]=(0,o.useState)(""),[ee,oe]=(0,o.useState)(""),[re,ne]=(0,o.useState)(""),[se,le]=(0,o.useState)(""),[de,ce]=(0,o.useState)(""),[ue,he]=(0,o.useState)(""),[ge,ye]=(0,o.useState)(""),[we,me]=(0,o.useState)(""),[je,be]=(0,o.useState)(""),[Ce,Se]=(0,o.useState)(""),ve=[{label:"Permitido",value:"permitido"},{label:"Denegado",value:"denegado"}],[Ie,_e]=o.useState(!1),[ke,Re]=o.useState(""),[Te,Oe]=o.useState(!1),[ze,De]=(0,o.useState)(!1),[Pe,Me]=(0,o.useState)(!1),[Ee,Ae]=(0,o.useState)(!1),[$e,Le]=(0,o.useState)(""),[Be,Ne]=o.useState(!1),[Fe,We]=o.useState(!1),[Ue,Ve]=o.useState(!1),[He,qe]=(0,o.useState)(!1),[Ye,Ge]=(0,o.useState)(null),[Ke,Je]=(0,o.useState)([]),Xe=()=>{T?c.default.timing(z,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>O(!1))):(O(!0),c.default.timing(z,{toValue:400,duration:300,useNativeDriver:!1}).start())},Qe={height:z},[Ze,et]=(0,o.useState)([]),[tt,at]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[ot,rt]=(0,o.useState)([]),[it,nt]=(0,o.useState)([]),[st,lt]=(0,o.useState)(""),[dt,ct]=(0,o.useState)(""),[ut,ht]=(0,o.useState)(""),[ft,gt]=(0,o.useState)(""),[xt,pt]=(0,o.useState)(""),[yt,wt]=(0,o.useState)(!1),mt=async()=>{K(""),X(""),Z(""),ce(""),he(""),le(""),oe(""),ye(""),R({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})};(0,o.useEffect)((()=>{St()}),[_,Ye]),(0,o.useEffect)((()=>{(async()=>{if(S?.token&&k?.id_proveedor){const e=await U(S.token,k.id_proveedor);if(e&&(L(e.data.id_usuario),X(e.data.nombre_usuario),Z(e.data.nombre_usuario),K(e.data.nombre),ce(e.data.direccion||""),he(e.data.telefono||""),le(e.data.carnet_identidad||""),oe(e.data.email||""),ye(e.data.detalle_bancario||""),Se(e.data.activo?"permitido":"denegado"),void 0!=S?.token)){const t=await pe(S.token),a=await fe(S.token);if(t&&Array.isArray(t.data)&&a&&Array.isArray(a)){const o=await Promise.all(t.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));if(parseInt(S.id_rol)>=parseInt(e.data.rol.id_rol)){const e=await Promise.all(a.map((async e=>({label:e.nombre,value:e.id_rol}))));A(e)}else{const e=await Promise.all(a.filter((e=>1===parseInt(S.id_rol)?1!==parseInt(e.id_rol):2===parseInt(S.id_rol)?1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol):3!==parseInt(S.id_rol)||1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol)&&3!==parseInt(e.id_rol))).map((async e=>({label:e.nombre,value:e.id_rol}))));A(e)}M(o)}me(e.data.tienda.id_tienda),be(e.data.rol.id_rol),parseInt(S.id_rol)>=parseInt(e.data.rol.id_rol)?qe(!1):qe(!0)}}})()}),[k]);const jt=e=>{"Enter"===e.nativeEvent.key&&St()};(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(S?.token){const e=await xe(S.token,"1",S.id_usuario),t=await xe(S.token,"3",S.id_usuario),a=await xe(S.token,"2",S.id_usuario);Ne(e),We(t),Ve(a)}})(),await(async()=>{if(void 0!=S?.token)try{const e=await V(S.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({id_Usuario:e.id_usuario,nombre:e.nombre,nombre_Usuario:e.nombre_usuario,correo:e.email||"",telefono:e.telefono||"",direccion:e.direccion||"",carnet_Identidad:e.carnet_identidad||"",detalle_bancario:e.detalles_bancarios||"",id_rol:e.rol.id_rol,nombre_rol:e.rol.nombre,id_tienda:e.tienda.id_tienda,nombre_tienda:e.tienda.nombre}))));et(t)}else console.log("No se encontraron proveedoress.")}catch(e){console.log("Error al obtener los proveedores o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de los proveedores")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de los proovedores")})(),(async()=>{if(void 0!=S?.token){const e=await pe(S.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));rt([{label:"Seleccione una tienda",value:""},...t])}}})(),(async()=>{if(void 0!=S?.token){const e=await fe(S.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_rol}))));nt([{label:"Seleccione un rol",value:""},...t])}}})(),(async()=>{if(void 0!=S?.token){const e=await pe(S.token),t=await fe(S.token);if(e&&Array.isArray(e.data)&&t&&Array.isArray(t)){const a=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda})))),o=await Promise.all(t.filter((e=>1===parseInt(S.id_rol)?1!==parseInt(e.id_rol):2===parseInt(S.id_rol)?1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol):3!==parseInt(S.id_rol)||1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol)&&3!==parseInt(e.id_rol))).map((async e=>({label:e.nombre,value:e.id_rol}))));M(a),A(o)}}})()})(),()=>{})),[]));const[bt,Ct]=(0,o.useState)(!1),St=async()=>{wt(!0);try{if(S?.token){let e=await(async()=>{if(S?.token)try{const e=await H(S.token,ut,ft,xt,dt,st);if(e)return await Promise.all(e.map((async e=>({id_Usuario:e.id_usuario,nombre:e.nombre,nombre_Usuario:e.nombre_usuario,correo:e.email??"",telefono:e.telefono??"",direccion:e.direccion??"",carnet_Identidad:e.carnet_identidad??"",detalle_bancario:e.detalle_bancario??"",id_rol:e.rol.id_rol,nombre_rol:e.rol.nombre,id_tienda:e.tienda.id_tienda,nombre_tienda:e.tienda.nombre}))))}catch(e){return console.error("Error al filtrar los proveedoress:",e),null}return null})()||[];Ct(!bt),_?.criterioOrden&&_.tipoOrden&&(e=await q(S.token,e,_.criterioOrden,bt)),et(e)}}catch(e){console.error("Error al filtrar y ordenar los proovedores:",e)}finally{wt(!1)}},vt=async()=>{if(X(""),Z(""),oe(""),ce(""),he(""),R({id_proveedor:"",isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1}),S?.token){const e=await fe(S.token),t=await Promise.all(e.filter((e=>1===parseInt(S.id_rol)?1!==parseInt(e.id_rol):2===parseInt(S.id_rol)?1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol):3!==parseInt(S.id_rol)||1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol)&&3!==parseInt(e.id_rol))).map((async e=>({label:e.nombre,value:e.id_rol}))));A(t)}},It=()=>{ht(""),gt(""),pt(""),ct(""),lt(""),Ge("")},_t=async()=>{if(De(!1),Re("Agregando usuario. Espere por favor"),_e(!0),S?.token){let e=!0,t="ERROR AL AGREGAR USUARIO. Por favor verifique los siguientes campos:\n";const a=await V(S.token);for(let o of a)if(o.nombre_usuario===J){t+=`-Ya existe un usuario con el nombreUsuario ${J}.\n`,e=!1;break}if(""===Y.trim()&&(t+="-El nombre del usuario no puede ser vac\xedo.\n",e=!1),""===ee.trim()&&(t+="-El correo electr\xf3nico no puede ser vac\xedo.\n",e=!1),""===re.trim()?(t+="-La contrase\xf1a no puede ser vac\xeda.\n",e=!1):re.trim().length<6&&(t+="-La contrase\xf1a tiene que tener 6 o m\xe1s caracteres.\n",e=!1),""===J.trim()&&(t+="-El nombreUsuario no puede ser vac\xedo.\n",e=!1),""===we&&(e=!1,t+="-No ha seleccionado la tienda donde trabajar\xe1 el usuario.\n"),""===je&&(e=!1,t+="-No ha seleccionado un rol para el usuario.\n"),""!==se.trim()&&11!==se.trim().length&&(e=!1,t+="-El carnet de identidad del usuario deve tener 11 d\xedgitos. \n"),e){await B(S.token,Y,J,re,ee,ue,de,se,ge,je,we);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${S.nombre} agreg\xf3 al sistema al usuario ${J}`;await G(S.token,r,`${t}-${a}-${o}`,S.id_usuario,5),De(!0),Re(`El Usuario "${J}" fue insertado con \xe9xito`),_e(!0),Oe(!0),K(""),X(""),Z(""),ne(""),ce(""),he(""),le(""),oe(""),ye(""),A([]),M([])}else De(!0),Re(t),Oe(!1),_e(!0)}},kt=async()=>{if(De(!1),Re("Modificando usuario. Espere por favor"),_e(!0),S?.token){let e=!0,t="ERROR AL MODIFICAR USUARIO. Compruebe los siguientes campos:\n";const a=await V(S.token);for(let o of a)if(o.nombre_usuario===J&&Q!==J){t+=`-Ya existe un usuario con el nombreUsuario ${J}.\n`,e=!1;break}if(""===Y.trim()&&(t+="-El nombre del usuario no puede ser vac\xedo.\n",e=!1),""===ee.trim()&&(t+="-El correo electr\xf3nico no puede ser vac\xedo.\n",e=!1),""!==re.trim()&&re.trim().length<6&&(t+="-La contrase\xf1a tiene que tener 6 o m\xe1s caracteres.\n",e=!1),""===J.trim()&&(t+="-El nombreUsuario no puede ser vac\xedo.\n",e=!1),""===we&&(e=!1,t+="-No ha seleccionado la tienda donde trabajar\xe1 el usuario.\n"),""===je&&(e=!1,t+="-No ha seleccionado un rol para el usuario.\n"),""!==se.trim()&&11!==se.trim().length&&(e=!1,t+="-El carnet de identidad del usuario deve tener 11 d\xedgitos. \n"),e){""===re.trim()?await W(S.token,$,Y,J,ee,ue,de,se,ge,je,we,"permitido"===Ce):await F(S.token,$,Y,J,re,ee,ue,de,se,ge,je,we,"permitido"===Ce);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${S.nombre} modific\xf3 al usuario ${J}`;await G(S.token,r,`${t}-${a}-${o}`,S.id_usuario,5),De(!0),Re(`El Usuario "${J}" se modific\xf3 con \xe9xito`),_e(!0),Oe(!0)}else De(!0),Re(t),_e(!0)}},Rt=async()=>{if(De(!1),Re("Eliminando usuario. Espere por favor"),_e(!0),S?.token){let e="ERROR AL TRATAR DE ELIMINAR EL USUARIO. Motivos:\n";if(!0){if(await N(S.token,$)){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${S.nombre} elimin\xf3 al usuario ${J}`;await G(S.token,r,`${t}-${a}-${o}`,S.id_usuario,5),De(!0),Re(`El Usuario "${J}" se elimin\xf3 con \xe9xito`),_e(!0),Oe(!0)}else e+="-El usuario ya ha echo operaciones en el sistema.\n",Re(e),_e(!0)}else De(!0),Re(e),_e(!0)}},Tt=["Producto","Cantidad","Costo","Fecha"],zt=["Nombre","Correo","Tel\xe9fono","Rol","Tienda"],Dt=r?["Nombre","Correo","Detalle Bancario","telefono"]:["Nombre","Correo","Tel\xe9fono","Rol","Tienda"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:Be&&(0,w.jsx)(u.default,{onPress:()=>vt(),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Usuario"})})}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Xe,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[yt?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(wo,{isMobile:r,items:Ze,columns:Dt,columnasMyDateTableProveedorModal:zt,columnasMyDateTableTiendaModal:Tt,tiendasByProducto:[],proveedorByProducto:tt}),T&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Qe],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre de Usuario:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del proveedor",value:ut,onKeyPress:jt,onChangeText:ht}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Correo del Usuario:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Correo del Proveedor",value:ft,onKeyPress:jt,onChangeText:gt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"N\xfamero de Tel\xe9fono",value:xt,onKeyPress:jt,onChangeText:pt}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rol:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:m,position:"relative"},children:(0,w.jsx)(ie,{value:dt,placeholder:"Roles",setValue:ct,items:it,direction:"BOTTOM",onDropdownOpen:()=>C("RolesSearsh")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Tienda:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:i,position:"relative"},children:(0,w.jsx)(ie,{value:st,placeholder:"Tiendas",setValue:lt,items:ot,direction:"BOTTOM",onDropdownOpen:()=>C("TiendasSearsh")})}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:It,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>St(),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:k?.isAddProveedor??!1,animationType:"fade",onRequestClose:mt,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"95%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:mt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:k?.isModificarProveedor?"Modificar Producto":k?.isAddProductoShowProveedoresTiendas?"Datos del Usuario":"Agregar Usuario"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Usuario"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||Ue&&He,value:Y,onChangeText:K,placeholder:"Nombre del usuario"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Usuario"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||Ue&&He,value:J,onChangeText:X,placeholder:"Nombre usuario"}),(""===k?.id_proveedor||1===parseInt(S?.id_rol))&&(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:""===k?.id_proveedor?"Contrase\xf1a":"Cambiar Contrase\xf1a"})}),(""===k?.id_proveedor||1===parseInt(S?.id_rol))&&(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||Ue&&He,value:re,onChangeText:ne,placeholder:"Nueva contrase\xf1a del usuario"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n del Usuario"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||Ue&&He,value:de,onChangeText:ce,placeholder:"Direcci\xf3n del Usuario    "}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ue,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");he(t)},editable:""===k?.id_proveedor||Ue&&He,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Carnet de Identidad"}),(0,w.jsx)(D,{style:p.textImputModal,value:se,onChangeText:e=>{e.length<=11&&/^[0-9]*$/.test(e)&&le(e)},cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||Ue&&He,placeholder:"CarnetIdentidad"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ee,onChangeText:oe,editable:""===k?.id_proveedor||Ue&&He,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(D,{style:p.textImputModal,value:ge,onChangeText:ye,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||Ue&&He,placeholder:"Detalles Bancarios"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1e3,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:1e3},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Roles"}),(0,w.jsx)(Ot,{value:je,placeholder:"Roles",setValue:be,items:E,readOnly:!(""===k?.id_proveedor||Ue&&He),searchable:!0})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:1e3},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiendas"}),(0,w.jsx)(Ot,{value:we,placeholder:"Tiendas",setValue:me,items:P,readOnly:!(""===k?.id_proveedor||Ue&&He),searchable:!0})]})]}),""!==k?.id_proveedor&&(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Acceso al Sistema"})}),""!==k?.id_proveedor&&(0,w.jsx)(n.default,{style:{padding:20,alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},children:ve.map((e=>(0,w.jsx)(ha,{label:e.label,selected:Ce===e.value,onPress:()=>{(""===k?.id_proveedor||Ue&&He)&&Se(e.value)}},e.value)))}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Ue&&He&&k?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Me(!0),Ae(!1),Le(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos proveedor ${J}?`)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Usuario"})}),Fe&&k?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Me(!0),Le(`\xbfEst\xe1s seguro que deseas ELIMINAR al proveedor ${J}?`),Ae(!0),R({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Usuario"})}),Be&&""===k?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>_t(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Usuario"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Pe,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:$e}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ee?Rt():kt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Me(!Pe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Me(!Pe),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ie,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ke}),ze&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Te?e.replace("Usuarios"):_e(!Ie),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:(Be||Ue||Fe)&&(0,w.jsx)(u.default,{onPress:()=>vt(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===Ye&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Usuario"})})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre de Usuario:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",value:ut,onKeyPress:jt,onChangeText:ht}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Correo del Usuario:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Correo del Proveedor",value:ft,onKeyPress:jt,onChangeText:gt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"N\xfamero de Tel\xe9fono",value:xt,onKeyPress:jt,onChangeText:pt}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rol:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:m,position:"relative"},children:(0,w.jsx)(ie,{value:dt,placeholder:"Roles",setValue:ct,items:it,direction:"BOTTOM",onDropdownOpen:()=>C("RolesSearsh")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:i,position:"relative"},children:(0,w.jsx)(ie,{value:st,placeholder:"Tiendas",setValue:lt,items:ot,direction:"BOTTOM",onDropdownOpen:()=>C("TiendasSearsh")})}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:It,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>St(),children:"Buscar"})})]})]}),yt?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(wo,{isMobile:r,items:Ze,columns:Dt,columnasMyDateTableProveedorModal:zt,columnasMyDateTableTiendaModal:Tt,tiendasByProducto:[],proveedorByProducto:tt})]}),(0,w.jsx)(f.default,{transparent:!0,visible:k?.isAddProveedor??!1,animationType:"fade",onRequestClose:mt,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:mt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:k?.isModificarProveedor?"Modificar Producto":k?.isAddProductoShowProveedoresTiendas?"Datos del Usuario":"Agregar Usuario"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Usuario"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||Ue&&He,value:Y,onChangeText:K,placeholder:"Nombre del usuario"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Usuario"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||Ue&&He,value:J,onChangeText:X,placeholder:"Nombre usuario"}),(""===k?.id_proveedor||1===parseInt(S?.id_rol))&&(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:""===k?.id_proveedor?"Contrase\xf1a":"Cambiar Contrase\xf1a"})}),(""===k?.id_proveedor||1===parseInt(S?.id_rol))&&(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||Ue&&He,value:re,onChangeText:ne,placeholder:"Nueva contrase\xf1a del usuario"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n del Usuario"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||Ue&&He,value:de,onChangeText:ce,placeholder:"Direcci\xf3n del Usuario    "}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ue,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");he(t)},editable:""===k?.id_proveedor||Ue&&He,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Carnet de Identidad"}),(0,w.jsx)(D,{style:p.textImputModal,value:se,onChangeText:e=>{e.length<=11&&/^[0-9]*$/.test(e)&&le(e)},cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||Ue&&He,placeholder:"CarnetIdentidad"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ee,onChangeText:oe,editable:""===k?.id_proveedor||Ue&&He,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(D,{style:p.textImputModal,value:ge,onChangeText:ye,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||Ue&&He,placeholder:"Detalles Bancarios"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1e3,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:i},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Roles"}),(0,w.jsx)(Ot,{value:je,placeholder:"Roles",setValue:be,items:E,readOnly:!(""===k?.id_proveedor||Ue&&He),searchable:!0})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:m},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiendas"}),(0,w.jsx)(Ot,{value:we,placeholder:"Tiendas",setValue:me,items:P,readOnly:!(""===k?.id_proveedor||Ue&&He),searchable:!0})]})]}),""!==k?.id_proveedor&&(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Acceso al Sistema"})}),""!==k?.id_proveedor&&(0,w.jsx)(n.default,{style:{padding:20,alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},children:ve.map((e=>(0,w.jsx)(ha,{label:e.label,selected:Ce===e.value,onPress:()=>{(""===k?.id_proveedor||Ue&&He)&&Se(e.value)}},e.value)))}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Ue&&He&&k?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Me(!0),Ae(!1),Le(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos proveedor ${J}?`)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Usuario"})}),Fe&&k?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Me(!0),Le(`\xbfEst\xe1s seguro que deseas ELIMINAR al proveedor ${J}?`),Ae(!0),R({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Usuario"})}),Be&&""===k?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>_t(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Usuario"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Pe,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:$e}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ee?Rt():kt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Me(!Pe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Me(!Pe),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ie,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ke}),ze&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Te?e.replace("Usuarios"):_e(!Ie),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const bo=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:h,setModalEntradasDates:g}=Pt(),{usuario:p,setUsuario:y}=v(),{sortEntradas:m,setSortEntradas:j}=Ba(),C=r?Co.containerMovil:Co.containerDesktop,[S,I]=o.useState(0),[_,k]=o.useState(10),[R,T]=o.useState([]),[O,z]=o.useState(!1),[P,M]=o.useState(!1),[E,A]=o.useState(!1),[$,L]=o.useState(!1),[B,N]=o.useState(!1),[F,W]=o.useState(""),U=["Nombre"],[V,H]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),q=e=>{g({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[Y,G]=o.useState(!1),[K,J]=o.useState(!1),[X,Q]=o.useState(!1),[Z,ee]=o.useState(!1),[te,ae]=o.useState(!1),[oe,re]=o.useState("");o.useEffect((()=>{(async()=>{if(p?.token){const e=await xe(p.token,p.id_rol,"7",p.id_usuario),t=await xe(p.token,p.id_rol,"8",p.id_usuario),a=await xe(p.token,p.id_rol,"30",p.id_usuario),o=await xe(p.token,p.id_rol,"31",p.id_usuario);J(e),Q(t),ee(a),ae(o),G(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=S*_,a=Math.min((S+1)*_,e.length);T([]),setTimeout((()=>{T(e.slice(t,a))}),0)}),[S,e,_]);const ie=t=>{t>=0&&t*_<e.length&&I(t)},se=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((e,t)=>(0,w.jsx)(ne.default.Title,{style:[Co.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsxs)(s.default,{style:r?Co.headerTextMovil:Co.headerTextDesktop,children:[e,("Nombre Proveedor"===e||"Nombre Producto"===e||"Costo Por Unidad"===e||"Fecha"===e)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(e=>{let t="";"Nombre Proveedor"===e?t="option3":"Nombre Producto"===e?t="option4":"Costo Por Unidad"===e?t="option5":"Fecha"===e&&(t="option6")})(e),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},t)))}),[le,de]=o.useState(""),[ce,ue]=o.useState(""),he=e=>{de(e),z(!O)},fe=e=>{if(ue(e),z(!O),"Modificar"===e){if(g({id_entrada:le,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),p?.token){}}else"Eliminar"===e?A(!E):"Mover"==e&&L(!$)};return r?(0,w.jsx)(n.default,{style:C,children:(0,w.jsxs)(ne.default,{style:{width:"100%"},children:[se(),R.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>q(e.id_Tienda),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[Co.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{style:[Co.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.direccion})})]},e.id_Tienda))),(0,w.jsx)(f.default,{transparent:!0,visible:O,animationType:"fade",onRequestClose:()=>he(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),K&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),X&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(te||Z)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>he(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:P,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[le,ce]}),(0,w.jsx)(u.default,{onPress:()=>M(!P),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:E,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!E),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})}),(0,w.jsx)(u.default,{onPress:()=>A(!E),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:oe,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");re(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(At,{columns:U,items:V})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>L(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:B,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:F}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Co.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Co.paginationButtonMovil,0===S&&Co.disabledButton],onPress:()=>ie(S-1),disabled:0===S,children:(0,w.jsx)(s.default,{style:Co.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Co.paginationLabel,children:`${S*_+1}-${Math.min((S+1)*_,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Co.paginationButtonMovil,(S+1)*_>=e.length&&Co.disabledButton],onPress:()=>ie(S+1),disabled:(S+1)*_>=e.length,children:(0,w.jsx)(s.default,{style:Co.paginationLabel,children:"Pr\xf3xima"})})]})]})}):(0,w.jsx)(n.default,{style:C,children:(0,w.jsxs)(ne.default,{children:[se(),R.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>q(e.id_Tienda),children:[(0,w.jsx)(ne.default.Cell,{style:Co.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{style:Co.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.direccion})})]},e.id_Tienda))),(0,w.jsx)(f.default,{transparent:!0,visible:B,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:F}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Tiendas"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Co.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Co.paginationButtonDesktop,0===S&&Co.disabledButton],onPress:()=>ie(S-1),disabled:0===S,children:(0,w.jsx)(s.default,{style:Co.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Co.paginationLabel,children:`${S*_+1}-${Math.min((S+1)*_,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Co.paginationButtonDesktop,(S+1)*_>=e.length&&Co.disabledButton],onPress:()=>ie(S+1),disabled:(S+1)*_>=e.length,children:(0,w.jsx)(s.default,{style:Co.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Co=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function So(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),a=t<930,[r,i]=(0,o.useState)(1e3),[l,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),{usuario:I,setUsuario:_}=v(),{modalEntradasDates:k,setModalEntradasDates:R}=Pt(),{sortEntradas:T,setSortEntradas:O}=Ba(),[z,P]=(0,o.useState)(!1),[M,E]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[A,$]=(0,o.useState)(""),[L,B]=(0,o.useState)(""),N=(0,o.useRef)(null),[F,W]=(0,o.useState)(!1),[U,V]=(0,o.useState)(""),[H,q]=(0,o.useState)(""),[Y,K]=(0,o.useState)(""),[J,X]=o.useState(!1),[Q,Z]=o.useState(""),[ee,oe]=o.useState(!1),[re,ie]=(0,o.useState)(!1),[ne,se]=(0,o.useState)(!1),[le,de]=(0,o.useState)(""),[ce,ue]=o.useState(!1),[he,fe]=o.useState(!1),[ge,xe]=o.useState(!1),[we,Ce]=(0,o.useState)(null),[Se,ve]=(0,o.useState)([]),[Ie,ke]=(0,o.useState)([]),[Re,Te]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Oe,ze]=(0,o.useState)([]),[De,Pe]=(0,o.useState)([]),[Me,Ee]=(0,o.useState)([]),Ae=new Date,$e=String(Ae.getFullYear()),Le=String(Ae.getMonth()+1).padStart(2,"0"),Be=String(Ae.getDate()).padStart(2,"0"),[Ne,Fe]=(0,o.useState)(""),[We,Ue]=(0,o.useState)(""),[Ve,He]=(0,o.useState)(""),[qe,Ye]=(0,o.useState)(""),[Ge,Ke]=(0,o.useState)(new Date),[Je,Xe]=(0,o.useState)(new Date),[Qe,Ze]=(0,o.useState)("1"),[et,tt]=(0,o.useState)("1"),[at,ot]=(0,o.useState)("2000"),[rt,it]=(0,o.useState)(String(parseInt(Be))),[nt,st]=(0,o.useState)(String(parseInt(Le))),[lt,dt]=(0,o.useState)(String(parseInt($e))),[ct,ut]=(0,o.useState)(!1),ht=()=>{$(""),B(""),R({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(I?.token&&k?.id_entrada){W(!1);const e=await be(I.token,k.id_entrada);e&&(E(e.id_tienda),$(e.nombre),B(e.direccion),W(!0))}})()}),[k]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{I?.token&&(ue(1===parseInt(I.id_rol)),fe(1===parseInt(I.id_rol)),xe(1===parseInt(I.id_rol)))})(),await(async()=>{if(void 0!=I?.token)try{const e=await pe(I.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({id_Tienda:e.id_tienda,nombre:e.nombre,direccion:e.direccion}))));ke(t)}else console.log("No se encontraron entradas.")}catch(e){console.log("Error al obtener las entradas o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de las entradas")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de las entradas")})(),(async()=>{if(void 0!=I?.token){const e=await Wa(I.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_proveedor}))));ze(t)}}})(),(async()=>{if(void 0!=I?.token){const e=await _e(I.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));Pe(t)}}})(),(async()=>{if(void 0!=I?.token){const e=await pe(I.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Ee([{label:"Tiendas",value:""},...t])}}})()})(),()=>{})),[]));const[ft,gt]=(0,o.useState)(!1),xt=async()=>{if(I?.token){let e=!0,t="ERROR AL INGRESAR TIENDA. Por favor verifique los siguientes campos:\n";if(""===A.trim()&&(t+="-El nombre de la tienda no puede ser vac\xedo.\n",e=!1),e){await ye(I.token,A,L);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${I.nombre} agreg\xf3 la tienda ${A}.`;await G(I.token,r,`${t}-${a}-${o}`,I.id_usuario,6),Z("La tienda fue insertada con \xe9xito"),X(!0),oe(!0),$(""),B(""),E("")}else Z(t),X(!0)}},pt=async()=>{if(I?.token){let e=!0,t="ERROR AL MODIFICAR TIENDA. Compruebe los siguientes campos:\n";if(""===A.trim()&&(t+="-El nombre de la tienda no puede ser vac\xedo.\n",e=!1),e){await me(I.token,M,A,L);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${I.nombre} modific\xf3 la tienda ${A}.`;await G(I.token,r,`${t}-${a}-${o}`,I.id_usuario,6),Z("La tienda se modific\xf3 con \xe9xito"),X(!0),oe(!0),$(""),B("")}else Z(t),X(!0),oe(!1)}},yt=["Nombre","Cantidad"],wt=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],mt=["Nombre","Direcci\xf3n"];return a?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:ce&&(0,w.jsx)(u.default,{onPress:()=>R({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Tienda"})})}),(0,w.jsx)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:ct?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(bo,{isMobile:a,items:Ie,columns:mt,columnasMyDateTableEntradaModal:wt,columnasMyDateTableTiendaModal:yt,tiendasByProducto:Se,proveedorByProducto:Re})}),(0,w.jsx)(f.default,{transparent:!0,visible:k?.isAddEntrada??!1,animationType:"fade",onRequestClose:ht,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:ht,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===k?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre de la Tienda"})}),(0,w.jsx)(D,{ref:N,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!0,value:A,onChangeText:$,placeholder:"Nombre de la tienda"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n de la Tienda"})}),(0,w.jsx)(D,{ref:N,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!0,value:L,onChangeText:B,placeholder:"Direcci\xf3n de la tienda"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[""!==k?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{se(!0),ie(!1),de("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta tienda?"),R({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Tienda"})}),""===k?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>xt(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Tienda"})}),""!==k?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{se(!0),ie(!0),de("\xbfEst\xe1s seguro que deseas ELIMINAR al esta tienda?"),R({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Tienda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ne,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:le}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>pt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>se(!ne),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>se(!ne),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:J,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Q}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ee?e.replace("Tiendas"):X(!J),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:ce&&(0,w.jsx)(u.default,{onPress:()=>(W(!1),$(""),B(""),E(""),R({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),void W(!0)),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===we&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Tienda"})})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsx)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop}),ct?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(bo,{isMobile:a,items:Ie,columns:mt,columnasMyDateTableEntradaModal:wt,columnasMyDateTableTiendaModal:yt,tiendasByProducto:Se,proveedorByProducto:Re})]}),(0,w.jsx)(f.default,{transparent:!0,visible:k?.isAddEntrada??!1,animationType:"fade",onRequestClose:ht,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:ht,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===k?.id_entrada?"Agregar Tienda":"Datos de la Tienda"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre de la Tienda"})}),(0,w.jsx)(D,{ref:N,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!0,value:A,onChangeText:$,placeholder:"Nombre de la tienda"}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n de la Tienda"})}),(0,w.jsx)(D,{ref:N,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!0,value:L,onChangeText:B,placeholder:"Direcci\xf3n de la tienda"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[""!==k?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{se(!0),ie(!1),de("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta tienda?"),R({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Tienda"})}),""===k?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>xt(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Tienda"})}),""!==k?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{se(!0),ie(!0),de("\xbfEst\xe1s seguro que deseas ELIMINAR al esta tienda?"),R({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Tienda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ne,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:le}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>re?(async()=>{if(I?.token){let e="ERROR AL ELIMINAR ENTRADA. Compruebe los siguientes par\xe1metros:\n";if(await je(I.token,M)){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${I.nombre} elimin\xf3 la tienda ${A}.`;await G(I.token,r,`${t}-${a}-${o}`,I.id_usuario,6),Z("La tienda se elimin\xf3 con \xe9xito"),X(!0),oe(!0),$(""),B("")}else e+="-Ya se han echo operaciones en la tienda.\n",Z(e),X(!0),oe(!1)}})():pt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>se(!ne),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>se(!ne),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:J,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Q}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ee?e.replace("Tiendas"):X(!J),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const vo=(0,o.createContext)(void 0),Io=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(vo.Provider,{value:{sortAcciones:t,setSortAcciones:a},children:e})},_o=()=>{const e=o.useContext(vo);if(void 0===e)throw new Error("useSortAcciones debe usarse dentro de un SortAcciones");return e},ko=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=Pt(),{usuario:y,setUsuario:m}=v(),{sortAcciones:j,setSortAcciones:C}=_o(),S=r?Ro.containerMovil:Ro.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(10),[T,O]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[A,$]=o.useState(!1),[L,B]=o.useState(!1),[N,F]=o.useState(!1),[W,U]=o.useState(""),V=["Nombre"],[H,q]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),Y=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[G,K]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState("");o.useEffect((()=>{(async()=>{if(y?.token){const e=await xe(y.token,"7",y.id_usuario),t=await xe(y.token,"8",y.id_usuario),a=await xe(y.token,"30",y.id_usuario),o=await xe(y.token,"31",y.id_usuario);X(e),Z(t),te(a),oe(o),K(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const se=t=>{t>=0&&t*k<e.length&&_(t)},le=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[Ro.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?Ro.headerTextMovil:Ro.headerTextDesktop,children:[t,("Nombre Usuario"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre Usuario"===t?a="option3":"Fecha"===t&&(a="option4"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[de,ce]=o.useState(""),[ue,he]=o.useState(""),fe=e=>{ce(e),P(!z)},ge=e=>{if(he(e),P(!z),"Modificar"===e){if(p({id_entrada:de,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?$(!A):"Mover"==e&&B(!L)},pe=async()=>{if(y?.token){if(0==await Se(y.token,de,y.id_tienda)){return!!await $e(y.token,de)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[le(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Accion),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:Ro.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(ne.default.Cell,{style:Ro.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.descripcion})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ro.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombre_TipoAccion}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ro.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Accion))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>fe(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),J&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ae||ee)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>fe(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[de,ue]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await pe();if($(!A),e){const e=T.filter((e=>e.id_Usuario!==de));O(e),U("Producto eliminado con \xe9xito"),F(!0)}else U("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),F(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$(!A),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>$(!A),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:re,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ie(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(At,{columns:V,items:H})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Ro.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ro.paginationButtonMovil,0===I&&Ro.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Ro.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ro.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Ro.paginationButtonMovil,(I+1)*k>=e.length&&Ro.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Ro.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[le(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Accion),children:[(0,w.jsx)(ne.default.Cell,{style:Ro.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(ne.default.Cell,{style:Ro.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.descripcion})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ro.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombre_TipoAccion}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Ro.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Accion))),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Ro.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ro.paginationButtonDesktop,0===I&&Ro.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Ro.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ro.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Ro.paginationButtonDesktop,(I+1)*k>=e.length&&Ro.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Ro.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Ro=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function To(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),[k,R]=(0,o.useState)(500),T=e=>{"FechaDetails"===e?(g(2e3),j(1500)):"TiendaDetails"===e&&(j(2e3),g(1500)),"FechaDesdeSearsh"===e?(S(2e3),_(1500),R(1500)):"FechaHastaSearsh"===e?(S(1500),_(2e3),R(1500)):"TipoAccionSearch"===e&&(S(1500),_(1500),R(2e3))},{usuario:O,setUsuario:z}=v(),{modalEntradasDates:P,setModalEntradasDates:M}=Pt(),{sortAcciones:E,setSortAcciones:A}=_o(),[$,L]=(0,o.useState)(!1),B=(0,o.useRef)(new c.default.Value(0)).current,[N,F]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[W,U]=(0,o.useState)(""),[V,H]=(0,o.useState)(""),[q,G]=(0,o.useState)(""),[Q,Z]=(0,o.useState)(""),[ee,oe]=(0,o.useState)(""),[re,ne]=(0,o.useState)(""),[se,le]=(0,o.useState)(""),[de,ce]=(0,o.useState)(""),[ue,he]=(0,o.useState)(!1),[fe,ge]=(0,o.useState)(""),[ye,we]=(0,o.useState)(""),[me,je]=(0,o.useState)(""),[be,Ce]=o.useState(!1),[Se,ve]=o.useState(""),[Ie,ke]=o.useState(!1),[Re,Te]=(0,o.useState)(!1),[Oe,ze]=(0,o.useState)(!1),[De,Pe]=(0,o.useState)(""),[Me,Ee]=o.useState(!1),[Ae,$e]=o.useState(!1),[Le,Be]=o.useState(!1),[Ne,Fe]=(0,o.useState)(null),[We,Ue]=(0,o.useState)([]),Ve=()=>{$?c.default.timing(B,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>L(!1))):(L(!0),c.default.timing(B,{toValue:400,duration:300,useNativeDriver:!1}).start())},He={height:B},[qe,Ye]=(0,o.useState)([]),[Ge,Ke]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Je,Xe]=(0,o.useState)([]),[Qe,Ze]=(0,o.useState)([]),[et,tt]=(0,o.useState)([]),at=new Date,ot=String(at.getFullYear()),rt=String(at.getMonth()+1).padStart(2,"0"),it=String(at.getDate()).padStart(2,"0"),[nt,st]=(0,o.useState)(""),[lt,dt]=(0,o.useState)(""),[ct,ut]=(0,o.useState)("1"),[ht,ft]=(0,o.useState)("1"),[gt,xt]=(0,o.useState)("2024"),[pt,yt]=(0,o.useState)(null),[wt,mt]=(0,o.useState)([]),[jt,bt]=(0,o.useState)(String(parseInt(it))),[Ct,St]=(0,o.useState)(String(parseInt(rt))),[vt,It]=(0,o.useState)(String(parseInt(ot))),[_t,kt]=(0,o.useState)(!1),[Rt,Tt]=(0,o.useState)(""),Ot=[{label:"D\xeda",value:"dia"},{label:"Semana",value:"semana"},{label:"Mes",value:"mes"}],zt=e=>{Tt(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i="";if("dia"===e)i=`${a}-${o}-${r}`;else if("semana"===e){const e=new Date(t);e.setDate(t.getDate()-6);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("mes"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setMonth(t.getMonth()-1);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}$t(i,`${a}-${o}-${r}`)},Dt=()=>{U(""),G(""),M({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(O?.token&&P?.id_entrada){he(!1);const e=await Y(O.token,P.id_entrada);if(e){const[t,a,o]=e.fecha.split("T")[0].split("-");F(e.id_accion),U(e.usuario.id_usuario),H(e.tipo_accion.id_tipo_accion),G(e.usuario.nombre),oe(e.descripcion),Z(e.tipo_accion.nombre),ne(String(parseInt(o))),le(String(parseInt(a))),ce(String(parseInt(t))),ge(e.producto.id_producto),we(e.tienda.id_tienda),je(e.cantidad),he(!0)}}})()}),[P]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(O?.token){const e=await xe(O.token,"10",O.id_usuario),t=await xe(O.token,"12",O.id_usuario),a=await xe(O.token,"11",O.id_usuario);Ee(e),$e(t),Be(a)}})(),await(async()=>{if(void 0!=O?.token){const e=await K(O.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_tipo_accion}))));mt([{label:"Todos los tipos de acci\xf3n",value:""},...t])}}})(),(async()=>{if(void 0!=O?.token){const e=await _e(O.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));Ze(t)}}})(),(async()=>{if(void 0!=O?.token){const e=await pe(O.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));tt([{label:"Tiendas",value:""},...t])}}})()})(),()=>{})),[]));const[Et,At]=(0,o.useState)(!1),$t=async(e,t)=>{kt(!0);try{if(O?.token){let a=await(async(e,t)=>{if(O?.token)try{const a=await J(O.token,pt??"",nt,lt,e,t);if(a)return await Promise.all(a.map((async e=>({id_Accion:e.id_accion,id_Usuario:e.usuario.id_usuario,nombre_Usuario:e.usuario.nombre_usuario,descripcion:e.descripcion,fecha:e.fecha,id_TipoAccion:e.tipo_accion.id_tipo_accion,nombre_TipoAccion:e.tipo_accion.nombre}))))}catch(a){return console.error("Error al filtrar los acciones:",a),null}return null})(e,t)||[];At(!Et),a=E?.criterioOrden&&E.tipoOrden?await X(O.token,a,E.criterioOrden,Et):await X(O.token,a,"option4",Et),Ye(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{kt(!1)}};(0,o.useEffect)((()=>{$t(`${gt}-${ht}-${ct}`,`${vt}-${Ct}-${jt}`)}),[E]),(0,o.useEffect)((()=>{Tt("")}),[ct,ht,gt,jt,Ct,vt]);const Lt=e=>{"Enter"===e.nativeEvent.key&&$t(`${gt}-${ht}-${ct}`,`${vt}-${Ct}-${jt}`)},Bt=()=>{st(""),dt(""),yt(""),Fe("")},Nt=["Nombre","Cantidad"],Ft=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],Wt=["Nombre Usuario","Descripci\xf3n","Tipo de Acci\xf3n","Fecha"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ve,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[_t?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(ko,{isMobile:r,items:qe,columns:Wt,columnasMyDateTableEntradaModal:Ft,columnasMyDateTableTiendaModal:Nt,tiendasByProducto:We,proveedorByProducto:Ge}),$&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},He],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre Usuario:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre usuario",value:nt,onKeyPress:Lt,onChangeText:st}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Descripci\xf3n:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Descripci\xf3n",value:lt,onKeyPress:Lt,onChangeText:dt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Tipo de Acci\xf3n:"}),(0,w.jsx)(n.default,{style:{position:"relative",zIndex:k,height:100},children:(0,w.jsx)(ie,{value:pt,placeholder:"Tipo de acci\xf3n",setValue:yt,items:wt,onDropdownOpen:()=>T("TipoAccionSearch")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Ot.map((e=>(0,w.jsx)(ha,{label:e.label,selected:Rt===e.value,onPress:()=>zt(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1800},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(Mt,{dayValue:ct,monthValue:ht,yearValue:gt,onDayChange:ut,onMonthChange:ft,onYearChange:xt,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>T("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:I},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(Mt,{dayValue:jt,monthValue:Ct,yearValue:vt,onDayChange:bt,onMonthChange:St,onYearChange:It,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>T("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Bt,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>$t(`${gt}-${ht}-${ct}`,`${vt}-${Ct}-${jt}`),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:P?.isAddEntrada??!1,animationType:"fade",onRequestClose:Dt,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Dt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===P?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Usuario"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:q,onChangeText:e=>G(e),editable:!1,placeholder:"Nombre Usuario"})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo Acci\xf3n"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Q,onChangeText:e=>Z(e),editable:!1,placeholder:"Tipo accion"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),(0,w.jsx)(D,{style:p.textImputModal,value:`${de}-${se}-${re}`,onChangeText:e=>{},cursorColor:x.azul_Oscuro,editable:!1,placeholder:"fecha"})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,editable:!1,numberOfLines:5,value:ee,onChangeText:oe,scrollEnabled:!0}),!1]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Oe,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:De}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>modificarEntradaFunction(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ze(!Oe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>ze(!Oe),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:be,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Se}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ie?e.replace("Entradas"):Ce(!be),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"}}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre Usuario:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre usuario",value:nt,onKeyPress:Lt,onChangeText:st}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Descripci\xf3n:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Descripci\xf3n",value:lt,onKeyPress:Lt,onChangeText:dt}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tipo de Acci\xf3n:"}),(0,w.jsx)(n.default,{style:{position:"relative",zIndex:k,height:100},children:(0,w.jsx)(ie,{value:pt,placeholder:"Tipo de acci\xf3n",setValue:yt,items:wt,onDropdownOpen:()=>T("TipoAccionSearch")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Ot.map((e=>(0,w.jsx)(ha,{label:e.label,selected:Rt===e.value,onPress:()=>zt(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1800},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(Mt,{dayValue:ct,monthValue:ht,yearValue:gt,onDayChange:ut,onMonthChange:ft,onYearChange:xt,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>T("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:I},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(Mt,{dayValue:jt,monthValue:Ct,yearValue:vt,onDayChange:bt,onMonthChange:St,onYearChange:It,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>T("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Bt,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>$t(`${gt}-${ht}-${ct}`,`${vt}-${Ct}-${jt}`),children:"Buscar"})})]})]}),_t?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(ko,{isMobile:r,items:qe,columns:Wt,columnasMyDateTableEntradaModal:Ft,columnasMyDateTableTiendaModal:Nt,tiendasByProducto:We,proveedorByProducto:Ge})]}),(0,w.jsx)(f.default,{transparent:!0,visible:P?.isAddEntrada??!1,animationType:"fade",onRequestClose:Dt,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Dt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Datos de la Acci\xf3n"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Usuario"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:q,onChangeText:e=>G(e),editable:!1,placeholder:"Nombre Usuario"})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo Acci\xf3n"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Q,onChangeText:e=>Z(e),editable:!1,placeholder:"Tipo accion"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),(0,w.jsx)(D,{style:p.textImputModal,value:`${de}-${se}-${re}`,onChangeText:e=>{},cursorColor:x.azul_Oscuro,editable:!1,placeholder:"fecha"})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,editable:!1,numberOfLines:5,value:ee,onChangeText:oe,scrollEnabled:!0}),!1]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Oe,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:De}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Re?eliminarEntradaFunction():modificarEntradaFunction(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ze(!Oe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>ze(!Oe),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:be,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Se}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ie?e.replace("Entradas"):Ce(!be),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const Oo=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=Pt(),{usuario:y,setUsuario:m}=v(),{sortEntradas:j,setSortEntradas:C}=Ba(),S=r?zo.containerMovil:zo.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(10),[T,O]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[A,$]=o.useState(!1),[L,B]=o.useState(!1),[N,F]=o.useState(!1),[W,U]=o.useState(""),V=["Nombre"],[H,q]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),Y=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[G,K]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState("");o.useEffect((()=>{(async()=>{if(y?.token){const e=await xe(y.token,y.id_rol,"7"),t=await xe(y.token,y.id_rol,"8"),a=await xe(y.token,y.id_rol,"30"),o=await xe(y.token,y.id_rol,"31");X(e),Z(t),te(a),oe(o),K(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const se=t=>{t>=0&&t*k<e.length&&_(t)},le=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[zo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?zo.headerTextMovil:zo.headerTextDesktop,children:[t,("Nombre Proveedor"===t||"Nombre Producto"===t||"Costo Por Unidad"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre Proveedor"===t?a="option3":"Nombre Producto"===t?a="option4":"Costo Por Unidad"===t?a="option5":"Fecha"===t&&(a="option6"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[de,ce]=o.useState(""),[ue,he]=o.useState(""),fe=e=>{ce(e),P(!z)},ge=e=>{if(he(e),P(!z),"Modificar"===e){if(p({id_entrada:de,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?$(!A):"Mover"==e&&B(!L)},pe=async()=>{if(y?.token){if(0==await Se(y.token,de,y.id_tienda)){return!!await $e(y.token,de)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[le(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Entrada),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[zo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Proveedor})}),(0,w.jsx)(ne.default.Cell,{style:[zo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[zo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[zo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.costo})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[zo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Entrada))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>fe(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),J&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ae||ee)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ge("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>fe(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[de,ue]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await pe();if($(!A),e){const e=T.filter((e=>e.id_Proveedor!==de));O(e),U("Producto eliminado con \xe9xito"),F(!0)}else U("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),F(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$(!A),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>$(!A),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:re,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ie(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(At,{columns:V,items:H})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:zo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[zo.paginationButtonMovil,0===I&&zo.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:zo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:zo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[zo.paginationButtonMovil,(I+1)*k>=e.length&&zo.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:zo.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[le(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>Y(e.id_Entrada),children:[(0,w.jsx)(ne.default.Cell,{style:zo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Proveedor})}),(0,w.jsx)(ne.default.Cell,{style:zo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[zo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[zo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.costo}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[zo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Entrada))),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:zo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[zo.paginationButtonDesktop,0===I&&zo.disabledButton],onPress:()=>se(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:zo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:zo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[zo.paginationButtonDesktop,(I+1)*k>=e.length&&zo.disabledButton],onPress:()=>se(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:zo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},zo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Do(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),k=e=>{"FechaDetails"===e?(g(2e3),j(1500)):"TiendaDetails"===e&&(j(2e3),g(1500)),"FechaDesdeSearsh"===e?(S(2e3),_(1500)):"FechaHastaSearsh"===e&&(S(1500),_(2e3))},{usuario:R,setUsuario:T}=v(),{modalEntradasDates:O,setModalEntradasDates:z}=Pt(),{sortEntradas:P,setSortEntradas:M}=Ba(),[E,A]=(0,o.useState)(!1),$=(0,o.useRef)(new c.default.Value(0)).current,[L,B]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[N,F]=(0,o.useState)(""),[W,U]=(0,o.useState)(""),[V,H]=(0,o.useState)(""),[q,Y]=(0,o.useState)(""),[K,J]=(0,o.useState)(""),[X,Q]=(0,o.useState)(""),[Z,ee]=(0,o.useState)(""),[oe,re]=(0,o.useState)(""),[ie,ne]=(0,o.useState)(!1),[se,le]=(0,o.useState)(""),[de,ce]=(0,o.useState)(""),[ue,he]=(0,o.useState)(""),[fe,ge]=o.useState(!1),[ye,we]=o.useState(""),[me,je]=o.useState(!1),[be,Ce]=(0,o.useState)(!1),[ve,Ie]=(0,o.useState)(!1),[ke,Re]=(0,o.useState)(""),[Te,Oe]=o.useState(!1),[ze,Pe]=o.useState(!1),[Me,Ee]=o.useState(!1),[$e,Be]=(0,o.useState)(null),[Ne,Fe]=(0,o.useState)([]),We=()=>{E?c.default.timing($,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>A(!1))):(A(!0),c.default.timing($,{toValue:400,duration:300,useNativeDriver:!1}).start())},Ue={height:$},[Ve,He]=(0,o.useState)([]),[qe,Ye]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Ge,Ke]=(0,o.useState)([]),[Je,Xe]=(0,o.useState)([]),[Qe,Ze]=(0,o.useState)([]),et=new Date,tt=String(et.getFullYear()),at=String(et.getMonth()+1).padStart(2,"0"),ot=String(et.getDate()).padStart(2,"0"),[rt,it]=(0,o.useState)(""),[nt,st]=(0,o.useState)(""),[lt,dt]=(0,o.useState)(""),[ct,ut]=(0,o.useState)(""),[ht,pt]=(0,o.useState)(new Date),[yt,Ct]=(0,o.useState)(new Date),[St,vt]=(0,o.useState)("1"),[It,_t]=(0,o.useState)("1"),[kt,Rt]=(0,o.useState)("2000"),[Tt,zt]=(0,o.useState)(String(parseInt(ot))),[Dt,Et]=(0,o.useState)(String(parseInt(at))),[At,$t]=(0,o.useState)(String(parseInt(tt))),[Lt,Bt]=(0,o.useState)(!1),Nt=()=>{F(""),J(""),Y(""),U(""),z({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(R?.token&&O?.id_entrada){ne(!1);const e=await gt(R.token,O.id_entrada);if(e){const[t,a,o]=e.fecha.split("T")[0].split("-");B(e.id_entrada),F(e.proveedor.id_proveedor),U(e.producto.id_producto),Y(e.cantidad),H(e.tienda.id_tienda),J(e.costo),Q(String(parseInt(o))),ee(String(parseInt(a))),re(String(parseInt(t))),le(e.producto.id_producto),ce(e.tienda.id_tienda),he(e.cantidad),ne(!0)}}})()}),[O]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(R?.token){const e=await xe(R.token,R.id_rol,"10"),t=await xe(R.token,R.id_rol,"12"),a=await xe(R.token,R.id_rol,"11");Oe(e),Pe(t),Ee(a)}})(),await(async()=>{if(void 0!=R?.token)try{const e=await ft(R.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({id_Entrada:e.id_entrada,id_Proveedor:e.proveedor.id_proveedor,id_Producto:e.producto.id_producto,nombre_Proveedor:e.proveedor.nombre,nombre_Producto:e.producto.nombre,cantidad:e.cantidad,costo:e.costo,fecha:e.fecha}))));He(t)}else console.log("No se encontraron entradas.")}catch(e){console.log("Error al obtener las entradas o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de las entradas")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de las entradas")})(),(async()=>{if(void 0!=R?.token){const e=await Wa(R.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_proveedor}))));Ke(t)}}})(),(async()=>{if(void 0!=R?.token){const e=await _e(R.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));Xe(t)}}})(),(async()=>{if(void 0!=R?.token){const e=await pe(R.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Ze([{label:"Tiendas",value:""},...t])}}})()})(),()=>{})),[]));const[Ft,Wt]=(0,o.useState)(!1),Ut=async()=>{Bt(!0);try{if(R?.token){let e=await(async()=>{if(R?.token)try{const e=await jt(R.token,rt,nt,lt,ct,`${kt}-${It}-${St}`,`${At}-${Dt}-${Tt}`);if(e)return await Promise.all(e.map((async e=>({id_Entrada:e.id_entrada,id_Proveedor:e.proveedor.id_proveedor,id_Producto:e.producto.id_producto,nombre_Proveedor:e.proveedor.nombre,nombre_Producto:e.producto.nombre,cantidad:e.cantidad,costo:e.costo,fecha:e.fecha}))))}catch(e){return console.error("Error al filtrar los proveedoress:",e),null}return null})()||[];Wt(!Ft),P?.criterioOrden&&P.tipoOrden&&(e=await bt(R.token,e,P.criterioOrden,Ft)),He(e)}}catch(e){console.error("Error al filtrar y ordenar los proovedores:",e)}finally{Bt(!1)}};(0,o.useEffect)((()=>{Ut()}),[St,It,kt,Tt,Dt,At,P]);const Vt=e=>{"Enter"===e.nativeEvent.key&&Ut()},Ht=()=>{it(""),st(""),dt(""),Be("")},qt=async()=>{if(R?.token){let e=!0,t="ERROR AL INGRESAR ENTRADA. Por favor verifique los siguientes campos:\n";if(""===N&&(e=!1,t+="-Seleccione un proveedor.\n"),""===W&&(e=!1,t+="-Seleccione un producto.\n"),""===V&&(e=!1,t+="-Seleccione una tienda.\n"),""===q&&(e=!1,t+="-Ingrese una cantidad.\n"),""===K&&(e=!1,t+="-Ingrese el costo del producto por unidad.\n"),e){await xt(R.token,K,q,`${Z}-${X}-${oe}`,parseInt(N),parseInt(W),parseInt(V)),await De(R.token,parseInt(V),parseInt(W),parseInt(q));const e=Qe.find((e=>e.value===V)),t=Je.find((e=>e.value===W)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let n=`El usuario ${R.nombre} agreg\xf3 una entrada de ${q} del producto ${t?.label} en la tienda ${e?.label}`;await G(R.token,n,`${o}-${r}-${i}`,R.id_usuario,4),await Ae(R.token,W,V),we("La entrada fue insertado con \xe9xito"),ge(!0),je(!0),F(""),U(""),H(""),J(""),Y("")}else we(t),ge(!0)}},Yt=async()=>{if(R?.token){let e=!0,t="ERROR AL MODIFICAR ENTRADA. Compruebe los siguientes campos:\n";const a=await Se(R.token,W,V),o=await Se(R.token,se,de);if(de===V&&se===W||parseInt(o.cantidad??0)-parseInt(ue)<0&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No se dispone de sificientes productos para realizar la operoci\xf3n."),parseInt(ue)-parseInt(q)>parseInt(a.cantidad??0)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La cantidad del producto excede la cantidad en la tienda\n."),""===N&&(e=!1,t+="-Seleccione un proveedor.\n"),""===W&&(e=!1,t+="-Seleccione un producto.\n"),""===V&&(e=!1,t+="-Seleccione una tienda.\n"),""===q&&(e=!1,t+="-Ingrese una cantidad.\n"),""===K&&(e=!1,t+="-Ingrese el costo del producto por unidad.\n"),e){await wt(R.token,L,K,q,`${Z}-${X}-${oe}`,parseInt(N),parseInt(W),parseInt(V)),de!==V||se!==W?(await De(R.token,parseInt(de),parseInt(se),-1*parseInt(ue)),await De(R.token,parseInt(V),parseInt(W),parseInt(q))):ue!==q&&await De(R.token,parseInt(V),parseInt(W),parseInt(q)-parseInt(ue));const e=Qe.find((e=>e.value===de)),t=Je.find((e=>e.value===se)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let n=`El usuario ${R.nombre} modific\xf3 una entrada de originalmente ${ue} del producto ${t?.label} en la tienda ${e?.label}`;await G(R.token,n,`${o}-${r}-${i}`,R.id_usuario,4),we("La entrada se modific\xf3 con \xe9xito"),ge(!0),je(!0),F(""),J(""),U(""),Y("")}else we(t),ge(!0)}},Gt=["Nombre","Cantidad"],Kt=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],Jt=["Nombre Proveedor","Nombre Producto","Cantidad","Costo Por Unidad","Fecha"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:We,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[Lt?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Oo,{isMobile:r,items:Ve,columns:Jt,columnasMyDateTableEntradaModal:Kt,columnasMyDateTableTiendaModal:Gt,tiendasByProducto:Ne,proveedorByProducto:qe}),E&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Ue],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",onKeyPress:Vt,value:rt,onChangeText:it}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Producto",value:nt,onKeyPress:Vt,onChangeText:st}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Costo en USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:W,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");U(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:W,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");U(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1e3},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",marginRight:"25%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,marginLeft:"12%",justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"})]}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:500},children:[(0,w.jsxs)(n.default,{style:{alignItems:"center",justifyContent:"center",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(Mt,{dayValue:St,monthValue:It,yearValue:kt,onDayChange:vt,onMonthChange:_t,onYearChange:Rt,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>k("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{alignItems:"center",justifyContent:"center",position:"relative",zIndex:I},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(Mt,{dayValue:Tt,monthValue:Dt,yearValue:At,onDayChange:zt,onMonthChange:Et,onYearChange:$t,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>k("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ht,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{A(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:O?.isAddEntrada??!1,animationType:"fade",onRequestClose:Nt,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Nt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===O?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Proveedor"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(Ot,{value:N,placeholder:"Proveedores",setValue:F,items:Ge,searchable:!0})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Producto"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(Ot,{value:W,placeholder:"Productos",setValue:U,items:Je,searchable:!0})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre de la Tienda"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1e3,position:"relative"},children:(0,w.jsx)(Ot,{value:V,placeholder:"Tiendas",setValue:H,items:Qe,searchable:!0})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Cantidad"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:q,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Y(t)},editable:!!Me,placeholder:"Cantidad"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Costo en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:K,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;J(a)},cursorColor:x.azul_Oscuro,editable:!!Me,placeholder:"Costo en USD"})]})]}),(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Fecha"}),ie&&(0,w.jsx)(Mt,{dayValue:X,monthValue:Z,yearValue:oe,onDayChange:Q,onMonthChange:ee,onYearChange:re,style:{margin:20},styleText:p.labelTextModalMovil})]}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Me&&""!==O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ie(!0),Re("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta entrada?"),z({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Entrada"})}),Te&&""===O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>qt(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Entrada"})}),ze&&""!==O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ie(!0),Ce(!0),Re("\xbfEst\xe1s seguro que deseas ELIMINAR al esta entrada?"),z({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Entrada"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ve,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ke}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Yt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ie(!ve),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Ie(!ve),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:fe,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ye}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>me?e.replace("Permisos"):ge(!fe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"}}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",value:rt,onKeyPress:Vt,onChangeText:it}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Producto",value:nt,onKeyPress:Vt,onChangeText:st}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Costo en USD:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:lt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");dt(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:ct,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ut(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(Mt,{dayValue:St,monthValue:It,yearValue:kt,onDayChange:vt,onMonthChange:_t,onYearChange:Rt,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>k("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:I},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(Mt,{dayValue:Tt,monthValue:Dt,yearValue:At,onDayChange:zt,onMonthChange:Et,onYearChange:$t,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>k("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ht,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Ut(),children:"Buscar"})})]})]}),Lt?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Oo,{isMobile:r,items:Ve,columns:Jt,columnasMyDateTableEntradaModal:Kt,columnasMyDateTableTiendaModal:Gt,tiendasByProducto:Ne,proveedorByProducto:qe})]}),(0,w.jsx)(f.default,{transparent:!0,visible:O?.isAddEntrada??!1,animationType:"fade",onRequestClose:Nt,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Nt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===O?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Proveedor"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(Ot,{value:N,placeholder:"Proveedores",setValue:F,items:Ge,searchable:!0})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Producto"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(Ot,{value:W,placeholder:"Productos",setValue:U,items:Je,searchable:!0})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:m,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre de la Tienda"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:m,position:"relative"},children:(0,w.jsx)(Ot,{value:V,placeholder:"Tiendas",setValue:H,items:Qe,searchable:!0,onDropdownOpen:()=>k("TiendaDetails")})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:q,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Y(t)},editable:!!Me,placeholder:"Cantidad"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:K,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;J(a)},cursorColor:x.azul_Oscuro,editable:!!Me,placeholder:"Costo en USD"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),ie&&(0,w.jsx)(Mt,{dayValue:X,monthValue:Z,yearValue:oe,onDayChange:Q,onMonthChange:ee,onYearChange:re,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>k("FechaDetails")})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Me&&""!==O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ie(!0),Ce(!1),Re("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta entrada?"),z({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Entrada"})}),Te&&""===O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>qt(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Entrada"})}),ze&&""!==O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ie(!0),Ce(!0),Re("\xbfEst\xe1s seguro que deseas ELIMINAR al esta entrada?"),z({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Entrada"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ve,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ke}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>be?(async()=>{if(R?.token){let e=!0,t="ERROR AL ELIMINAR ENTRADA. Compruebe los siguientes par\xe1metros:\n";const a=await Se(R.token,W,V);if(parseInt(q)>parseInt(a.cantidad??0)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La cantidad del producto excede la cantidad en la tienda\n."),e){await mt(R.token,L),await De(R.token,parseInt(V),parseInt(W),-1*parseInt(q)),await Le(R.token);const e=Qe.find((e=>e.value===de)),t=Je.find((e=>e.value===se)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let n=`El usuario ${R.nombre} elimin\xf3 la entrada con una cantidad de ${ue} del producto ${t?.label} en la tienda ${e?.label}`;await G(R.token,n,`${o}-${r}-${i}`,R.id_usuario,4),we("La entrada se elimin\xf3 con \xe9xito"),ge(!0),je(!0),F(""),J(""),U(""),Y("")}else we(t),ge(!0)}})():Yt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ie(!ve),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Ie(!ve),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:fe,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ye}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>me?e.replace("Permisos"):ge(!fe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const Po=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:h,setModalEntradasDates:g}=Pt(),{usuario:p,setUsuario:y}=v(),{sortEntradas:m,setSortEntradas:j}=Ba(),C=r?Mo.containerMovil:Mo.containerDesktop,[S,I]=o.useState(0),[_,k]=o.useState(20),[R,T]=o.useState([]),[O,z]=o.useState(!1),[P,M]=o.useState(!1),[E,A]=o.useState(!1),[$,L]=o.useState(!1),[B,N]=o.useState(!1),[F,W]=o.useState(""),U=["Nombre"],[V,H]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),q=e=>{g({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[Y,G]=o.useState(!1),[K,J]=o.useState(!1),[X,Q]=o.useState(!1),[Z,ee]=o.useState(!1),[te,ae]=o.useState(!1),[oe,re]=o.useState("");o.useEffect((()=>{(async()=>{if(p?.token){const e=await xe(p.token,"7",p.id_usuario),t=await xe(p.token,"8",p.id_usuario),a=await xe(p.token,"30",p.id_usuario),o=await xe(p.token,"31",p.id_usuario);J(e),Q(t),ee(a),ae(o),G(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=S*_,a=Math.min((S+1)*_,e.length);T([]),setTimeout((()=>{T(e.slice(t,a))}),0)}),[S,e,_]);const ie=t=>{t>=0&&t*_<e.length&&I(t)},se=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((e,t)=>(0,w.jsx)(ne.default.Title,{style:[Mo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsxs)(s.default,{style:r?Mo.headerTextMovil:Mo.headerTextDesktop,children:[e,("Nombre Proveedor"===e||"Nombre Producto"===e||"Costo Por Unidad"===e||"Fecha"===e)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(e=>{let t="";"Nombre Proveedor"===e?t="option3":"Nombre Producto"===e?t="option4":"Costo Por Unidad"===e?t="option5":"Fecha"===e&&(t="option6")})(e),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},t)))}),[le,de]=o.useState(""),[ce,ue]=o.useState(""),he=e=>{de(e),z(!O)},fe=e=>{if(ue(e),z(!O),"Modificar"===e){if(g({id_entrada:le,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),p?.token){}}else"Eliminar"===e?A(!E):"Mover"==e&&L(!$)};return r?(0,w.jsx)(n.default,{style:C,children:(0,w.jsxs)(ne.default,{style:{width:"100%"},children:[se(),R.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>q(e.id_TipoServicio),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[Mo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_TipoServicio})}),(0,w.jsx)(ne.default.Cell,{style:[Mo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.costo})})]},e.id_TipoServicio))),(0,w.jsx)(f.default,{transparent:!0,visible:O,animationType:"fade",onRequestClose:()=>he(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),K&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),X&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(te||Z)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>he(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:P,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[le,ce]}),(0,w.jsx)(u.default,{onPress:()=>M(!P),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:E,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>auxDeleteProductoById(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!E),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!E),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:oe,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");re(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(At,{columns:U,items:V})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>L(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:B,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:F}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Tipo de Servicio"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Mo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Mo.paginationButtonMovil,0===S&&Mo.disabledButton],onPress:()=>ie(S-1),disabled:0===S,children:(0,w.jsx)(s.default,{style:Mo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Mo.paginationLabel,children:`${S*_+1}-${Math.min((S+1)*_,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Mo.paginationButtonMovil,(S+1)*_>=e.length&&Mo.disabledButton],onPress:()=>ie(S+1),disabled:(S+1)*_>=e.length,children:(0,w.jsx)(s.default,{style:Mo.paginationLabel,children:"Pr\xf3xima"})})]})]})}):(0,w.jsx)(n.default,{style:C,children:(0,w.jsxs)(ne.default,{children:[se(),R.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>q(e.id_TipoServicio),children:[(0,w.jsx)(ne.default.Cell,{style:Mo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_TipoServicio})}),(0,w.jsx)(ne.default.Cell,{style:Mo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.costo})})]},e.id_TipoServicio))),(0,w.jsx)(f.default,{transparent:!0,visible:B,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:F}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Tipo de Servicio"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Mo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Mo.paginationButtonDesktop,0===S&&Mo.disabledButton],onPress:()=>ie(S-1),disabled:0===S,children:(0,w.jsx)(s.default,{style:Mo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Mo.paginationLabel,children:`${S*_+1}-${Math.min((S+1)*_,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Mo.paginationButtonDesktop,(S+1)*_>=e.length&&Mo.disabledButton],onPress:()=>ie(S+1),disabled:(S+1)*_>=e.length,children:(0,w.jsx)(s.default,{style:Mo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Mo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Eo(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),{usuario:k,setUsuario:R}=v(),{modalEntradasDates:T,setModalEntradasDates:O}=Pt(),{sortEntradas:z,setSortEntradas:P}=Ba(),[M,E]=(0,o.useState)(!1),A=(0,o.useRef)(new c.default.Value(0)).current,[$,L]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[B,N]=(0,o.useState)(""),[F,W]=(0,o.useState)(""),[U,V]=(0,o.useState)(!1),[H,q]=(0,o.useState)(""),[Y,K]=(0,o.useState)(""),[J,X]=(0,o.useState)(""),[Q,Z]=o.useState(!1),[ee,oe]=o.useState(""),[re,ie]=o.useState(!1),[ne,se]=(0,o.useState)(!1),[le,de]=(0,o.useState)(!1),[ce,ue]=(0,o.useState)(""),[he,fe]=(0,o.useState)(!1),[ge,pe]=o.useState(!1),[ye,we]=o.useState(!1),[me,je]=o.useState(!1),[be,Ce]=(0,o.useState)(null),[Se,ve]=(0,o.useState)([]),Ie=()=>{M?c.default.timing(A,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>E(!1))):(E(!0),c.default.timing(A,{toValue:400,duration:300,useNativeDriver:!1}).start())},_e={height:A},[ke,Re]=(0,o.useState)([]),[Te,Oe]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[ze,De]=(0,o.useState)([]),[Pe,Me]=(0,o.useState)([]),[Ee,Ae]=(0,o.useState)([]),$e=new Date,Le=String($e.getFullYear()),Be=String($e.getMonth()+1).padStart(2,"0"),Ne=String($e.getDate()).padStart(2,"0"),[Fe,We]=(0,o.useState)(""),[Ue,Ve]=(0,o.useState)(""),[He,qe]=(0,o.useState)(""),[Ye,Ge]=(0,o.useState)(""),[Ke,Je]=(0,o.useState)(new Date),[Xe,Qe]=(0,o.useState)(new Date),[Ze,et]=(0,o.useState)("1"),[tt,at]=(0,o.useState)("1"),[ot,rt]=(0,o.useState)("2000"),[it,nt]=(0,o.useState)(String(parseInt(Ne))),[st,lt]=(0,o.useState)(String(parseInt(Be))),[dt,ct]=(0,o.useState)(String(parseInt(Le))),[ut,ht]=(0,o.useState)(!1),ft=()=>{N(""),W(""),W(""),O({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(k?.token&&T?.id_entrada){V(!1);const e=await Jt(k.token,T.id_entrada);e&&(L(e.id_tipo_servicio),N(e.nombre),W(e.costo),q(e.producto.id_producto),K(e.tienda.id_tienda),X(e.cantidad),V(!0))}})()}),[T]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(k?.token){const e=await xe(k.token,"20",k.id_usuario),t=await xe(k.token,"21",k.id_usuario),a=await xe(k.token,"22",k.id_usuario);pe(e),we(a),je(t)}})(),await(async()=>{if(void 0!=k?.token)try{const e=await Kt(k.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({id_TipoServicio:e.id_tipo_servicio,nombre_TipoServicio:e.nombre,costo:e.costo}))));Re(t)}else console.log("No se encontraron Tipos de Servicios.")}catch(e){console.log("Error al obtener los Tipos de Servicios o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de lo Tipos de Servicios")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de las entradas")})()})(),()=>{})),[]));const[gt,xt]=(0,o.useState)(!1),pt=async()=>{ht(!0);try{if(k?.token){let e=await(async()=>{if(k?.token)try{const e=await ea(k.token,Fe,He,Ye);if(e)return await Promise.all(e.map((async e=>({id_TipoServicio:e.id_tipo_servicio,nombre_TipoServicio:e.nombre,costo:e.costo}))))}catch(e){return console.error("Error al filtrar los proveedoress:",e),null}return null})()||[];xt(!gt),Re(e)}}catch(e){console.error("Error al filtrar y ordenar los proovedores:",e)}finally{ht(!1)}};(0,o.useEffect)((()=>{pt()}),[Ze,tt,ot,it,st,dt,z,be]);const yt=e=>{"Enter"===e.nativeEvent.key&&pt()},wt=()=>{We(""),Ve(""),qe(""),Ge(""),Ce("")},mt=async()=>{if(fe(!1),oe("Agregando tipo de servicio. Espere por favor"),Z(!0),k?.token){let e=!0,t="ERROR AL INGRESAR TIPO DE SERVICIO. Por favor verifique los siguientes campos:\n";if(""===B.trim()&&(e=!1,t+="-El nombre del tipo de servicio no puede ser vacio.\n"),""===F.trim()&&(e=!1,t+="-El costo del tipo de servicio no puede ser vacio.\n"),e){await Xt(k.token,B,F);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${k.nombre} agreg\xf3 un nuevo tipo de servicio: ${B} con un costo de ${F}`;await G(k.token,r,`${t}-${a}-${o}`,k.id_usuario,7),fe(!0),oe(`Se ha creado el tipo de servicio ${B}`),Z(!0),ie(!0),N(""),W("")}else fe(!0),oe(t),Z(!0)}},jt=async()=>{if(fe(!1),oe("Modificando tipo de servicio. Espere por favor"),Z(!0),k?.token){let e=!0,t="ERROR AL MODIFICAR TIPO DE SERVICIO. Compruebe los siguientes campos:\n";if(""===B.trim()&&(e=!1,t+="-El nombre del tipo de servicio no puede ser vacio.\n"),""===F&&(e=!1,t+="-El costo del tipo de servicio no puede ser vacio.\n"),e){await Qt(k.token,$,B,F);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${k.nombre} modific\xf3 el tipo de servicio: ${B} con un costo de ${F}`;await G(k.token,r,`${t}-${a}-${o}`,k.id_usuario,7),fe(!0),oe("El tipo de servicio se modific\xf3 con \xe9xito"),Z(!0),ie(!0)}else fe(!0),oe(t),Z(!0)}},bt=["Nombre","Cantidad"],Ct=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],St=["Tipo de Servicio","Costo"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:ge&&(0,w.jsx)(u.default,{onPress:()=>O({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Tipo de Servicio"})})}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ie,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[ut?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Po,{isMobile:r,items:ke,columns:St,columnasMyDateTableEntradaModal:Ct,columnasMyDateTableTiendaModal:bt,tiendasByProducto:Se,proveedorByProducto:Te}),M&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},_e],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del tipo de Servicio:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del tipo de Servicio",value:Fe,onKeyPress:yt,onChangeText:We}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Costo:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:He,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");qe(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:Ye,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ge(t)}})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",marginTop:"10%",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:wt,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>pt(),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:T?.isAddEntrada??!1,animationType:"fade",onRequestClose:ft,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:ft,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===T?.id_entrada?"Agregar Tipo de Servicio":"Datos del Tipo de Servicio"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsxs)(n.default,{style:{width:"100%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Tipo de Servicio"}),(0,w.jsx)(D,{style:p.textImputModal,value:B,onChangeText:e=>{N(e)},cursorColor:x.azul_Oscuro,editable:!!me,placeholder:"Nombre Tipo de Servicio"})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:F,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;W(a)},editable:!!me,placeholder:"Costo"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[me&&""!==T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"43%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{de(!0),se(!1),ue("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este Tipo de Servicio?")},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Tipo de Servicio"})}),ge&&""===T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"43%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>mt(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Tipo de Servicio"})}),ye&&""!==T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"43%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{de(!0),se(!0),ue("\xbfEst\xe1s seguro que deseas ELIMINAR este Tipo de Servicio?"),O({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Tipo de Servicio"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:le,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ce}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>jt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>de(!le),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>de(!le),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Q,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ee}),he&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>re?e.replace("Tipo de Servicio"):Z(!Q),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:ge&&(0,w.jsx)(u.default,{onPress:()=>(V(!1),N(""),W("0"),O({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),new Date,void V(!0)),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===be&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Tipo de Servicio"})})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del tipo de Servicio:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del tipo de Servicio",value:Fe,onKeyPress:yt,onChangeText:We}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Costo:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:He,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");qe(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:Ye,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ge(t)}})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",marginTop:"10%",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:wt,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>pt(),children:"Buscar"})})]})]}),ut?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Po,{isMobile:r,items:ke,columns:St,columnasMyDateTableEntradaModal:Ct,columnasMyDateTableTiendaModal:bt,tiendasByProducto:Se,proveedorByProducto:Te})]}),(0,w.jsx)(f.default,{transparent:!0,visible:T?.isAddEntrada??!1,animationType:"fade",onRequestClose:ft,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:ft,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===T?.id_entrada?"Agregar Tipo de Servicio":"Datos del Tipo de Servicio"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsxs)(n.default,{style:{width:"100%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Tipo de Servicio"}),(0,w.jsx)(D,{style:p.textImputModal,value:B,onChangeText:e=>{N(e)},cursorColor:x.azul_Oscuro,editable:!!me,placeholder:"Nombre Tipo de Servicio"})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:F,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;W(a)},editable:!!me,placeholder:"Costo"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[me&&""!==T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{de(!0),se(!1),ue("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este Tipo de Servicio?")},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Tipo de Servicio"})}),ge&&""===T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>mt(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Tipo de Servicio"})}),ye&&""!==T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{de(!0),se(!0),ue("\xbfEst\xe1s seguro que deseas ELIMINAR este Tipo de Servicio?"),O({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Tipo de Servicio"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:le,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ce}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ne?(async()=>{if(fe(!1),oe("Eliminando tipo de servicio. Espere por favor"),Z(!0),k?.token){let e=!0,t="ERROR AL ELIMINAR TIPO DE SERVICIO. Compruebe los siguientes par\xe1metros:\n";if(2!==parseInt($)&&4!==parseInt($)&&25!==parseInt($)&&26!==parseInt($)||(e=!1,t+="-No es posible eliminar este tipo de servicio ya que se usa en la l\xf3gica del software.\n"),e)if(await Zt(k.token,$)){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${k.nombre} elimin\xf3 el tipo de servicio ${B}.`;await G(k.token,r,`${t}-${a}-${o}`,k.id_usuario,7),fe(!0),oe("El tipo de servicio se elimin\xf3 con \xe9xito"),Z(!0),ie(!0),N(""),W("")}else oe(t),Z(!0);else fe(!0),oe(t),Z(!0)}})():jt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>de(!le),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>de(!le),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Q,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ee}),he&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>re?e.replace("Tipo de Servicio"):Z(!Q),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}function Ao(){(0,b.useNavigation)();const{width:e}=(0,d.default)(),{usuario:t,setUsuario:a}=v(),[r,i]=o.useState(!1),[l,c]=(0,o.useState)("");(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{if(t?.token){const e=await ve(t.token);c(e)}})(),()=>{})),[]));return(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",marginTop:"10%"},children:[(0,w.jsxs)(n.default,{style:{width:"20%",marginLeft:"40%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cambio de moneda de USD -> CUP"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:l,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;c(a)},placeholder:"Digite un n\xfamero"})]}),(0,w.jsx)(n.default,{style:{width:"20%",marginLeft:"41%"},children:(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"80%",height:30,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{(async()=>{t?.token&&(await Ie(t.token,l),i(!0))})()},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Cambiar Moneda"})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:r,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Se ha cambiado el valor de la moneda a ${l}`}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i(!r),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const $o=(0,o.createContext)(void 0),Lo=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)($o.Provider,{value:{sortClientes:t,setSortClientes:a},children:e})},Bo=()=>{const e=o.useContext($o);if(void 0===e)throw new Error("useSortEntradas debe usarse dentro de un SortClientes");return e},No=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalProveedoresDates:g,setModalProveedoresDates:p}=Aa(),{sortProductos:y,setSortProductos:m}=he(),{usuario:j,setUsuario:C}=v(),{sortClientes:S,setSortClientes:I}=Bo(),_=r?Fo.containerMovil:Fo.containerDesktop,[k,R]=o.useState(0),[T,O]=o.useState(20),[z,P]=o.useState([]),[M,E]=o.useState(!1),[A,$]=o.useState(!1),[L,B]=o.useState(!1),[N,F]=o.useState(!1),[W,U]=o.useState(!1),[V,H]=o.useState(""),q=["Nombre"],[Y,G]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),K=e=>{p({id_proveedor:e,isAddProveedor:!0,fileEditable:!1,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0})},[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState(!1),[se,le]=o.useState("");o.useEffect((()=>{(async()=>{if(j?.token){const e=await xe(j.token,"7",j.id_usuario),t=await xe(j.token,"8",j.id_usuario),a=await xe(j.token,"30",j.id_usuario),o=await xe(j.token,"31",j.id_usuario);Z(e),te(t),oe(a),ie(o),X(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=k*T,a=Math.min((k+1)*T,e.length);P([]),setTimeout((()=>{P(e.slice(t,a))}),0)}),[k,e,T]);const de=t=>{t>=0&&t*T<e.length&&R(t)},ce=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[Fo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?Fo.headerTextMovil:Fo.headerTextDesktop,children:[t,"Nombre"===t&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre"===t&&(a="option3"),I({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[ue,fe]=o.useState(""),[ge,pe]=o.useState(""),ye=e=>{fe(e),E(!M)},we=e=>{if(pe(e),E(!M),"Modificar"===e){if(p({id_proveedor:ue,isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!0,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0}),j?.token){}}else"Eliminar"===e?B(!L):"Mover"==e&&F(!N)},me=async()=>{if(j?.token){if(0==await Se(j.token,ue,j.id_tienda)){return!!await $e(j.token,ue)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:_,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[ce(),z.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>K(e.id_Cliente),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[Fo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{style:[Fo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.cif})}),(0,w.jsx)(ne.default.Cell,{style:[Fo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Fo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.detalle_bancario}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Fo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.telefono})})]},e.id_Cliente))),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",onRequestClose:()=>ye(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{we("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{we("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(re||ae)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{we("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>ye(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[ue,ge]}),(0,w.jsx)(u.default,{onPress:()=>$(!A),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await me();if(B(!L),e){const e=z.filter((e=>e.id_Cliente!==ue));P(e),H("Producto eliminado con \xe9xito"),U(!0)}else H("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),U(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>B(!L),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:se,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");le(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(At,{columns:q,items:Y})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>F(!N),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Fo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Fo.paginationButtonMovil,0===k&&Fo.disabledButton],onPress:()=>de(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:Fo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Fo.paginationLabel,children:`${k*T+1}-${Math.min((k+1)*T,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Fo.paginationButtonMovil,(k+1)*T>=e.length&&Fo.disabledButton],onPress:()=>de(k+1),disabled:(k+1)*T>=e.length,children:(0,w.jsx)(s.default,{style:Fo.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:_,children:(0,w.jsxs)(ne.default,{children:[ce(),z.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>K(e.id_Cliente),children:[(0,w.jsx)(ne.default.Cell,{style:Fo.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(ne.default.Cell,{style:Fo.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.cif})}),(0,w.jsx)(ne.default.Cell,{style:Fo.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Fo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.detalle_bancario}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:{flex:1.5,justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsx)(s.default,{children:e.telefono})})]},e.id_Cliente))),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Fo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Fo.paginationButtonDesktop,0===k&&Fo.disabledButton],onPress:()=>de(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:Fo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Fo.paginationLabel,children:`${k*T+1}-${Math.min((k+1)*T,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Fo.paginationButtonDesktop,(k+1)*T>=e.length&&Fo.disabledButton],onPress:()=>de(k+1),disabled:(k+1)*T>=e.length,children:(0,w.jsx)(s.default,{style:Fo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Fo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:16,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Wo(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,{usuario:i,setUsuario:g}=v(),{sortClientes:m,setSortClientes:j}=Bo(),{modalProveedoresDates:C,setModalProveedoresDates:S}=Aa(),[I,_]=(0,o.useState)(!1),k=(0,o.useRef)(new c.default.Value(0)).current,[R,T]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[O,z]=(0,o.useState)(""),[P,M]=(0,o.useState)(""),[E,A]=(0,o.useState)(""),[$,L]=(0,o.useState)(""),[B,N]=(0,o.useState)(""),[F,W]=(0,o.useState)(""),[U,V]=(0,o.useState)(""),[H,q]=o.useState(!1),[Y,K]=o.useState(""),[J,X]=o.useState(!1),[Q,Z]=(0,o.useState)(!1),[ee,oe]=(0,o.useState)(!1),[re,ie]=(0,o.useState)(""),[ne,se]=(0,o.useState)(!1),[le,de]=(0,o.useState)(!1),[ce,ue]=o.useState(!1),[he,fe]=o.useState(!1),[ge,ye]=o.useState(!1),[we,me]=(0,o.useState)(null),[je,be]=(0,o.useState)([]),Ce=()=>{I?c.default.timing(k,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>_(!1))):(_(!0),c.default.timing(k,{toValue:400,duration:300,useNativeDriver:!1}).start())},Se={height:k},[ve,Ie]=(0,o.useState)([]),[_e,ke]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Re,Te]=(0,o.useState)([]),[Oe,ze]=(0,o.useState)(""),[De,Pe]=(0,o.useState)(""),[Me,Ee]=(0,o.useState)(""),[Ae,$e]=(0,o.useState)(""),[Le,Be]=(0,o.useState)(!1),Ne=()=>{z(""),W(""),L(""),A(""),N(""),M(""),V(""),S({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})};(0,o.useEffect)((()=>{Ve()}),[we,m]),(0,o.useEffect)((()=>{(async()=>{if(i?.token&&C?.id_proveedor){const e=await aa(i.token,C.id_proveedor);e&&(T(C.id_proveedor),z(e.nombre),M(e.email||""),N(e.descripcion||""),A(e.telefono||""),L(e.nota||""),W(e.Cif||""),V(e.detalles_bancarios||""))}})()}),[C]);const Fe=e=>{"Enter"===e.nativeEvent.key&&Ve()};(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(i?.token){const e=await xe(i.token,"18",i.id_usuario),t=await xe(i.token,"17",i.id_usuario),a=await xe(i.token,"16",i.id_usuario);ue(a),fe(e),ye(t)}})(),await(async()=>{if(void 0!=i?.token)try{const e=await ta(i.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({id_Cliente:e.id_cliente,nombre:e.nombre,correo:e.email||"",detalle_bancario:e.detalles_bancarios||"",telefono:e.telefono||"",nota:e.nota||"",cif:e.Cif||"",descripcion:e.descripcion||""}))));Ie(t)}else console.log("No se encontraron proveedoress.")}catch(e){console.log("Error al obtener los proveedores o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de los proveedores")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de los proovedores")})(),(async()=>{if(void 0!=i?.token){const e=await pe(i.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Te([{label:"Tiendas",value:""},...t])}}})()})(),()=>{})),[]));const[We,Ue]=(0,o.useState)(!1),Ve=async()=>{Be(!0);try{if(i?.token){let e=await(async()=>{if(i?.token)try{const e=await na(i.token,Oe,Me,De,Ae);if(e)return await Promise.all(e.map((async e=>({id_Proveedor:e.id_proveedor,nombre:e.nombre,correo:e.email||"",direccion:e.direccion||"",telefono:e.telefono||"",nota:e.nota||"",cif:e.Cif||"",detalle_bancario:e.detalles_bancarios||"",descripcion:e.descripcion||""}))))}catch(e){return console.error("Error al filtrar los proveedoress:",e),null}return null})()||[];Ue(!We),m?.criterioOrden&&m.tipoOrden&&(e=await sa(i.token,e,m.criterioOrden,We)),Ie(e)}}catch(e){console.error("Error al filtrar y ordenar los proovedores:",e)}finally{Be(!1)}},He=()=>{z(""),M(""),N(""),A(""),L(""),S({id_proveedor:"",isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},qe=()=>{ze(""),Pe(""),$e(""),Ee(""),me("")},Ye=async()=>{if(!le){if(de(!0),se(!1),K("Agregando cliente. Espere por favor"),q(!0),i?.token){let e=!0,t="ERROR AL AGREGAR CLIENTE. Por favor verifique los siguientes campos:\n";if(""===O.trim()&&(t+="-El nombre del cliente no puede ser vac\xedo",e=!1),e){await oa(i.token,O,P,E,B,$,F,U);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${i.nombre} agreg\xf3 al sistema al cliente ${O}`;await G(i.token,r,`${t}-${a}-${o}`,i.id_usuario,8),se(!0),K(`El Cliente "${O}" fue insertado con \xe9xito`),q(!0),X(!0),z(""),A(""),M(""),N(""),L(""),W(""),V("")}else se(!0),K(t),q(!0)}de(!1)}},Ge=async()=>{if(!le){if(de(!0),se(!1),K("Modificando cliente. Espere por favor"),q(!0),i?.token){let e=!0,t="ERROR AL MODIFICAR CLIENTE. Compruebe los siguientes campos:\n";if(""===O.trim()&&(e=!1,t+="-El nombre del cliente no puede ser vac\xedo"),1===parseInt(R)&&(e=!1,t+="-No se puede modificar al cliente An\xf3nimo ya que se usa en la l\xf3gica del software"),e){await ra(i.token,R,O,P,E,B,$,F,U);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${i.nombre} modific\xf3 al cliente ${O}`;await G(i.token,r,`${t}-${a}-${o}`,i.id_usuario,8),se(!0),K(`El Cliente "${O}" se modific\xf3 con \xe9xito`),q(!0),X(!0)}else se(!0),K(t),q(!0)}de(!1)}},Ke=async()=>{if(!le){if(de(!0),se(!1),K("Eliminando cliente. Espere por favor"),q(!0),i?.token){let e=!0,t="ERROR AL TRATAR DE ELIMINAR EL CLIENTE. Motivos:\n";if(1===parseInt(R)&&(e=!1,t+="-No se puede eliminar al cliente An\xf3nimo ya que se usa en la l\xf3gica del software"),e){if(await ia(i.token,R)){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${i.nombre} elimin\xf3 al cliente ${O}`;await G(i.token,r,`${t}-${a}-${o}`,i.id_usuario,8),se(!0),K(`El Cliente "${O}" se elimin\xf3 con \xe9xito`),q(!0),X(!0)}else se(!0),t+="-Ya se han echo operaciones en el sistema con este cliente.\n",K(t),q(!0)}else se(!0),K(t),q(!0)}de(!1)}},Je=["Producto","Cantidad","Costo","Fecha"],Xe=["Nombre","CIF / CI","Correo","Detalle Bancario","Tel\xe9fono"],Qe=r?["Nombre","Correo","Detalle Bancario","telefono"]:["Nombre","CIF / CI","Correo","Detalle Bancario","Tel\xe9fono"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:ce&&(0,w.jsx)(u.default,{onPress:()=>He(),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Cliente"})})}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ce,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[Le?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(No,{isMobile:r,items:ve,columns:Qe,columnasMyDateTableProveedorModal:Xe,columnasMyDateTableTiendaModal:Je,tiendasByProducto:[],proveedorByProducto:_e}),I&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Se],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del Cliente:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del cliente",onKeyPress:Fe,value:Oe,onChangeText:ze}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"CIF / Carnet Identidad:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"CIF / Carnet Identidad",value:De,onKeyPress:Fe,onChangeText:Pe}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Detalles Bancarios:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"Detalles Bancarios",onKeyPress:Fe,value:Ae,onChangeText:$e}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullMovil,placeholder:"N\xfamero de Tel\xe9fono",value:Me,onKeyPress:Fe,onChangeText:Ee}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:qe,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{Ve(),_(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:C?.isAddProveedor??!1,animationType:"fade",onRequestClose:Ne,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"95%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ne,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:C?.isModificarProveedor?"Modificar Producto":C?.isAddProductoShowProveedoresTiendas?"Datos del Proveedor":"Agregar Proveedor"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ge,value:O,onChangeText:z,placeholder:"Nombre del cliente"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:E,onChangeText:A,editable:!!ge,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"C\xf3digo de Identificaci\xf3n Fiscal (CIF)"}),(0,w.jsx)(D,{style:p.textImputModal,value:F,onChangeText:W,cursorColor:x.azul_Oscuro,editable:!!ge,placeholder:"C\xf3digo de Identificaci\xf3n Fiscal"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:P,onChangeText:M,editable:!!ge,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(D,{style:p.textImputModal,value:U,onChangeText:V,cursorColor:x.azul_Oscuro,editable:!!ge,placeholder:"Detalles Bancarios"})]})]}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ge,value:$,onChangeText:L,placeholder:"Nota"}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del cliente",multiline:!0,editable:!!ge,numberOfLines:5,value:B,onChangeText:N,scrollEnabled:!0}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[ge&&C?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Z(!0),oe(!1),ie(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos cliente ${O}?`)},disabled:le,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Cliente"})}),he&&C?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Z(!0),ie(`\xbfEst\xe1s seguro que deseas ELIMINAR al cliente ${O}?`),oe(!0),S({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},disabled:le,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Cliente"})}),ce&&""===C?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Ye(),disabled:le,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Cliente"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Q,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:re}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ee?Ke():Ge(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Z(!Q),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Z(!Q),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:H,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Y}),ne&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>J?e.replace("Clientes"):q(!H),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:(ce||ge||he)&&(0,w.jsx)(u.default,{onPress:()=>He(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===we&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Cliente"})})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Cliente",value:Oe,onKeyPress:Fe,onChangeText:ze}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"CIF / Carnet Identidad:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"CIF / Carnet Identidad",value:De,onKeyPress:Fe,onChangeText:Pe}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Detalles Bancarios:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Detalles Bancarios",value:Ae,onKeyPress:Fe,onChangeText:$e}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"N\xfamero de Tel\xe9fono",value:Me,onKeyPress:Fe,onChangeText:Ee}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:qe,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Ve(),children:"Buscar"})})]})]}),Le?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(No,{isMobile:r,items:ve,columns:Qe,columnasMyDateTableProveedorModal:Xe,columnasMyDateTableTiendaModal:Je,tiendasByProducto:[],proveedorByProducto:_e})]}),(0,w.jsx)(f.default,{transparent:!0,visible:C?.isAddProveedor??!1,animationType:"fade",onRequestClose:Ne,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ne,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:C?.isModificarProveedor?"Modificar Producto":C?.isAddProductoShowProveedoresTiendas?"Datos del Cliente":"Agregar Cliente"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ge,value:O,onChangeText:z,placeholder:"Nombre del cliente"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:E,onChangeText:A,editable:!!ge,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"C\xf3digo de Identificaci\xf3n Fiscal (CIF)"}),(0,w.jsx)(D,{style:p.textImputModal,value:F,onChangeText:W,cursorColor:x.azul_Oscuro,editable:!!ge,placeholder:"C\xf3digo de Identificaci\xf3n Fiscal"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:P,onChangeText:M,editable:!!ge,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(D,{style:p.textImputModal,value:U,onChangeText:V,cursorColor:x.azul_Oscuro,editable:!!ge,placeholder:"Detalles Bancarios"})]})]}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"})}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ge,value:$,onChangeText:L,placeholder:"Nota"}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del cliente",multiline:!0,editable:!!ge,numberOfLines:5,value:B,onChangeText:N,scrollEnabled:!0}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[ge&&C?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Z(!0),oe(!1),ie(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos cliente ${O}?`)},disabled:le,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Cliente"})}),he&&C?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Z(!0),ie(`\xbfEst\xe1s seguro que deseas ELIMINAR al cliente ${O}?`),oe(!0),S({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},disabled:le,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Cliente"})}),ce&&""===C?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Ye(),disabled:le,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Cliente"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Q,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:re}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ee?Ke():Ge(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Z(!Q),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Z(!Q),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:H,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Y}),ne&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>J?e.replace("Clientes"):q(!H),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const Uo=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=Pt(),{usuario:y,setUsuario:m}=v(),{sortServicios:j,setSortServicios:C}=Nt(),S=r?Vo.containerMovil:Vo.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(20),[T,O]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[A,$]=o.useState(!1),[L,B]=o.useState(!1),[N,F]=o.useState(!1),[W,U]=o.useState(0),[V,H]=o.useState(""),q=["Nombre"],[Y,G]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),K=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState(!1),[se,le]=o.useState("");o.useEffect((()=>{(async()=>{y?.token&&U(await ve(y.token))})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const de=t=>{t>=0&&t*k<e.length&&_(t)},ce=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[Vo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?Vo.headerTextMovil:Vo.headerTextDesktop,children:[t,("Nombre Cliente"===t||"Precio"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Fecha"===t?a="option3":"Nombre Cliente"===t?a="option4":"Precio"===t&&(a="option5"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[ue,he]=o.useState(""),[fe,ge]=o.useState(""),xe=e=>{he(e),P(!z)},pe=e=>{if(ge(e),P(!z),"Modificar"===e){if(p({id_entrada:ue,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?$(!A):"Mover"==e&&B(!L)},ye=async()=>{if(y?.token){if(0==await Se(y.token,ue,y.id_tienda)){return!!await $e(y.token,ue)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[ce(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>K(e.id_Garantia),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[Vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(ne.default.Cell,{style:[Vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.duracion}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:parseFloat(e.precio).toFixed(4)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*W).toFixed(0)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.cantidad?e.cantidad:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Garantia))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>xe(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(re||ae)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>xe(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[ue,fe]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await ye();if($(!A),e){const e=T.filter((e=>e.id_Cliente!==ue));O(e),H("Producto eliminado con \xe9xito"),F(!0)}else H("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),F(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$(!A),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>$(!A),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:se,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");le(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(At,{columns:q,items:Y})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Servicios"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Vo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Vo.paginationButtonMovil,0===I&&Vo.disabledButton],onPress:()=>de(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Vo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Vo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Vo.paginationButtonMovil,(I+1)*k>=e.length&&Vo.disabledButton],onPress:()=>de(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Vo.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[ce(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>K(e.id_Garantia),children:[(0,w.jsx)(ne.default.Cell,{style:Vo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(ne.default.Cell,{style:Vo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.duracion}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:parseFloat(e.precio).toFixed(4)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*W).toFixed(0)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.cantidad?e.cantidad:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Vo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Garantia))),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Vo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Vo.paginationButtonDesktop,0===I&&Vo.disabledButton],onPress:()=>de(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Vo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Vo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Vo.paginationButtonDesktop,(I+1)*k>=e.length&&Vo.disabledButton],onPress:()=>de(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Vo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Vo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Ho(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),[k,R]=(0,o.useState)(1e3),[T,O]=(0,o.useState)(1e3),[z,P]=(0,o.useState)(1e3),[M,E]=(0,o.useState)(1e3),[A,$]=(0,o.useState)(1e3),L=e=>{"FechaDetails"===e?(g(2e3),j(1500)):"TiendaDetails"===e||"TipoServicioDetails"===e?(j(2e3),g(1500),_(1500),S(2e3),R(1500)):"ProductoDetails"===e?(j(1500),g(1500),_(2e3),S(1500),R(1500)):"ClienteDetails"===e&&(R(2e3),j(1500),g(1500),_(1500),S(1500)),"FechaDesdeSearsh"===e?(O(2e3),P(1500),$(1500),E(1500)):"FechaHastaSearsh"===e?(O(1500),P(2e3),$(1500),E(1500)):"TipoServicioSearsh"===e?(O(1500),P(1500),$(1500),E(2e3)):"TiendaSearsh"===e&&(O(1500),P(1500),$(2e3),E(1500))},{usuario:B,setUsuario:N}=v(),{modalEntradasDates:F,setModalEntradasDates:W}=Pt(),{sortServicios:U,setSortServicios:V}=Nt(),[H,q]=(0,o.useState)(!1),Y=(0,o.useRef)(new c.default.Value(0)).current,[G,K]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)(0)),[J,X]=(0,o.useState)(""),[Q,Z]=(0,o.useState)(!1),[ee,oe]=(0,o.useState)(""),[re,ne]=(0,o.useState)(""),[se,le]=(0,o.useState)(""),[de,ce]=(0,o.useState)(""),[ue,he]=(0,o.useState)(""),[fe,ge]=(0,o.useState)(""),[ye,we]=(0,o.useState)("1"),[me,je]=(0,o.useState)("0"),[be,Ce]=(0,o.useState)("0"),[Se,Ie]=(0,o.useState)(""),[_e,ke]=(0,o.useState)("sin Devolver"),[Re,ze]=(0,o.useState)(""),[De,Pe]=(0,o.useState)(""),[Me,Ee]=(0,o.useState)(""),[Ae,$e]=(0,o.useState)(""),[Le,Be]=(0,o.useState)(""),[Ne,Fe]=(0,o.useState)(""),[We,Ue]=(0,o.useState)(""),[Ve,He]=(0,o.useState)(""),[qe,Ye]=(0,o.useState)(""),[Ge,Ke]=(0,o.useState)(""),[Je,Xe]=(0,o.useState)(""),[Qe,Ze]=(0,o.useState)(""),[et,tt]=(0,o.useState)("sin Devolver"),[at,ot]=(0,o.useState)(!1),[rt,it]=(0,o.useState)(""),[nt,st]=(0,o.useState)(""),[lt,dt]=(0,o.useState)(""),[ct,ut]=(0,o.useState)(!1),[ht,ft]=o.useState(!1),[gt,xt]=o.useState(""),[yt,wt]=o.useState(!1),[mt,jt]=(0,o.useState)(!1),[bt,Ct]=(0,o.useState)(!1),[St,vt]=(0,o.useState)(!1),[It,kt]=(0,o.useState)(""),[Rt,Tt]=o.useState(!1),[Ot,zt]=(0,o.useState)(!1),[Dt,Et]=(0,o.useState)(null),[At,$t]=(0,o.useState)([]),Lt=()=>{H?c.default.timing(Y,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>q(!1))):(q(!0),c.default.timing(Y,{toValue:400,duration:300,useNativeDriver:!1}).start())},Bt={height:Y},[Ft,Wt]=(0,o.useState)([]),[Ut,Vt]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Ht,qt]=(0,o.useState)([]),[Yt,Jt]=(0,o.useState)(String),[Xt,Qt]=(0,o.useState)([]),[Zt,ea]=(0,o.useState)([]),aa=new Date,oa=String(aa.getFullYear()),ra=String(aa.getMonth()+1).padStart(2,"0"),ia=String(aa.getDate()).padStart(2,"0"),[na,sa]=(0,o.useState)(""),[la,da]=(0,o.useState)(""),[ua,fa]=(0,o.useState)(""),[ga,pa]=(0,o.useState)(""),[ja,ba]=(0,o.useState)(""),[Ca,Sa]=(0,o.useState)(""),[va,Ia]=(0,o.useState)(""),[_a,ka]=(0,o.useState)(""),[Ra,Ta]=(0,o.useState)("1"),[Oa,za]=(0,o.useState)("1"),[Da,Pa]=(0,o.useState)("2024"),[Ma,Ea]=(0,o.useState)(String(parseInt(ia))),[Aa,$a]=(0,o.useState)(String(parseInt(ra))),[La,Ba]=(0,o.useState)(String(parseInt(oa))),[Na,Fa]=(0,o.useState)(""),Wa=[{label:"D\xeda",value:"dia"},{label:"Semana",value:"semana"},{label:"Mes",value:"mes"}],Ua=e=>{Fa(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i="";if("dia"===e)i=`${a}-${o}-${r}`;else if("semana"===e){const e=new Date(t);e.setDate(t.getDate()-6);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("mes"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setMonth(t.getMonth()-1);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}Ka(i,`${a}-${o}-${r}`)},[Va,Ha]=(0,o.useState)(!1),qa=()=>{le(""),Ie(""),we(""),he(""),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(Z(!1),B?.token&&F?.id_entrada){ot(!1);const e=await xa(B.token,F.id_entrada);if(e){const[t,a,o]=e.servicio.fecha.split("T")[0].split("-");if(oe(e.servicio.id_servicio),ne(e.id_garantia),le(e.servicio.cliente.id_cliente),he(e.servicio.tipo_servicio.id_tipo_servicio),Pe(e.servicio.nota),Ee(e.servicio.descripcion),ke(e.servicio.devuelto?"devolver":"sin devolver"),Ue(e.duracion),tt(e.servicio.devuelto?"devolver":"sin devolver"),2===parseInt(e.servicio.tipo_servicio.id_tipo_servicio)||4===parseInt(e.servicio.tipo_servicio.id_tipo_servicio)||25===parseInt(e.servicio.tipo_servicio.id_tipo_servicio)){const t=await ca(B.token,e.servicio.id_servicio);if(t){const a=await pt(B?.token,t.producto.id_producto),o=await Te(B.token,t.producto.id_producto);ut(!0),Jt(t.producto.nombre),ge(t.producto.id_producto),we(t.cantidad),ce(e.servicio.tienda.id_tienda),Ie(e.servicio.precio),ze(String(parseFloat(e.servicio.precio)*G)),Ce(_t(a,o))}else ut(!0),ge(""),we(""),ce(""),Ie(""),ze(""),Ce("")}else ut(!1),Ie(e.servicio.precio),ze(String(parseInt(e.servicio.precio)*G)),Ce(e.servicio.costo);$e(String(parseInt(o))),Be(String(parseInt(a))),Fe(String(parseInt(t))),ot(!0)}}Z(!0)})()}),[F]),(0,o.useEffect)((()=>{"PrecioCUP"===Ve?(Ie(parseFloat(Se).toFixed(4)),He("")):"PrecioUSD"===Ve?(ze(parseFloat(Re).toFixed(0)),He("")):"CostoCUP"===Ve?(Ce(parseFloat(be).toFixed(4)),He("")):"CostoUSD"===Ve&&(je(parseFloat(me).toFixed(0)),He("")),He("")}),[Ve]),(0,o.useEffect)((()=>{if(Q)if(""!==fe&&fe!==J&&B?.token){X(fe);(async()=>{const e=await pt(B?.token,fe),t=await Oe(B.token,fe),a=await Te(B.token,fe);Ce(_t(e,a)),Ie(t.precio??0),ze(String(parseFloat(t.precio)*G)??0)})()}else X(fe)}),[fe]),(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{Z(!1),await(async()=>{if(B?.token){const e=await xe(B.token,"33",B.id_usuario);K(await ve(B.token)),Tt(e)}})(),await(async()=>{if(void 0!=B?.token){const e=await Kt(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_tipo_servicio}))));ea([{label:"Todos los tipos de servicios",value:""},...t])}}})(),await(async()=>{if(void 0!=B?.token){const e=await ta(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_cliente}))));qt(t)}}})(),await(async()=>{if(void 0!=B?.token){const e=await pe(B.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Qt([{label:"Todas las tiendas",value:""},...t])}}})()})(),()=>{})),[]));const[Ya,Ga]=(0,o.useState)(!1),Ka=async(e,t)=>{Ha(!0);try{if(B?.token){let a=await(async(e,t)=>{if(B?.token)try{const a=await ma(B.token,na,_a,va,la,e,t,ga);if(a)return await Promise.all(a.map((async e=>({id_Servicio:e.servicio.id_servicio,id_Cliente:e.servicio.cliente.id_cliente,id_Tienda:e.servicio.tienda.id_tienda,id_Tipo_servicio:"",id_Deuda:"",id_Garantia:e.id_garantia,fecha:e.servicio.fecha,precio:e.servicio.precio,nota:e.servicio.nota,descripcion:e.servicio.descripcion,nombreCliente:e.servicio.cliente.nombre,nombreTienda:e.servicio.tienda.nombre,nombreTipoServicio:"",nombreProducto:e.servicio.venta?e.servicio.venta.producto.nombre:"",cantidad:e.servicio.venta?e.servicio.venta.cantidad:"",devuelto:e.servicio.devuelto,duracion:e.duracion}))))}catch(a){return console.error("Error al filtrar los proveedoress:",a),null}return null})(e,t)||[];Ga(!Ya),a=U?.criterioOrden&&U.tipoOrden?await Gt(B.token,a,U.criterioOrden,Ya):await Gt(B.token,a,"option3",Ya),Wt(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{Ha(!1)}};(0,o.useEffect)((()=>{Ka(`${Da}-${Oa}-${Ra}`,`${La}-${Aa}-${Ma}`)}),[U,Dt]),(0,o.useEffect)((()=>{Fa("")}),[Ra,Oa,Da,Ma,Aa,La]);const Ja=e=>{"Enter"===e.nativeEvent.key&&Ka(`${Da}-${Oa}-${Ra}`,`${La}-${Aa}-${Ma}`)},Xa=()=>{sa(""),Et(""),pa(""),fa(""),ba(""),Sa(""),Fa("")},Qa=async()=>{if(jt(!1),xt("Modificando garant\xeda. Espere por favor"),ft(!0),B?.token){let e=!0,t="ERROR AL MODIFICAR EL GARANT\xcdA. Compruebe los siguientes campos:\n";""===We&&(e=!1,t+="-Defina la duraci\xf3n de la garant\xeda.\n"),e?(await ya(B.token,We,ee,re),jt(!0),xt("La garant\xeda se modific\xf3 con \xe9xito"),ft(!0),wt(!0)):(jt(!0),xt(t),ft(!0))}},Za=async()=>{if(jt(!1),xt("Eliminando servicio. Espere por favor"),ft(!0),B?.token){let e="ERROR AL ELIMINAR SERVICIO. Compruebe los siguientes par\xe1metros:\n";!0?(await wa(B.token,re),jt(!0),xt("La garant\xeda se elimin\xf3 con \xe9xito"),ft(!0),wt(!0),Ue(""),le(""),Ie(""),ze(""),we(""),Ce(""),he(""),we(""),Pe(""),Ee(""),W({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1})):(jt(!0),xt(e),ft(!0))}},eo=["Nombre","Cantidad"],to=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],ao=["Cliente","Tienda","Duraci\xf3n","USD","CUP","Producto","Cantidad","Fecha"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Lt,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[Va?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Uo,{isMobile:r,items:Ft,columns:ao,columnasMyDateTableEntradaModal:to,columnasMyDateTableTiendaModal:eo,tiendasByProducto:At,proveedorByProducto:Ut}),H&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Bt],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:la,onKeyPress:Ja,onChangeText:da}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:na,onKeyPress:Ja,onChangeText:sa}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:A,position:"relative"},children:(0,w.jsx)(ie,{value:ga,placeholder:"Seleccione un tienda",setValue:pa,items:Xt,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaSearsh")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Duraci\xf3n en Dias"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:va,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ia(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:_a,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ka(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Wa.map((e=>(0,w.jsx)(ha,{label:e.label,selected:Na===e.value,onPress:()=>Ua(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:T},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(Mt,{dayValue:Ra,monthValue:Oa,yearValue:Da,onDayChange:Ta,onMonthChange:za,onYearChange:Pa,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:z},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(Mt,{dayValue:Ma,monthValue:Aa,yearValue:La,onDayChange:Ea,onMonthChange:$a,onYearChange:Ba,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Xa,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Ka(`${Da}-${Oa}-${Ra}`,`${La}-${Aa}-${Ma}`),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:F?.isAddEntrada??!1,animationType:"fade",onRequestClose:qa,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:qa,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===F?.id_entrada?"Crear Servicio":"Datos del Servicio"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Ht.find((e=>e.value===se))?.label||"Cliente no encontrado"})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Xt.find((e=>e.value===de))?.label||"Tienda no encontrado"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Zt.find((e=>e.value===ue))?.label||"Tipo de Servicio no encontrado"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:100},children:(0,w.jsxs)(n.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Duraci\xf3n en d\xedas:"}),(0,w.jsx)(D,{style:p.textImputModal,value:We,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ue(t)},cursorColor:x.azul_Oscuro,editable:Rt,placeholder:"Duracion En d\xedas"})]})}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C}})]}),ct&&(0,w.jsx)(n.default,{style:p.separatorNegro}),ct&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),ct&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Yt})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[ct&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:ye})]}),ct&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ct?"Costo promedio del producto en USD":"Costo del servicio en USD"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:be})]}),!ct&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:be})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ct?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Se})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ct?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:parseFloat(Se)*G})]})]}),ct&&(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsxs)(n.default,{style:{width:"100%",marginLeft:"2%",paddingHorizontal:10,zIndex:i},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),at&&(0,w.jsx)(Mt,{dayValue:Ae,monthValue:Le,yearValue:Ne,onDayChange:$e,onMonthChange:Be,onYearChange:Fe,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!0})]}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:(0,w.jsxs)(n.default,{style:{width:"100%",marginLeft:"2%",marginTop:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:De})]})}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(s.default,{style:p.textDescroptionLabelAsInput,children:Me}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Rt&&""!==F?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"35%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{vt(!0),Ct(!1),kt("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta garant\xeda?")},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Garant\xeda"})}),Rt&&""!==F?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"35%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{vt(!0),Ct(!0),kt("\xbfEst\xe1s seguro que deseas ELIMINAR esta garant\xeda?"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Garant\xeda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:St,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:It}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>bt?Za():Qa(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>vt(!St),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>vt(!St),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ht,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:gt}),mt&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>yt?e.replace("Garant\xedas"):ft(!ht),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"}}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:la,onKeyPress:Ja,onChangeText:da}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:na,onKeyPress:Ja,onChangeText:sa}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:A,position:"relative"},children:(0,w.jsx)(ie,{value:ga,placeholder:"Seleccione un tienda",setValue:pa,items:Xt,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaSearsh")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Duraci\xf3n en Dias"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:va,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ia(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:_a,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ka(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Wa.map((e=>(0,w.jsx)(ha,{label:e.label,selected:Na===e.value,onPress:()=>Ua(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:T},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(Mt,{dayValue:Ra,monthValue:Oa,yearValue:Da,onDayChange:Ta,onMonthChange:za,onYearChange:Pa,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:z},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(Mt,{dayValue:Ma,monthValue:Aa,yearValue:La,onDayChange:Ea,onMonthChange:$a,onYearChange:Ba,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Xa,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Ka(`${Da}-${Oa}-${Ra}`,`${La}-${Aa}-${Ma}`),children:"Buscar"})})]})]}),Va?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Uo,{isMobile:r,items:Ft,columns:ao,columnasMyDateTableEntradaModal:to,columnasMyDateTableTiendaModal:eo,tiendasByProducto:At,proveedorByProducto:Ut})]}),(0,w.jsx)(f.default,{transparent:!0,visible:F?.isAddEntrada??!1,animationType:"fade",onRequestClose:qa,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:qa,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===F?.id_entrada?"Crear Garant\xeda":"Datos del Garant\xeda"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Ht.find((e=>e.value===se))?.label||"Cliente no encontrado"})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Xt.find((e=>e.value===de))?.label||"Tienda no encontrado"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Zt.find((e=>e.value===ue))?.label||"Tipo de Servicio no encontrado"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:100},children:(0,w.jsxs)(n.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Duraci\xf3n en d\xedas:"}),(0,w.jsx)(D,{style:p.textImputModal,value:We,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ue(t)},cursorColor:x.azul_Oscuro,editable:Rt,placeholder:"Duracion En d\xedas"})]})}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C}})]}),ct&&(0,w.jsx)(n.default,{style:p.separatorNegro}),ct&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),ct&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Yt})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[ct&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:ye})]}),ct&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ct?"Costo promedio del producto en USD":"Costo del servicio en USD"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:be})]}),!ct&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:be})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ct?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Se})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ct?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:parseFloat(Se)*G})]})]}),ct&&(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),at&&(0,w.jsx)(Mt,{dayValue:Ae,monthValue:Le,yearValue:Ne,onDayChange:$e,onMonthChange:Be,onYearChange:Fe,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!0})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"3%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:De})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(s.default,{style:p.textDescroptionLabelAsInput,children:Me}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Rt&&""!==F?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{vt(!0),Ct(!1),kt("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta garant\xeda?")},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Garant\xeda"})}),Rt&&""!==F?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{vt(!0),Ct(!0),kt("\xbfEst\xe1s seguro que deseas ELIMINAR esta garant\xeda?"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Garant\xeda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:St,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:It}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>bt?Za():Qa(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>vt(!St),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>vt(!St),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ht,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:gt}),mt&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>yt?e.replace("Garant\xedas"):ft(!ht),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const qo=({items:e,columns:t,isMobile:r})=>{const i=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=Pt(),{usuario:y,setUsuario:m}=v(),{sortServicios:j,setSortServicios:C}=Nt(),S=r?Yo.containerMovil:Yo.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(20),[T,O]=o.useState([]),[z,P]=o.useState(!1),[M,E]=o.useState(!1),[A,$]=o.useState(!1),[L,B]=o.useState(!1),[N,F]=o.useState(!1),[W,U]=o.useState(0),[V,H]=o.useState(""),q=["Nombre"],[Y,G]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),K=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ie]=o.useState(!1),[se,le]=o.useState("");o.useEffect((()=>{(async()=>{y?.token&&U(await ve(y.token))})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const de=t=>{t>=0&&t*k<e.length&&_(t)},ce=(e,t)=>{let o=0;return e?(e.forEach((e=>{o+=parseFloat(e.pagada)})),parseFloat(t)===o?(0,w.jsx)(l.default,{source:a(5542),style:{width:20,height:20}}):(0,w.jsx)(l.default,{source:a(9139),style:{width:20,height:20}})):(0,w.jsx)(l.default,{source:a(9139),style:{width:20,height:20}})},ue=()=>(0,w.jsx)(ne.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(ne.default.Title,{style:[Yo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?Yo.headerTextMovil:Yo.headerTextDesktop,children:[t,"Fecha"===t&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Fecha"===t?a="option3":"Nombre Cliente"===t?a="option4":"Precio"===t&&(a="option5"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[he,fe]=o.useState(""),[ge,xe]=o.useState(""),pe=e=>{fe(e),P(!z)},ye=e=>{if(xe(e),P(!z),"Modificar"===e){if(p({id_entrada:he,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?$(!A):"Mover"==e&&B(!L)},we=async()=>{if(y?.token){if(0==await Se(y.token,he,y.id_tienda)){return!!await $e(y.token,he)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(n.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(ne.default,{style:{width:"150%"},children:[ue(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>K(e.id_Deuda),style:{justifyContent:"space-around"},children:[(0,w.jsx)(ne.default.Cell,{style:[Yo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(ne.default.Cell,{style:[Yo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Yo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:parseFloat(e.precio).toFixed(4)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Yo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*W).toFixed(0)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Yo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Yo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.cantidad?e.cantidad:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Yo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.total_pagado})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Yo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:ce(e.pagos_deuda,e.deuda)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Yo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Deuda))),(0,w.jsx)(f.default,{transparent:!0,visible:z,animationType:"fade",onRequestClose:()=>pe(""),children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ye("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ye("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(re||ae)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ye("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>pe(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[he,ge]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await we();if($(!A),e){const e=T.filter((e=>e.id_Cliente!==he));O(e),H("Producto eliminado con \xe9xito"),F(!0)}else H("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),F(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$(!A),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>$(!A),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:se,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");le(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(At,{columns:q,items:Y})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Servicios"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Yo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Yo.paginationButtonMovil,0===I&&Yo.disabledButton],onPress:()=>de(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Yo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Yo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Yo.paginationButtonMovil,(I+1)*k>=e.length&&Yo.disabledButton],onPress:()=>de(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Yo.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(n.default,{style:S,children:(0,w.jsxs)(ne.default,{children:[ue(),T.map((e=>(0,w.jsxs)(ne.default.Row,{onPress:()=>K(e.id_Deuda),children:[(0,w.jsx)(ne.default.Cell,{style:Yo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(ne.default.Cell,{style:Yo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Yo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:parseFloat(e.precio).toFixed(4)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Yo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*W).toFixed(0)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Yo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Yo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.cantidad?e.cantidad:""})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Yo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.total_pagado})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Yo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:ce(e.pagos_deuda,e.deuda)})}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:[Yo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Deuda))),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>i.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(n.default,{style:Yo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Yo.paginationButtonDesktop,0===I&&Yo.disabledButton],onPress:()=>de(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Yo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Yo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Yo.paginationButtonDesktop,(I+1)*k>=e.length&&Yo.disabledButton],onPress:()=>de(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Yo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Yo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),Go=({items:e,columns:t,onButtonPress:a})=>{const[r]=o.useState(new c.default.Value(1)),[i,l]=o.useState(0),[d,h]=o.useState(5),[f,g]=o.useState([]);o.useEffect((()=>{const t=i*d,a=Math.min((i+1)*d,e.length);g(e.slice(t,a))}),[i,e,d]);const x=t=>{t>=0&&t*d<e.length&&l(t)};return(0,w.jsx)(n.default,{style:Ko.containerDesktop,children:(0,w.jsxs)(ne.default,{style:{width:"100%"},children:[(0,w.jsxs)(ne.default.Header,{style:{justifyContent:"space-between"},children:[t.map(((e,t)=>(0,w.jsx)(ne.default.Title,{style:[Ko.headerColumn,{flex:1}],numeric:t>1,children:(0,w.jsx)(s.default,{style:Ko.headerTextDesktop,children:e})},t))),(0,w.jsx)(ne.default.Title,{style:Ko.headerColumn,children:(0,w.jsx)(s.default,{style:Ko.headerTextDesktop,children:"Acci\xf3n"})})]}),f.map((e=>(0,w.jsxs)(ne.default.Row,{children:[(0,w.jsx)(ne.default.Cell,{numeric:!0,style:Ko.handerRow,children:e.pagada}),(0,w.jsx)(ne.default.Cell,{numeric:!0,style:Ko.handerRow,children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})}),(0,w.jsx)(ne.default.Cell,{style:Ko.actionColumn,children:(0,w.jsx)(u.default,{style:Ko.actionButton,onPress:()=>a(e),children:(0,w.jsx)(s.default,{style:Ko.actionButtonText,children:"Eliminar"})})})]},e.id_pago_deuda))),(0,w.jsxs)(n.default,{style:Ko.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ko.paginationButtonMovil,0===i&&Ko.disabledButton],onPress:()=>x(i-1),disabled:0===i,children:(0,w.jsx)(s.default,{style:Ko.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ko.paginationLabel,children:`${i*d+1}-${Math.min((i+1)*d,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Ko.paginationButtonMovil,(i+1)*d>=e.length&&Ko.disabledButton],onPress:()=>x(i+1),disabled:(i+1)*d>=e.length,children:(0,w.jsx)(s.default,{style:Ko.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Ko=g.default.create({containerDesktop:{flex:1,padding:10,justifyContent:"center",alignItems:"center",width:"100%",marginTop:"2%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold"},actionColumn:{justifyContent:"center",alignItems:"center"},actionButton:{backgroundColor:x.rojo_oscuro,borderRadius:10,paddingVertical:5,paddingHorizontal:10},actionButtonText:{color:x.blanco,fontWeight:"bold",fontSize:14},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center"},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Jo(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[i,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),[k,R]=(0,o.useState)(1e3),[T,O]=(0,o.useState)(1e3),[z,P]=(0,o.useState)(1e3),[M,E]=(0,o.useState)(1e3),[A,$]=(0,o.useState)(1e3),L=e=>{"FechaDetails"===e?(g(2e3),j(1500)):"TiendaDetails"===e||"TipoServicioDetails"===e?(j(2e3),g(1500),_(1500),S(2e3),R(1500)):"ProductoDetails"===e?(j(1500),g(1500),_(2e3),S(1500),R(1500)):"ClienteDetails"===e&&(R(2e3),j(1500),g(1500),_(1500),S(1500)),"FechaDesdeSearsh"===e?(O(2e3),P(1500),$(1500),E(1500)):"FechaHastaSearsh"===e?(O(1500),P(2e3),$(1500),E(1500)):"TipoServicioSearsh"===e?(O(1500),P(1500),$(1500),E(2e3)):"TiendaSearsh"===e&&(O(1500),P(1500),$(2e3),E(1500))},{usuario:B,setUsuario:N}=v(),{modalEntradasDates:F,setModalEntradasDates:W}=Pt(),{sortServicios:U,setSortServicios:V}=Nt(),[H,q]=(0,o.useState)(!1),Y=(0,o.useRef)(new c.default.Value(0)).current,[K,J]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)(0)),[X,Q]=(0,o.useState)(""),[Z,ee]=(0,o.useState)(!1),[oe,re]=(0,o.useState)(""),[ne,se]=(0,o.useState)(""),[le,de]=(0,o.useState)(""),[ce,ue]=(0,o.useState)(""),[he,fe]=(0,o.useState)(""),[ge,ye]=(0,o.useState)(""),[me,je]=(0,o.useState)("1"),[be,Ce]=(0,o.useState)("0"),[Ie,_e]=(0,o.useState)("0"),[ke,ze]=(0,o.useState)(""),[De,Pe]=(0,o.useState)("sin Devolver"),[Me,Ee]=(0,o.useState)(""),[Ae,$e]=(0,o.useState)(""),[Le,Be]=(0,o.useState)(""),[Ne,Fe]=(0,o.useState)(""),[We,Ue]=(0,o.useState)(""),[Ve,He]=(0,o.useState)(""),[qe,Ye]=(0,o.useState)(""),[Ge,Ke]=(0,o.useState)(""),[Je,Xe]=(0,o.useState)(""),[Qe,Ze]=(0,o.useState)(""),[et,tt]=(0,o.useState)(!1),[at,ot]=(0,o.useState)(!1),[rt,it]=(0,o.useState)(""),[nt,st]=(0,o.useState)(""),[lt,dt]=(0,o.useState)(""),[ct,ut]=(0,o.useState)([]),[ht,ft]=(0,o.useState)(""),[gt,xt]=(0,o.useState)(""),[yt,wt]=(0,o.useState)(""),[mt,jt]=(0,o.useState)(""),[bt,Ct]=(0,o.useState)(""),[St,vt]=(0,o.useState)(""),[It,kt]=(0,o.useState)("sin Devolver"),[Rt,Tt]=(0,o.useState)(!1),[zt,Dt]=(0,o.useState)(""),[Et,At]=(0,o.useState)(""),[$t,Lt]=(0,o.useState)(""),[Bt,Ft]=(0,o.useState)(!1),[Wt,Ut]=(0,o.useState)(!1),[Vt,qt]=o.useState(!1),[Yt,Jt]=o.useState(!1),[Xt,Qt]=o.useState(""),[Zt,ea]=o.useState(""),[aa,oa]=o.useState(""),[ra,ia]=o.useState(""),[na,sa]=o.useState(!1),[ua,fa]=(0,o.useState)(!1),[xa,ma]=(0,o.useState)(!1),[va,Ta]=(0,o.useState)(!1),[Oa,za]=(0,o.useState)(""),[Da,Pa]=o.useState(!1),[Ma,Ea]=o.useState(!1),[Aa,$a]=o.useState(!1),[La,Ba]=o.useState(!1),[Na,Fa]=o.useState(!1),[Wa,Ua]=(0,o.useState)(!1),[Va,Ha]=(0,o.useState)(null),[qa,Ya]=(0,o.useState)([]),Ga=()=>{H?c.default.timing(Y,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>q(!1))):(q(!0),c.default.timing(Y,{toValue:400,duration:300,useNativeDriver:!1}).start())},Ka={height:Y},[Ja,Xa]=(0,o.useState)([]),[Qa,Za]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[eo,to]=(0,o.useState)([]),[ao,oo]=(0,o.useState)([]),[ro,io]=(0,o.useState)([]),[no,so]=(0,o.useState)([]),lo=new Date,co=String(lo.getFullYear()),uo=String(lo.getMonth()+1).padStart(2,"0"),ho=String(lo.getDate()).padStart(2,"0"),[fo,go]=(0,o.useState)(""),[xo,po]=(0,o.useState)(""),[yo,wo]=(0,o.useState)(""),[mo,jo]=(0,o.useState)(""),[bo,Co]=(0,o.useState)(!0),[So,vo]=(0,o.useState)(""),[Io,_o]=(0,o.useState)(""),[ko,Ro]=(0,o.useState)("1"),[To,Oo]=(0,o.useState)("1"),[zo,Do]=(0,o.useState)("2024"),[Po,Mo]=(0,o.useState)(String(parseInt(ho))),[Eo,Ao]=(0,o.useState)(String(parseInt(uo))),[$o,Lo]=(0,o.useState)(String(parseInt(co))),[Bo,No]=(0,o.useState)(""),[Fo,Wo]=(0,o.useState)("ninguna"),Uo=[{label:"D\xeda",value:"dia"},{label:"Semana",value:"semana"},{label:"Mes",value:"mes"}],Vo=[{label:"Ninguna",value:"ninguna"},{label:"Saldada",value:"saldada"},{label:"Sin Saldar",value:"sin_saldar"}],Ho=e=>{No(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i="";if("dia"===e)i=`${a}-${o}-${r}`;else if("semana"===e){const e=new Date(t);e.setDate(t.getDate()-6);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("mes"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setMonth(t.getMonth()-1);i=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}Zo(i,`${a}-${o}-${r}`)},[Yo,Ko]=(0,o.useState)(!1),Jo=()=>{de(""),ze(""),je(""),fe(""),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(ee(!1),B?.token&&F?.id_entrada){Tt(!1);const e=await Sa(B.token,F.id_entrada);if(e){const[t,a,o]=e.deuda.servicio.fecha.split("T")[0].split("-");if(re(e.deuda.id_deuda),oa(e.cantidad_restante),ea(e.total_pagado),se(e.deuda.servicio.id_servicio),de(e.deuda.servicio.cliente.id_cliente),fe(e.deuda.servicio.tipo_servicio.id_tipo_servicio),$e(e.deuda.servicio.nota),Be(e.deuda.servicio.descripcion),Pe(e.deuda.servicio.devuelto?"devolver":"sin devolver"),tt(null!==e.deuda.servicio.garantia),vt(e.deuda.servicio.tipo_servicio.id_tipo_servicio),ut(e.deuda.pagos_deuda),2===parseInt(e.deuda.servicio.tipo_servicio.id_tipo_servicio)||4===parseInt(e.deuda.servicio.tipo_servicio.id_tipo_servicio)){const t=await ca(B.token,ne);if(t){const a=await pt(B?.token,t.producto.id_producto),o=await Te(B.token,t.producto.id_producto);Ft(!0),ye(t.producto.id_producto),je(t.cantidad),ue(e.deuda.servicio.tienda.id_tienda),ze(e.deuda.servicio.precio),Ee(String(parseFloat(e.deuda.servicio.precio)*K)),_e(_t(a,o))}else Ft(!0),ye(""),je(""),ue(""),ze(""),Ee(""),_e("")}else Ft(!1),ze(e.deuda.servicio.precio),Ee(String(parseInt(e.deuda.servicio.precio)*K)),_e(e.deuda.servicio.costo);Fe(String(parseInt(o))),Ue(String(parseInt(a))),He(String(parseInt(t))),Ye(String(parseInt(o))),Ke(String(parseInt(a))),Xe(String(parseInt(t))),Tt(!0)}}ee(!0)})()}),[F]),(0,o.useEffect)((()=>{26===parseInt(he)?Ut(!0):Ut(!1),(async()=>{if(B?.token){const e=await Sa(B.token,F.id_entrada);if(2===parseInt(he)||4===parseInt(he)||25===parseInt(he)){const t=await ca(B.token,ne);if(Ft(!0),t){const a=await pt(B?.token,t.producto.id_producto),o=await Te(B.token,t.producto.id_producto);jt(t.producto.id_producto),Ct(t.cantidad),wt(e.deuda.servicio.tienda.id_tienda),ye(t.producto.id_producto),Q(t.producto.id_producto),je(t.cantidad),ue(e.deuda.servicio.tienda.id_tienda),ze(e.deuda.servicio.precio),Ee(String(parseFloat(e.deuda.servicio.precio)*K)),_e(_t(a,o))}else Ft(!0),ye(""),je(""),ze(""),Ee(""),_e("")}else Ft(!1),ze(e.deuda.servicio.precio),Ee(String(parseInt(e.deuda.servicio.precio)*K)),_e(e.deuda.servicio.costo)}})()}),[he]),(0,o.useEffect)((()=>{"PrecioCUP"===gt?(ze(parseFloat(ke).toFixed(4)),xt("")):"PrecioUSD"===gt?(Ee(parseFloat(Me).toFixed(0)),xt("")):"CostoCUP"===gt?(_e(parseFloat(Ie).toFixed(4)),xt("")):"CostoUSD"===gt&&(Ce(parseFloat(be).toFixed(0)),xt("")),xt("")}),[gt]),(0,o.useEffect)((()=>{(async()=>{if(B?.token){const e=await Re(B.token,ce);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));oo(t)}}})()}),[ce]),(0,o.useEffect)((()=>{if(Z)if(""!==ge&&ge!==X&&B?.token){Q(ge);(async()=>{const e=await pt(B?.token,ge),t=await Oe(B.token,ge),a=await Te(B.token,ge);_e(_t(e,a)),ze(t.precio??0),Ee(String(parseFloat(t.precio)*K)??0)})()}else Q(ge)}),[ge]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{ee(!1),await(async()=>{if(B?.token){const e=await xe(B.token,"26",B.id_usuario),t=await xe(B.token,"25",B.id_usuario),a=await xe(B.token,"24",B.id_usuario),o=await xe(B.token,"26",B.id_usuario),r=await xe(B.token,"27",B.id_usuario);J(await ve(B.token)),Ba(o),Fa(r),Pa(e),Ea(t),$a(a)}})(),await(async()=>{if(void 0!=B?.token){const e=await Kt(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_tipo_servicio}))));so([{label:"Todos los tipos de servicios",value:""},...t])}}})(),await(async()=>{if(void 0!=B?.token){const e=await ta(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_cliente}))));to(t)}}})(),await(async()=>{if(void 0!=B?.token){const e=await pe(B.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));io([{label:"Todas las tiendas",value:""},...t])}}})(),await(async()=>{if(void 0!=B?.token){const e=await xe(B.token,"27",B.id_usuario),t=await xe(B.token,"26",B.id_usuario);if(e){const e=await Re(B.token,B.id_tienda);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));oo(t)}}else if(t){const e=await Re(B.token,B.id_tienda);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));oo(t)}}}})()})(),()=>{})),[]));const[Xo,Qo]=(0,o.useState)(!1),Zo=async(e,t)=>{Ko(!0);try{if(B?.token){let a=await(async(e,t)=>{if(B?.token){await xe(B.token,"27",B.id_usuario);try{const a=await _a(B.token,xo,fo,So,Io,e,t,mo,yo,"ninguna"===Fo?void 0:"saldada"===Fo);if(a)return await Promise.all(a.map((async e=>({id_Servicio:e.deuda.servicio.id_servicio,id_Cliente:e.deuda.servicio.cliente.id_cliente,id_Tienda:e.deuda.servicio.tienda.id_tienda,id_Tipo_servicio:e.deuda.servicio.tipo_servicio.id_tipo_servicio,id_Deuda:e.deuda.id_deuda,id_Garantia:"",fecha:e.deuda.servicio.fecha,precio:e.deuda.servicio.precio,nota:e.deuda.servicio.nota,descripcion:e.deuda.servicio.descripcion,nombreCliente:e.deuda.servicio.cliente.nombre,nombreTienda:e.deuda.servicio.tienda.nombre,nombreTipoServicio:e.deuda.servicio.tipo_servicio.nombre,nombreProducto:e.deuda.servicio.venta?e.deuda.servicio.venta.producto.nombre:"",cantidad:e.deuda.servicio.venta?e.deuda.servicio.venta.cantidad:"",devuelto:e.deuda.servicio.devuelto,deuda:e.deuda.deuda,pagos_deuda:e.deuda.pagos_deuda,total_pagado:e.total_pagado,cantidad_restante:e.cantidad_restante}))))}catch(a){return console.error("Error al filtrar los proveedoress:",a),null}}return null})(e,t)||[];Qo(!Xo),a=U?.criterioOrden&&U.tipoOrden?await Gt(B.token,a,U.criterioOrden,Xo):await Gt(B.token,a,"option3",Xo),Xa(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{Ko(!1)}};(0,o.useEffect)((()=>{Zo(`${zo}-${To}-${ko}`,`${$o}-${Eo}-${Po}`)}),[U,Va]),(0,o.useEffect)((()=>{No("")}),[ko,To,zo,Po,Eo,$o]);const er=e=>{"Enter"===e.nativeEvent.key&&Zo(`${zo}-${To}-${ko}`,`${$o}-${Eo}-${Po}`)},tr=()=>{go(""),Ha(""),jo(""),wo(""),vo(""),_o(""),No("")},ar=async e=>{B?.token&&(await Ra(B.token,e.id_pago_deuda),ut((t=>t.filter((t=>t.id_pago_deuda!==e.id_pago_deuda)))),qt(!0),ia("Pago de deuda eliminado"),sa(!0),fa(!0))},or=async()=>{if(fa(!1),ia("Agregando Pago de Deuda. Espere por favor"),qt(!0),B?.token){let e="ERROR AL INGRESAR PAGO DE DEUDA. Por favor verifique los siguientes campos:\n";if(!0){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),r=await ka(B.token,Xt,`${t}-${a}-${o}`,oe);ct.push(r);let i=`El usuario ${B.nombre} agreg\xf3 un pago de deuda de una cantidad de ${Xt}`;await G(B.token,i,`${t}-${a}-${o}`,B.id_usuario,8),fa(!0),ia("El Pago de Deuda se agreg\xf3 con \xe9xito"),qt(!0),sa(!0)}else ia(e),fa(!0),qt(!0)}},rr=async()=>{if(fa(!1),ia("Modificando servicio. Espere por favor"),qt(!0),B?.token){let e=0;const t=await Se(B.token,ge,ce);t&&(e=t.cantidad);let a=!0,o="ERROR AL MODIFICAR EL SERVICIO. Compruebe los siguientes campos:\n";if(""===le&&(a=!1,o+="-Seleccione un cliente. Si no hay datos del cliente seleccione anonimo\n"),""===he&&(a=!1,o+="-Seleccione el tipo de servicio que est\xe1 ofreciendo.\n"),""===ce&&(a=!1,o+="-Seleccione una tienda.\n"),et&&""===nt&&(a=!1,o+="-Defina la duraci\xf3n de la garant\xeda.\n"),""===Ie&&(a=!1,o+="-Digite el costo del servicio.\n"),""===ke&&(a=!1,o+="-Defina el precio cobrado al cliente.\n"),et&&""===nt&&(a=!1,o+="-Defina la duraci\xf3n de la garant\xeda.\n"),et&&1===parseInt(le)&&(a=!1,o+="-El ciente An\xf3nimo no puede tener garant\xedas"),26===parseInt(he)){const e=new Date(`${Ve}-${We}-${Ne}`),t=new Date(`${Je}-${Ge}-${qe}`);1===parseInt(le)&&(a=!1,o+="-No se puede hacer un encargo al cliente An\xf3nimo.\n"),t<e&&(a=!1,o+="-La fecha del encargo no puede ser menor que la fecha del servicio.\n")}if(2!==parseInt(he)&&4!==parseInt(he)&&25!==parseInt(he)||(""===ge&&(a=!1,o+="-Seleccione un producto para vender.\n"),""===me&&(a=!1,o+="-Defina la cantidad que desea vender del producto.\n")),e+parseInt(bt)<parseInt(me)&&(a=!1,o+="-La cantidad que desea modificar es mayor que la cantidad que hay en la tienda.\n"),me!==bt&&ge===mt&&ce===yt&&2===parseInt(he)||4===parseInt(he)||25===parseInt(he)?e+parseInt(bt)<parseInt(bt)-parseInt(me)&&(a=!1,o+="-La cantidad que hay en la tienda no es suficiente para modificar la venta del producto.\n"):ge===mt&&ce===yt||e<parseInt(me)&&(a=!1,o+="-La cantidad que hay en la tienda no es suficiente para modificar la venta del producto.\n"),a){await Ht(B.token,ne,`${We}-${Ne}-${Ve}`,ke,Ae,ce,he,"devolver"===De,le,"Not suport yet","not suport yet"),et===at&&nt===lt||(et?""!==rt?await ya(B.token,nt,ne,rt):await pa(B.token,nt,ne):await wa(B.token,rt)),he!==St&&26===parseInt(St)?await Ca(B.token,ht):he!==St&&26===parseInt(he)?await ja(B.token,Qe,`${Je}-${Ge}-${qe}`,ne):he===St&&26===parseInt(he)&&await ba(B.token,Qe,`${Je}-${Ge}-${qe}`,ne,ht),2!==parseInt(St)&&4!==parseInt(St)||2===parseInt(he)||4===parseInt(he)||(await we(B.token,mt,yt,""+-1*parseInt(bt)),await da(B.token,mt,ne)),me!==bt&&ge===mt&&ce===yt?(await we(B.token,ge,ce,""+(parseInt(me)-parseInt(bt))),await la(B.token,ge,ne,me)):he!==St&&2===parseInt(he)||4===parseInt(he)||25===parseInt(he)?(await la(B.token,ge,ne,me),await we(B.token,mt,yt,""+-1*parseInt(bt)),await we(B.token,ge,ce,`${parseInt(me)}`)):ce===yt&&ge===mt||(await la(B.token,ge,ne,me),await we(B.token,mt,yt,""+-1*parseInt(bt)),await we(B.token,ge,ce,`${parseInt(me)}`)),De===It||"devolver"!==De||2!==parseInt(he)&&4!==parseInt(he)&&25!==parseInt(he)?De===It||"sin devolver"!==De||2!==parseInt(he)&&4!==parseInt(he)&&25!==parseInt(he)||await we(B.token,ge,ce,`${parseInt(me)}`):await we(B.token,ge,ce,""+-1*parseInt(me));const e=ro.find((e=>e.value===Et)),t=ao.find((e=>e.value===zt)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let n=`El usuario ${B.nombre} modific\xf3 una entrada de originalmente ${$t} del producto ${t?.label} en la tienda ${e?.label}`;await G(B.token,n,`${o}-${r}-${i}`,B.id_usuario,7),fa(!0),ia("El servicio se modific\xf3 con \xe9xito"),qt(!0),sa(!0),de(""),ze(""),fe(""),je(""),st(""),W({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1})}else fa(!0),ia(o),qt(!0)}},ir=["Cantidad Pagada","Fecha"],nr=["Nombre","Cantidad"],sr=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],lr=["Nombre Cliente","Tienda","Precio USD","Precio CUP","Producto","Cantidad","Cant_Saldada","Saldada","Fecha"];return r?(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsx)(n.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ga,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[Yo?(0,w.jsx)(ae.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(qo,{isMobile:r,items:Ja,columns:lr,columnasMyDateTableEntradaModal:sr,columnasMyDateTableTiendaModal:nr,tiendasByProducto:qa,proveedorByProducto:Qa}),H&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Ka],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:xo,onKeyPress:er,onChangeText:po}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:fo,onKeyPress:er,onChangeText:go}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tipo de Servicio:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:M,position:"relative"},children:(0,w.jsx)(ie,{value:yo,placeholder:"Seleccione un tipo de servicio",setValue:wo,items:no,direction:"BOTTOM",onDropdownOpen:()=>L("TipoServicioSearsh")})}),Na&&(0,w.jsx)(n.default,{style:p.separatorBlanco}),Na&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),Na&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:A,position:"relative"},children:(0,w.jsx)(ie,{value:mo,placeholder:"Seleccione un tienda",setValue:jo,items:ro,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaSearsh")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango del monto de la deuda:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:So,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");vo(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:Io,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");_o(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Uo.map((e=>(0,w.jsx)(ha,{label:e.label,selected:Bo===e.value,onPress:()=>Ho(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:T},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(Mt,{dayValue:ko,monthValue:To,yearValue:zo,onDayChange:Ro,onMonthChange:Oo,onYearChange:Do,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:z},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(Mt,{dayValue:Po,monthValue:Eo,yearValue:$o,onDayChange:Mo,onMonthChange:Ao,onYearChange:Lo,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:tr,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Zo(`${zo}-${To}-${ko}`,`${$o}-${Eo}-${Po}`),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:F?.isAddEntrada??!1,animationType:"fade",onRequestClose:Jo,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(n.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Jo,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===F?.id_entrada?"Crear Servicio":"Datos del Servicio"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(Ot,{value:le,placeholder:"Seleccione un Cliente",setValue:de,items:eo,searchable:!0,readOnly:!(Aa||La),onDropdownOpen:()=>L("ClienteDetails")})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(Ot,{value:ce,placeholder:"Seleccione una tienda",setValue:ue,items:ro,readOnly:!(Na&&""===F?.id_entrada||Na&&Aa),searchable:!0,onDropdownOpen:()=>L("TipoServicioDetails")})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(Ot,{value:he,placeholder:"Seleccione un tipo de servicio",setValue:fe,items:no,readOnly:!(Aa||La),searchable:!0,onDropdownOpen:()=>L("TipoServicioDetails")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:100},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiene Garant\xeda"}),(0,w.jsx)(ga,{onPress:()=>tt(!et),selected:et,label:"Garant\xeda"}),et&&(0,w.jsxs)(n.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Duraci\xf3n en d\xedas:"}),(0,w.jsx)(D,{style:p.textImputModal,value:nt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");st(t)},cursorColor:x.azul_Oscuro,editable:Aa||La,placeholder:"Duracion En d\xedas"})]})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C}})]}),Bt&&(0,w.jsx)(n.default,{style:p.separatorNegro}),Bt&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),Bt&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Ot,{value:ge,placeholder:"Seleccione un produto",setValue:ye,items:ao,searchable:!0,readOnly:!(Aa||La),onDropdownOpen:()=>L("ProductoDetails")})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[Bt&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:me,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");je(t)},editable:Aa||La,placeholder:"Cantidad del producto"})]}),(!Bt||Na)&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Bt?"Costo promedio del producto en USD":"Costo del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,value:Ie,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Ce(""!==a?String((parseFloat(a)*K).toFixed(0)):"0"),_e(a),xt("CostoUSD")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(he)&&4!==parseInt(he)&&25!==parseInt(he)&&(Aa||La),placeholder:"Costo Promedio"})]}),!Bt&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModal,value:be,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;_e(""!==a?String(parseFloat(a)/K):"0"),Ce(a),xt("CostoCUP")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(he)&&4!==parseInt(he)&&25!==parseInt(he)&&(Aa||La),placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Bt?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ke,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Ee(""!==a?String((parseFloat(a)*K).toFixed(0)):"0"),ze(a),xt("PrecioUSD")},editable:Aa||La,placeholder:"Precio por unidad en usd"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Bt?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(D,{style:p.textImputModalNOEDITABLE,value:Me,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;ze(""!==a?String(parseFloat(a)/K):"0"),Ee(a),xt("PrecioCUP")},cursorColor:x.azul_Oscuro,editable:Aa||La,placeholder:"Precio por unidad en cup"})]})]}),Bt&&(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),Rt&&(0,w.jsx)(Mt,{dayValue:Ne,monthValue:We,yearValue:Ve,onDayChange:Fe,onMonthChange:Ue,onYearChange:He,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!(Aa||La)})]})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:[(0,w.jsxs)(n.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(D,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Ae,onChangeText:$e,editable:Aa||La,placeholder:"Nota"})]}),(0,w.jsx)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"}})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(D,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del servicio",multiline:!0,editable:Aa||La,numberOfLines:5,value:Le,onChangeText:Be,scrollEnabled:!0}),(0,w.jsx)(n.default,{style:{flex:1,borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,height:500,width:"90%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(Go,{columns:ir,items:ct,onButtonPress:e=>ar(e)})}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Da&&""!==F?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"45%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>or(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar pago a la deuda"})}),Ma&&""!==F?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"45%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ta(!0),ma(!0),za("\xbfEst\xe1s seguro que deseas ELIMINAR al esta deuda?"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Deuda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:va,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Oa}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>rr(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ta(!va),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Ta(!va),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Vt,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ra}),ua&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>na?e.replace("Deudas"):qt(!Vt),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(n.default,{style:{flex:1},children:[(0,w.jsx)(te,{}),(0,w.jsx)(n.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"}}),(0,w.jsxs)(n.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:xo,onKeyPress:er,onChangeText:po}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(D,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:fo,onKeyPress:er,onChangeText:go}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tipo de Servicio:"}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:M,position:"relative"},children:(0,w.jsx)(ie,{value:yo,placeholder:"Seleccione un tipo de servicio",setValue:wo,items:no,direction:"BOTTOM",onDropdownOpen:()=>L("TipoServicioSearsh")})}),Na&&(0,w.jsx)(n.default,{style:p.separatorBlanco}),Na&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),Na&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:A,position:"relative"},children:(0,w.jsx)(ie,{value:mo,placeholder:"Seleccione un tienda",setValue:jo,items:ro,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaSearsh")})}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango del monto de la deuda:"}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:So,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");vo(t)}}),(0,w.jsx)(D,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:Io,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");_o(t)}})]}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Estado de deuda:"}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Vo.map((e=>(0,w.jsx)(ha,{label:e.label,selected:Fo===e.value,onPress:()=>Wo(e.value)},e.value)))}),(0,w.jsx)(n.default,{style:p.separatorBlanco}),(0,w.jsx)(n.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Uo.map((e=>(0,w.jsx)(ha,{label:e.label,selected:Bo===e.value,onPress:()=>Ho(e.value)},e.value)))}),(0,w.jsxs)(n.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:T},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(Mt,{dayValue:ko,monthValue:To,yearValue:zo,onDayChange:Ro,onMonthChange:Oo,onYearChange:Do,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(n.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:z},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(Mt,{dayValue:Po,monthValue:Eo,yearValue:$o,onDayChange:Mo,onMonthChange:Ao,onYearChange:Lo,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:tr,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Zo(`${zo}-${To}-${ko}`,`${$o}-${Eo}-${Po}`),children:"Buscar"})})]})]}),Yo?(0,w.jsx)(ae.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(qo,{isMobile:r,items:Ja,columns:lr,columnasMyDateTableEntradaModal:sr,columnasMyDateTableTiendaModal:nr,tiendasByProducto:qa,proveedorByProducto:Qa})]}),(0,w.jsx)(f.default,{transparent:!0,visible:F?.isAddEntrada??!1,animationType:"fade",onRequestClose:Jo,children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(n.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Jo,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===F?.id_entrada?"Crear Servicio":"Datos de la Deuda"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(n.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:eo.find((e=>e.value===le))?.label||"Cliente no encontrado"})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:ro.find((e=>e.value===ce))?.label||"Tienda no encontrado"})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:no.find((e=>e.value===he))?.label||"Tipo de Servicio no encontrado"})]})]}),Bt&&(0,w.jsx)(n.default,{style:p.separatorNegro}),Bt&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),Bt&&(0,w.jsx)(n.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:ao.find((e=>e.value===ge))?.label||"Producto no encontrado"})}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[Bt&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:me})]}),(!Bt||Na)&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Bt?"Costo promedio del producto en USD":"Costo del servicio en USD"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Ie})]}),!Bt&&(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Ie})]})]}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Bt?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:ke})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Bt?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Me})]})]}),Bt&&(0,w.jsx)(n.default,{style:p.separatorNegro}),(0,w.jsxs)(n.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:i},children:[(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),Rt&&(0,w.jsx)(Mt,{dayValue:Ne,monthValue:We,yearValue:Ve,onDayChange:Fe,onMonthChange:Ue,onYearChange:He,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!0})]}),(0,w.jsxs)(n.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Ae})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(s.default,{style:p.textDescroptionLabelAsInput,children:Le}),(0,w.jsx)(n.default,{style:{flex:1,borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,height:500,width:"90%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(Go,{columns:ir,items:ct,onButtonPress:e=>ar(e)})}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Da&&""!==F?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{parseFloat(aa)>0?Jt(!0):(qt(!0),ia("La deuda ya est\xe1 saldada"),sa(!1),fa(!0))},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar pago a la deuda"})}),Ma&&""!==F?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ta(!0),ma(!0),za("\xbfEst\xe1s seguro que deseas ELIMINAR al esta deuda?"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Deuda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:va,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Oa}),(0,w.jsxs)(n.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>xa?(async()=>{if(fa(!1),ia("Eliminando deuda. Espere por favor"),qt(!0),B?.token){{const e=await Sa(B.token,oe);Array.isArray(e.deuda.pagos_deuda)&&e.deuda.pagos_deuda.length>0&&e.deuda.pagos_deuda.map((async e=>{await Ra(B.token,e.id_pago_deuda)})),await Ia(B.token,oe);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i=`El usuario ${B.nombre} elimin\xf3 la deuda del tipo de servicio ${e.deuda.servicio.tipo_servicio.nombre} el cual dev\xeda ${e.cantidad_restante} y se hab\xeda pagado ${e.total_pagado}`;await G(B.token,i,`${a}-${o}-${r}`,B.id_usuario,8),fa(!0),ia("La deuda se elimin\xf3 con \xe9xito"),qt(!0),sa(!0),de(""),ze(""),Ee(""),je(""),_e(""),fe(""),je(""),$e(""),Be(""),st(""),W({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1})}}})():rr(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ta(!va),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Ta(!va),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Yt,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:350,height:300,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"center"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Agregar un pago a la deuda."}),(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Cantidad a pagar"}),(0,w.jsx)(D,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},value:Xt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Qt(a)},cursorColor:x.azul_Oscuro,editable:!0,placeholder:"Cantidad del pago en USD"}),(0,w.jsx)(u.default,{onPress:()=>{parseFloat(Xt)<=parseFloat(aa)?or():(ia(`La cantidad de el pago de la deuda ${Xt} es mayor a la cantidad faltante de la deuda ${aa}`),qt(!0),sa(!1),fa(!0))},style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:30,width:"90%",height:40,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",color:x.blanco_Suave},children:"Agregar"})}),(0,w.jsx)(u.default,{onPress:()=>Jt(!Yt),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Vt,animationType:"fade",children:(0,w.jsx)(n.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(n.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ra}),ua&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>na?e.replace("Deudas"):qt(!Vt),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const Xo=(0,i.default)();const Qo=function(){return(0,w.jsx)(Z,{children:(0,w.jsx)(Lo,{children:(0,w.jsx)(Bt,{children:(0,w.jsx)(ot,{children:(0,w.jsx)(Io,{children:(0,w.jsx)(po,{children:(0,w.jsx)(vt,{children:(0,w.jsx)(_,{children:(0,w.jsx)(co,{children:(0,w.jsx)(Da,{children:(0,w.jsx)(Fa,{children:(0,w.jsx)(La,{children:(0,w.jsx)(Dt,{children:(0,w.jsx)(Ea,{children:(0,w.jsx)(ue,{children:(0,w.jsx)(le,{children:(0,w.jsx)(S,{children:(0,w.jsx)(r.default,{ref:A,children:(0,w.jsxs)(Xo.Navigator,{initialRouteName:"Login",children:[(0,w.jsx)(Xo.Screen,{name:"Login",component:Oa}),(0,w.jsx)(Xo.Screen,{name:"HomeScreen",component:Rt}),(0,w.jsx)(Xo.Screen,{name:"Productos",component:kt}),(0,w.jsx)(Xo.Screen,{name:"Servicios",component:Ta}),(0,w.jsx)(Xo.Screen,{name:"Proveedores",component:Qa}),(0,w.jsx)(Xo.Screen,{name:"Mi Tienda",component:to}),(0,w.jsx)(Xo.Screen,{name:"Entradas",component:ro}),(0,w.jsx)(Xo.Screen,{name:"Movimientos",component:go}),(0,w.jsx)(Xo.Screen,{name:"Administraci\xf3n",component:so}),(0,w.jsx)(Xo.Screen,{name:"Usuarios",component:jo}),(0,w.jsx)(Xo.Screen,{name:"Tiendas",component:So}),(0,w.jsx)(Xo.Screen,{name:"Acciones",component:To}),(0,w.jsx)(Xo.Screen,{name:"Permisos",component:Do}),(0,w.jsx)(Xo.Screen,{name:"Clientes",component:Wo}),(0,w.jsx)(Xo.Screen,{name:"Tipo de Servicio",component:Eo}),(0,w.jsx)(Xo.Screen,{name:"Cambiar Moneda",component:Ao}),(0,w.jsx)(Xo.Screen,{name:"Garant\xedas",component:Ho}),(0,w.jsx)(Xo.Screen,{name:"Deudas",component:Jo})]})})})})})})})})})})})})})})})})})})})}},5751:(e,t,a)=>{e.exports=a.p+"static/media/Cambio_moneda.fe68f2723918842a6145.png"},8270:(e,t,a)=>{e.exports=a.p+"static/media/Deudas.4e3ba2abd7c94884a75d.png"},2475:(e,t,a)=>{e.exports=a.p+"static/media/Tipo_Servicio.9c2c02a596173d54810e.png"},1603:(e,t,a)=>{e.exports=a.p+"static/media/acci\xf3n.8a5f93e7886d0150a1ac.png"},5542:(e,t,a)=>{e.exports=a.p+"static/media/aprobado.34b906a81acc87007bb5.png"},9139:(e,t,a)=>{e.exports=a.p+"static/media/candelado.0fed6d34cc2a57874424.png"},1165:(e,t,a)=>{e.exports=a.p+"static/media/delete.1e25a02781c99a9e012d.png"},1248:(e,t,a)=>{e.exports=a.p+"static/media/edit.37f3d4c0904cbe156066.png"},9927:(e,t,a)=>{e.exports=a.p+"static/media/entrada.e45810635791b864f88b.png"},7520:(e,t,a)=>{e.exports=a.p+"static/media/exel.f41cafa36ad3575d656f.png"},1605:(e,t,a)=>{e.exports=a.p+"static/media/features.fc25f39ca3611c717913.png"},5234:(e,t,a)=>{e.exports=a.p+"static/media/gente.1c455e0545f9062b2049.png"},7496:(e,t,a)=>{e.exports=a.p+"static/media/gerente.3c2ae7e9d0c205fdc988.png"},4429:(e,t,a)=>{e.exports=a.p+"static/media/logo.035c6edcc7cb0bd4f897.png"},1055:(e,t,a)=>{e.exports=a.p+"static/media/loupe.4ce0d0d818fc702979a3.png"},1709:(e,t,a)=>{e.exports=a.p+"static/media/menu.c1e4a220742fb80878ee.png"},7213:(e,t,a)=>{e.exports=a.p+"static/media/mover.a840a87b624527cc5d8c.png"},5102:(e,t,a)=>{e.exports=a.p+"static/media/moving.e516858414307ef98a2b.png"},3432:(e,t,a)=>{e.exports=a.p+"static/media/nueva-cuenta.198214c3c2f3a529e8ac.png"},575:(e,t,a)=>{e.exports=a.p+"static/media/option.54c02da68895ceb44d29.png"},4031:(e,t,a)=>{e.exports=a.p+"static/media/ordenar.44332fe9d5ea63c4fc30.png"},9519:(e,t,a)=>{e.exports=a.p+"static/media/product.8a2407d6915f453b54fe.png"},237:(e,t,a)=>{e.exports=a.p+"static/media/public-service.c7c31e37c7a4b3e6be0a.png"},8800:(e,t,a)=>{e.exports=a.p+"static/media/reembolso.769d6eea6c30c54a7b2f.png"},788:(e,t,a)=>{e.exports=a.p+"static/media/solutel.04d12cb124232ea68c48.jpg"},7587:(e,t,a)=>{e.exports=a.p+"static/media/solutel1.5af027ca473629543879.jpg"},4929:(e,t,a)=>{e.exports=a.p+"static/media/tienda.b7aadcce38332e7f3c0d.png"},759:(e,t,a)=>{e.exports=a.p+"static/media/usuarios.f252714e052e0e6c14eb.png"},9772:(e,t,a)=>{e.exports=a.p+"static/media/wallpaper.f338f84412aa291774f8.jpg"}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,a),i.exports}a.m=e,(()=>{var e=[];a.O=(t,o,r,i)=>{if(!o){var n=1/0;for(c=0;c<e.length;c++){for(var[o,r,i]=e[c],s=!0,l=0;l<o.length;l++)(!1&i||n>=i)&&Object.keys(a.O).every((e=>a.O[e](o[l])))?o.splice(l--,1):(s=!1,i<n&&(n=i));if(s){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,r,i]}})(),a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="/",(()=>{var e={792:0};a.O.j=t=>0===e[t];var t=(t,o)=>{var r,i,[n,s,l]=o,d=0;if(n.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(l)var c=l(a)}for(t&&t(o);d<n.length;d++)i=n[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=a.O(void 0,[930],(()=>a(5819)));o=a.O(o)})();
//# sourceMappingURL=main.3627b694.js.map