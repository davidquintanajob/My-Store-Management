(()=>{"use strict";var e={5944:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ir});var o=a(6665),r=a(6520),n=a(8384),i=a(3929),s=a(6283),l=a(484),d=a(558),c=a(5009),u=a(5648),h=a(2772),f=a(8264),g=a(5675);const x={negro:"#000000",blanco:"#ffffff",azul_Suave:"#5687d1",azul_Claro:"#315a98",azul_Oscuro:"#1a365d",blanco_Suave:"#F2F2F2",gris_claro:"#D3D3D3",rojo_oscuro:"#cd1111",verde_claro:"#13cf3c"},p=g.default.create({radioButtonDesktop:{flexDirection:"row",height:40,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"1%",backgroundColor:x.azul_Suave},radioButtonMovil:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",marginVertical:"5%",backgroundColor:x.azul_Suave},radioButtonSelected:{backgroundColor:x.azul_Oscuro},radioButtonTextDesktop:{fontSize:14,color:x.blanco,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},radioButtonTextMovil:{fontSize:12,color:x.blanco,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},labelTextDesktop:{fontSize:16,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},labelTextModalDesktop:{fontSize:16,marginTop:"3%",marginLeft:"6%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},labelTextModalMovil:{fontSize:16,marginTop:"3%",marginLeft:"6%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},labelTextMovil:{fontSize:20,marginRight:"15%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},radioButtonTextSelected:{fontWeight:"bold",color:x.blanco_Suave},selectedText:{marginTop:20,fontSize:18,color:"#333"},navbarDekstop:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:15,position:"absolute",top:0,width:"100%",zIndex:1e3},navbarMobile:{flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:15,width:"100%",zIndex:1e3},menuIcon:{position:"absolute",left:15,top:15},scrollContainer:{flexGrow:1,justifyContent:"center",alignItems:"center",paddingVertical:10},buttonsContainerDesktop:{flexDirection:"row",justifyContent:"flex-start",flex:1},buttonContainterMovile:{flexDirection:"column",alignItems:"center",justifyContent:"center"},searchContainerDesktop:{height:"100%",width:"20%",marginTop:"2%",borderRadius:20,shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,justifyContent:"flex-start"},loginContainerStilesDesktop:{height:"70%",width:"25%",flexDirection:"column",borderRadius:20,shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,justifyContent:"center",alignItems:"center"},loginContainerStilesMovil:{height:"70%",width:"95%",flexDirection:"column",borderRadius:20,shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,justifyContent:"center",alignItems:"center"},searchContainerMovil:{height:"100%",width:"100%",borderRadius:20,marginTop:"3%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,justifyContent:"flex-start"},modalViewMesajeContainerDesktop:{width:"40%",padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},modalViewMesajeContainerMovil:{width:"80%",padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},textSearchDesktop:{color:x.blanco,fontSize:18,marginTop:"5%",justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},textSearchMovil:{color:x.blanco,fontSize:16,marginTop:"5%",justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},textNavbarMovil:{color:x.blanco,fontSize:17,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},textImputLogin:{height:35,borderColor:x.azul_Suave,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.azul_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},textImputModal:{height:40,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},textLabelAsInput:{height:40,borderColor:x.negro,borderWidth:1,shadowColor:x.negro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,fontWeight:"bold",paddingHorizontal:10,paddingVertical:10,color:x.negro,lineHeight:20,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2},textDescroptionLabelAsInput:{height:150,borderColor:x.negro,borderWidth:1,shadowColor:x.negro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,fontWeight:"bold",paddingHorizontal:10,paddingVertical:10,color:x.negro,lineHeight:20,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2},textImputModalNOEDITABLE:{height:40,borderColor:x.negro,borderWidth:1,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},customTextImputSearchFullDesktop:{height:30,borderColor:x.azul_Suave,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",backgroundColor:x.azul_Suave,borderRadius:13,marginLeft:"5%",marginTop:"4%",fontSize:16,fontWeight:"bold",paddingHorizontal:10},customTextImputSearchFullMovil:{height:30,borderColor:x.azul_Suave,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",backgroundColor:x.azul_Suave,borderRadius:13,marginLeft:"5%",marginTop:"4%",fontSize:12,fontWeight:"bold",paddingHorizontal:10},customTextImputSearchFiftyDesktop:{height:30,borderColor:x.azul_Suave,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"42.5%",backgroundColor:x.azul_Suave,borderRadius:13,marginLeft:"5%",marginTop:"4%",fontSize:16,fontWeight:"bold",paddingHorizontal:10},customTextImputSearchFiftyMovil:{height:30,borderColor:x.azul_Suave,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"42.5%",backgroundColor:x.azul_Suave,borderRadius:13,marginLeft:"5%",marginTop:"4%",fontSize:12,fontWeight:"bold",paddingHorizontal:10},movilButtonBusqueda:{backgroundColor:x.azul_Suave,borderRadius:15,flexDirection:"row",width:"70%",height:50,marginRight:"2%",marginTop:"2%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},separatorBlanco:{width:"90%",marginLeft:"5%",marginTop:"5%",height:1,backgroundColor:x.blanco},separatorNegro:{width:"95%",marginTop:"8%",height:1,backgroundColor:x.negro}});var y=a(893),w=a(397);const m=g.default.create({mobileButton:{backgroundColor:x.azul_Claro,borderRadius:15,height:80,width:"180%",marginLeft:"80%",marginVertical:5,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,elevation:3},desktopButton:{backgroundColor:x.azul_Claro,borderRadius:15,width:"4%",minWidth:120,height:100,marginHorizontal:10,marginBottom:2,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,elevation:3},desktopContent:{flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",width:"100%"},mobileContent:{flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%"},image:{width:50,height:50,marginRight:10},text:{fontSize:18,color:x.blanco}}),j=({imageSource:e,onPress:t,text:a,isSelected:r})=>{const[n]=(0,o.useState)(new c.default.Value(1)),{width:h}=(0,d.default)(),f=h<930,g=[f?m.mobileButton:m.desktopButton,r&&{backgroundColor:x.azul_Oscuro}],p=f?m.mobileContent:m.desktopContent;return(0,w.jsx)(u.default,{style:g,onPressIn:()=>{c.default.spring(n,{toValue:1.5,useNativeDriver:!0}).start()},onPressOut:()=>{c.default.spring(n,{toValue:1,useNativeDriver:!0}).start()},onPress:t,children:(0,w.jsx)(c.default.View,{style:{transform:[{scale:n}]},children:(0,w.jsxs)(i.default,{style:p,children:[(0,w.jsx)(l.default,{source:e,style:m.image}),(0,w.jsx)(s.default,{style:m.text,children:a})]})})})};var b=a(2626);const C=(0,o.createContext)(void 0),S=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(C.Provider,{value:{usuario:t,setUsuario:a},children:e})},v=()=>{const e=o.useContext(C);if(void 0===e)throw new Error("useUsuario debe usarse dentro de un ProductoUsuario");return e},I=(0,o.createContext)(void 0),_=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(I.Provider,{value:{selectedButon:t,setSelectedButon:a},children:e})},k=()=>{const e=o.useContext(I);if(void 0===e)throw new Error("useSortEntradas debe usarse dentro de un SortEntradas");return e};var R=a(932);const T=g.default.create({mobileButton:{backgroundColor:x.azul_Claro,borderRadius:15,height:80,width:"180%",marginVertical:5,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,elevation:3},desktopButton:{backgroundColor:x.azul_Claro,borderRadius:15,width:"4%",minWidth:120,height:100,marginHorizontal:10,marginBottom:2,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,elevation:3},desktopContent:{flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",width:"100%"},mobileContent:{flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%"},image:{width:50,height:50,marginRight:10},text:{fontSize:18,color:x.blanco},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},modalContentDesktop:{backgroundColor:"white",borderRadius:10,padding:20,width:"30%",maxHeight:"50%"},modalContentMovil:{backgroundColor:"white",borderRadius:10,padding:20,width:"80%",maxHeight:"50%"},option:{flexDirection:"row",alignItems:"center",paddingVertical:10,borderBottomWidth:1,borderBottomColor:"#ccc"},optionImage:{width:30,height:30,marginRight:10,tintColor:x.negro},optionText:{fontSize:18,color:x.azul_Oscuro}}),O=({imageSource:e,text:t,options:a,onSelect:r,isSelected:n})=>{const[h]=(0,o.useState)(new c.default.Value(1)),{width:g}=(0,d.default)(),[p,y]=(0,o.useState)(!1),m=g<930,j=[m?T.mobileButton:T.desktopButton,n&&{backgroundColor:x.azul_Oscuro}],b=m?T.mobileContent:T.desktopContent;return(0,w.jsxs)(i.default,{children:[(0,w.jsx)(u.default,{style:j,onPressIn:()=>{c.default.spring(h,{toValue:1.5,useNativeDriver:!0}).start()},onPressOut:()=>{c.default.spring(h,{toValue:1,useNativeDriver:!0}).start()},onPress:()=>y(!0),children:(0,w.jsx)(c.default.View,{style:{transform:[{scale:h}]},children:(0,w.jsxs)(i.default,{style:b,children:[(0,w.jsx)(l.default,{source:e,style:T.image}),(0,w.jsx)(s.default,{style:T.text,children:t})]})})}),(0,w.jsx)(f.default,{transparent:!0,animationType:"fade",visible:p,onRequestClose:()=>y(!1),children:(0,w.jsx)(u.default,{style:T.modalOverlay,onPress:()=>y(!1),children:(0,w.jsx)(i.default,{style:m?T.modalContentMovil:T.modalContentDesktop,children:(0,w.jsx)(R.default,{data:a,keyExtractor:e=>e.value,renderItem:({item:e})=>(0,w.jsxs)(u.default,{style:T.option,onPress:()=>{return t=e.value,r(t),void y(!1);var t},children:[(0,w.jsx)(l.default,{source:e.image,style:T.optionImage})," ",(0,w.jsx)(s.default,{style:T.optionText,children:e.label})]})})})})})]})};var D=a(6773);const z=(0,o.forwardRef)((({placeholder:e,autoCapitalize:t,autoCompleteType:a,secureTextEntry:o,keyboardType:r,cursorColor:n,onChangeText:i,value:s,onBlur:l,style:d,multiline:c,numberOfLines:u,scrollEnabled:h,editable:f,onKeyPress:g},x)=>(0,w.jsx)(D.default,{style:d,editable:f,numberOfLines:u,placeholder:e,placeholderTextColor:"rgba(255, 255, 255, 0.8)",autoCapitalize:t,autoComplete:a,secureTextEntry:o,keyboardType:r,cursorColor:n,value:s,scrollEnabled:h,multiline:c,onBlur:l,ref:x,onChangeText:i,onKeyPress:g})));var P=a(7109);const M="http://31.170.165.44:4000",E="http://31.170.165.44:4000",$=(0,o.createRef)();function A(e,t){$.current?.navigate(e,t)}const L=async(e,t)=>{try{const a=await P.default.post(`${M}/Usuario/auth`,{nombre_usuario:e,contrasenna:t});if("Usuario encontrado"===a.data.msg)return a}catch(a){return console.log("Error al iniciar seci\xf3n: ",a),!1}},B=async(e,t,a,o,r,n,i,s,l,d,c,u)=>{try{return(await P.default.post(`${M}/Usuario/createUsuario`,{nombre:t,nombre_usuario:a,contrasenna:o,email:r,telefono:n,direccion:i,carnet_identidad:""===s?null:s,detalles_bancarios:l,salario_CUP:u,rol:{id_rol:d},tienda:{id_tienda:c}},{headers:{Authorization:`${e}`}})).data}catch(h){return P.default.isAxiosError(h)&&401===h.response?.status&&A("Login"),console.log("Error incertar el usuario: ",h),!1}},F=async(e,t)=>{try{return await P.default.delete(`${M}/Usuario/deleteUsuario/${t}`,{headers:{Authorization:`${e}`}})}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al eliminar el usuario: ",a),!1}},N=async(e,t,a,o,r,n,i,s,l,d,c,u,h,f)=>{try{return(await P.default.put(`${M}/Usuario/updateUsuario/${t}`,{nombre:a,nombre_usuario:o,contrasenna:r,email:n,telefono:i,direccion:s,carnet_identidad:l,detalles_bancarios:d,activo:h,salario_CUP:f,rol:{id_rol:c},tienda:{id_tienda:u}},{headers:{Authorization:`${e}`}})).data}catch(g){return P.default.isAxiosError(g)&&401===g.response?.status&&A("Login"),console.log("Error modificar el usuario: ",g),!1}},W=async(e,t,a,o,r,n,i,s,l,d,c,u,h)=>{try{return(await P.default.put(`${M}/Usuario/updateUsuario/${t}`,{nombre:a,nombre_usuario:o,email:r,telefono:n,direccion:i,carnet_identidad:s,detalles_bancarios:l,activo:u,salario_CUP:h,rol:{id_rol:d},tienda:{id_tienda:c}},{headers:{Authorization:`${e}`}})).data}catch(f){return P.default.isAxiosError(f)&&401===f.response?.status&&A("Login"),console.log("Error modificar el usuario: ",f),!1}},U=async(e,t)=>{try{return await P.default.get(`${M}/Usuario/${t}`,{headers:{Authorization:`${e}`}})}catch(a){return console.error("Error en la solicitud de datos de el usuario:",a),alert(a),!1}},V=async e=>{try{return(await P.default.get(`${M}/Usuario`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.error("Error en la solicitud de datos de los usuarios:",t),alert(t),!1}},H=async(e,t,a,o,r,n)=>{try{return(await P.default.post(`${M}/Usuario/api/filtrar`,{nombre_usuario:t,email:a,telefono:o,id_rol:r,id_tienda:n},{headers:{Authorization:`${e}`}})).data}catch(i){return P.default.isAxiosError(i)&&401===i.response?.status&&A("Login"),console.log("Error al filtrar usuarios: ",i),!1}},q=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Usuario/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al ordenar los usuarios: ",r),!1}},Y=async(e,t)=>{try{return(await P.default.get(`${M}/Accion/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de una acci\xf3n en espec\xedfico segun el ID: ",a),!1}},G=async(e,t,a,o,r)=>{try{return(await P.default.post(`${M}/Accion/createAccion`,{descripcion:t,fecha:a,usuario:{id_usuario:o},tipo_accion:{id_tipo_accion:r}},{headers:{Authorization:`${e}`}})).data}catch(n){return console.log("Error al agregar acci\xf3n de usuario: ",n),!1}},K=async e=>{try{return(await P.default.get(`${M}/Tipo_accion`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al obtener datos de todas los tipos de acci\xf3n: ",t),!1}},J=async(e,t,a,o,r,n)=>{try{return(await P.default.post(`${M}/Accion/api/filtrar`,{id_tipo_accion:t,nombre_usuario:a,descripcion:o,fecha_limsup:n,fecha_liminf:r},{headers:{Authorization:`${e}`}})).data}catch(i){return P.default.isAxiosError(i)&&401===i.response?.status&&A("Login"),console.log("Error al filtrar acciones: ",i),!1}},X=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Accion/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al ordenar las acciones: ",r),!1}},Q=(0,o.createContext)(void 0),Z=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Q.Provider,{value:{permisosUsuarioNavbar:t,setPermisosUsuarioNavbar:a},children:e})},ee=()=>{const e=o.useContext(Q);if(void 0===e)throw new Error("usePermisosUsuario debe usarse dentro de un PermisosUsuario");return e},te=async e=>{try{return(await P.default.get(`${M}/Entrada`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al obtener datos de todas las entradas: ",t),!1}},ae=async(e,t)=>{try{return(await P.default.get(`${M}/Entrada/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de una entrada en espec\xedfico segun el ID: ",a),!1}},oe=async(e,t,a,o,r,n,i,s,l)=>{try{return(await P.default.post(`${M}/Entrada/createEntrada`,{costo:t,cantidad:a,fecha:o,costo_cup:l,fecha_vencimiento:r,proveedor:{id_proveedor:n},producto:{id_producto:i},tienda:{id_tienda:s}},{headers:{Authorization:`${e}`}})).data}catch(d){return P.default.isAxiosError(d)&&401===d.response?.status&&A("Login"),console.log("Error incertar la entrada: ",d),!1}},re=async(e,t)=>{try{return(await P.default.get(`${M}/Entrada/Producto/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener todos las entradas seg\xfan el producto: ",a),!1}},ne=async(e,t)=>{try{return(await P.default.get(`${M}/Entrada/getProveedores/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener todos las entradas seg\xfan el proveedor: ",a),!1}},ie=async(e,t,a,o,r,n,i,s,l,d)=>{try{return(await P.default.put(`${M}/Entrada/updateEntrada/${t}`,{costo:a,cantidad:o,fecha:r,costo_cup:d,fecha_vencimiento:n,proveedor:{id_proveedor:i},producto:{id_producto:s},tienda:{id_tienda:l}},{headers:{Authorization:`${e}`}})).data}catch(c){return P.default.isAxiosError(c)&&401===c.response?.status&&A("Login"),console.log("Error modificar la entrada: ",c),!1}},se=async(e,t)=>{try{return(await P.default.delete(`${M}/Entrada/deleteEntrada/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error incertar la entrada: ",a),!1}},le=async(e,t,a,o,r,n,i)=>{try{return(await P.default.post(`${M}/Entrada/api/filtrar`,{nombre_producto:a,nombre_proveedor:t,costo_liminf:o,costo_limsup:r,fecha_liminf:n,fecha_limsup:i},{headers:{Authorization:`${e}`}})).data}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&A("Login"),console.log("Error al filtrar los datos: ",s),!1}},de=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Entrada/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al ordenar las entradas: ",r),!1}},ce=()=>{const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[n,g]=(0,o.useState)(!1),m=(0,o.useRef)(new c.default.Value(0)).current,[C,S]=(0,o.useState)(!1),[I,_]=(0,o.useState)(""),[R,T]=(0,o.useState)(""),[D,E]=(0,o.useState)(""),[$,L]=(0,o.useState)(!1),[B,F]=(0,o.useState)(!1),[N,W]=(0,o.useState)(!1),[U,V]=(0,o.useState)(!1),[H,q]=(0,o.useState)(!1),[Y,K]=(0,o.useState)(!1),[J,X]=(0,o.useState)(!1),[Q,Z]=(0,o.useState)(!1),[te,ae]=(0,o.useState)(!1),[oe,re]=(0,o.useState)(!1),ne=(0,o.useRef)(null),{setUsuario:ie,usuario:se}=v(),{permisosUsuarioNavbar:le,setPermisosUsuarioNavbar:de}=ee(),{setSelectedButon:ce,selectedButon:ue}=k(),[he,fe]=o.useState(!1),[ge,xe]=(0,o.useState)(0),[pe,ye]=(0,o.useState)([]),[we,me]=o.useState(""),[je,be]=o.useState(!1),[Ce,Se]=(0,o.useState)(!1),[ve,Ie]=(0,o.useState)(!1),[_e,ke]=(0,o.useState)(""),[Re,Te]=(0,o.useState)(null),Oe=t=>{ce({butonSelected:"Administraci\xf3n"}),"1"===t?e.navigate("Usuarios"):"3"===t?e.navigate("Tiendas"):"2"===t?e.navigate("Acciones"):"4"===t?e.navigate("Permisos"):"5"===t?e.navigate("Tipo de Servicio"):"6"===t&&e.navigate("Cambiar Moneda"),Te(t)},[De,ze]=(0,o.useState)([]);(0,o.useEffect)((()=>{(async()=>{if(se?.token){K(le?.resultEntradaView??!1),L(le?.resultProductoView??!1),X(le?.resultProveedorView??!1),q(le?.resultAccionesView??!1),Z((le?.resultMovimientoLocalView??!1)||(le?.resultMovimientoGeneralView??!1)),W((le?.resultAgregarUsuario??!1)||(le?.resultModificarUsuario??!1)||(le?.resultEliminarUsuario??!1)),V(1===parseInt(se.id_usuario)),ae(le?.resultClienteView??!1),re(le?.resultGarantiaView??!1);const e=[];(le?.resultAgregarUsuario||le?.resultModificarUsuario||le?.resultEliminarUsuario)&&e.push({label:"Usuarios",value:"1",image:a(759)}),le?.resultAccionesView&&e.push({label:"Acciones",value:"2",image:a(1603)}),1===parseInt(se.id_rol)&&e.push({label:"Tiendas",value:"3",image:a(4929)}),le?.resultTipoServicio&&e.push({label:"Tipos de Servicios",value:"5",image:a(2475)}),parseInt(se.id_rol),ze(e)}})()}),[le]);const Pe=!!r,Me=r?p.buttonContainterMovile:p.buttonsContainerDesktop,Ee=new Date,$e=new Date(Ee.getFullYear(),Ee.getMonth()+1,Ee.getDate());(0,b.useFocusEffect)(o.useCallback((()=>((async()=>{if(se?.token&&4!==parseInt(se.id_rol)){let e;if(null===localStorage.getItem("entradasProximasVencer"))e=await(async(e,t)=>{try{return(await P.default.get(`${M}/Entrada/vencimiento/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de las entradas que estan proximas a vencer ",a),!1}})(se.token,$e.toISOString()),xe(e.length),ye(e),localStorage.setItem("entradasProximasVencer",JSON.stringify(e));else{const e=JSON.parse(localStorage.getItem("entradasProximasVencer"));xe(e.length),ye(e)}}})(),()=>{console.log("La pantalla de Login perdi\xf3 el foco")})),[]));const Ae=async()=>{if(se?.token){let e=!0,t="ERROR AL CAMBIAR LA CONTRASE\xd1A. Comprueve los siguientes par\xe1metros:\n";if(R!==D&&(e=!1,t+="-No ha ingresado bien su contrase\xf1a en los campos requeridos.\n"),R.length<6&&(e=!1,t+="-La contrase\xf1a nueva debe tener m\xe1s de 6 caracteres.\n"),""!==R.trim()&&""!==D.trim()||(e=!1,t+="-Debe digitar la nueva contrase\xf1a en los campos correspondientes.\n"),e){(async(e,t,a,o,r)=>{try{return(await P.default.post(`${M}/Usuario/change/pass`,{contrasenna_vieja:t,contrasenna_nueva1:a,contrasenna_nueva2:o,nombre_usuario:r},{headers:{Authorization:`${e}`}})).data}catch(n){return P.default.isAxiosError(n)&&401===n.response?.status&&A("Login"),console.log("Error al cambiar la contrase\xf1a del usuario: ",n),!1}})(se.token,I,R,D,se.nombre_usuario);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${se.nombre} cambi\xf3 su contrase\xf1a.`;await G(se.token,r,`${t}-${a}-${o}`,se.id_usuario,5),Ie(!1),me("La contrase\xf1a se cambi\xf3 con \xe9xito."),be(!1),fe(!0)}else me(t),be(!1),fe(!0)}},Le=()=>{n?c.default.timing(m,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>g(!1))):(g(!0),c.default.timing(m,{toValue:300,duration:300,useNativeDriver:!1}).start())},Be={height:m};function Fe(){return(0,w.jsx)(h.default,{horizontal:!0,contentContainerStyle:{flexDirection:"row",justifyContent:"flex-start"},showsHorizontalScrollIndicator:!0,children:(0,w.jsxs)(i.default,{style:Me,children:[$&&(0,w.jsx)(j,{imageSource:a(1605),text:"En tu Tienda",isSelected:"Mi Tienda"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Mi Tienda"}),e.navigate("Mi Tienda")}}),$&&(0,w.jsx)(j,{imageSource:a(9519),text:"Productos",isSelected:"Productos"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Productos"}),e.navigate("Productos")}}),$&&(0,w.jsx)(j,{imageSource:a(237),text:"Ventas",isSelected:"Servicios"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Servicios"}),e.navigate("Ventas")}}),Q&&(0,w.jsx)(j,{imageSource:a(5102),text:"Movimientos",isSelected:"Movimientos"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Movimientos"}),e.navigate("Movimientos")}}),te&&(0,w.jsx)(j,{imageSource:a(3432),text:"Clientes",isSelected:"Clientes"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Clientes"}),e.navigate("Clientes")}}),(1===parseInt(se?.id_rol)||2===parseInt(se?.id_rol)||3===parseInt(se?.id_rol))&&(0,w.jsx)(j,{imageSource:a(8270),text:"Deudas",isSelected:"Deudas"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Deudas"}),e.navigate("Deudas")}}),J&&(0,w.jsx)(j,{imageSource:a(5234),text:"Proveedores",isSelected:"Proveedores"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Proveedores"}),e.navigate("Proveedores")}}),Y&&(0,w.jsx)(j,{imageSource:a(9927),text:"Entradas",isSelected:"Entradas"===ue?.butonSelected,onPress:()=>{ce({butonSelected:"Entradas"}),e.navigate("Entradas")}}),(N||U||H)&&(0,w.jsx)(O,{imageSource:a(7496),text:"Administraci\xf3n",options:De,onSelect:Oe,isSelected:"Administraci\xf3n"===ue?.butonSelected})]})})}return Pe?(0,w.jsxs)(i.default,{style:{padding:15},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.navbarMobile,children:[(0,w.jsx)(u.default,{onPress:()=>S(!C),children:(0,w.jsxs)(i.default,{style:{justifyContent:"center",flexDirection:"column",alignItems:"center",borderWidth:1,borderColor:x.blanco,borderRadius:15,width:300,height:60,marginVertical:10},children:[(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,w.jsx)(s.default,{style:{fontSize:20,color:x.blanco},children:"Usuario"}),ge>0&&(0,w.jsx)(i.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:10,width:20,height:20,justifyContent:"center",alignItems:"center",marginLeft:5},children:(0,w.jsx)(s.default,{style:{fontSize:12,color:x.blanco},children:ge})})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsxs)(s.default,{style:{fontSize:16,color:x.blanco},children:["Nombre: ",se?.nombre]}),(0,w.jsxs)(s.default,{style:{fontSize:16,color:x.blanco},children:["Usuario: ",se?.nombre_usuario]}),(0,w.jsx)(u.default,{style:{width:"90%",height:"45%",marginTop:"5%",backgroundColor:x.azul_Suave,borderRadius:15,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:()=>e.navigate("Login"),children:(0,w.jsx)(s.default,{style:{fontSize:16,color:x.blanco},children:"Cerrar Sesi\xf3n"})})]})}),(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:40,marginTop:35,justifyContent:"center",paddingHorizontal:15,shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Le,children:[(0,w.jsx)(l.default,{source:a(1709),style:{width:40,height:40}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Navegaci\xf3n"})]})]}),n&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden"},Be],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:Fe()})}),C&&(0,w.jsx)(f.default,{transparent:!0,visible:C,animationType:"fade",onRequestClose:()=>S(!1),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:()=>{_(""),T(""),E(""),S(!1)},children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Tus Datos"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:[(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu nombre: ",se?.nombre]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu nombre de usuario en el sistema:"," ",se?.nombre_usuario]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu rol en el sistema: ",se?.nombre_rol]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tienda en la que trabajas: ",se?.nombre_tienda]})]}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:20,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Cambiar Contrase\xf1a"})}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Contrase\xf1a Vieja"})}),(0,w.jsx)(z,{ref:ne,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:I,onChangeText:_,placeholder:"Contrase\xf1a vieja"}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Contrase\xf1a Nueva"})}),(0,w.jsx)(z,{ref:ne,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:R,onChangeText:T,placeholder:"Contrase\xf1a nueva"}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Repita la Nueva Contrase\xf1a"})}),(0,w.jsx)(z,{ref:ne,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:D,onChangeText:E,placeholder:"Contrase\xf1a nueva"}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{ke(`Estas seguro que deseas cambiar tu contrase\xf1a nueva a ${R}`),Ie(!0),S(!C)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Cambiar Contrase\xf1a"})}),ge>0&&(0,w.jsxs)(i.default,{style:{width:"90%",height:"50%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,marginLeft:10,marginTop:10,marginBottom:10},children:[(0,w.jsx)(s.default,{style:{fontSize:20,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Notificaciones Pendientes"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsxs)(i.default,{style:{marginBottom:10,marginLeft:"5%",marginTop:"2%",width:"100%",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,w.jsx)(s.default,{style:{fontSize:12,color:x.negro,width:"30%",fontWeight:"bold"},children:"Producto"}),(0,w.jsx)(s.default,{style:{fontSize:12,color:x.negro,width:"20%",fontWeight:"bold"},children:"Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:12,color:x.negro,width:"20%",fontWeight:"bold"},children:"D\xedas hasta vencimiento"}),(0,w.jsx)(s.default,{style:{fontSize:12,color:x.negro,width:"20%",fontWeight:"bold",marginRight:"4%"},children:"Fecha de vencimiento"})]}),(0,w.jsx)(i.default,{style:{width:"100%",height:1,backgroundColor:x.negro}}),pe.map(((e,t)=>(0,w.jsxs)(i.default,{style:{marginBottom:10,marginLeft:"5%",marginTop:"2%",width:"100%",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottomWidth:1,borderBottomColor:x.gris_claro},children:[(0,w.jsx)(s.default,{style:{fontSize:12,color:x.negro,width:"30%"},children:e.producto.nombre}),(0,w.jsx)(s.default,{style:{fontSize:12,color:x.negro,width:"20%"},children:e.tienda.nombre}),(0,w.jsx)(s.default,{style:{fontSize:12,color:x.negro,width:"20%"},children:`Faltan ${Math.round((new Date(e.fecha_vencimiento).getTime()-(new Date).getTime())/864e5)} d\xedas`}),(0,w.jsx)(s.default,{style:{fontSize:12,color:x.negro,width:"20%",marginRight:"3%"},children:e.fecha_vencimiento.split("T")[0]})]},t)))]})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ve,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:_e}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ae(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ie(!ve),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Ie(!ve),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:he,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:we}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>je?e.navigate("Login"):fe(!he),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.navbarDekstop,children:[(0,w.jsx)(u.default,{onPress:()=>S(!C),children:(0,w.jsxs)(i.default,{style:{justifyContent:"center",flexDirection:"column",alignItems:"center",borderWidth:1,borderColor:x.blanco,borderRadius:15,width:300,height:60,marginVertical:10},children:[(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,w.jsx)(s.default,{style:{fontSize:20,color:x.blanco},children:"Usuario"}),ge>0&&(0,w.jsx)(i.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:10,width:20,height:20,justifyContent:"center",alignItems:"center",marginLeft:5},children:(0,w.jsx)(s.default,{style:{fontSize:12,color:x.blanco},children:ge})})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsxs)(s.default,{style:{fontSize:16,color:x.blanco},children:["Nombre: ",se?.nombre]}),(0,w.jsxs)(s.default,{style:{fontSize:16,color:x.blanco},children:["Usuario: ",se?.nombre_usuario]}),(0,w.jsx)(u.default,{style:{width:"90%",height:"45%",marginTop:"5%",backgroundColor:x.azul_Suave,borderRadius:15,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:()=>e.navigate("Login"),children:(0,w.jsx)(s.default,{style:{fontSize:16,color:x.blanco},children:"Cerrar Sesi\xf3n"})})]})}),Fe()]}),C&&(0,w.jsx)(f.default,{transparent:!0,visible:C,animationType:"fade",onRequestClose:()=>S(!1),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:()=>{_(""),T(""),E(""),S(!1)},children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Tus Datos"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:[(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu nombre: ",se?.nombre]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu nombre de usuario en el sistema:"," ",se?.nombre_usuario]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tu rol en el sistema: ",se?.nombre_rol]}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["Tienda en la que trabajas: ",se?.nombre_tienda]})]}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:20,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Cambiar Contrase\xf1a"})}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Contrase\xf1a Vieja"})}),(0,w.jsx)(z,{ref:ne,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:I,onChangeText:_,placeholder:"Contrase\xf1a vieja"}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Contrase\xf1a Nueva"})}),(0,w.jsx)(z,{ref:ne,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:R,onChangeText:T,placeholder:"Contrase\xf1a nueva"}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Repita la Nueva Contrase\xf1a"})}),(0,w.jsx)(z,{ref:ne,style:p.textImputModal,cursorColor:x.azul_Oscuro,value:D,onChangeText:E,placeholder:"Contrase\xf1a nueva"}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{ke(`Estas seguro que deseas cambiar tu contrase\xf1a nueva a ${R}`),Ie(!0),S(!C)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Cambiar Contrase\xf1a"})}),ge>0&&(0,w.jsxs)(i.default,{style:{width:"90%",height:"50%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,marginLeft:10,marginTop:10,marginBottom:10},children:[(0,w.jsx)(s.default,{style:{fontSize:20,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Notificaciones Pendientes"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsxs)(i.default,{style:{marginBottom:10,marginLeft:"5%",marginTop:"2%",width:"100%",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,width:"30%",fontWeight:"bold"},children:"Producto"}),(0,w.jsx)(s.default,{style:{fontSize:14,color:x.negro,width:"20%",fontWeight:"bold"},children:"Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:14,color:x.negro,width:"20%",fontWeight:"bold"},children:"D\xedas hasta vencimiento"}),(0,w.jsx)(s.default,{style:{fontSize:14,color:x.negro,width:"20%",fontWeight:"bold",marginRight:"4%"},children:"Fecha de vencimiento"})]}),(0,w.jsx)(i.default,{style:{width:"100%",height:1,backgroundColor:x.negro}}),pe.map(((e,t)=>(0,w.jsxs)(i.default,{style:{marginBottom:10,marginLeft:"5%",marginTop:"2%",width:"100%",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottomWidth:1,borderBottomColor:x.gris_claro},children:[(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,width:"30%"},children:e.producto.nombre}),(0,w.jsx)(s.default,{style:{fontSize:14,color:x.negro,width:"20%"},children:e.tienda.nombre}),(0,w.jsx)(s.default,{style:{fontSize:14,color:x.negro,width:"20%"},children:`Faltan ${Math.round((new Date(e.fecha_vencimiento).getTime()-(new Date).getTime())/864e5)} d\xedas`}),(0,w.jsx)(s.default,{style:{fontSize:14,color:x.negro,width:"20%"},children:e.fecha_vencimiento.split("T")[0]})]},t)))]})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ve,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:_e}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ae(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ie(!ve),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Ie(!ve),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:he,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:we}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>{_(""),T(""),E(""),je?e.navigate("Login"):fe(!he)},children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})};var ue=a(530),he=a(1356);const fe=g.default.create({container:{flex:1,marginLeft:"5%",marginTop:"4%",alignItems:"center",justifyContent:"flex-start"},dropdown:{backgroundColor:x.azul_Suave,borderColor:x.azul_Suave,borderRadius:13,width:"90%",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},dropdownTextDesktop:{fontSize:14,fontWeight:"bold",color:x.blanco},dropdownTextMovil:{fontSize:12,fontWeight:"bold",color:x.blanco},dropdownContainer:{borderColor:x.azul_Suave,backgroundColor:x.azul_Claro,width:"90%"}}),ge=({value:e,setValue:t,items:a,placeholder:r,searchable:n=!1,onDropdownOpen:s})=>{const[l,c]=(0,o.useState)(!1),{width:u}=(0,d.default)(),h=u<1150?fe.dropdownTextMovil:fe.dropdownTextDesktop;return(0,o.useEffect)((()=>{l&&s&&s()}),[l]),(0,w.jsx)(i.default,{style:fe.container,children:(0,w.jsx)(he.default,{open:l,value:e,items:a,setOpen:c,setValue:e=>{t(e),c(!1)},setItems:()=>{},placeholder:r,style:fe.dropdown,textStyle:h,dropDownContainerStyle:fe.dropdownContainer,searchable:n})})};var xe=a(4730);const pe=(0,o.createContext)(void 0),ye=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(pe.Provider,{value:{modalProductsDates:t,setModalProductsDates:a},children:e})},we=()=>{const e=o.useContext(pe);if(void 0===e)throw new Error("useModalProductsDates debe usarse dentro de un ModalProductsDates");return e},me=(0,o.createContext)(void 0),je=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(me.Provider,{value:{sortProductos:t,setSortProductos:a},children:e})},be=()=>{const e=o.useContext(me);if(void 0===e)throw new Error("useSortProductos debe usarse dentro de un SortProductos");return e},Ce=async e=>{try{return(await P.default.get(`${M}/Rol`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al obtener todos los roles: ",t),!1}},Se=async(e,t)=>{try{return(await P.default.get(`${M}/Rol_permiso/getPermisosbyRol/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de los productos por el rol: ",a),!1}},ve=async(e,t,a)=>{try{return(await P.default.get(`${M}/Usuario/tiene_permiso/${a}/${t}`,{headers:{Authorization:`${e}`}})).data.tiene}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error al obtener datos de los permisos: ",o),!1}},Ie=async e=>{try{return await P.default.get(`${M}/Tienda`,{headers:{Authorization:`${e}`}})}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al obtener datos de las tiendas: ",t),!1}},_e=async(e,t,a,o,r,n)=>{try{return(await P.default.post(`${M}/Tienda/createTienda`,{nombre:t,direccion:a,comicion:o,hora_apertura:r,hora_cierre:n},{headers:{Authorization:`${e}`}})).data}catch(i){return P.default.isAxiosError(i)&&401===i.response?.status&&A("Login"),console.log("Error incertar la tienda: ",i),!1}},ke=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Producto_tienda/realizarVenta`,{id_producto:t,id_tienda:a,cantidad:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al realizar venta en producto tienda: ",r),!1}},Re=async(e,t,a,o,r,n,i)=>{try{await P.default.put(`${M}/Tienda/updateTienda/${t}`,{nombre:a,direccion:o,comicion:r,hora_apertura:n,hora_cierre:i},{headers:{Authorization:`${e}`}})}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&A("Login"),console.log("Error actualizar la tienda: ",s),!1}},Te=async(e,t)=>{try{await P.default.delete(`${M}/Tienda/deleteTienda/${t}`,{headers:{Authorization:`${e}`}});return!0}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error eliminar la tienda: ",a),!1}},Oe=async(e,t)=>{try{return(await P.default.get(`${M}/Tienda/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener dato de la tienda en espec\xedfico: ",a),!1}},De=async(e,t)=>{try{return(await P.default.get(`${M}/Producto_tienda/getTiendas/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de las tiendas seg\xfan el producto: ",a),!1}},ze=async(e,t,a)=>{try{return(await P.default.get(`${M}/Producto_tiendabyID/${t}/${a}`,{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error al obtener datos de las tiendas: ",o),0}},Pe=async e=>{try{return(await P.default.get(`${M}/Moneda/obtener/USD`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al obtener valor de la moneda USD: ",t),!1}},Me=async(e,t)=>{try{return(await P.default.put(`${M}/Moneda/cambiar/USD/${t}`,{},{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al cambiar el valor de la monea USD: ",a),!1}},Ee=async e=>{try{return await P.default.get(`${M}/Producto`,{headers:{Authorization:`${e}`}})}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al obtener datos de los productos: ",t),!1}},$e=async(e,t)=>{try{return(await P.default.get(`${M}/Producto/getPaginated/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de los productos: ",a),!1}},Ae=async(e,t)=>{try{return(await P.default.get(`${M}/producto_tienda/getProductos/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de los identificadores de  productos con la tienda: ",a),!1}},Le=async(e,t)=>{try{return(await P.default.get(`${M}/Producto_tienda/getCantidadTotal/${t}`,{headers:{Authorization:`${e}`}})).data.cantidad_total}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de los productos: ",a),!1}},Be=async(e,t)=>{try{return(await P.default.get(`${M}/Producto/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos principales de los productos: ",a),!1}},Fe=async(e,t,a,o,r,n,i,s)=>{try{return(await P.default.post(`${M}/Producto/createProducto`,{nombre:t,Sku:a,precio:o,precio_empresa:r,descripcion:n,isFecha_Vencimiento:i,costo_acumulado:s},{headers:{Authorization:`${e}`}})).data}catch(l){return P.default.isAxiosError(l)&&401===l.response?.status&&A("Login"),console.log("Error incertar el producto: ",l),!1}},Ne=async(e,t,a)=>{try{return(await P.default.get(`${M}/Producto/match/${t}/${a}`,{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error al machear el producto: ",o),!1}},We=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Producto_tienda/HacerEntrada`,{id_producto:a,id_tienda:t,cantidad:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error incertar el la entrada al producto: ",r),!1}},Ue=async(e,t,a)=>{console.log(t,a);try{return(await P.default.post(`${M}/Producto/createProducto`,{id_producto:t,imagenes:a},{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error incertar el producto: ",o),!1}},Ve=async(e,t,a)=>{console.log("id_producto: ",t),console.log("costo_acumulado: ",a);try{await P.default.put(`${M}/Producto/updateProducto/${t}`,{costo_acumulado:a},{headers:{Authorization:`${e}`}})}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error actualizar el producto: ",o),!1}},He=async(e,t,a,o,r,n,i,s,l)=>{try{await P.default.put(`${M}/Producto/updateProducto/${t}`,{nombre:a,Sku:o,precio:r,precio_empresa:n,descripcion:i,isFecha_Vencimiento:s,costo_acumulado:l},{headers:{Authorization:`${e}`}})}catch(d){return P.default.isAxiosError(d)&&401===d.response?.status&&A("Login"),console.log("Error actualizar el producto: ",d),!1}},qe=async(e,t,a,o)=>{try{await P.default.put(`${M}/Producto_tienda/updateProducto_tienda`,{id_producto:t,id_tienda:a,cantidad:o},{headers:{Authorization:`${e}`}})}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error actualizar el producto_tienda: ",r),!1}},Ye=async(e,t,a)=>{try{await P.default.post(`${M}/Producto/agregar/Tienda`,{id_tienda:a,id_producto:t},{headers:{Authorization:`${e}`}})}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error crear la relaci\xf3n con la tienda en el producto: ",o),!1}},Ge=async(e,t)=>{try{await P.default.delete(`${M}/Producto/deleteProducto/${t}`,{headers:{Authorization:`${e}`}});return!0}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos principales de los productos: ",a),!1}},Ke=async e=>{try{await P.default.delete(`${M}/Producto_tienda/DeleteAllTiendas/inProducto`,{headers:{Authorization:`${e}`}}),await P.default.delete(`${M}/Producto_tienda/delete/in0`,{headers:{Authorization:`${e}`}});return!0}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al eliminar en productos en 0: ",t),!1}},Je=async(e,t,a,o,r,n,i)=>{try{return(await P.default.post(`${M}/Producto/api/filtrar`,{nombre:t||"",sku:a||"",precio_liminf:o||"",precio_limsup:r||"",cantidad:"0"===n?0:parseInt(n),id_tienda:i||null},{headers:{Authorization:`${e}`}})).data}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&A("Login"),console.log("Error al obtener datos principales de los productos: ",s),!1}},Xe=async(e,t,a,o,r,n,i)=>{try{return(await P.default.post(`${M}/Producto_tienda/api/filtrar`,{nombre:t||"",sku:a||"",precio_liminf:o||"",precio_limsup:r||"",cantidad:"0"===n?0:parseInt(n),id_tienda:parseInt(i)},{headers:{Authorization:`${e}`}})).data}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&A("Login"),console.log("Error al obtener datos principales de los productos: ",s),!1}},Qe=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Producto/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al ordenar los productos: ",r),!1}},Ze=async(e,t,a,o,r)=>{try{return await P.default.post(`${M}/Producto_tienda/MoverProducto_tienda`,{id_producto:t,id_tienda_origen:a,id_tienda_destino:o,cantidad:r},{headers:{Authorization:`${e}`}})}catch(n){return P.default.isAxiosError(n)&&401===n.response?.status&&A("Login"),console.log("Error al mover el producto: ",n),!1}},et=async(e,t)=>{try{const a=await Pe(e),o=t.map((e=>({sku:e.sku,nombre:e.nombre,precioCUP:(parseFloat(e.precioUSD)*a).toFixed(2),precioEmpresaCUP:e.precioEmpresaUSD??"0",cantidad:e.cantidadTotal??"0"})));return(await P.default.post(`${M}/Producto/to/excel`,{productos:o},{headers:{Authorization:`${e}`},responseType:"blob"})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al crear excel: ",a),!1}},tt=async(e,t,a)=>{try{return(await P.default.post(`${M}/Producto/to/excelwithcolumns`,{productos:a,columns:t},{headers:{Authorization:`${e}`},responseType:"blob"})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error al crear excel: ",o),!1}},at=g.default.create({container:{flex:1,alignItems:"center",justifyContent:"flex-start",width:"90%"},dropdown:{backgroundColor:x.azul_Suave,borderColor:x.azul_Suave,borderRadius:13,width:"90%",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},dropdownContainer:{borderColor:x.azul_Suave,backgroundColor:x.azul_Claro,width:"90%"}}),ot=({value:e,setValue:t,items:a,placeholder:r,onDropdownOpen:n})=>{const[s,l]=(0,o.useState)(!1),{width:c}=(0,d.default)();return(0,o.useEffect)((()=>{s&&n&&n()}),[s,n]),(0,w.jsx)(i.default,{style:at.container,children:(0,w.jsx)(he.default,{open:s,value:e,items:a,setOpen:l,setValue:t,setItems:()=>{},placeholder:r,style:at.dropdown,dropDownContainerStyle:at.dropdownContainer})})},rt=async(e,t,a)=>{try{return(await P.default.post(`${M}/Imagen/createImagen`,{url:a,uri:t},{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log(`Error al guardar imagenes en los archivos ${o}`),!1}},nt=async(e,t,a)=>{try{return(await P.default.delete(`${M}/Imagen/deleteImagen/${t}/${a}`,{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),alert(`Error al eliminar la imagenes en los archivos ${o}`),!1}},it=async(e,t,a,o,r,n,i)=>{try{return(await P.default.post(`${M}/Salida/createSalida`,{fecha:t,cantidad:r,producto:n,tienda_origen:a,tienda_destino:o,usuario:i},{headers:{Authorization:`${e}`}})).data}catch(s){return P.default.isAxiosError(s)&&401===s.response?.status&&A("Login"),console.log("Error al crear la salida del producto: ",s),!1}},st=async(e,t)=>{try{return(await P.default.get(`${M}/Salida/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return console.log("Error al obtener datos del movimiento en espec\xedfico: ",a),!1}},lt=async(e,t,a,o,r,n,i,s)=>{try{return(await P.default.put(`${M}/Salida/updateSalida/${t}`,{fecha:a,cantidad:n,producto:i,tienda_origen:o,tienda_destino:r,usuario:s},{headers:{Authorization:`${e}`}})).data}catch(l){return P.default.isAxiosError(l)&&401===l.response?.status&&A("Login"),console.log("Error al actualizar datos del movimiento: ",l),!1}},dt=async(e,t)=>{try{return(await P.default.delete(`${M}/Salida/deleteSalida/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al eliminar el movimiento: ",a),!1}},ct=async(e,t,a,o,r,n,i,s)=>{console.log(i,s);try{return(await P.default.post(`${M}/Salida/api/filtrar`,{nombre_usuario:t??null,nombre_producto:a??null,cantidad:parseInt(o)??null,fecha_liminf:r??null,fecha_limsup:n??null,id_tienda_origen:i??null,id_tienda_destino:s??null},{headers:{Authorization:`${e}`}})).data}catch(l){return P.default.isAxiosError(l)&&401===l.response?.status&&A("Login"),console.log("Error al filtrar movimientos: ",l),!1}},ut=async(e,t,a,o,r,n,i,s,l)=>{console.log("NombreUsuario: ",t,"NombreProducto: ",a,"Cantidad: ",o,"fechaDesde: ",r,"fechaHasta: ",n,"TiendaUsuario: ",i,"TiendaOr: ",s,"tiendaDes: ",l);try{return(await P.default.post(`${M}/Salida/api/filtrarJT`,{nombre_usuario:t??null,nombre_producto:a??null,cantidad:parseInt(o)??null,fecha_liminf:r??null,fecha_limsup:n??null,id_tienda:i??null,id_tienda_origen:s??null,id_tienda_destino:l??null},{headers:{Authorization:`${e}`}})).data}catch(d){return P.default.isAxiosError(d)&&401===d.response?.status&&A("Login"),console.log("Error al filtrarEspecial movimientos: ",d),!1}},ht=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Salida/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al ordenar las entradas: ",r),!1}},ft=(0,o.createContext)(void 0),gt=({children:e})=>{const[t,a]=(0,o.useState)({page:1});return(0,w.jsx)(ft.Provider,{value:{paginadoProductos:t,setPaginadoProductos:a},children:e})},xt=()=>{const e=o.useContext(ft);if(void 0===e)throw new Error("usePaginadoProductos debe usarse dentro de un PaginadoProductos");return e},pt=({items:e,columns:t,isMobile:r,imtemsLength:n})=>{const d=(0,b.useNavigation)(),[g]=o.useState(new c.default.Value(1)),{modalProductsDates:p,setModalProductsDates:y}=we(),{sortProductos:m,setSortProductos:j}=be(),{usuario:C,setUsuario:S}=v(),{paginadoProductos:I,setPaginadoProductos:_}=xt(),[k,R]=o.useState(0),T=r?yt.containerMovil:yt.containerDesktop,[O,D]=o.useState(0),[P,M]=o.useState(20),[E,$]=o.useState([]),[A,L]=o.useState(!1),[B,F]=o.useState(!1),[N,W]=o.useState(!1),[U,V]=o.useState(!1),[H,q]=o.useState(!1),[Y,K]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(""),[ee,te]=o.useState(""),[ae,oe]=o.useState(""),[re,ne]=o.useState(""),[ie,se]=o.useState(""),[le,de]=o.useState([]),[ce,ue]=o.useState([]),[he,fe]=o.useState(""),[ge,pe]=o.useState(""),ye=async()=>{if(!Ce&&(Se(!0),C?.token)){await Ze(C.token,Xe,ee,ae,We);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");await it(C.token,`${a}-${o}-${t}`,ee,ae,We,Xe,C.id_usuario),await Ye(C.token,Xe,ae);let r=`El usuario ${C.nombre} movi\xf3 ${We} de ${et} desde la tienda ${ge} hasta la tienda ${he}`;await G(C.token,r,`${t}-${a}-${o}`,C.id_usuario,1),Z(`Se movieron ${We} de ${et} desde la tienda ${ge} a ${he}`),V(!1),X(!0),K(!0)}},me=async()=>{let e=!0,t="Error. Compruebe los siguientes par\xe1metros:\n",a=0;if(C?.token){const e=await ze(C.token,Xe,ee);e.encontrado&&(a=parseInt(e.cantidad))}if(ee===ae&&(e=!1,t+="-La tienda origen no puede ser igual a la tienda destino.\n"),"0"===We&&(e=!1,t+="-La cantidad a mover debe ser mayor a 0.\n"),""===We?(e=!1,t+="-La cantidad a mover no puede ser vacio.\n"):parseInt(We)>a&&(e=!1,t+="-La cantidad a mover es mayor que la cantidad que existe en la tienda.\n"),Le&&""===ee&&(e=!1,t+="-Elija la tienda desde la que decea hacer el movimiento.\n"),""===ae&&(e=!1,t+="-Elija una tienda a la que desea hacer el movimiento.\n"),e){const e=ce.find((e=>e.value===ae));fe(String(e?.label));const t=le.find((e=>e.value===ee));pe(String(t?.label)),q(!1),V(!0)}else Z(t),X(!1),K(!0)};o.useEffect((()=>{(async()=>{if(C?.token){const e=await Oe(C.token,ee),t=await ze(C.token,Xe,ee);se(t.cantidad),ne(e.nombre)}})()}),[ee]);const je=e=>{y({id_producto:e,isAddProducto:!0,fileEditable:!1,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!0,isAddProductoShowProveedores:!0})},[Ce,Se]=o.useState(!1),[_e,ke]=o.useState(!1),[Re,Te]=o.useState(!1),[Me,Ee]=o.useState(!1),[$e,Ae]=o.useState(!1),[Le,Fe]=o.useState(!1),Ne=e=>{if(C?.id_rol)return!!("1"==C.id_rol&&_e||"2"==C.id_rol&&_e||"3"==C.id_rol&&_e)||!(!e.tieneOpciones||!_e)},[We,Ue]=o.useState("");o.useEffect((()=>{(async()=>{if(C?.token){const e=await ve(C.token,"7",C.id_usuario),t=await ve(C.token,"8",C.id_usuario),a=await ve(C.token,"30",C.id_usuario),o=await ve(C.token,"31",C.id_usuario);R(await Pe(C.token)),Te(e),Ee(t),Ae(a),Fe(o),ke(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=O*P,a=Math.min((O+1)*P,n);$([]),setTimeout((()=>{$(e.slice(t,a))}),0)}),[O,e,P]);const Ve=e=>{e>=0&&e*P<n&&(D(e),_({page:e}))},He=()=>(0,w.jsx)(xe.default.Header,{style:{justifyContent:"space-between"},children:t.map(((t,o)=>(0,w.jsxs)(xe.default.Title,{style:[yt.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:[(0,w.jsx)(s.default,{style:r?yt.headerTextMovil:yt.headerTextDesktop,children:t}),("USD"===t||"Nombre"===t||"CUP"===t||"Cantidad"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre"===t?a="option3":"USD"===t||"CUP"===t?a="option4":"Cantidad"===t&&(a="option5"),j({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]},o)))}),qe=()=>{c.default.spring(g,{toValue:1.5,useNativeDriver:!0}).start()},Je=()=>{c.default.spring(g,{toValue:1,useNativeDriver:!0}).start()},[Xe,Qe]=o.useState(""),[et,tt]=o.useState(""),[at,rt]=o.useState(""),st=async e=>{if(Qe(e),C?.token){const t=await Be(C.token,e);t&&tt(t.nombre)}L(!A)},lt=e=>{if(rt(e),L(!A),"Modificar"===e){if(y({id_producto:Xe,isAddProducto:!0,fileEditable:!0,isModificarProducto:!0,isAddProductoShowProveedoresTiendas:!0,isAddProductoShowProveedores:!0}),C?.token){}}else"Eliminar"===e?W(!N):"Mover"==e&&((async()=>{if(void 0!=C?.token){const e=await Ie(C.token),t=await De(C.token,Xe);if(e&&Array.isArray(e.data)&&!1!==t&&Array.isArray(t)){const a=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));let o=[],r=[];t.forEach((async e=>{parseInt(e.cantidad)>0&&o.push(e.id_tienda)}));for(let e of o){let t={value:"",label:""};const a=await Oe(C.token,e);t.label=a.nombre,t.value=e,r.push(t)}let n=!1;n=r.some((e=>{e.value,C.id_tienda}));for(let e=0;e<r.length;e++)r[e].value===C.id_tienda&&(n=!0);n&&te(C.id_tienda),Le||te(C.id_tienda),de(r),ue(a)}}})(),q(!H))},dt=async()=>{if(!Ce&&(Se(!0),C?.token)){const e=await Be(C.token,Xe);if(e)for(let a of e.imagenes)a.id_imagen&&a.url?await nt(C?.token,a.id_imagen,a.url.substring(1,a.url.length)):console.log("Error en comprobar el id o el uri de la imagen");const t=await ct();if(W(!N),t){const e=E.filter((e=>e.id_Producto!==Xe)),t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let n=`El usuario ${C.nombre} elimin\xf3 el producto ${et}`;await G(C.token,n,`${a}-${o}-${r}`,C.id_usuario,1),$(e),Z("Producto eliminado con \xe9xito"),K(!0)}else Z("ERROR AL ELIMINAR: Ya se han hecho operaciones con el producto o ya est\xe1 en una tienda"),X(!1),K(!0)}},ct=async()=>{if(C?.token){await Ke(C.token);return!!await Ge(C.token,Xe)}};return r?(0,w.jsx)(i.default,{style:T,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(xe.default,{style:{width:"180%"},children:[He(),E.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>je(e.id_Producto),style:{justifyContent:"space-around"},children:[(0,w.jsx)(xe.default.Cell,{style:yt.handerRowMovil,children:e.sku}),(0,w.jsx)(xe.default.Cell,{style:yt.handerRowMovil,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:yt.handerRowMovil,children:(parseFloat(e.precioUSD)*k).toFixed(0)}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:yt.handerRowMovil,children:(0,w.jsxs)(s.default,{children:[e.cantidadTotal," "]})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:{flex:.5,justifyContent:"center",flexDirection:"row",alignItems:"center"},children:Ne(e)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,justifyContent:"center",alignItems:"center",borderRadius:12,height:"50%",width:"70%",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,marginRight:"100%"},onPressIn:qe,onPressOut:Je,onPress:()=>st(e.id_Producto),children:(0,w.jsx)(l.default,{source:a(575),style:{width:"70%",height:"70%"}})})})]},e.id_Producto))),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",onRequestClose:()=>st(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Re&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{lt("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Me&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{lt("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(Le||$e)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{lt("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>st(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:B,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[Xe,at]}),(0,w.jsx)(u.default,{onPress:()=>F(!B),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>dt(),disabled:Ce,children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>W(!N),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>W(!N),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:H,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:""===ee?"Seleccione una tienda origen":`Mover Producto "${et}" en la Tienda\n ${re} con una cantidad de ${ie}`}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:We,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ue(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[" ",Le&&(0,w.jsx)(ot,{value:ee,items:le,placeholder:"Tienda desde donde se quiere mover",setValue:te}),(0,w.jsx)(ot,{value:ae,items:ce,placeholder:"Tienda a la que se quiere mover",setValue:oe})]}),(0,w.jsx)(u.default,{onPress:()=>me(),style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:150,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>q(!H),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:U,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:450,height:250,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Desea mover ${We} producto ${et} desde la tienda ${ge} a ${he}?`}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ye(),disabled:Ce,children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>V(!U),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>V(!U),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:H,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:We,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ue(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[" ",Le&&(0,w.jsx)(ot,{value:ee,items:le,placeholder:"Tienda desde donde se quiere mover",setValue:te}),(0,w.jsx)(ot,{value:ae,items:ce,placeholder:"Tienda a la que se quiere mover",setValue:oe})]}),(0,w.jsx)(u.default,{onPress:()=>me(),style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:150,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>q(!H),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsxs)(i.default,{style:yt.paginationContainer,children:[(0,w.jsx)(u.default,{style:[yt.paginationButtonMovil,0===O&&yt.disabledButton],onPress:()=>Ve(O-1),disabled:0===O,children:(0,w.jsx)(s.default,{style:yt.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:yt.paginationLabel,children:`${O*P+1}-${Math.min((O+1)*P,n)} de ${n}`}),(0,w.jsx)(u.default,{style:[yt.paginationButtonMovil,(O+1)*P>=n&&yt.disabledButton],onPress:()=>Ve(O+1),disabled:(O+1)*P>=n,children:(0,w.jsx)(s.default,{style:yt.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(i.default,{style:T,children:(0,w.jsxs)(xe.default,{children:[He(),E.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>je(e.id_Producto),children:[(0,w.jsx)(xe.default.Cell,{style:yt.handerRowDesktop,children:e.sku}),(0,w.jsx)(xe.default.Cell,{style:yt.handerRowDesktop,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:yt.handerRowDesktop,children:(parseFloat(e.precioUSD)*k).toFixed(0)}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:{flex:1.5,justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsxs)(s.default,{style:{marginRight:"13%"},children:[e.cantidadTotal," "]})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:{flex:.5,justifyContent:"center",flexDirection:"row",alignItems:"center"},children:Ne(e)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,justifyContent:"center",alignItems:"center",borderRadius:12,height:"60%",width:"80%",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,marginRight:"100%"},onPressIn:qe,onPressOut:Je,onPress:()=>st(e.id_Producto),children:(0,w.jsx)(l.default,{source:a(575),style:{width:"70%",height:"70%"}})})})]},e.id_Producto))),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",onRequestClose:()=>st(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Re&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{lt("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Me&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{lt("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(Le||$e)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{lt("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>st(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:N,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>dt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>W(!N),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>W(!N),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:H,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:500,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:""===ee?"Seleccione una tienda origen":`Mover Producto "${et}" en la Tienda ${re} con una cantidad de ${ie}`}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:We,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ue(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[" ",Le&&(0,w.jsx)(ot,{value:ee,items:le,placeholder:"Tienda desde donde se quiere mover",setValue:te}),(0,w.jsx)(ot,{value:ae,items:ce,placeholder:"Tienda a la que se quiere mover",setValue:oe})]}),(0,w.jsx)(u.default,{onPress:()=>me(),style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:150,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>q(!H),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:U,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:450,height:250,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Desea mover ${We} producto ${et} desde la tienda ${ge} a ${he}?`}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ye(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>V(!U),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>V(!U),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Y,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Q}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>{J?d.replace("Productos"):K(!Y)},children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:yt.paginationContainer,children:[(0,w.jsx)(u.default,{style:[yt.paginationButtonDesktop,0===O&&yt.disabledButton],onPress:()=>Ve(O-1),disabled:0===O,children:(0,w.jsx)(s.default,{style:yt.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:yt.paginationLabel,children:`${O*P+1}-${Math.min((O+1)*P,n)} of ${n}`}),(0,w.jsx)(u.default,{style:[yt.paginationButtonDesktop,(O+1)*P>=n&&yt.disabledButton],onPress:()=>Ve(O+1),disabled:(O+1)*P>=n,children:(0,w.jsx)(s.default,{style:yt.paginationLabel,children:"Pr\xf3xima"})})]})]})})},yt=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRowDesktop:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},handerRowMovil:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});var wt=a(1614),mt=a(4090);const jt=({items:e,columns:t})=>{(0,b.useNavigation)();const[a]=o.useState(new c.default.Value(1)),[r,n]=o.useState(0),[l,d]=o.useState(3),[f,g]=o.useState([]);o.useEffect((()=>{const t=r*l,a=Math.min((r+1)*l,e.length);g([]),setTimeout((()=>{g(e.slice(t,a))}),0)}),[r,e,l]);const x=t=>{t>=0&&t*l<e.length&&n(t)},[p,y]=o.useState(!1);return(0,w.jsx)(i.default,{style:bt.containerDesktop,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(xe.default,{style:{width:"150%"},children:[(0,w.jsx)(xe.default.Header,{style:{justifyContent:"space-between"},children:t.map(((e,t)=>(0,w.jsx)(xe.default.Title,{style:[bt.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsx)(s.default,{style:bt.headerTextDesktop,children:e})},t)))}),f.filter((e=>0!==parseInt(e.cantidad))).map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>{},children:[(0,w.jsx)(xe.default.Cell,{style:bt.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"left"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:bt.handerRow,children:e.cantidad})]},e.id_tienda))),(0,w.jsxs)(i.default,{style:bt.paginationContainer,children:[(0,w.jsx)(u.default,{style:[bt.paginationButtonMovil,0===r&&bt.disabledButton],onPress:()=>x(r-1),disabled:0===r,children:(0,w.jsx)(s.default,{style:bt.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:bt.paginationLabel,children:`${r*l+1}-${Math.min((r+1)*l,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[bt.paginationButtonMovil,(r+1)*l>=e.length&&bt.disabledButton],onPress:()=>x(r+1),disabled:(r+1)*l>=e.length,children:(0,w.jsx)(s.default,{style:bt.paginationLabel,children:"Pr\xf3xima"})})]})]})})})},bt=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),Ct=({items:e,columns:t})=>{(0,b.useNavigation)();const[a]=o.useState(new c.default.Value(1)),[r,n]=o.useState(0),{usuario:l}=v(),[d,f]=o.useState(0),[g,x]=o.useState(3),[p,y]=o.useState([]);(0,b.useFocusEffect)(o.useCallback((()=>((async()=>{null===localStorage.getItem("cambioMoneda")?n(await Pe(l.token)):n(parseFloat(localStorage.getItem("cambioMoneda")))})(),()=>{})),[])),o.useEffect((()=>{const t=d*g,a=Math.min((d+1)*g,e.length);y([]),setTimeout((()=>{y(e.slice(t,a))}),0)}),[d,e,g]);const m=t=>{t>=0&&t*g<e.length&&f(t)},[j,C]=o.useState(!1);return(0,w.jsx)(i.default,{style:St.containerDesktop,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(xe.default,{style:{width:"150%"},children:[(0,w.jsx)(xe.default.Header,{style:{justifyContent:"space-between"},children:t.map(((e,t)=>(0,w.jsx)(xe.default.Title,{style:[St.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsx)(s.default,{style:St.headerTextDesktop,children:e})},t)))}),p.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>{},children:[(0,w.jsx)(xe.default.Cell,{style:St.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"left"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:St.handerRow,children:e.cantidad}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:St.handerRow,children:(e.costoPorUnidad*r).toFixed(0)})]},e.id_proveedor))),(0,w.jsxs)(i.default,{style:St.paginationContainer,children:[(0,w.jsx)(u.default,{style:[St.paginationButtonMovil,0===d&&St.disabledButton],onPress:()=>m(d-1),disabled:0===d,children:(0,w.jsx)(s.default,{style:St.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:St.paginationLabel,children:`${d*g+1}-${Math.min((d+1)*g,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[St.paginationButtonMovil,(d+1)*g>=e.length&&St.disabledButton],onPress:()=>m(d+1),disabled:(d+1)*g>=e.length,children:(0,w.jsx)(s.default,{style:St.paginationLabel,children:"Pr\xf3xima"})})]})]})})})},St=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});var vt=a(7045);const It=(0,o.createContext)(void 0),_t=({children:e})=>{const[t,a]=(0,o.useState)({isOnToken:!1});return(0,w.jsx)(It.Provider,{value:{navigationLostDates:t,setNavigationLostDates:a},children:e})},kt=()=>{const e=o.useContext(It);if(void 0===e)throw new Error("useNavigationLostDates debe usarse dentro de un NavigationLostDatesProvider");return e},Rt=g.default.create({radioButton:{flexDirection:"row",height:50,width:"45%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"2%",backgroundColor:x.azul_Suave},radioButtonSelected:{backgroundColor:x.azul_Oscuro},radioButtonText:{fontSize:16,color:x.blanco,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},radioButtonTextSelected:{fontWeight:"bold",color:x.blanco_Suave},selectedText:{marginTop:20,fontSize:18,color:"#333"}}),Tt=({onPress:e,selected:t,label:a})=>(0,w.jsx)(u.default,{onPress:e,style:[Rt.radioButton,t&&Rt.radioButtonSelected],children:(0,w.jsx)(s.default,{style:[Rt.radioButtonText,t&&Rt.radioButtonTextSelected],children:a})});function Ot(){(0,b.useNavigation)();const{width:e}=(0,d.default)(),t=e<930,{usuario:r}=v(),{sortProductos:n}=be(),{modalProductsDates:g,setModalProductsDates:m}=we(),{navigationLostDates:j,setNavigationLostDates:C}=kt(),{paginadoProductos:S,setPaginadoProductos:I}=xt(),[_,k]=(0,o.useState)(0),[R,T]=(0,o.useState)(!1),O=(0,o.useRef)(new c.default.Value(0)).current,D=((0,o.useRef)(new c.default.Value(0)).current,[{label:"Si",value:"si"},{label:"No",value:"no"}]),[P,M]=(0,o.useState)("no"),[$,A]=(0,o.useState)(""),[L,B]=(0,o.useState)(""),[F,N]=(0,o.useState)("0"),[W,U]=(0,o.useState)("0"),[V,H]=(0,o.useState)(""),[q,Y]=(0,o.useState)(""),[K,J]=(0,o.useState)(""),[X,Q]=(0,o.useState)(""),[Z,ee]=(0,o.useState)([]),[te,ae]=(0,o.useState)([]),[oe,ne]=(0,o.useState)([]),[ie,se]=o.useState(!1),[le,de]=o.useState(!1),[he,fe]=o.useState(!1),[xe,pe]=(0,o.useState)(!1),[ye,me]=(0,o.useState)(!1),[je,Ce]=(0,o.useState)(!1),[Se,_e]=o.useState(""),[ke,Re]=o.useState(!1),[Te,Oe]=(0,o.useState)(!1),[ze,Me]=(0,o.useState)(!1);let Ae=!1;const Ne=()=>{},We=()=>{R?c.default.timing(O,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>T(!1))):(T(!0),c.default.timing(O,{toValue:400,duration:300,useNativeDriver:!1}).start())},Ve={height:O},[qe,Ye]=(0,o.useState)([]),[Ge,Ke]=(0,o.useState)(0),[Xe,Ze]=(0,o.useState)([]),[et,at]=(0,o.useState)([]),ot=e=>{"Enter"===e.nativeEvent.key&&Wt()},it=(0,o.useRef)(null);(0,o.useEffect)((()=>{g?.isAddProducto&&it.current?.focus()}),[g?.isAddProducto]),(0,o.useEffect)((()=>{j?.isOnToken&&alert(j.isOnToken)}),[j?.isOnToken]),(0,o.useEffect)((()=>{if(ye&&void 0!==S?.page&&r?.token&&je){(async()=>{if(void 0!=r?.token)try{const e=await $e(r.token,S.page+1);if(Ke(e.cantidad_total_productos),e&&Array.isArray(e.productos)){const t=await Promise.all(e.productos.map((async e=>{let t=!1;for(let a of e.tiendas)if(r.id_tienda===a.id_tienda){t=!0;break}return{id_Producto:e.id_producto,nombre:e.nombre,sku:e.Sku,cantidadTotal:e.cantidad_total,precioUSD:e.precio.toString(),tieneOpciones:t}})));Ye((e=>[...e,...t]))}else console.log("No se encontraron productos.")}catch(e){console.log("Error al obtener los productos o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de los productos")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de los productos")})()}}),[S]);const[st,lt]=(0,o.useState)([]),[dt,ct]=(0,o.useState)(""),[ut,ht]=(0,o.useState)(""),[ft,gt]=(0,o.useState)(""),[yt,bt]=(0,o.useState)(""),[St,It]=(0,o.useState)(""),[_t,Rt]=(0,o.useState)(null),[Ot,Dt]=(0,o.useState)(null),[zt,Pt]=(0,o.useState)(!1),[Mt,Et]=(0,o.useState)(!1),$t=()=>{m({id_producto:"",isAddProducto:!1,isModificarProducto:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1})},At=async()=>{if(r?.token&&g?.id_producto){const e=await Be(r.token,g.id_producto);if(e){A(e.id_producto),B(e.nombre),N(e.precio),U((e.precio*_).toFixed(0)),Y(e.precio_empresa),J(e.Sku),H(e.costo_acumulado.toFixed(2)),M(e.isFecha_Vencimiento?"si":"no"),Q(e.descripcion||""),(async e=>{if(r?.token){const t=await De(r.token,e);if(Array.isArray(t)){const e=t.map((e=>({id_tienda:e.tienda.id_tienda.toString(),nombre:e.tienda.nombre,cantidad:e.cantidad.toString()})));Ze(e)}}})(e.id_producto),(async e=>{try{if(r?.token){const t=await re(r?.token,e);if(await Le(r.token,e),t){const e=t.map((e=>({id_proveedor:e.proveedor.id_proveedor,nombre:e.proveedor.nombre,cantidad:e.cantidad,costoPorUnidad:e.costo})));at(e)}}}catch(t){console.log("Error al cargar los proveedores por producto:",t)}})(e.id_producto);const t=e.imagenes.map((async e=>{let t=await e.url,a=await e.id_imagen,o=t.substring(1,t.length);return t=E+o,{uri:t,id:a}})),a=await Promise.all(t);ee(a)}}};(0,o.useEffect)((()=>{ye&&At()}),[g]);const Lt=async e=>{if(de(!1),Pt(!0),void 0!=r?.token)try{const t=await $e(r.token,e);if(Ke(t.cantidad_total_productos),t&&Array.isArray(t.productos)){const e=await Promise.all(t.productos.map((async e=>{let t=!1;if(Ae)for(let a of e.tiendas)if(r.id_tienda===a.id_tienda){t=!0;break}return{id_Producto:e.id_producto,nombre:e.nombre,sku:e.Sku,cantidadTotal:e.cantidad_total,precioUSD:e.precio.toString(),tieneOpciones:t}})));Ye(e)}else console.log("No se encontraron productos.")}catch(t){console.log("Error al obtener los productos o verificar permisos:",t),alert("Ocurri\xf3 un problema al cargar los datos de los productos")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de los productos");Pt(!1)};const Bt=async()=>{me(!1),I({page:1}),await(async()=>{if(r?.token){const e=await ve(r.token,"6",r.id_usuario),t=await ve(r.token,"38",r.id_usuario),a=await ve(r.token,"7",r.id_usuario),o=await ve(r.token,"8",r.id_usuario),n=await ve(r.token,"30",r.id_usuario),i=await ve(r.token,"31",r.id_usuario);k(await Pe(r.token)),Ae=o||a||n||i,Oe(e),Me(t)}})(),await Lt(S.page),await(async()=>{if(void 0!=r?.token){const e=await Ie(r.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));lt([{label:"Seleccione una tienda",value:""},...t])}}})(),me(!0)};(0,b.useFocusEffect)((0,o.useCallback)((()=>(Bt(),()=>{})),[])),(0,o.useEffect)((()=>{ye&&Wt()}),[n,Ot]),(0,o.useEffect)((()=>{Ce(""===dt&&""===ut&&""===ft&&""===yt&&""===St&&null===_t)}),[dt,ut,ft,yt,St,_t]);const[Ft,Nt]=(0,o.useState)(!1),Wt=async()=>{Pt(!0);try{if(r?.token){let e=await(async()=>{if(r?.token)try{const e=await Je(r.token,dt,ut,yt,St,ft,_t??"");if(e)return await Promise.all(e.map((async e=>({id_Producto:e.id_producto,nombre:e.nombre,sku:e.Sku,cantidadTotal:e.cantidad_total,precioUSD:e.precio.toString(),precioEmpresaUSD:e.precio_empresa}))))}catch(e){return console.error("Error al filtrar los productos:",e),null}return null})();Nt(!Ft),n?.criterioOrden&&n.tipoOrden&&(e=await Qe(r.token,e,n.criterioOrden,Ft)),Ke(e.length),Ye(e)}}catch(e){console.error("Error al filtrar y ordenar los productos:",e)}finally{Pt(!1)}},Ut=async()=>{(0,wt.launchImageLibrary)({mediaType:"photo",quality:.8,includeBase64:!1,selectionLimit:100},(async e=>{if(e.didCancel)console.log("El usuario cancel\xf3 la selecci\xf3n de la imagen.");else if(e.errorMessage)console.error("Error al seleccionar la imagen: ",e.errorMessage);else if(e.assets&&e.assets.length>0){const t=await Promise.all(e.assets.map((async e=>{if(e.uri){const a=await qt(e.uri);try{if(a>307200){const t=await fetch(e.uri),a=await t.blob(),o=new File([a],e.fileName||"image.jpg",{type:a.type}),r=await(0,vt.default)(o,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0}),n=await Vt(r);return Object.assign({},e,{uri:n,isCompressed:!0})}{const t=await Ht(e.uri);if(!t.startsWith("data:image"))throw new Error("Conversi\xf3n incorrecta de la URI a base64");return Object.assign({},e,{uri:t,isCompressed:!1})}}catch(t){console.error(`Error al procesar la imagen (${e.fileName||"sin nombre"}):`,t)}}return e})));ee(t)}else console.log("No se seleccion\xf3 ninguna imagen.")}))},Vt=e=>new Promise(((t,a)=>{const o=new FileReader;o.onload=()=>t(o.result),o.onerror=e=>a(e),o.readAsDataURL(e)})),Ht=async e=>{try{const t=await fetch(e),a=await t.blob();return Vt(new File([a],"image.jpg",{type:a.type}))}catch(t){throw console.error("Error al convertir URI a base64:",t),t}},qt=async e=>{try{const t=await fetch(e);return(await t.blob()).size}catch(t){return console.error("Error al obtener el tama\xf1o del archivo:",t),0}},Yt=e=>{const t=Z.filter(((t,a)=>a!==e)),a=Z.filter(((t,a)=>a===e))[0];ae((e=>[...e,a])),ee(t)},Gt=()=>{ct(""),ht(""),gt(""),bt(""),It(""),Dt(""),Rt(null)},Kt=async()=>{if(!ke){if(Re(!0),pe(!1),_e("Agregando producto. Espere por favor"),de(!0),r?.token){let e=!0,t="ERROR AL INSERTAR PRODUCTO. Por favor compruebe los siguientes campos:\n";const a=await Ee(r.token);if(a&&Array.isArray(a.data)&&a.data.forEach((a=>{a.Sku===K&&(e=!1,t+=`-El SKU debe ser \xfanico. Coincide con el SKU de  ${a.nombre}`)})),""===L.trim()&&(t+="-El nombre no puede ser vac\xedo.\n",e=!1),""==K.trim()&&(t+="-El SKU no puede ser vac\xedo.\n",e=!1),""===String(F).trim()&&(t+="-El precio en USD del producto no puede ser vac\xedo.\n",e=!1),""===String(V).trim()&&(t+="-El costo del producto no puede ser vac\xedo.\n",e=!1),""===String(q).trim()&&(t+="-El precio de la empresa en USD no puede ser vac\xedo.\n",e=!1),e){const e=await Fe(r.token,L,K,F,q,X,"si"===P,V);if(e){const t={id_Producto:e.id_producto,nombre:L,sku:K,cantidadTotal:await Le(r.token,e.id_producto),precioUSD:F,tieneOpciones:!0};Ye((e=>[...e,t]));let a=[],o=[];for(const[u,h]of Z.entries()){const t=await rt(r.token,h,`\\${e.id_producto}_${u}.jpg`);t?a.push(t):alert("Error en algo de las imagenes")}let n=0;for(;n<a.length;)o.push({id_imagen:a[n].id_imagen}),n++;await Ue(r.token,e.id_producto,o);const i=new Date,s=String(i.getFullYear()),l=String(i.getMonth()+1).padStart(2,"0"),d=String(i.getDate()).padStart(2,"0");let c=`El usuario ${r.nombre} agreg\xf3 al sistema el producto ${L} a un precio en cup de ${F} y con un precio de empresa en cup de ${q}`;await G(r.token,c,`${s}-${l}-${d}`,r.id_usuario,1),_e(`El Producto ${L} fue agregado con \xe9xito`),pe(!0),de(!0),J(""),B(""),N(""),Q(""),Y(""),H(""),ee([]),m({id_producto:"",isAddProducto:!1,fileEditable:!0,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1})}else alert("Error al agregar prducto")}else _e(t),de(!0),fe(!1),pe(!0)}Re(!1)}},Jt=async()=>{if(!ke){if(Re(!0),pe(!1),_e("Modificando producto. Espere por favor"),de(!0),r?.token){let e=!0,t="ERROR AL MODIFICAR PRODUCTO. Por favor compruebe los siguientes campos:\n";""===L.trim()&&(t+="-El nombre no puede ser vac\xedo.\n",e=!1),""===K.trim()&&(t+="-El SKU no puede ser vac\xedo.\n",e=!1),""===String(F).trim()&&(t+="-El precio en USD del producto no puede ser vac\xedo.\n",e=!1),""===String(V).trim()&&(t+="-El costo del producto no puede ser vac\xedo.\n",e=!1),""===String(q).trim()&&(t+="-El precio de la empresa en USD no puede ser vac\xedo.\n",e=!1);let a=[],o=[];if(e){for(const[o,d]of Z.entries())if(d.id){const e=await rt(r.token,d,`\\${$}_${o}.jpg`);e?a.push(e):alert("Error en algo de las imagenes")}let e=0;for(;e<a.length;)o.push({id_imagen:a[e].id_imagen}),e++;await Ue(r.token,$,o),await He(r.token,$,L,K,F,q,X,"si"===P,V),te.forEach((async e=>{e.id&&e.uri&&await nt(r.token,e.id,e.uri.split("/")[3])}));const t=new Date,n=String(t.getFullYear()),i=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");let l=`El usuario ${r.nombre} modific\xf3 el producto ${L}`;await G(r.token,l,`${n}-${i}-${s}`,r.id_usuario,1),fe(!0),_e(`El Producto "${L}" se modific\xf3 con \xe9xito`),de(!0),pe(!0)}else _e(t),pe(!0),fe(!1),de(!0)}Re(!1)}},Xt=["Nombre","Cantidad"],Qt=["Nombre","Cantidad","Costo"],Zt=["SKU","Nombre","CUP","Cantidad"," "];return t?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:Te&&(0,w.jsx)(u.default,{onPress:()=>m({id_producto:"",isAddProducto:!0,fileEditable:!0,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1}),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Producto"})})}),(0,w.jsx)(i.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:We,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[zt?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(pt,{isMobile:t,items:qe,columns:Zt,columnasMyDateTableProveedorModal:Qt,columnasMyDateTableTiendaModal:Xt,tiendasByProducto:Xe,proveedorByProducto:et,imtemsLength:Ge}),R&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Ve],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del producto",value:dt,onKeyPress:ot,onChangeText:ct}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"SKU:"}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Cantidad:"})]}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"SKU",value:ut,onKeyPress:ot,onChangeText:ht}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"Cantidad",value:ft,onKeyPress:ot,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");gt(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Precio en CUP :"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:yt,onKeyPress:ot,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");bt(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:St,onKeyPress:ot,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");It(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Buscar por Tienda:"}),(0,w.jsx)(i.default,{style:{position:"relative",zIndex:500,height:100},children:(0,w.jsx)(ge,{value:_t,placeholder:"Seleccione un Tiendas",setValue:Rt,items:st})}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Gt,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{Wt(),T(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:g?.isAddProducto??!1,animationType:"fade",onRequestClose:$t,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:$t,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:g?.isModificarProducto?"Modificar Producto":g?.isAddProductoShowProveedoresTiendas?"Datos del Producto":"Agregar Producto"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Producto"})}),(0,w.jsx)(z,{style:p.textImputModal,value:L,onChangeText:B,cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Nombre del producto"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%"}}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio de empresa en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:q,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Y(a)},cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Precio de empresa en CUP"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:W,cursorColor:x.azul_Oscuro,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;let o=parseFloat(a)/_;N(o.toFixed(5)),U(a)},editable:!!g?.fileEditable,placeholder:"Precio en CUP"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[ze&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo Promedio"}),ze&&(0,w.jsx)(z,{style:p.textImputModal,value:V,cursorColor:x.azul_Oscuro,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;H(a)},editable:!!g?.fileEditable,placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Sku"}),(0,w.jsx)(z,{style:p.textImputModal,value:K,onChangeText:J,cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Sku"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Descripci\xf3n"}),(0,w.jsx)(z,{style:p.textImputModal,value:X,onChangeText:Q,cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Descripci\xf3n"})]})]}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"\xbfEste producto tiene fecha de vencimiento?"})}),(0,w.jsx)(i.default,{style:{padding:20,alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},children:D.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:P===e.value,onPress:()=>{g?.fileEditable&&M(e.value)}},e.value)))}),!g?.isModificarProducto&&((g?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(i.default,{style:{borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,flexDirection:"row",height:350,width:"90%"},children:[(0,w.jsxs)(i.default,{style:{flexDirection:"column",height:340,width:"45%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Tiendas en las que existe el producto"}),(0,w.jsx)(jt,{columns:Xt,items:Xe})]}),(g?.isAddProductoShowProveedores??!1)&&ze&&(0,w.jsxs)(i.default,{style:{height:340,width:"45%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Historial de proveedores"}),(0,w.jsx)(Ct,{columns:Qt,items:et})]})]})),(0,w.jsx)(mt.PanGestureHandler,{onGestureEvent:Ne,children:(0,w.jsxs)(i.default,{style:{marginTop:20,width:"90%",borderWidth:1,borderColor:x.azul_Oscuro,borderRadius:13,padding:20,alignItems:"center",justifyContent:"center",backgroundColor:x.blanco_Suave},children:[(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,marginBottom:"5%"},children:"Im\xe1genes del producto"}),(g?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ut,children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Seleccionar Im\xe1genes"})}),Z.length>0&&(0,w.jsx)(h.default,{horizontal:!0,style:{marginTop:10,width:"100%",height:100},children:Z.map(((e,t)=>(0,w.jsxs)(i.default,{style:{position:"relative",width:100,height:100,marginRight:10},children:[(0,w.jsx)(l.default,{source:{uri:e.uri},style:{width:100,height:100,marginRight:10,borderRadius:10}},t),(0,w.jsx)(u.default,{style:{position:"absolute",top:5,right:5,backgroundColor:"red",borderRadius:15,width:20,height:20,justifyContent:"center",alignItems:"center",zIndex:1},onPress:()=>Yt(t),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:"X"})})]},t)))})]})}),(g?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>g?.isModificarProducto?Jt():Kt(),disabled:ke,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:g?.isModificarProducto?"Modificar Producto":"Agregar Producto"})})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:le,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Se}),xe&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>he?Lt(1):de(!le),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ie,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Se}),Mt?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Datos Recopilados. Espere a que termine la descarga."}),(0,w.jsx)(u.default,{style:{backgroundColor:"#007BFF",padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>se(!ie),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})]})})})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:[Te&&(0,w.jsx)(u.default,{onPress:()=>{B(""),N(""),Y(""),J(""),Q(""),ee([]),m({id_producto:"",isAddProducto:!0,fileEditable:!0,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1})},style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"1%",marginTop:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===n?.criterioOrden&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Producto"})}),(0,w.jsxs)(u.default,{onPress:()=>(async()=>{if(_e("Recopilando datos de todos los productos filtrados para el Exel. Espere un momento por favor."),Et(!0),se(!0),r?.token)if(qe.length<Ge){const e=await Ie(r.token),t=await Je(r.token,"","","","","","");if(e&&Array.isArray(e.data)&&t&&Array.isArray(t)){let a=[];for(let n of t){const t={sku:n.Sku,Nombre:n.nombre,Existencia:n.cantidad_total,Precio_USD:parseFloat(n.precio).toFixed(5),Precio_CUP:(parseFloat(n.precio)*_).toFixed(0),Precio_Mayorista:n.precio_empresa},o=await De(r.token,n.id_producto);if(o&&Array.isArray(o)){for(let e of o)t[e.tienda.nombre]=e.cantidad??0;for(let a of e.data)t[a.nombre]||(t[a.nombre]=0)}a.push(t)}const o=await tt(r.token,[],a);if(o){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),n=window.URL.createObjectURL(o),i=document.createElement("a");i.href=n,i.download=`Productos_${t}-${a}-${r}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}else console.error("No se pudo descargar el archivo.")}}else{const e=await Ie(r.token);if(e&&Array.isArray(e.data)){let t=[];for(let o of qe){const a={sku:o.sku,Nombre:o.nombre,Existencia:o.cantidadTotal,Precio_USD:parseFloat(o.precioUSD).toFixed(5),Precio_CUP:(parseFloat(o.precioUSD)*_).toFixed(0),Precio_Mayorista:o.precioEmpresaUSD??"0"},n=await De(r.token,o.id_Producto);if(n&&Array.isArray(n)){for(let e of n)a[e.tienda.nombre]=e.cantidad??0;for(let t of e.data)a[t.nombre]||(a[t.nombre]=0)}t.push(a)}const a=await tt(r.token,[],t);if(a){const e=new Date,t=String(e.getFullYear()),o=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),n=window.URL.createObjectURL(a),i=document.createElement("a");i.href=n,i.download=`Productos_${t}-${o}-${r}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}else console.error("No se pudo descargar el archivo.")}}Et(!1)})(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.verde_claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"1%",marginTop:"1%",backgroundColor:x.verde_claro},children:[(0,w.jsx)(l.default,{source:a(7520),style:{width:20,height:20,marginRight:"10%"}}),(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===n?.criterioOrden&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Exportar a Excel"})]})]}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:dt,onKeyPress:ot,onChangeText:ct}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"SKU:"}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Cantidad:"})]}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"SKU",onKeyPress:ot,value:ut,onChangeText:ht}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Cantidad",value:ft,onKeyPress:ot,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");gt(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Precio en CUP:"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",onKeyPress:ot,value:yt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");bt(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:St,onKeyPress:ot,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");It(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Buscar por Tienda:"}),(0,w.jsx)(i.default,{style:{position:"relative",zIndex:500,height:100},children:(0,w.jsx)(ge,{value:_t,placeholder:"Seleccione una Tienda",setValue:Rt,items:st})}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Gt,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Wt(),children:"Buscar"})})]})]}),zt?(0,w.jsx)(ue.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(pt,{isMobile:t,items:qe,columns:Zt,columnasMyDateTableProveedorModal:Qt,columnasMyDateTableTiendaModal:Xt,tiendasByProducto:Xe,proveedorByProducto:et,imtemsLength:Ge})]}),(0,w.jsx)(f.default,{transparent:!0,visible:g?.isAddProducto??!1,animationType:"fade",onRequestClose:$t,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:$t,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:g?.isModificarProducto?"Modificar Producto":g?.isAddProductoShowProveedoresTiendas?"Datos del Producto":"Agregar Producto"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Producto"})}),(0,w.jsx)(z,{ref:it,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:g?.fileEditable,value:L,onChangeText:B,placeholder:"Nombre del producto"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%"}}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio de empresa en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:q,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Y(a)},cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Precio de empresa en CUP"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:W,cursorColor:x.azul_Oscuro,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;let o=parseFloat(a)/_;N(o.toFixed(5)),U(a)},editable:!!g?.fileEditable,placeholder:"Precio en CUP"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[ze&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo Promedio"}),ze&&(0,w.jsx)(z,{style:p.textImputModal,value:V,cursorColor:x.azul_Oscuro,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;H(a)},editable:!!g?.fileEditable,placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Sku"}),(0,w.jsx)(z,{style:p.textImputModal,value:K,onChangeText:J,cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Sku"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Descripci\xf3n"}),(0,w.jsx)(z,{style:p.textImputModal,value:X,onChangeText:Q,cursorColor:x.azul_Oscuro,editable:!!g?.fileEditable,placeholder:"Descripci\xf3n"})]})]}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"\xbfEste producto tiene fecha de vencimiento?"})}),(0,w.jsx)(i.default,{style:{padding:20,alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},children:D.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:P===e.value,onPress:()=>{g?.fileEditable&&M(e.value)}},e.value)))}),!g?.isModificarProducto&&((g?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(i.default,{style:{borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,flexDirection:"row",height:350,width:"90%"},children:[(0,w.jsxs)(i.default,{style:{flexDirection:"column",height:350,width:"50%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiendas en las que existe el producto"}),(0,w.jsx)(jt,{columns:Xt,items:Xe})]}),(g?.isAddProductoShowProveedores??!1)&&ze&&(0,w.jsxs)(i.default,{style:{height:350,width:"50%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Historial de proveedores"}),(0,w.jsx)(Ct,{columns:Qt,items:et})]})]})),(0,w.jsx)(mt.PanGestureHandler,{onGestureEvent:Ne,children:(0,w.jsxs)(i.default,{style:{marginTop:20,width:"90%",borderWidth:1,borderColor:x.azul_Oscuro,borderRadius:13,padding:20,alignItems:"center",justifyContent:"center",backgroundColor:x.blanco_Suave},children:[(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,marginBottom:"5%"},children:"Im\xe1genes del producto"}),(g?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ut,children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Seleccionar Im\xe1genes"})}),Z.length>0&&(0,w.jsx)(h.default,{horizontal:!0,style:{marginTop:10,width:"100%",height:100},children:Z.map(((e,t)=>(0,w.jsxs)(i.default,{style:{position:"relative",width:100,height:100,marginRight:10},children:[(0,w.jsx)(l.default,{source:{uri:e.uri},style:{width:100,height:100,marginRight:10,borderRadius:10}},t),g?.fileEditable&&(0,w.jsx)(u.default,{style:{position:"absolute",top:5,right:5,backgroundColor:"red",borderRadius:15,width:20,height:20,justifyContent:"center",alignItems:"center",zIndex:1},onPress:()=>Yt(t),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:"X"})})]},t)))})]})}),(g?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>g?.isModificarProducto?Jt():Kt(),disabled:ke,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:g?.isModificarProducto?"Modificar Producto":"Agregar Producto"})})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:le,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Se}),xe&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>he?Lt(1):de(!le),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ie,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Se}),Mt?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Datos Recopilados. Espere a que termine la descarga."}),(0,w.jsx)(u.default,{style:{backgroundColor:"#007BFF",padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>se(!ie),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})]})})})]})}function Dt(){const{width:e}=(0,d.default)(),t=e<930,{setUsuario:a,usuario:r}=((0,b.useNavigation)(),v()),{permisosUsuarioNavbar:n,setPermisosUsuarioNavbar:s}=ee();return(0,o.useEffect)((()=>{(async()=>{if(r?.token){const e=!0,t=4!==parseInt(r.id_rol)&&3!==parseInt(r.id_rol),a=4!==parseInt(r.id_rol)&&3!==parseInt(r.id_rol),o=!0,n=!0,i=4!==parseInt(r.id_rol)&&3!==parseInt(r.id_rol),l=4!==parseInt(r.id_rol)&&3!==parseInt(r.id_rol),d=4!==parseInt(r.id_rol)&&3!==parseInt(r.id_rol),c=4!==parseInt(r.id_rol)&&3!==parseInt(r.id_rol),u=4!==parseInt(r.id_rol)&&3!==parseInt(r.id_rol),h=4!==parseInt(r.id_rol)&&3!==parseInt(r.id_rol),f=4!==parseInt(r.id_rol)&&3!==parseInt(r.id_rol),g=4!==parseInt(r.id_rol),x=4!==parseInt(r.id_rol),p=4!==parseInt(r.id_rol),y=4!==parseInt(r.id_rol);s({resultAccionesView:c,resultAgregarUsuario:i,resultEliminarUsuario:d,resultEntradaView:a,resultModificarUsuario:l,resultMovimientoGeneralView:n,resultMovimientoLocalView:o,resultProductoView:e,resultProveedorView:t,resultTipoServicio:u||h||f,resultClienteView:y||p||x||g,resultGarantiaView:!1||!1||!1})}})()}),[]),t?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"space-around",alignItems:"center",flexDirection:"column"}})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"space-around",alignItems:"center",flexDirection:"row"}})]})}a(7239);const zt=g.default.create({container:{flex:1,marginTop:"1%",marginLeft:"5%",alignItems:"center",justifyContent:"flex-start",zIndex:1,position:"relative"},dropdown:{backgroundColor:x.blanco,borderColor:x.azul_Suave,borderRadius:13,width:"95%",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,zIndex:1e3},dropdownTextDesktop:{fontSize:16,fontWeight:"bold",color:x.negro},dropdownTextMovil:{fontSize:12,fontWeight:"bold",color:x.negro},dropdownContainer:{borderColor:x.azul_Suave,backgroundColor:x.blanco,width:"95%",zIndex:1e3},searchInput:{borderColor:x.azul_Suave,borderWidth:1,borderRadius:10,padding:10,fontSize:14}}),Pt=({value:e,setValue:t,items:a,placeholder:r,searchable:n,readOnly:s=!1,onDropdownOpen:l})=>{const[c,u]=(0,o.useState)(!1),{width:h}=(0,d.default)(),f=h<1150?zt.dropdownTextMovil:zt.dropdownTextDesktop;(0,o.useEffect)((()=>{c&&l&&l()}),[c]);return(0,w.jsx)(i.default,{style:zt.container,children:(0,w.jsx)(he.default,{open:c,value:e,items:a,setOpen:()=>{s||u((e=>!e))},setValue:t,setItems:()=>{},placeholder:r,style:zt.dropdown,textStyle:f,dropDownContainerStyle:zt.dropdownContainer,searchable:n&&!s,searchPlaceholder:"Buscar...",searchTextInputStyle:zt.searchInput,zIndex:1e3,disabled:s})})},Mt=(0,o.createContext)(void 0),Et=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Mt.Provider,{value:{modalEntradasDates:t,setModalEntradasDates:a},children:e})},$t=()=>{const e=o.useContext(Mt);if(void 0===e)throw new Error("useModalEntradasDates debe usarse dentro de un ModalEntradasDates");return e},At=({dayValue:e,monthValue:t,yearValue:a,onDayChange:r,onMonthChange:n,onYearChange:l,style:d,styleText:c,isReadOnly:u=!1,onDropdownOpen:h})=>{const[f,g]=(0,o.useState)(e),[x,p]=(0,o.useState)(t),[y,m]=(0,o.useState)(a),[j,b]=(0,o.useState)([]),[C,S]=(0,o.useState)(null);(0,o.useEffect)((()=>{const e=((e,t)=>new Date(t,e,0).getDate())(Number(x),Number(y)),t=Array.from({length:e},((e,t)=>({label:String(t+1),value:String(t+1)})));Number(f)>e&&g(String(e)),b(t)}),[x,y]);const v=(e,t,a)=>{r(e),n(t),l(a)},I=e=>{C===e?S(null):(S(e),h&&h())};return(0,w.jsxs)(i.default,{style:[Lt.container,d],children:[(0,w.jsxs)(i.default,{style:Lt.inputWrapper,children:[(0,w.jsx)(s.default,{style:[Lt.label,c],children:"D\xeda"}),(0,w.jsx)(he.default,{open:"day"===C,value:f,items:j,setOpen:()=>!u&&I("day"),setValue:e=>{g(e),v(e,x,y)},style:Lt.picker,containerStyle:[Lt.pickerContainer,{zIndex:"day"===C?2:1}],dropDownContainerStyle:Lt.dropDownContainer,disabled:u})]}),(0,w.jsxs)(i.default,{style:Lt.inputWrapper,children:[(0,w.jsx)(s.default,{style:[Lt.label,c],children:"Mes"}),(0,w.jsx)(he.default,{open:"month"===C,value:x,items:Array.from({length:12},((e,t)=>({label:String(t+1),value:String(t+1)}))),setOpen:()=>!u&&I("month"),setValue:e=>{p(e),v(f,e,y)},style:Lt.picker,containerStyle:[Lt.pickerContainer,{zIndex:"month"===C?2:1}],dropDownContainerStyle:Lt.dropDownContainer,disabled:u})]}),(0,w.jsxs)(i.default,{style:Lt.inputWrapper,children:[(0,w.jsx)(s.default,{style:[Lt.label,c],children:"A\xf1o"}),(0,w.jsx)(he.default,{open:"year"===C,value:y,items:Array.from({length:101},((e,t)=>{const a=(new Date).getFullYear()-t;return{label:String(a),value:String(a)}})),setOpen:()=>!u&&I("year"),setValue:e=>{m(e),v(f,x,e)},style:Lt.picker,containerStyle:[Lt.pickerContainer,{zIndex:"year"===C?2:1}],dropDownContainerStyle:Lt.dropDownContainer,disabled:u})]})]})},Lt=g.default.create({container:{flexDirection:"row",justifyContent:"space-between"},inputWrapper:{flex:1,marginHorizontal:5},label:{fontSize:14,marginBottom:5,color:"#000"},picker:{height:20,borderColor:"gray",borderWidth:1,borderRadius:12},pickerContainer:{height:35,width:80},dropDownContainer:{borderColor:"gray",zIndex:9999}}),Bt=({items:e,columns:t})=>{(0,b.useNavigation)();const[a]=o.useState(new c.default.Value(1)),[r,n]=o.useState(0),[l,d]=o.useState(3),[f,g]=o.useState([]);o.useEffect((()=>{const t=r*l,a=Math.min((r+1)*l,e.length);g([]),setTimeout((()=>{g(e.slice(t,a))}),0)}),[r,e,l]);const x=t=>{t>=0&&t*l<e.length&&n(t)},[p,y]=o.useState(!1);return(0,w.jsx)(i.default,{style:Ft.containerDesktop,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(xe.default,{style:{width:"150%"},children:[(0,w.jsx)(xe.default.Header,{style:{justifyContent:"space-between"},children:t.map(((e,t)=>(0,w.jsx)(xe.default.Title,{style:[Ft.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsx)(s.default,{style:Ft.headerTextDesktop,children:e})},t)))}),f.map((e=>(0,w.jsx)(xe.default.Row,{onPress:()=>alert("Not supported yet"),children:(0,w.jsx)(xe.default.Cell,{style:Ft.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"left"},numberOfLines:2,children:e.nombre})})},e.id_tienda))),(0,w.jsxs)(i.default,{style:Ft.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ft.paginationButtonMovil,0===r&&Ft.disabledButton],onPress:()=>x(r-1),disabled:0===r,children:(0,w.jsx)(s.default,{style:Ft.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ft.paginationLabel,children:`${r*l+1}-${Math.min((r+1)*l,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Ft.paginationButtonMovil,(r+1)*l>=e.length&&Ft.disabledButton],onPress:()=>x(r+1),disabled:(r+1)*l>=e.length,children:(0,w.jsx)(s.default,{style:Ft.paginationLabel,children:"Pr\xf3xima"})})]})]})})})},Ft=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%",width:"100%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:24,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:16,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:50,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:50,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:20,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),Nt=(0,o.createContext)(void 0),Wt=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Nt.Provider,{value:{sortServicios:t,setSortServicios:a},children:e})},Ut=()=>{const e=o.useContext(Nt);if(void 0===e)throw new Error("useSortServicios debe usarse dentro de un SortServicios");return e},Vt=({items:e,columns:t,isMobile:r})=>{const n=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=$t(),{usuario:y,setUsuario:m}=v(),{sortServicios:j,setSortServicios:C}=Ut(),S=r?Ht.containerMovil:Ht.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(20),[T,O]=o.useState([]),[D,P]=o.useState(!1),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(0),[V,H]=o.useState(""),q=["Nombre"],[Y,G]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),K=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ne]=o.useState(!1),[ie,se]=o.useState(!1),[le,de]=o.useState("");o.useEffect((()=>{(async()=>{if(y?.token){const e=await ve(y.token,"27",y.id_usuario);se(e)}})(),(async()=>{y?.token&&U(await Pe(y.token))})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const ce=t=>{t>=0&&t*k<e.length&&_(t)},ue=()=>{let t="Importes totales minoristas filtrados:  ",a=0,o=0,r=0;return e.forEach((e=>{e.devuelto||(r+=parseFloat(e.cantidad_transferida),25===parseInt(e.id_Tipo_servicio)?o+=parseFloat(e.precio)*(e.cantidad?parseInt(e.cantidad??"0"):0):a+=parseFloat(e.precio)*(2===parseInt(e.id_Tipo_servicio)?e.cantidad?parseInt(e.cantidad??"0"):0:1))})),t+=`CUP: ${(a*W).toFixed(0)}      Importes mayoristas filtrados:  CUP: ${(o*W).toFixed(0)} `,t+=`      Transferencias CUP: ${r}`,String(t)},he=()=>{let t="Suma de ganancias por servicios prestados ",a=0;return e.forEach((e=>{2===parseInt(e.id_Tipo_servicio)||25===parseInt(e.id_Tipo_servicio)?a+=(parseFloat(e.precio)*W-parseFloat(e.costo)+parseFloat(e.costo_tipo_servicio))*(e.cantidad?parseInt(e.cantidad??"0"):0):a+=parseFloat(e.precio)*W-parseFloat(e.costo)+parseFloat(e.costo_tipo_servicio)})),t+=`    CUP: ${a.toFixed(0)}`,String(t)},fe=()=>(0,w.jsx)(xe.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(xe.default.Title,{style:[Ht.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?Ht.headerTextMovil:Ht.headerTextDesktop,children:[t,("Nombre Cliente"===t||"Precio"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Fecha"===t?a="option3":"Nombre Cliente"===t?a="option4":"Precio"===t&&(a="option5"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[ge,pe]=o.useState(""),[ye,we]=o.useState(""),me=e=>{pe(e),P(!D)},je=e=>{if(we(e),P(!D),"Modificar"===e){if(p({id_entrada:ge,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?A(!$):"Mover"==e&&B(!L)},be=async()=>{if(y?.token){if(0==await ze(y.token,ge,y.id_tienda)){return!!await Ge(y.token,ge)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(i.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(xe.default,{style:{width:"150%"},children:[fe(),T.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>K(e.id_Servicio),style:[{justifyContent:"space-around"},null===e.id_Deuda&&{borderWidth:2,borderColor:"red"}],children:[(0,w.jsx)(xe.default.Cell,{style:[Ht.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(xe.default.Cell,{style:[Ht.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ht.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombreTipoServicio}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ht.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ht.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.cantidad?e.cantidad:""})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ht.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:e.cantidad?(parseFloat(e.precio)*W).toFixed(0):""})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ht.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:e.cantidad?(parseFloat(e.precio)*parseInt(e.cantidad)*W).toFixed(0):(parseFloat(e.precio)*W).toFixed(0)})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ht.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Servicio))),(0,w.jsx)(f.default,{transparent:!0,visible:D,animationType:"fade",onRequestClose:()=>me(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{je("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{je("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(re||ae)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{je("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>me(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[ge,ye]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await be();if(A(!$),e){const e=T.filter((e=>e.id_Cliente!==ge));O(e),H("Producto eliminado con \xe9xito"),N(!0)}else H("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),N(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!$),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:le,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");de(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Bt,{columns:q,items:Y})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Servicios"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:ue()})}),(1===parseInt(y?.id_rol)||2===parseInt(y?.id_rol))&&(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:he()})}),(0,w.jsxs)(i.default,{style:Ht.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ht.paginationButtonMovil,0===I&&Ht.disabledButton],onPress:()=>ce(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Ht.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ht.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Ht.paginationButtonMovil,(I+1)*k>=e.length&&Ht.disabledButton],onPress:()=>ce(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Ht.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(i.default,{style:S,children:(0,w.jsxs)(xe.default,{children:[fe(),T.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>K(e.id_Servicio),children:[(0,w.jsx)(xe.default.Cell,{style:Ht.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(xe.default.Cell,{style:Ht.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ht.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombreTipoServicio}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ht.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ht.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.cantidad?e.cantidad:""})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ht.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:e.cantidad?(parseFloat(e.precio)*W).toFixed(0):""})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ht.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:e.cantidad?(parseFloat(e.precio)*parseInt(e.cantidad)*W).toFixed(0):(parseFloat(e.precio)*W).toFixed(0)})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ht.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Servicio))),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:ue()})}),(1===parseInt(y?.id_rol)||2===parseInt(y?.id_rol))&&(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:he()})}),(0,w.jsxs)(i.default,{style:Ht.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ht.paginationButtonDesktop,0===I&&Ht.disabledButton],onPress:()=>ce(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Ht.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ht.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Ht.paginationButtonDesktop,(I+1)*k>=e.length&&Ht.disabledButton],onPress:()=>ce(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Ht.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Ht=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),qt=async(e,t)=>{try{return(await P.default.get(`${M}/Servicio/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de un servicio en espec\xedfico segun el ID: ",a),!1}},Yt=async(e,t,a,o,r,n,i,s,l,d,c,u)=>{try{return(await P.default.post(`${M}/Servicio/createServicio`,{fecha:t,precio:a,nota:o,descripcion:r,tienda:{id_tienda:n},tipo_servicio:{id_tipo_servicio:i},cliente:{id_cliente:d??null},costo:s,cantidad_transferida:l,garantia:null,deuda:null,encargo:null},{headers:{Authorization:`${e}`}})).data}catch(h){return P.default.isAxiosError(h)&&401===h.response?.status&&A("Login"),console.log("Error agregar servicio: ",h),!1}},Gt=async(e,t,a,o,r,n,i,s,l,d,c,u,h)=>{try{return(await P.default.put(`${M}/Servicio/updateServicio/${t}`,{fecha:a,precio:o,nota:r,costo:s,cantidad_transferida:l,devuelto:d,tienda:{id_tienda:n},tipo_servicio:{id_tipo_servicio:i},cliente:{id_cliente:c??null}},{headers:{Authorization:`${e}`}})).data}catch(f){return P.default.isAxiosError(f)&&401===f.response?.status&&A("Login"),console.log("Error modificar servicio: ",f),!1}},Kt=async(e,t)=>{try{return(await P.default.delete(`${M}/Servicio/deleteServicio/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al eliminar servicio: ",a),!1}},Jt=async(e,t,a,o,r,n,i,s,l)=>{try{return(await P.default.post(`${M}/Servicio/api/filtrar`,{nombre_cliente:t,id_tipo_servicio:a,id_tienda:o,precio_liminf:r,precio_limsup:n,fecha_liminf:i,fecha_limsup:s,nombre_producto:l},{headers:{Authorization:`${e}`}})).data}catch(d){return P.default.isAxiosError(d)&&401===d.response?.status&&A("Login"),console.log("Error al filtrar los datos: ",d),!1}},Xt=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Servicio/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al ordenar las servicios: ",r),!1}},Qt=async e=>{try{return(await P.default.get(`${M}/Tipo_servicio`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al obtener datos de todos los Tipos de Servicios: ",t),!1}},Zt=async(e,t)=>{try{return(await P.default.get(`${M}/Tipo_servicio/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de un Tipo de Servicio espesifico segun el ID: ",a),!1}},ea=async(e,t,a)=>{try{return(await P.default.post(`${M}/Tipo_servicio/createTipo_servicio`,{nombre:t,costo:a},{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error incertar el tipo de servicio: ",o),!1}},ta=async(e,t,a,o)=>{try{return(await P.default.put(`${M}/Tipo_servicio/updateTipo_servicio/${t}`,{nombre:a,costo:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error modificar el tipo de servicio: ",r),!1}},aa=async(e,t)=>{try{return(await P.default.delete(`${M}/Tipo_servicio/deleteTipo_servicio/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error eliminar el tipo de servocio: ",a),!1}},oa=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Tipo_servicio/api/filtrar`,{nombre:t,costo_liminf:a,costo_limsup:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al filtrar los datos: ",r),!1}},ra=async e=>{try{return(await P.default.get(`${M}/cliente`,{headers:{Authorization:`${e}`}})).data}catch(t){return P.default.isAxiosError(t)&&401===t.response?.status&&A("Login"),console.log("Error al obtener datos de todos los Clientes: ",t),!1}},na=async(e,t)=>{try{return(await P.default.get(`${M}/Cliente/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return console.log("Error al obtener datos del cliente: ",a),!1}},ia=async(e,t,a,o,r,n,i,s)=>{try{return(await P.default.post(`${M}/Cliente/createCliente`,{nombre:t,email:a||"",descripcion:r||"",nota:n||"",telefono:o||"",Cif:i||"",detalles_bancarios:s||""},{headers:{Authorization:`${e}`}})).data}catch(l){return console.log("Error al incertar un nuevo cliente: ",l),!1}},sa=async(e,t,a,o,r,n,i,s,l)=>{try{return(await P.default.put(`${M}/Cliente/updateCliente/${t}`,{nombre:a,email:o||"",descripcion:n||"",nota:i||"",telefono:r||"",Cif:s||"",detalles_bancarios:l||""},{headers:{Authorization:`${e}`}})).data}catch(d){return console.log("Error al actualizar el cliente: ",d),!1}},la=async(e,t)=>{try{return await P.default.delete(`${M}/Cliente/deleteCliente/${t}`,{headers:{Authorization:`${e}`}})}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al eliminar el cliente: ",a),!1}},da=async(e,t,a,o,r)=>{try{return(await P.default.post(`${M}/Cliente/api/filtrar`,{nombre:t||"",cif:o||"",telefono:a||"",detalles_bancarios:r||""},{headers:{Authorization:`${e}`}})).data}catch(n){return P.default.isAxiosError(n)&&401===n.response?.status&&A("Login"),console.log("Error al filtrar los clientes: ",n),!1}},ca=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Cliente/ordenar/all`,{items:t,criterio:a,ascendente:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error al ordenar los clientes: ",r),!1}},ua=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Venta/createVenta`,{producto:{id_producto:t},servicio:{id_servicio:a},cantidad:o},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error agregar venta: ",r),!1}},ha=async(e,t,a)=>{try{return(await P.default.delete(`${M}/Venta/deleteVenta/${t}/${a}`,{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error al eliminar venta: ",o),!1}},fa=async(e,t)=>{try{return(await P.default.get(`${M}/Venta/getbyServicio/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de la venta segun el id del servicio: ",a),!1}},ga=g.default.create({radioButton:{flexDirection:"row",height:40,width:"35%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginLeft:"5%",backgroundColor:x.azul_Suave},radioButtonSelected:{backgroundColor:x.azul_Oscuro},radioButtonText:{fontSize:16,color:x.blanco,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},radioButtonTextSelected:{fontWeight:"bold",color:x.blanco_Suave}}),xa=({onPress:e,selected:t,label:a})=>(0,w.jsx)(u.default,{onPress:e,style:[ga.radioButton,t&&ga.radioButtonSelected],children:(0,w.jsx)(s.default,{style:[ga.radioButtonText,t&&ga.radioButtonTextSelected],children:a})}),pa=async(e,t)=>{try{return(await P.default.get(`${M}/Garantia/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de una garantia en espec\xedfico segun el ID: ",a),!1}},ya=async(e,t,a)=>{try{return(await P.default.post(`${M}/Garantia/createGarantia`,{duracion:t,servicio:{id_servicio:a}},{headers:{Authorization:`${e}`}})).data}catch(o){return P.default.isAxiosError(o)&&401===o.response?.status&&A("Login"),console.log("Error incertar la garantia: ",o),!1}},wa=async(e,t,a,o)=>{try{return(await P.default.put(`${M}/Garantia/updateGarantia/${o}`,{duracion:t,servicio:{id_servicio:a}},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error modificar la garantia: ",r),!1}},ma=async(e,t)=>{try{return(await P.default.delete(`${M}/Garantia/deleteGarantia/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error eliminar la garantia: ",a),!1}},ja=async(e,t,a,o,r,n,i,s)=>{try{return(await P.default.post(`${M}/Garantia/api/filtrar`,{nombre_producto:r,nombre_cliente:t,duracion_liminf:o,duracion_limsup:a,fecha_liminf:n,fecha_limsup:i,id_tienda:s},{headers:{Authorization:`${e}`}})).data}catch(l){return P.default.isAxiosError(l)&&401===l.response?.status&&A("Login"),console.log("Error al filtrar los datos: ",l),!1}},ba=async(e,t,a,o)=>{console.log(t,a,o);try{return(await P.default.post(`${M}/Encargo/createEncargo`,{adelanto:t,fecha_final:a,servicio:{id_servicio:o}},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error incertar el encargo: ",r),!1}},Ca=async(e,t,a,o,r)=>{try{return(await P.default.put(`${M}/Encargo/updateEncargo/${r}`,{adelanto:t,fecha_final:a,servicio:{id_servicio:o}},{headers:{Authorization:`${e}`}})).data}catch(n){return P.default.isAxiosError(n)&&401===n.response?.status&&A("Login"),console.log("Error modificar el encargo: ",n),!1}},Sa=async(e,t)=>{try{return(await P.default.delete(`${M}/Encargo/deleteEncargo/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error eliminar el encargo: ",a),!1}},va=async(e,t)=>{try{return(await P.default.get(`${M}/Deuda/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al obtener datos de una deuda en espec\xedfico segun el ID: ",a),!1}},Ia=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Deuda/createDeuda`,{deuda:t,pago_deuda:{id_pago_deuda:o},servicio:{id_servicio:a}},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error incertar la deuda: ",r),!1}},_a=async(e,t)=>{try{return(await P.default.delete(`${M}/Deuda/deleteDeuda/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error eliminar la deuda: ",a),!1}},ka=async(e,t,a,o,r,n,i,s,l,d)=>{try{return(await P.default.post(`${M}/Deuda/api/filtrar`,{nombre_producto:t,nombre_cliente:a,deuda_liminf:o,deuda_limsup:r,id_tienda:s,id_tipo_servicio:l,fecha_liminf:n,fecha_limsup:i,saldada:d},{headers:{Authorization:`${e}`}})).data}catch(c){return P.default.isAxiosError(c)&&401===c.response?.status&&A("Login"),console.log("Error al filtrar los datos: ",c),!1}},Ra=async(e,t,a,o)=>{try{return(await P.default.post(`${M}/Pago_Deuda/createPago_Deuda`,{pagada:t,fecha:a,deuda:{id_deuda:o}},{headers:{Authorization:`${e}`}})).data}catch(r){return P.default.isAxiosError(r)&&401===r.response?.status&&A("Login"),console.log("Error incertar la pago deuda: ",r),!1}},Ta=async(e,t)=>{try{return(await P.default.delete(`${M}/Pago_Deuda/deletePago_Deuda/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error eliminar la pago deuda: ",a),!1}};function Oa(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[n,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),[k,T]=(0,o.useState)(1e3),[O,D]=(0,o.useState)(1e3),[P,M]=(0,o.useState)(1e3),[E,$]=(0,o.useState)(1e3),[A,L]=(0,o.useState)(1e3),B=e=>{"FechaDetails"===e?(g(2e3),j(1500)):"TiendaDetails"===e||"TipoServicioDetails"===e?(j(2e3),g(1500),_(1500),S(2e3),T(1500)):"ProductoDetails"===e?(j(1500),g(1500),_(2e3),S(1500),T(1500)):"ClienteDetails"===e&&(T(2e3),j(1500),g(1500),_(1500),S(1500)),"FechaDesdeSearsh"===e?(D(2e3),M(1500),L(1500),$(1500)):"FechaHastaSearsh"===e?(D(1500),M(2e3),L(1500),$(1500)):"TipoServicioSearsh"===e?(D(1500),M(1500),L(1500),$(2e3)):"TiendaSearsh"===e&&(D(1500),M(1500),L(2e3),$(1500))},{usuario:F,setUsuario:N}=v(),{modalEntradasDates:W,setModalEntradasDates:U}=$t(),{sortServicios:V,setSortServicios:H}=Ut(),[q,Y]=(0,o.useState)(!1),K=(0,o.useRef)(new c.default.Value(0)).current,[J,X]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)(0)),[Q,Z]=(0,o.useState)(""),[ee,te]=(0,o.useState)(!1),[ae,oe]=(0,o.useState)(!1),[re,ne]=(0,o.useState)(!1),[ie,se]=(0,o.useState)(!1),[le,de]=(0,o.useState)([]),[he,fe]=(0,o.useState)(""),[xe,pe]=(0,o.useState)(F?.id_tienda),[ye,we]=(0,o.useState)(""),[me,je]=(0,o.useState)(""),[be,Ce]=(0,o.useState)(""),[Se,_e]=(0,o.useState)(""),[Re,Te]=(0,o.useState)(""),[Oe,De]=(0,o.useState)("1"),[Me,Ee]=(0,o.useState)("0"),[$e,Le]=(0,o.useState)("0"),[Fe,We]=(0,o.useState)(""),[Ue,Ve]=(0,o.useState)(""),[He,qe]=(0,o.useState)("sin Devolver"),[Ge,Ke]=(0,o.useState)(""),[Je,Xe]=(0,o.useState)(""),[Qe,Ze]=(0,o.useState)(""),[et,tt]=(0,o.useState)(""),[at,ot]=(0,o.useState)(""),[rt,nt]=(0,o.useState)(""),[it,st]=(0,o.useState)(""),[lt,dt]=(0,o.useState)(""),[ct,ut]=(0,o.useState)(""),[ht,ft]=(0,o.useState)(""),[gt,xt]=(0,o.useState)(!1),[pt,yt]=(0,o.useState)(!1),[wt,mt]=(0,o.useState)(!1),[jt,bt]=(0,o.useState)(""),[Ct,St]=(0,o.useState)(""),[vt,It]=(0,o.useState)("0"),[_t,kt]=(0,o.useState)("0"),[Rt,Ot]=(0,o.useState)("0"),[Dt,zt]=(0,o.useState)(""),[Mt,Et]=(0,o.useState)(""),[Lt,Bt]=(0,o.useState)(""),[Ft,Nt]=(0,o.useState)(""),[Wt,Ht]=(0,o.useState)(""),[Zt,ea]=(0,o.useState)(""),[ta,aa]=(0,o.useState)(""),[oa,na]=(0,o.useState)(""),[ia,sa]=(0,o.useState)("sin Devolver"),[la,da]=(0,o.useState)(!1),[ca,ga]=(0,o.useState)(""),[pa,ja]=(0,o.useState)(""),[ka,Oa]=(0,o.useState)(""),[Da,za]=(0,o.useState)(!1),[Pa,Ma]=(0,o.useState)(!1),[Ea,$a]=o.useState(!1),[Aa,La]=o.useState(""),[Ba,Fa]=o.useState(!1),[Na,Wa]=(0,o.useState)(!1),[Ua,Va]=(0,o.useState)(!1),[Ha,qa]=(0,o.useState)(""),[Ya,Ga]=(0,o.useState)(!1),[Ka,Ja]=o.useState(!1),[Xa,Qa]=o.useState(!1),[Za,eo]=o.useState(!1),[to,ao]=o.useState(!1),[oo,ro]=o.useState(!1),[no,io]=(0,o.useState)(!1),so=()=>`Se debe cobrar CUP: ${(parseFloat(Ge)*parseFloat(Oe)).toFixed(0)} y se pagar\xe1 por transferencia una cantidad de ${vt}`,[lo,co]=(0,o.useState)(null),[uo,ho]=(0,o.useState)([]),fo=()=>{q?c.default.timing(K,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>Y(!1))):(Y(!0),c.default.timing(K,{toValue:400,duration:300,useNativeDriver:!1}).start())},go={height:K},[xo,po]=(0,o.useState)([]),[yo,wo]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[mo,jo]=(0,o.useState)([]),[bo,Co]=(0,o.useState)([]),[So,vo]=(0,o.useState)([]),[Io,_o]=(0,o.useState)([]),ko=new Date,Ro=String(ko.getFullYear()),To=String(ko.getMonth()+1).padStart(2,"0"),Oo=String(ko.getDate()).padStart(2,"0"),[Do,zo]=(0,o.useState)(""),[Po,Mo]=(0,o.useState)(""),[Eo,$o]=(0,o.useState)(""),[Ao,Lo]=(0,o.useState)(""),[Bo,Fo]=(0,o.useState)(""),[No,Wo]=(0,o.useState)(""),[Uo,Vo]=(0,o.useState)(String(parseInt(Oo))),[Ho,qo]=(0,o.useState)(String(parseInt(To))),[Yo,Go]=(0,o.useState)(String(parseInt(Ro))),[Ko,Jo]=(0,o.useState)(String(parseInt(Oo))),[Xo,Qo]=(0,o.useState)(String(parseInt(To))),[Zo,er]=(0,o.useState)(String(parseInt(Ro))),[tr,ar]=(0,o.useState)(""),or=[{label:"D\xeda",value:"dia"},{label:"Semana",value:"semana"},{label:"Mes",value:"mes"}],rr=[{label:"Devolver",value:"devolver"},{label:"Sin Devolver",value:"sin devolver"}],nr=e=>{ar(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let n="";if("dia"===e)n=`${a}-${o}-${r}`;else if("semana"===e){const e=new Date(t);e.setDate(t.getDate()-6);n=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("mes"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setMonth(t.getMonth()-1);n=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}ur(n,`${a}-${o}-${r}`)},[ir,sr]=(0,o.useState)(!1),lr=()=>{je(""),We(""),De(""),It("0"),_e(""),yt(!1),Ma(!1),Ot("0"),kt("0"),U({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(te(!1),F?.token&&W?.id_entrada){da(!1);const e=await qt(F.token,W.id_entrada);if(e){const[t,a,o]=e.fecha.split("T")[0].split("-");if(we(e.id_servicio),je(e.cliente.id_cliente),_e(e.tipo_servicio.id_tipo_servicio),Xe(e.nota),Ze(e.descripcion),qe(e.devuelto?"devolver":"sin devolver"),xt(null!==e.garantia),It(e.cantidad_transferida),St(null!==e.garantia?e.garantia.duracion:""),bt(null!==e.garantia?e.garantia.id_garantia:""),Et(null!==e.encargo?e.encargo.id_encargo:""),ft(null!==e.encargo?e.encargo.adelanto:""),Bt(null!==e.deuda?e.deuda.id_deuda:""),null!==e.encargo){const t=String(e.encargo.fecha).split("-"),a=t[0],o=t[1],r=t[2];ut(String(parseInt(a))),dt(String(parseInt(o))),st(String(parseInt(r)))}if(na(e.tipo_servicio.id_tipo_servicio),sa(e.devuelto?"devolver":"sin devolver"),zt(null!==e.garantia?e.garantia.duracion:""),mt(null!==e.garantia),2===parseInt(e.tipo_servicio.id_tipo_servicio)){const t=await fa(F.token,ye);t?(za(!0),Te(t.producto.id_producto),De(t.cantidad),Ce(e.tienda.id_tienda),We(e.precio),Ke(String((parseFloat(e.precio)*J).toFixed(0))),Le(e.costo_acumulado)):(za(!0),Te(""),De(""),Ce(""),We(""),Ke(""),Le(""))}else za(!1),We(e.precio),Ke(String((parseInt(e.precio)*J).toFixed(0))),Le(e.costo);tt(String(parseInt(o))),ot(String(parseInt(a))),nt(String(parseInt(t))),st(String(parseInt(o))),dt(String(parseInt(a))),ut(String(parseInt(t))),da(!0)}}te(!0)})()}),[W]),(0,o.useEffect)((()=>{26===parseInt(Se)?Ma(!0):Ma(!1),(async()=>{if(F?.token){const e=await qt(F.token,W.id_entrada);if(2===parseInt(Se)||25===parseInt(Se)){const t=await fa(F.token,ye);za(!0),t?(ea(t.producto.id_producto),aa(t.cantidad),Ht(e.tienda.id_tienda),Te(t.producto.id_producto),Z(t.producto.id_producto),De(t.cantidad),Ce(e.tienda.id_tienda),We(e.precio),Ke(String((parseFloat(e.precio)*J).toFixed(0))),Le(t.producto.costo_acumulado)):(za(!0),Te(""),De(""),We(""),Ke(""),Le(""))}else za(!1),We(e.precio),Ke(String((parseInt(e.precio)*J).toFixed(0))),Le(e.costo)}})()}),[Se]),(0,o.useEffect)((()=>{"PrecioCUP"===Ft?(We(parseFloat(Fe).toFixed(4)),Nt("")):"PrecioUSD"===Ft?(Ke(parseFloat(Ge).toFixed(0)),Nt("")):"CostoCUP"===Ft?(Le(parseFloat($e).toFixed(4)),Nt("")):"CostoUSD"===Ft&&(Ee(parseFloat(Me).toFixed(0)),Nt("")),Nt("")}),[Ft]),(0,o.useEffect)((()=>{(async()=>{if(F?.token){const e=await Ae(F.token,be);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));Co(t)}}})()}),[be]),(0,o.useEffect)((()=>{if(ee)if(""!==Re&&Re!==Q&&F?.token){Z(Re);(async()=>{const e=await Be(F.token,Re);Le(e.costo_acumulado),We(e.precio??0),Ve(e.precio??0),Ke(String((parseFloat(e.precio)*J).toFixed(0))??0)})()}else Z(Re)}),[Re]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{te(!1),await(async()=>{if(F?.token){if(null===localStorage.getItem("isPermisoAgregarServicio")){const e=await ve(F.token,"26",F.id_usuario);Ja(e),localStorage.setItem("isPermisoAgregarServicio",e)}else Ja(Boolean(localStorage.getItem("isPermisoAgregarServicio")));if(null===localStorage.getItem("isPermisoEliminarServicio")){const e=await ve(F.token,"25",F.id_usuario);Qa(e),localStorage.setItem("isPermisoEliminarServicio",e)}else Qa(Boolean(localStorage.getItem("isPermisoEliminarServicio")));if(null===localStorage.getItem("sPermisoModificarServicio")){const e=await ve(F.token,"24",F.id_usuario);eo(e),localStorage.setItem("isPermisoModificarServicio",e)}else eo(Boolean(localStorage.getItem("isPermisoModificarServicio")));if(null===localStorage.getItem("isPermisoServicioLocal")){const e=await ve(F.token,"26",F.id_usuario);ao(e),localStorage.setItem("isPermisoServicioLocal",e)}else ao(Boolean(localStorage.getItem("isPermisoServicioLocal")));if(null===localStorage.getItem("isPermisoServicioGeneral")){const e=await ve(F.token,"27",F.id_usuario);ro(e),localStorage.setItem("isPermisoServicioGeneral",e)}else ro(Boolean(localStorage.getItem("isPermisoServicioGeneral")));null===localStorage.getItem("cambioMoneda")?X(await Pe(F.token)):X(parseFloat(localStorage.getItem("cambioMoneda")))}})(),await(async()=>{if(void 0!=F?.token){const e=await Qt(F.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_tipo_servicio}))));_o([{label:"Todos los tipos de servicios",value:""},...t])}}})(),await(async()=>{if(void 0!=F?.token){const e=await ra(F.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_cliente}))));jo(t)}}})(),await(async()=>{if(void 0!=F?.token){const e=await Ie(F.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));vo([{label:"Todas las tiendas",value:""},...t])}}})(),await(async()=>{if(void 0!=F?.token){const e=await ve(F.token,"27",F.id_usuario),t=await ve(F.token,"26",F.id_usuario);if(e){const e=await Ae(F.token,F.id_tienda);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));Co(t)}}else if(t){const e=await Ae(F.token,F.id_tienda);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));Co(t)}}}})()})(),()=>{})),[]));const[dr,cr]=(0,o.useState)(!1),ur=async(e,t)=>{sr(!0);try{if(F?.token){let a=await(async(e,t)=>{if(F?.token){const o=await ve(F.token,"27",F.id_usuario);try{const a=await Jt(F.token,Do,Eo,o?Ao:F.id_tienda,Bo,No,e,t,Po);if(a)return await Promise.all(a.map((async e=>({id_Servicio:e.id_servicio,id_Cliente:e.cliente.id_cliente,id_Tienda:e.tienda.id_tienda,id_Tipo_servicio:e.tipo_servicio.id_tipo_servicio,id_Deuda:"",id_Garantia:"",fecha:e.fecha,precio:e.precio,nota:e.nota,descripcion:e.descripcion,nombreCliente:e.cliente.nombre,nombreTienda:e.tienda.nombre,nombreTipoServicio:e.tipo_servicio.nombre,nombreProducto:e.venta?e.venta.producto.nombre:"",cantidad:e.venta?e.venta.cantidad:"",devuelto:e.devuelto,costo:e.costo,cantidad_transferida:e.cantidad_transferida,costo_tipo_servicio:e.tipo_servicio.costo}))))}catch(a){return console.error("Error al filtrar los proveedoress:",a),null}}return null})(e,t)||[];cr(!dr),a=V?.criterioOrden&&V.tipoOrden?await Xt(F.token,a,V.criterioOrden,dr):await Xt(F.token,a,"option3",dr),po(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{sr(!1)}};(0,o.useEffect)((()=>{ur(`${Yo}-${Ho}-${Uo}`,`${Zo}-${Xo}-${Ko}`)}),[V,lo]),(0,o.useEffect)((()=>{ar("")}),[Uo,Ho,Yo,Ko,Xo,Zo]);const hr=()=>{za(!0),Te(""),te(!0),da(!1),Ce(F?.id_tienda),_e(""),je(""),Te(""),ga(""),ea(""),We(""),Ke(""),De(""),Le(""),De(""),Xe(""),Ze(""),se(!ie);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");tt(String(parseInt(o))),ot(String(parseInt(a))),nt(String(parseInt(t))),st(String(parseInt(o))),dt(String(parseInt(a))),ut(String(parseInt(t))),da(!0)},fr=()=>{da(!1),Ce(F?.id_tienda),_e(""),je(""),We(""),Ke(""),De(""),Le(""),De(""),Xe(""),Ze(""),U({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1});const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");tt(String(parseInt(o))),ot(String(parseInt(a))),nt(String(parseInt(t))),st(String(parseInt(o))),dt(String(parseInt(a))),ut(String(parseInt(t))),da(!0)},gr=e=>{"Enter"===e.nativeEvent.key&&ur(`${Yo}-${Ho}-${Uo}`,`${Zo}-${Xo}-${Ko}`)},xr=()=>{zo(""),co(""),Lo(""),$o(""),Fo(""),Wo(""),ar("")},pr=async()=>{if(!Ya){if(Ga(!0),Wa(!1),La("Agregando multiples ventas. Espere por favor"),$a(!0),F?.token){if(""===he||""===xe||0===le.length)return La("Debe seleccionar un Cliente y una Tienda para continuar o no hay ventas que agregar."),Wa(!0),$a(!0),void Ga(!1);let e=0,t=0,a=!0,o="ERROR AL AGREGAR VENTAS. Por favor verifique las siguientes ventas:\n";for(let r=0;r<le.length;r++){const n=le[r],i=await ze(F.token,n.idProductoDetails,xe||"");let s="-"+n.nombreProducto+":\n",l=!0;n.isGarantiaDetails&&1===parseInt(he)&&(l=!1,s+="-  La venta del producto "+n.nombreProducto+" tiene garant\xeda por lo que el cliente no puede ser an\xf3nimo.\n"),i&&parseInt(i.cantidad)<parseInt(n.cantidadProductoDetails)&&(l=!1,s+="-  La cantidad que desea vender del producto "+n.nombreProducto+" es mayor que la cantidad que hay en la tienda.\n"),n.isDeudaDetails&&1===parseInt(he)&&(l=!1,s+="-  La venta el producto "+n.nombreProducto+" genera una deuda por tanto, el cliente no puede ser an\xf3nimo.\n"),l||(a=!1,o+=s),t+=parseFloat((n.precioUSDDetails*J).toFixed(0))*parseInt(n.cantidadProductoDetails),e+=parseFloat(n.cantidadTransferencia)}if(t<e)a=!1,o+="-La suma de las transferencias es mayor que la suma de los precios.\n";else{const t=[...le].sort(((e,t)=>parseFloat(t.precioUSDDetails)*t.cantidadProductoDetails-parseFloat(e.precioUSDDetails)*e.cantidadProductoDetails));let a=e;for(let e=0;e<t.length;e++){const o=t[e],r=parseFloat((o.precioUSDDetails*J).toFixed(0))*parseInt(o.cantidadProductoDetails);e===t.length-1?o.cantidadTransferencia=a:o.cantidadTransferencia=Math.min(a,r),a-=o.cantidadTransferencia}de(le.map((e=>{const a=t.find((t=>t.idProductoDetails===e.idProductoDetails));return a?Object.assign({},e,{cantidadTransferencia:a.cantidadTransferencia}):e})))}if(a){for(let e=0;e<le.length;e++){const t=le[e],a=await Yt(F.token,t.fecha,t.precioUSDDetails,t.notaDetails,t.descripcionDetails,xe,2,t.costoPromedioProductoUSDDetails,t.cantidadTransferencia,he,"Not suport yet","not suport yet");if(t.isGarantiaDetails&&await ya(F.token,Ct,a.id_servicio),t.isDeudaDetails){const e=await Ia(F.token,t.precioUSDDetails,a.id_servicio,void 0);t.adelantoUSDDeudaDetails&&parseFloat(t.adelantoUSDDeudaDetails)>0&&await Ra(F.token,t.adelantoUSDDeudaDetails,t.fecha,e.id_deuda)}await ua(F.token,t.idProductoDetails,a.id_servicio,t.cantidadProductoDetails),await ke(F.token,t.idProductoDetails,xe,`${parseInt(t.cantidadProductoDetails)}`),await Ne(F.token,t.idProductoDetails,xe);const o=mo.find((e=>e.value===he)),r=Io.find((e=>2===parseInt(e.value))),n=bo.find((e=>e.value===t.idProductoDetails)),i=new Date,s=String(i.getFullYear()),l=String(i.getMonth()+1).padStart(2,"0"),d=String(i.getDate()).padStart(2,"0");let c=`El usuario ${F.nombre} agreg\xf3 un servicio del tipo de servicio ${r?.label} al cliente ${o?.label}. Se vendi\xf3 una cantidad de ${t.cantidadProductoDetails} del producto ${n?.label} a un precio de ${(parseFloat(t.precioUSDDetails)*J).toFixed(0)} CUP`;await G(F.token,c,`${s}-${l}-${d}`,F.id_usuario,7),await Ye(F.token,Se,xe)}Wa(!0),La("Las Ventas se agregaron con exito"),$a(!0),Fa(!0),je(""),We(""),Ke(""),De(""),Le(""),_e(""),De(""),Xe(""),Ze(""),St("")}else La(o),Wa(!0),$a(!0)}Ga(!1)}},yr=async()=>{if(!Ya){if(Ga(!0),Wa(!1),La("Agregando servicio a la lista. Espere por favor"),$a(!0),F?.token){let e=!0,t="ERROR AL INGRESAR SERVICIO. Por favor verifique los siguientes campos:\n";if(""!==$e&&void 0!==$e||(e=!1,t+="-Digite el costo del servicio.\n"),parseFloat(Fe)!==parseFloat(Ue)&&""===Qe&&(e=!1,t+="-Si cambia el precio original del producto debe proporcionar una descripcip\xf3n del porque.\n"),""!==Fe&&void 0!==$e||(e=!1,t+="-Defina el precio cobrado al cliente.\n"),gt&&""===Ct&&(e=!1,t+="-Defina la duraci\xf3n de la garant\xeda.\n"),""===be&&(e=!1,t+="-Seleccione una tienda.\n"),2!==parseInt(Se)&&25!==parseInt(Se)||(""===Re&&(e=!1,t+="-Seleccione un producto para vender.\n"),""===Oe&&(e=!1,t+="-Defina la cantidad que desea vender del producto.\n")),26===parseInt(Se)){const a=new Date(`${rt}-${at}-${et}`),o=new Date(`${ct}-${lt}-${it}`);1===parseInt(me)&&(e=!1,t+="-No se puede hacer un encargo al cliente An\xf3nimo.\n"),o<a&&(e=!1,t+="-La fecha del encargo no puede ser menor que la fecha del servicio.\n")}if(pt&&!Pa&&(parseFloat(_t)>parseFloat(Fe)*J&&(e=!1,t+="-El adelanto inicial de la deuda es mayor que el monto a cobrar por el servicio.\n"),1===parseInt(me)&&(e=!1,t+="-El cliente An\xf3nimo no puede tener deudas")),e){let e={fecha:`${at}-${et}-${rt}`,precioUSDDetails:Fe,notaDetails:Je,descripcionDetails:Qe,costoPromedioProductoUSDDetails:$e,id:0===le.length?1:Math.max(...le.map((e=>e.id)))+1,cantidadTransferencia:""===vt?"0":vt};gt&&(e=Object.assign({},e,{isGarantiaDetails:gt,duracionGarantiaDetails:Ct})),pt&&(e=Object.assign({},e,{isDeudaDetails:pt}),_t&&parseFloat(_t)>0&&(e=Object.assign({},e,{adelantoUSDDeudaDetails:_t})));const t=bo.find((e=>e.value===Re));e=Object.assign({},e,{idProductoDetails:Re,cantidadProductoDetails:Oe,nombreProducto:t?.label}),de([...le,e]),Wa(!0),La("El servicio se agreg\xf3 a la lista"),$a(!0),Fa(!1),je(""),We(""),Ke(""),De(""),Le(""),_e(""),De(""),Xe(""),Ze(""),St(""),Te("")}else La(t),Wa(!0),$a(!0)}Ga(!1)}},wr=async()=>{if(!Ya){if(Ga(!0),Wa(!1),La("Agregando servicio. Espere por favor"),$a(!0),F?.token){const e=await ze(F.token,Re,be);let t=!0,a="ERROR AL INGRESAR SERVICIO. Por favor verifique los siguientes campos:\n";if(""!==$e&&void 0!==$e||(t=!1,a+="-Digite el costo del servicio.\n"),parseFloat(Fe)!==parseFloat(Ue)&&""===Qe&&(t=!1,a+="-Si cambia el precio original del producto debe proporcionar una descripcip\xf3n del porque.\n"),""!==Fe&&void 0!==$e||(t=!1,a+="-Defina el precio cobrado al cliente.\n"),""===me&&(t=!1,a+="-Seleccione un cliente. Si no hay datos del cliente seleccione an\xf3nimo\n"),""===Se&&(t=!1,a+="-Seleccione el tipo de servicio que est\xe1 ofreciendo.\n"),gt&&""===Ct&&(t=!1,a+="-Defina la duraci\xf3n de la garant\xeda.\n"),gt&&1===parseInt(me)&&(t=!1,a+="-El ciente An\xf3nimo no puede tener garant\xedas"),""===be&&(t=!1,a+="-Seleccione una tienda.\n"),parseFloat(vt)>parseFloat(Ge)*parseInt(Oe)&&(t=!1,a+="-La cantidad de la transferencia es mayor que el precio del producto. \n"),e&&parseInt(e.cantidad)<parseInt(Oe)&&(t=!1,a+="-La cantidad que desea vender es mayor que la cantidad que hay en la tienda.\n"),2!==parseInt(Se)&&25!==parseInt(Se)||(""===Re&&(t=!1,a+="-Seleccione un producto para vender.\n"),""===Oe&&(t=!1,a+="-Defina la cantidad que desea vender del producto.\n")),26===parseInt(Se)){const e=new Date(`${rt}-${at}-${et}`),o=new Date(`${ct}-${lt}-${it}`);1===parseInt(me)&&(t=!1,a+="-No se puede hacer un encargo al cliente An\xf3nimo.\n"),o<e&&(t=!1,a+="-La fecha del encargo no puede ser menor que la fecha del servicio.\n")}if(pt&&!Pa&&(parseFloat(_t)>parseFloat(Fe)&&(t=!1,a+="-El adelanto inicial de la deuda es mayor que el monto a cobrar por el servicio.\n"),1===parseInt(me)&&(t=!1,a+="-El cliente An\xf3nimo no puede tener deudas")),t){const e=await Yt(F.token,`${at}-${et}-${rt}`,Fe,Je,Qe,be,Se,$e,""===vt?"0":vt,me,"Not suport yet","not suport yet");if(!1===e)return La("Ha ocurrido un ERROR al agregar el servicio. Es posible que el error haya ocurrido por problemas de conexi\xf3n. Si el problema persiste contacte al administrador."),Wa(!0),$a(!0),void Ga(!1);if(gt&&await ya(F.token,Ct,e.id_servicio),pt){const t=await Ia(F.token,Fe,e.id_servicio,void 0);_t&&parseFloat(_t)>0&&await Ra(F.token,_t,`${at}-${et}-${rt}`,t.id_deuda)}if(2===parseInt(Se)||25===parseInt(Se)){await ua(F.token,Re,e.id_servicio,Oe),await ke(F.token,Re,be,`${parseInt(Oe)}`),await Ne(F.token,Re,be);const t=mo.find((e=>e.value===me)),a=Io.find((e=>e.value===Se)),o=bo.find((e=>e.value===Re)),r=new Date,n=String(r.getFullYear()),i=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");let l=`El usuario ${F.nombre} agreg\xf3 un servicio del tipo de servicio ${a?.label} al cliente ${t?.label}. Se vendi\xf3 una cantidad de ${Oe} del producto ${o?.label} a un precio de ${(parseFloat(Fe)*J).toFixed(0)} CUP`;await G(F.token,l,`${n}-${i}-${s}`,F.id_usuario,7)}else{26===parseInt(Se)&&await ba(F.token,ht,`${ct}-${lt}-${it}`,e.id_servicio);const t=mo.find((e=>e.value===me)),a=Io.find((e=>e.value===Se)),o=new Date,r=String(o.getFullYear()),n=String(o.getMonth()+1).padStart(2,"0"),i=String(o.getDate()).padStart(2,"0");let s=`El usuario ${F.nombre} agreg\xf3 un servicio del tipo de servicio ${a?.label} a un precio de ${(parseFloat(Fe)*J).toFixed(0)} USD al cliente ${t?.label}`;await G(F.token,s,`${r}-${n}-${i}`,F.id_usuario,7)}await Ye(F.token,Se,be),Wa(!0),La("El servicio se agreg\xf3 con \xe9xito"),$a(!0),Fa(!0),je(""),We(""),Ke(""),De(""),Le(""),_e(""),De(""),Xe(""),Ze(""),St(""),Te(""),U({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1})}else La(a),Wa(!0),$a(!0)}Ga(!1)}},mr=async()=>{if(!Ya){if(Ga(!0),Wa(!1),La("Modificando servicio. Espere por favor"),$a(!0),F?.token){let e=0;const t=await ze(F.token,Re,be);t&&(e=t.cantidad);let a=!0,o="ERROR AL MODIFICAR EL SERVICIO. Compruebe los siguientes campos:\n";if(""===me&&(a=!1,o+="-Seleccione un cliente. Si no hay datos del cliente seleccione an\xf3nimo\n"),""===Se&&(a=!1,o+="-Seleccione el tipo de servicio que est\xe1 ofreciendo.\n"),""===be&&(a=!1,o+="-Seleccione una tienda.\n"),parseFloat(vt)>parseFloat(Ge)*parseInt(Oe)&&(a=!1,o+="-La cantidad de la transferencia es mayor que el precio del producto. \n"),gt&&""===Ct&&(a=!1,o+="-Defina la duraci\xf3n de la garant\xeda.\n"),""===$e&&(a=!1,o+="-Digite el costo del servicio.\n"),""===Fe&&(a=!1,o+="-Defina el precio cobrado al cliente.\n"),gt&&""===Ct&&(a=!1,o+="-Defina la duraci\xf3n de la garant\xeda.\n"),gt&&1===parseInt(me)&&(a=!1,o+="-El ciente An\xf3nimo no puede tener garant\xedas"),26===parseInt(Se)){const e=new Date(`${rt}-${at}-${et}`),t=new Date(`${ct}-${lt}-${it}`);1===parseInt(me)&&(a=!1,o+="-No se puede hacer un encargo al cliente An\xf3nimo.\n"),t<e&&(a=!1,o+="-La fecha del encargo no puede ser menor que la fecha del servicio.\n")}if(2!==parseInt(Se)&&25!==parseInt(Se)||(""===Re&&(a=!1,o+="-Seleccione un producto para vender.\n"),""===Oe&&(a=!1,o+="-Defina la cantidad que desea vender del producto.\n")),e+parseInt(ta)<parseInt(Oe)&&(a=!1,o+="-La cantidad que desea modificar es mayor que la cantidad que hay en la tienda.\n"),Oe!==ta&&Re===Zt&&be===Wt&&2===parseInt(Se)||25===parseInt(Se)?e+parseInt(ta)<parseInt(ta)-parseInt(Oe)&&(a=!1,o+="-La cantidad que hay en la tienda no es suficiente para modificar la venta del producto.\n"):Re===Zt&&be===Wt||e<parseInt(Oe)&&(a=!1,o+="-La cantidad que hay en la tienda no es suficiente para modificar la venta del producto.\n"),a){await Gt(F.token,ye,`${at}-${et}-${rt}`,Fe,Je,be,Se,$e,""===vt?"0":vt,"devolver"===He,me,"Not suport yet","not suport yet"),gt===wt&&Ct===Dt||(gt?""!==jt?await wa(F.token,Ct,ye,jt):await ya(F.token,Ct,ye):await ma(F.token,jt)),Se!==oa&&26===parseInt(oa)?await Sa(F.token,Mt):Se!==oa&&26===parseInt(Se)?await ba(F.token,ht,`${ct}-${lt}-${it}`,ye):Se===oa&&26===parseInt(Se)&&await Ca(F.token,ht,`${ct}-${lt}-${it}`,ye,Mt),2===parseInt(oa)&&2!==parseInt(Se)&&4!==parseInt(Se)&&(await ke(F.token,Zt,Wt,""+-1*parseInt(ta)),await ha(F.token,Zt,ye)),Oe!==ta&&Re===Zt&&be===Wt?(await ke(F.token,Re,be,""+(parseInt(Oe)-parseInt(ta))),await ua(F.token,Re,ye,Oe)):Se!==oa&&2===parseInt(Se)||25===parseInt(Se)?(await ua(F.token,Re,ye,Oe),await ke(F.token,Zt,Wt,""+-1*parseInt(ta)),await ke(F.token,Re,be,`${parseInt(Oe)}`)):be===Wt&&Re===Zt||(await ua(F.token,Re,ye,Oe),await ke(F.token,Zt,Wt,""+-1*parseInt(ta)),await ke(F.token,Re,be,`${parseInt(Oe)}`)),He===ia||"devolver"!==He||2!==parseInt(Se)&&25!==parseInt(Se)?He===ia||"sin devolver"!==He||2!==parseInt(Se)&&25!==parseInt(Se)||await ke(F.token,Re,be,`${parseInt(Oe)}`):await ke(F.token,Re,be,""+-1*parseInt(Oe));const e=So.find((e=>e.value===pa)),t=bo.find((e=>e.value===ca)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");let i=`El usuario ${F.nombre} modific\xf3 un servicio de originalmente ${ka} del producto ${t?.label} en la tienda ${e?.label}`;await G(F.token,i,`${o}-${r}-${n}`,F.id_usuario,7),Wa(!0),La("El servicio se modific\xf3 con \xe9xito"),$a(!0),Fa(!0)}else Wa(!0),La(o),$a(!0)}Ga(!1)}},jr=async()=>{if(!Ya&&(Ga(!0),Wa(!1),La("Eliminando servicio. Espere por favor"),$a(!0),F?.token)){let e="ERROR AL ELIMINAR SERVICIO. Compruebe los siguientes par\xe1metros:\n";if(!0){const e=await qt(F.token,ye),t=await fa(F.token,ye);if(wt&&await ma(F.token,jt),""!==Lt){const e=await va(F.token,Lt);Array.isArray(e.deuda.pagos_deuda)&&e.deuda.pagos_deuda.length>0&&e.deuda.pagos_deuda.map((async e=>{await Ta(F.token,e.id_pago_deuda)})),await _a(F.token,Lt)}if(26===parseInt(oa)&&await Sa(F.token,Mt),2!==parseInt(Se)&&25!==parseInt(Se)||"sin devolver"!==ia?2!==parseInt(Se)&&25!==parseInt(Se)||"devolver"!==ia||await ha(F.token,t.producto.id_producto,e.id_servicio):(await ha(F.token,t.producto.id_producto,e.id_servicio),await ke(F.token,t.producto.id_producto,e.tienda.id_tienda,""+-1*parseInt(t.cantidad))),await Kt(F.token,ye),2===parseInt(ye)){const a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");let i=`El usuario ${F.nombre} elimin\xf3 la el servicio de venta de la tienda ${e.tienda.nombre}. La venta eliminada fue del producto ${Do}, se sumo una canidad de ${t.cantidad} nuevamente en la tienda cuyo producto val\xeda ${(t.precio*J).toFixed(0)} y se vendi\xf3 una cantidad de ${t.cantidad}.`;await G(F.token,i,`${o}-${r}-${n}`,F.id_usuario,7)}else{const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let n=`El usuario ${F.nombre} elimin\xf3 la un servicio de la tienda ${e.tienda.nombre} por el cual se hab\xeda cobrado ${(e.precio*J).toFixed(0)} y ten\xeda un costo de ${e.costo}`;await G(F.token,n,`${a}-${o}-${r}`,F.id_usuario,7)}Wa(!0),La("El servicio se elimin\xf3 con \xe9xito"),$a(!0),Fa(!0),je(""),We(""),Ke(""),De(""),Le(""),_e(""),De(""),Xe(""),Ze(""),St(""),U({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1})}else Wa(!0),La(e),$a(!0)}},br=["Nombre","Cantidad"],Cr=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],Sr=["Nombre Cliente","Tienda","Tipo de Servicio","Producto","Cantidad","P.Unitario","P.total CUP","Fecha"];return r?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:[Ka&&(0,w.jsx)(u.default,{onPress:()=>ne(!re),style:{flexDirection:"row",height:40,width:"40%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===lo&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Multiples Ventas"})}),Ka&&(0,w.jsx)(u.default,{onPress:()=>fr(),style:{flexDirection:"row",height:40,width:"40%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Venta"})})]}),(0,w.jsx)(i.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:fo,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[ir?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Vt,{isMobile:r,items:xo,columns:Sr,columnasMyDateTableEntradaModal:Cr,columnasMyDateTableTiendaModal:br,tiendasByProducto:uo,proveedorByProducto:yo}),q&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},go],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:Po,onKeyPress:gr,onChangeText:Mo}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:Do,onKeyPress:gr,onChangeText:zo}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tipo de Servicio:"}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:E,position:"relative"},children:(0,w.jsx)(ge,{value:Eo,placeholder:"Seleccione un tipo de servicio",setValue:$o,items:Io,direction:"BOTTOM",onDropdownOpen:()=>B("TipoServicioSearsh")})}),oo&&(0,w.jsx)(i.default,{style:p.separatorBlanco}),oo&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),oo&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:A,position:"relative"},children:(0,w.jsx)(ge,{value:Ao,placeholder:"Seleccione un tienda",setValue:Lo,items:So,direction:"BOTTOM",onDropdownOpen:()=>B("TiendaSearsh")})}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Precio en CUP:"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:Bo,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Fo(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:No,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Wo(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(i.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:or.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:tr===e.value,onPress:()=>nr(e.value)},e.value)))}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:O},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(At,{dayValue:Uo,monthValue:Ho,yearValue:Yo,onDayChange:Vo,onMonthChange:qo,onYearChange:Go,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>B("FechaDesdeSearsh")})]}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:P},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(At,{dayValue:Ko,monthValue:Xo,yearValue:Zo,onDayChange:Jo,onMonthChange:Qo,onYearChange:er,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>B("FechaHastaSearsh")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:xr,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>ur(`${Yo}-${Ho}-${Uo}`,`${Zo}-${Xo}-${Ko}`),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:re,animationType:"fade",onRequestClose:()=>{ne(!re)},children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(i.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:()=>{ne(!re)},children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===W?.id_entrada?"Crear Venta":"Datos de las Ventas"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(Pt,{value:he,placeholder:"Seleccione un Cliente",setValue:fe,items:mo,searchable:!0,readOnly:!(Za||to),onDropdownOpen:()=>B("ClienteDetails")})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se crear\xe1 la venta"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(Pt,{value:xe,placeholder:"Seleccione una tienda",setValue:pe,items:So,readOnly:!(oo&&""===W?.id_entrada||oo&&Za),searchable:!0,onDropdownOpen:()=>B("TipoServicioDetails")})}),(0,w.jsxs)(i.default,{style:{width:"90%",zIndex:500,position:"relative",marginTop:"2%"},children:[(0,w.jsx)(u.default,{onPress:()=>hr(),style:{flexDirection:"row",height:10,width:100,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginBottom:"2%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:{fontSize:20,color:x.blanco,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2,marginBottom:"10%"},children:"+"})}),(0,w.jsx)(i.default,{style:{width:"100%",padding:10,borderBottomWidth:1,borderBottomColor:x.gris_claro,backgroundColor:x.gris_claro},children:(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,w.jsx)(s.default,{style:{fontSize:12,color:x.negro,fontWeight:"bold"},children:"Producto"}),(0,w.jsx)(s.default,{style:{fontSize:12,color:x.negro,fontWeight:"bold"},children:"Precio"}),(0,w.jsx)(s.default,{style:{fontSize:12,color:x.negro,fontWeight:"bold"},children:"Cantidad"}),(0,w.jsx)(s.default,{style:{fontSize:12,color:x.negro,fontWeight:"bold"},children:"Total"}),(0,w.jsx)(s.default,{style:{fontSize:12,color:x.negro,fontWeight:"bold"}})]})}),le.length>0?(0,w.jsx)(R.default,{data:le,renderItem:({item:e,index:t})=>(0,w.jsx)(u.default,{onPress:()=>console.log(le),children:(0,w.jsx)(i.default,{style:{width:"100%",padding:10,borderBottomWidth:1,borderBottomColor:x.gris_claro},children:(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,w.jsx)(s.default,{style:{fontSize:12,marginTop:"10%",color:x.negro,width:"43%",ellipsizeMode:"tail"},children:e.nombreProducto}),(0,w.jsx)(s.default,{style:{fontSize:12,marginTop:"10%",color:x.negro,width:"35%"},children:(e.precioUSDDetails*J).toFixed(0)}),(0,w.jsx)(s.default,{style:{fontSize:12,marginTop:"10%",color:x.negro,marginRight:"10%",width:"10%"},children:e.cantidadProductoDetails}),(0,w.jsx)(s.default,{style:{fontSize:12,marginTop:"10%",color:x.negro,marginRight:"5%",width:"10%"},children:(e.precioUSDDetails*e.cantidadProductoDetails*J).toFixed(0)}),(0,w.jsx)(u.default,{style:{backgroundColor:"red",padding:10,marginTop:"10%",borderRadius:5},onPress:()=>{const e=le.findIndex((e=>e.id===e.id));-1!==e&&(le.splice(e,1),de([...le]))},children:(0,w.jsx)(l.default,{source:a(1165),style:{width:15,height:15}})})]})})}),keyExtractor:(e,t)=>t.toString()}):(0,w.jsx)(s.default,{style:{fontSize:12,color:x.negro}}),(0,w.jsx)(i.default,{style:{width:"100%",padding:10,borderBottomWidth:1,borderBottomColor:x.gris_claro,backgroundColor:x.gris_claro},children:(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,w.jsx)(s.default,{style:{fontSize:12,color:x.negro,fontWeight:"bold"}}),(0,w.jsxs)(s.default,{style:{fontSize:12,color:x.negro,fontWeight:"bold"},children:["Total Transferencia:"," ",le.reduce(((e,t)=>e+parseFloat(t.cantidadTransferencia)),0)]}),(0,w.jsxs)(s.default,{style:{fontSize:12,color:x.negro,fontWeight:"bold"},children:["Total Efectivo:"," ",(le.reduce(((e,t)=>e+parseFloat(t.precioUSDDetails)*parseInt(t.cantidadProductoDetails)),0)*J-le.reduce(((e,t)=>e+parseFloat(t.cantidadTransferencia)),0)).toFixed(0)]}),(0,w.jsxs)(s.default,{style:{fontSize:12,color:x.negro,fontWeight:"bold"},children:["Total:"," ",(le.reduce(((e,t)=>e+t.precioUSDDetails*t.cantidadProductoDetails),0)*J).toFixed(0)]}),(0,w.jsx)(s.default,{style:{fontSize:12,color:x.negro,fontWeight:"bold"}})]})}),(0,w.jsx)(u.default,{onPress:()=>pr(),style:{flexDirection:"row",height:15,width:210,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"2%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:{fontSize:16,color:x.blanco,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Agregar Ventas al Sistema"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ie,animationType:"fade",onRequestClose:hr,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(i.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:hr,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Agregar Venta a la Lista"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:500},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:500},children:[Pa&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto del encargo"}),Pa&&(0,w.jsx)(z,{style:p.textImputModal,value:ht,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;ft(a)},cursorColor:x.azul_Oscuro,editable:!0,placeholder:"Adelanto del encargo"}),(0,w.jsxs)(i.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad Pagada por Transferencia CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:vt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;It(a)},cursorColor:x.azul_Oscuro,editable:Za||to,placeholder:"Cantidad Pagada por Transferencia CUP"})]})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Genera Deuda"}),(0,w.jsx)(xa,{onPress:()=>yt(!pt),selected:pt,label:"Deuda"}),la&&Pa&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha llegada"}),la&&Pa&&(0,w.jsx)(At,{dayValue:it,monthValue:lt,yearValue:ct,onDayChange:st,onMonthChange:dt,onYearChange:ut,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>B("FechaDetails"),isReadOnly:!(Za||to)}),!Pa&&pt&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto inicial de la deuda en CUP:"}),!Pa&&pt&&(0,w.jsx)(z,{style:p.textImputModal,value:Rt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Ot(a);const o=parseFloat(a)/J;kt(o.toFixed(5))},cursorColor:x.azul_Oscuro,editable:Za||to,placeholder:"Adelanto"})]})]}),Da&&(0,w.jsx)(i.default,{style:p.separatorNegro}),Da&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),Da&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Pt,{value:Re,placeholder:"Seleccione un produto",setValue:Te,items:bo,searchable:!0,readOnly:!(Za||to),onDropdownOpen:()=>B("ProductoDetails")})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[Da&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Oe,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");De(t)},editable:Za||to,placeholder:"Cantidad del producto"})]}),(!Da||oo)&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Da?"Costo promedio del producto":"Costo del servicio en USD"}),(0,w.jsx)(z,{style:p.textImputModal,value:$e,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Ee(""!==a?String((parseFloat(a)*J).toFixed(0)):"0"),Le(a),Nt("CostoUSD")},cursorColor:x.azul_Oscuro,editable:2===parseInt(Se)||25===parseInt(Se)?1===parseInt(F?.id_usuario)||2===parseInt(F?.id_usuario):Za||to,placeholder:"Costo Promedio"})]}),!Da&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:Me,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Le(""!==a?String(parseFloat(a)/J):"0"),Ee(a),Nt("CostoCUP")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(Se)&&25!==parseInt(Se)&&(Za||to),placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%"}}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Da?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(z,{style:p.textImputModalNOEDITABLE,value:Ge,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;We(""!==a?String((parseFloat(a)/J).toFixed(5)):"0"),Ke(a),Nt("PrecioCUP")},cursorColor:x.azul_Oscuro,editable:Za||to,placeholder:"Precio por unidad en cup"})]})]}),Da&&(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:(0,w.jsx)(s.default,{children:so()})}),Da&&(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:n},children:(0,w.jsxs)(i.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),la&&(0,w.jsx)(At,{dayValue:et,monthValue:at,yearValue:rt,onDayChange:tt,onMonthChange:ot,onYearChange:nt,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>B("FechaDetails"),isReadOnly:!(Za||to)})]})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:n},children:[(0,w.jsxs)(i.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Je,onChangeText:Xe,editable:Za||to,placeholder:"Nota"})]}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"}})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(z,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del servicio",multiline:!0,editable:Za||to,numberOfLines:5,value:Qe,onChangeText:Ze,scrollEnabled:!0}),(0,w.jsx)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>yr(),disabled:Ya,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Venta a la lista"})})})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:W?.isAddEntrada??!1,animationType:"fade",onRequestClose:lr,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(i.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:lr,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===W?.id_entrada?"Crear Venta":"Datos de la Venta"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(Pt,{value:me,placeholder:"Seleccione un Cliente",setValue:je,items:mo,searchable:!0,readOnly:!(Za||to),onDropdownOpen:()=>B("ClienteDetails")})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(Pt,{value:be,placeholder:"Seleccione una tienda",setValue:Ce,items:So,readOnly:!(oo&&""===W?.id_entrada||oo&&Za),searchable:!0,onDropdownOpen:()=>B("TipoServicioDetails")})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(Pt,{value:Se,placeholder:"Seleccione un tipo de servicio",setValue:_e,items:Io,readOnly:!(Za||to),searchable:!0,onDropdownOpen:()=>B("TipoServicioDetails")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:500},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:500},children:[Pa&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto del encargo"}),Pa&&(0,w.jsx)(z,{style:p.textImputModal,value:ht,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;ft(a)},cursorColor:x.azul_Oscuro,editable:!0,placeholder:"Adelanto del encargo"}),(0,w.jsxs)(i.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad Pagada por Transferencia CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:vt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;It(a)},cursorColor:x.azul_Oscuro,editable:Za||to,placeholder:"Cantidad Pagada por Transferencia CUP"})]})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[!Pa&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Genera Deuda"}),!Pa&&(0,w.jsx)(xa,{onPress:()=>yt(!pt),selected:pt,label:"Deuda"}),la&&Pa&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha llegada"}),la&&Pa&&(0,w.jsx)(At,{dayValue:it,monthValue:lt,yearValue:ct,onDayChange:st,onMonthChange:dt,onYearChange:ut,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>B("FechaDetails"),isReadOnly:!(Za||to)}),!Pa&&pt&&""===W?.id_entrada&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto inicial de la deuda en CUP:"}),!Pa&&pt&&""===W?.id_entrada&&(0,w.jsx)(z,{style:p.textImputModal,value:Rt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Ot(a);const o=parseFloat(a)/J;kt(o.toFixed(5))},cursorColor:x.azul_Oscuro,editable:Za||to,placeholder:"Adelanto"})]})]}),Da&&(0,w.jsx)(i.default,{style:p.separatorNegro}),Da&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),Da&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Pt,{value:Re,placeholder:"Seleccione un produto",setValue:Te,items:bo,searchable:!0,readOnly:!(Za||to),onDropdownOpen:()=>B("ProductoDetails")})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[Da&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Oe,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");De(t)},editable:Za||to,placeholder:"Cantidad del producto"})]}),(!Da||oo)&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Da?"Costo promedio del producto":"Costo del servicio en USD"}),(0,w.jsx)(z,{style:p.textImputModal,value:$e,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Ee(""!==a?String((parseFloat(a)*J).toFixed(0)):"0"),Le(a),Nt("CostoUSD")},cursorColor:x.azul_Oscuro,editable:2===parseInt(Se)||25===parseInt(Se)?1===parseInt(F?.id_usuario)||2===parseInt(F?.id_usuario):Za||to,placeholder:"Costo Promedio"})]}),!Da&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:Me,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Le(""!==a?String(parseFloat(a)/J):"0"),Ee(a),Nt("CostoCUP")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(Se)&&25!==parseInt(Se)&&(Za||to),placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%"}}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Da?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(z,{style:p.textImputModalNOEDITABLE,value:Ge,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;We(""!==a?String((parseFloat(a)/J).toFixed(5)):"0"),Ke(a),Nt("PrecioCUP")},cursorColor:x.azul_Oscuro,editable:Za||to,placeholder:"Precio por unidad en cup"})]})]}),Da&&(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:(0,w.jsx)(s.default,{children:so()})}),Da&&(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:n},children:(0,w.jsxs)(i.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),la&&(0,w.jsx)(At,{dayValue:et,monthValue:at,yearValue:rt,onDayChange:tt,onMonthChange:ot,onYearChange:nt,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>B("FechaDetails"),isReadOnly:!(Za||to)})]})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:n},children:[(0,w.jsxs)(i.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Je,onChangeText:Xe,editable:Za||to,placeholder:"Nota"})]}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"}})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(z,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del servicio",multiline:!0,editable:Za||to,numberOfLines:5,value:Qe,onChangeText:Ze,scrollEnabled:!0}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Za&&""!==W?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"45%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{oe(!0),Va(!1),qa("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este servicio?")},disabled:Ya,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Servicio"})}),Ka&&""===W?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"45%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>wr(),disabled:Ya,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Venta"})}),Xa&&""!==W?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"45%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{oe(!0),Va(!0),qa("\xbfEst\xe1s seguro que deseas ELIMINAR al este servicio?"),U({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},disabled:Ya,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Servicio"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ae,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ha}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ua?jr():mr(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>oe(!ae),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>oe(!ae),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ea,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Aa}),Na&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ba?e.replace("Ventas"):$a(!Ea),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:[Ka&&(0,w.jsx)(u.default,{onPress:()=>ne(!re),style:{flexDirection:"row",height:30,width:"15%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===lo&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Multiples Ventas"})}),Ka&&(0,w.jsx)(u.default,{onPress:()=>fr(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===lo&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Venta"})})]}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:Po,onKeyPress:gr,onChangeText:Mo}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:Do,onKeyPress:gr,onChangeText:zo}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tipo de Servicio:"}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:E,position:"relative"},children:(0,w.jsx)(ge,{value:Eo,placeholder:"Seleccione un tipo de servicio",setValue:$o,items:Io,direction:"BOTTOM",onDropdownOpen:()=>B("TipoServicioSearsh")})}),oo&&(0,w.jsx)(i.default,{style:p.separatorBlanco}),oo&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),oo&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:A,position:"relative"},children:(0,w.jsx)(ge,{value:Ao,placeholder:"Seleccione un tienda",setValue:Lo,items:So,direction:"BOTTOM",onDropdownOpen:()=>B("TiendaSearsh")})}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Precio en CUP:"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:Bo,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Fo(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:No,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Wo(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(i.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:or.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:tr===e.value,onPress:()=>nr(e.value)},e.value)))}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:O},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(At,{dayValue:Uo,monthValue:Ho,yearValue:Yo,onDayChange:Vo,onMonthChange:qo,onYearChange:Go,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>B("FechaDesdeSearsh")})]}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:P},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(At,{dayValue:Ko,monthValue:Xo,yearValue:Zo,onDayChange:Jo,onMonthChange:Qo,onYearChange:er,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>B("FechaHastaSearsh")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:xr,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>ur(`${Yo}-${Ho}-${Uo}`,`${Zo}-${Xo}-${Ko}`),children:"Buscar"})})]})]}),ir?(0,w.jsx)(ue.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Vt,{isMobile:r,items:xo,columns:Sr,columnasMyDateTableEntradaModal:Cr,columnasMyDateTableTiendaModal:br,tiendasByProducto:uo,proveedorByProducto:yo})]}),(0,w.jsx)(f.default,{transparent:!0,visible:re,animationType:"fade",onRequestClose:()=>{ne(!re)},children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:()=>{ne(!re)},children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===W?.id_entrada?"Crear Venta":"Datos de las Ventas"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(Pt,{value:he,placeholder:"Seleccione un Cliente",setValue:fe,items:mo,searchable:!0,readOnly:!(Za||to),onDropdownOpen:()=>B("ClienteDetails")})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se crear\xe1 la venta"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(Pt,{value:xe,placeholder:"Seleccione una tienda",setValue:pe,items:So,readOnly:!(oo&&""===W?.id_entrada||oo&&Za),searchable:!0,onDropdownOpen:()=>B("TipoServicioDetails")})}),(0,w.jsxs)(i.default,{style:{width:"90%",zIndex:500,position:"relative",marginTop:"2%"},children:[(0,w.jsx)(u.default,{onPress:()=>hr(),style:{flexDirection:"row",height:10,width:100,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginBottom:"2%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:{fontSize:30,color:x.blanco,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2,marginBottom:"10%"},children:"+"})}),(0,w.jsx)(i.default,{style:{width:"100%",padding:10,borderBottomWidth:1,borderBottomColor:x.gris_claro,backgroundColor:x.gris_claro},children:(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,color:x.negro,fontWeight:"bold"},children:"Producto"}),(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,fontWeight:"bold"},children:"Precio"}),(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,fontWeight:"bold"},children:"Cantidad"}),(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,fontWeight:"bold"},children:"Total"}),(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,fontWeight:"bold"}})]})}),le.length>0?(0,w.jsx)(R.default,{data:le,renderItem:({item:e,index:t})=>(0,w.jsx)(u.default,{onPress:()=>console.log(le),children:(0,w.jsx)(i.default,{style:{width:"100%",padding:10,borderBottomWidth:1,borderBottomColor:x.gris_claro},children:(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,color:x.negro,width:"43%",ellipsizeMode:"tail"},children:e.nombreProducto}),(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,width:"35%"},children:(e.precioUSDDetails*J).toFixed(0)}),(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,marginRight:"10%",width:"10%"},children:e.cantidadProductoDetails}),(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,marginRight:"5%",width:"10%"},children:(e.precioUSDDetails*e.cantidadProductoDetails*J).toFixed(0)}),(0,w.jsx)(u.default,{style:{backgroundColor:"red",padding:10,borderRadius:5},onPress:()=>{const e=le.findIndex((e=>e.id===e.id));-1!==e&&(le.splice(e,1),de([...le]))},children:(0,w.jsx)(l.default,{source:a(1165),style:{width:20,height:20}})})]})})}),keyExtractor:(e,t)=>t.toString()}):(0,w.jsx)(s.default,{style:{fontSize:18,color:x.negro}}),(0,w.jsx)(i.default,{style:{width:"100%",padding:10,borderBottomWidth:1,borderBottomColor:x.gris_claro,backgroundColor:x.gris_claro},children:(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,color:x.negro,fontWeight:"bold"}}),(0,w.jsxs)(s.default,{style:{fontSize:16,color:x.negro,fontWeight:"bold"},children:["Total Transferencia:"," ",le.reduce(((e,t)=>e+parseFloat(t.cantidadTransferencia)),0)]}),(0,w.jsxs)(s.default,{style:{fontSize:16,color:x.negro,fontWeight:"bold"},children:["Total Efectivo:"," ",(le.reduce(((e,t)=>e+parseFloat(t.precioUSDDetails)*parseInt(t.cantidadProductoDetails)),0)*J-le.reduce(((e,t)=>e+parseFloat(t.cantidadTransferencia)),0)).toFixed(0)]}),(0,w.jsxs)(s.default,{style:{fontSize:16,color:x.negro,fontWeight:"bold"},children:["Total:"," ",(le.reduce(((e,t)=>e+t.precioUSDDetails*t.cantidadProductoDetails),0)*J).toFixed(0)]}),(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,fontWeight:"bold"}})]})}),(0,w.jsx)(u.default,{onPress:()=>pr(),style:{flexDirection:"row",height:15,width:210,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"2%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:{fontSize:16,color:x.blanco,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Agregar Ventas al Sistema"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ie,animationType:"fade",onRequestClose:hr,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:hr,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Agregar Venta a la Lista"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:500},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:500},children:[Pa&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto del encargo"}),Pa&&(0,w.jsx)(z,{style:p.textImputModal,value:ht,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;ft(a)},cursorColor:x.azul_Oscuro,editable:!0,placeholder:"Adelanto del encargo"}),(0,w.jsxs)(i.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad Pagada por Transferencia CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:vt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;It(a)},cursorColor:x.azul_Oscuro,editable:Za||to,placeholder:"Cantidad Pagada por Transferencia CUP"})]})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Genera Deuda"}),(0,w.jsx)(xa,{onPress:()=>yt(!pt),selected:pt,label:"Deuda"}),la&&Pa&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha llegada"}),la&&Pa&&(0,w.jsx)(At,{dayValue:it,monthValue:lt,yearValue:ct,onDayChange:st,onMonthChange:dt,onYearChange:ut,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>B("FechaDetails"),isReadOnly:!(Za||to)}),!Pa&&pt&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto inicial de la deuda en CUP:"}),!Pa&&pt&&(0,w.jsx)(z,{style:p.textImputModal,value:Rt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Ot(a);const o=parseFloat(a)/J;kt(o.toFixed(5))},cursorColor:x.azul_Oscuro,editable:Za||to,placeholder:"Adelanto"})]})]}),Da&&(0,w.jsx)(i.default,{style:p.separatorNegro}),Da&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),Da&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Pt,{value:Re,placeholder:"Seleccione un produto",setValue:Te,items:bo,searchable:!0,readOnly:!(Za||to),onDropdownOpen:()=>B("ProductoDetails")})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[Da&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Oe,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");De(t)},editable:Za||to,placeholder:"Cantidad del producto"})]}),(!Da||oo)&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Da?"Costo promedio del producto":"Costo del servicio en USD"}),(0,w.jsx)(z,{style:p.textImputModal,value:$e,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Ee(""!==a?String((parseFloat(a)*J).toFixed(0)):"0"),Le(a),Nt("CostoUSD")},cursorColor:x.azul_Oscuro,editable:2===parseInt(Se)||25===parseInt(Se)?1===parseInt(F?.id_usuario)||2===parseInt(F?.id_usuario):Za||to,placeholder:"Costo Promedio"})]}),!Da&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:Me,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Le(""!==a?String(parseFloat(a)/J):"0"),Ee(a),Nt("CostoCUP")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(Se)&&25!==parseInt(Se)&&(Za||to),placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%"}}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Da?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(z,{style:p.textImputModalNOEDITABLE,value:Ge,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;We(""!==a?String((parseFloat(a)/J).toFixed(5)):"0"),Ke(a),Nt("PrecioCUP")},cursorColor:x.azul_Oscuro,editable:Za||to,placeholder:"Precio por unidad en cup"})]})]}),Da&&(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:(0,w.jsx)(s.default,{children:so()})}),Da&&(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:n},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),la&&(0,w.jsx)(At,{dayValue:et,monthValue:at,yearValue:rt,onDayChange:tt,onMonthChange:ot,onYearChange:nt,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>B("FechaDetails"),isReadOnly:!(Za||to)})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Je,onChangeText:Xe,editable:Za||to,placeholder:"Nota"})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(z,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del servicio",multiline:!0,editable:Za||to,numberOfLines:5,value:Qe,onChangeText:Ze,scrollEnabled:!0}),(0,w.jsx)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>yr(),disabled:Ya,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Venta a la lista"})})})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:W?.isAddEntrada??!1,animationType:"fade",onRequestClose:lr,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:lr,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===W?.id_entrada?"Crear Venta":"Datos de la Venta"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(Pt,{value:me,placeholder:"Seleccione un Cliente",setValue:je,items:mo,searchable:!0,readOnly:!(Za||to),onDropdownOpen:()=>B("ClienteDetails")})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(Pt,{value:be,placeholder:"Seleccione una tienda",setValue:Ce,items:So,readOnly:!(oo&&""===W?.id_entrada||oo&&Za),searchable:!0,onDropdownOpen:()=>B("TipoServicioDetails")})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(Pt,{value:Se,placeholder:"Seleccione un tipo de servicio",setValue:_e,items:Io,readOnly:!(Za||to),searchable:!0,onDropdownOpen:()=>B("TipoServicioDetails")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:500},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:500},children:[Pa&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto del encargo"}),Pa&&(0,w.jsx)(z,{style:p.textImputModal,value:ht,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;ft(a)},cursorColor:x.azul_Oscuro,editable:!0,placeholder:"Adelanto del encargo"}),(0,w.jsxs)(i.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad Pagada por Transferencia CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:vt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;It(a)},cursorColor:x.azul_Oscuro,editable:Za||to,placeholder:"Cantidad Pagada por Transferencia CUP"})]})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[!Pa&&""===W?.id_entrada&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Genera Deuda"}),!Pa&&""===W?.id_entrada&&(0,w.jsx)(xa,{onPress:()=>yt(!pt),selected:pt,label:"Deuda"}),la&&Pa&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha llegada"}),la&&Pa&&(0,w.jsx)(At,{dayValue:it,monthValue:lt,yearValue:ct,onDayChange:st,onMonthChange:dt,onYearChange:ut,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>B("FechaDetails"),isReadOnly:!(Za||to)}),!Pa&&pt&&(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Adelanto inicial de la deuda en CUP:"}),!Pa&&pt&&(0,w.jsx)(z,{style:p.textImputModal,value:Rt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Ot(a);const o=parseFloat(a)/J;kt(o.toFixed(5))},cursorColor:x.azul_Oscuro,editable:Za||to,placeholder:"Adelanto"})]})]}),Da&&(0,w.jsx)(i.default,{style:p.separatorNegro}),Da&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),Da&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Pt,{value:Re,placeholder:"Seleccione un produto",setValue:Te,items:bo,searchable:!0,readOnly:!(Za||to),onDropdownOpen:()=>B("ProductoDetails")})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[Da&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Oe,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");De(t)},editable:Za||to,placeholder:"Cantidad del producto"})]}),(!Da||oo)&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Da?"Costo promedio del producto":"Costo del servicio en USD"}),(0,w.jsx)(z,{style:p.textImputModal,value:$e,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Ee(""!==a?String((parseFloat(a)*J).toFixed(0)):"0"),Le(a),Nt("CostoUSD")},cursorColor:x.azul_Oscuro,editable:2===parseInt(Se)||25===parseInt(Se)?1===parseInt(F?.id_usuario)||2===parseInt(F?.id_usuario):Za||to,placeholder:"Costo Promedio"})]}),!Da&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:Me,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Le(""!==a?String(parseFloat(a)/J):"0"),Ee(a),Nt("CostoCUP")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(Se)&&25!==parseInt(Se)&&(Za||to),placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%"}}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Da?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(z,{style:p.textImputModalNOEDITABLE,value:Ge,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;We(""!==a?String((parseFloat(a)/J).toFixed(5)):"0"),Ke(a),Nt("PrecioCUP")},cursorColor:x.azul_Oscuro,editable:Za||to,placeholder:"Precio por unidad en cup"})]})]}),Da&&(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:(0,w.jsx)(s.default,{children:so()})}),""!==W?.id_entrada&&(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hacer Devoluci\xf3n"})}),""!==W?.id_entrada&&(0,w.jsx)(i.default,{style:{padding:20,alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},children:rr.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:He===e.value,onPress:()=>{(""===W?.id_entrada||Za)&&qe(e.value)}},e.value)))}),Da&&(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:n},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),la&&(0,w.jsx)(At,{dayValue:et,monthValue:at,yearValue:rt,onDayChange:tt,onMonthChange:ot,onYearChange:nt,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>B("FechaDetails"),isReadOnly:!(Za||to)})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Je,onChangeText:Xe,editable:Za||to,placeholder:"Nota"})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(z,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del servicio",multiline:!0,editable:Za||to,numberOfLines:5,value:Qe,onChangeText:Ze,scrollEnabled:!0}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Za&&""!==W?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{oe(!0),Va(!1),qa("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este servicio?")},disabled:Ya,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Servicio"})}),Ka&&""===W?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>wr(),disabled:Ya,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Venta"})}),Xa&&""!==W?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{oe(!0),Va(!0),qa("\xbfEst\xe1s seguro que deseas ELIMINAR al este servicio?"),U({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},disabled:Ya,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Servicio"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ae,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ha}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ua?jr():mr(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>oe(!ae),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>oe(!ae),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ea,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Aa}),Na&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ba?e.replace("Ventas"):$a(!Ea),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}function Da(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930;(0,b.useFocusEffect)(o.useCallback((()=>(console.log("La pantalla de Login est\xe1 enfocada"),()=>{console.log("La pantalla de Login perdi\xf3 el foco")})),[]));const{setUsuario:n,usuario:c}=v(),{setSelectedButon:h,selectedButon:g}=k(),m=r?p.loginContainerStilesMovil:p.loginContainerStilesDesktop,[j,C]=o.useState(!1),[S,I]=o.useState(!1),[_,R]=o.useState(""),T=()=>{C(!j)},[O,D]=(0,o.useState)(""),[P,M]=(0,o.useState)(""),E=async()=>{if(I(!0),R("Iniciando sesi\xf3n..."),localStorage.clear(),""!=O.trim()&&""!=P.trim()){const t=await L(O,P);if(t){const a=await U(t.data.token,t.data.id_usuario);if(a){const o=await Se(t.data.token,t.data.rol.id_rol);if(o){n({id_usuario:a.data.id_usuario,nombre:t.data.nombre,telefono:a.data.telefono,direccion:a.data.direccion,carnet_identidad:a.data.carnet_identidad,detalles_bancarios:a.data.detalles_bancarios,nombre_usuario:O,email:a.data.email,token:t.data.token,id_rol:t.data.rol.id_rol,nombre_rol:t.data.rol.nombre,id_tienda:t.data.tienda.id_tienda,nombre_tienda:t.data.tienda.nombre,permisos:o});const r=new Date,i=String(r.getFullYear()),s=String(r.getMonth()+1).padStart(2,"0"),l=String(r.getDate()).padStart(2,"0");let d=`El usuario ${t.data.nombre} con el nombre de usuario ${O} inici\xf3 sesi\xf3n`;await G(t.data.token,d,`${i}-${s}-${l}`,a.data.id_usuario,5),I(!1),e.navigate("HomeScreen")}}else alert("Error en userDates"),T()}else M(""),I(!1),T()}else T()},$=e=>{"Enter"===e.nativeEvent.key&&E()};return(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:m,children:[(0,w.jsx)(l.default,{source:a(4429),style:{position:"absolute",resizeMode:"cover",height:"50%",width:"70%",marginBottom:"95%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5}}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",width:"100%",marginTop:"35%"},children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre de Usuario:"}),(0,w.jsx)(z,{style:p.textImputLogin,placeholder:"Nombre de Usuario",value:O,onChangeText:D,onKeyPress:$}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Contrase\xf1a"}),(0,w.jsx)(z,{style:p.textImputLogin,placeholder:"Contrase\xf1a",value:P,secureTextEntry:!0,onChangeText:M,onKeyPress:$}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,borderColor:x.azul_Suave,borderWidth:2,width:"90%",height:35,alignItems:"center",marginTop:"5%",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:()=>{h({butonSelected:""}),E()},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:20,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:200},children:"Iniciar Sesi\xf3n"})}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"flex-end",width:"100%"},children:[(0,w.jsx)(f.default,{transparent:!0,visible:j,animationType:"fade",onRequestClose:T,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:r?p.modalViewMesajeContainerMovil:p.modalViewMesajeContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.labelTextDesktop,children:"Error al iniciar sesi\xf3n, posibles errores:"}),(0,w.jsx)(s.default,{style:p.labelTextDesktop,children:"-Nombre de usuario o contrase\xf1a incorrecta."}),(0,w.jsx)(s.default,{style:p.labelTextDesktop,children:"-Debe llenar todos los campos."}),(0,w.jsx)(u.default,{style:{alignItems:"center",justifyContent:"center",marginTop:"5%",width:"100%",paddingVertical:10,backgroundColor:x.azul_Oscuro,borderRadius:5},onPress:T,children:(0,w.jsx)(s.default,{style:{color:"white",fontWeight:"bold"},children:"Intentar de nuevo"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:S,animationType:"fade",onRequestClose:T,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsx)(i.default,{style:r?p.modalViewMesajeContainerMovil:p.modalViewMesajeContainerDesktop,children:(0,w.jsx)(s.default,{style:p.labelTextDesktop,children:_})})})})]})]})]})})}const za=(0,o.createContext)(void 0),Pa=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(za.Provider,{value:{SortMovimientosDates:t,setSortMovimientosDates:a},children:e})},Ma=()=>{const e=o.useContext(za);if(void 0===e)throw new Error("useModalMovimientosDates debe usarse dentro de un ModalMovimientosDates");return e},Ea=(0,o.createContext)(void 0),$a=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Ea.Provider,{value:{modalProveedoresDates:t,setModalProveedoresDates:a},children:e})},Aa=()=>{const e=o.useContext(Ea);if(void 0===e)throw new Error("useModalProveedoresDates debe usarse dentro de un ModalProveedoresDates");return e},La=(0,o.createContext)(void 0),Ba=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(La.Provider,{value:{sortEntradas:t,setSortEntradas:a},children:e})},Fa=()=>{const e=o.useContext(La);if(void 0===e)throw new Error("useSortEntradas debe usarse dentro de un SortEntradas");return e},Na=(0,o.createContext)(void 0),Wa=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Na.Provider,{value:{imagenesDelete:t,setImagenesDelete:a},children:e})},Ua=async e=>{try{return await P.default.get(`${M}/Proveedor`,{headers:{Authorization:`${e}`}})}catch(t){return console.log("Error al obtener datos de los proveedores: ",t),!1}},Va=async(e,t)=>{try{return(await P.default.get(`${M}/Proveedor/${t}`,{headers:{Authorization:`${e}`}})).data}catch(a){return console.log("Error al obtener datos de el proveedor: ",a),!1}},Ha=async(e,t,a,o,r,n,i,s)=>{try{return(await P.default.post(`${M}/Proveedor/createProveedor`,{nombre:t,email:a||"",direccion:r||"",nota:n||"",telefono:o||"",Cif:i||"",detalle_bacario:s||""},{headers:{Authorization:`${e}`}})).data}catch(l){return console.log("Error al incertar un nuevo proveedor: ",l),!1}},qa=async(e,t,a,o,r,n,i,s,l)=>{try{return(await P.default.put(`${M}/Proveedor/updateProveedor/${t}`,{nombre:a,email:o||"",direccion:n||"",nota:i||"",telefono:r||"",Cif:s||"",detalle_bancario:l||""},{headers:{Authorization:`${e}`}})).data}catch(d){return console.log("Error al actualizar el proveedor: ",d),!1}},Ya=async(e,t)=>{try{return await P.default.delete(`${M}/Proveedor/deleteProveedor/${t}`,{headers:{Authorization:`${e}`}})}catch(a){return P.default.isAxiosError(a)&&401===a.response?.status&&A("Login"),console.log("Error al eliminar el proveedor: ",a),!1}},Ga=async(e,t,a,o,r)=>{try{return(await P.default.post(`${M}/Proveedor/api/filtrar`,{nombre:t,email:o||"",telefono:a||"",detalle_bacario:r||""},{headers:{Authorization:`${e}`}})).data}catch(n){return P.default.isAxiosError(n)&&401===n.response?.status&&A("Login"),console.log("Error al filtrar los proveedores: ",n),!1}},Ka=({items:e,columns:t,isMobile:r})=>{const n=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalProveedoresDates:g,setModalProveedoresDates:p}=Aa(),{sortProductos:y,setSortProductos:m}=be(),{usuario:j,setUsuario:C}=v(),S=r?Ja.containerMovil:Ja.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(20),[T,O]=o.useState([]),[D,P]=o.useState(!1),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(""),V=["Nombre"],[H,q]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),Y=e=>{p({id_proveedor:e,isAddProveedor:!0,fileEditable:!1,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0})},[G,K]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ne]=o.useState("");o.useEffect((()=>{(async()=>{if(j?.token){const e=await ve(j.token,"7",j.id_usuario),t=await ve(j.token,"8",j.id_usuario),a=await ve(j.token,"30",j.id_usuario),o=await ve(j.token,"31",j.id_usuario);X(e),Z(t),te(a),oe(o),K(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const ie=t=>{t>=0&&t*k<e.length&&_(t)},se=()=>(0,w.jsx)(xe.default.Header,{children:t.map(((e,t)=>(0,w.jsx)(xe.default.Title,{style:[Ja.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsx)(s.default,{style:r?Ja.headerTextMovil:Ja.headerTextDesktop,children:e})},t)))}),[le,de]=o.useState(""),[ce,ue]=o.useState(""),he=e=>{de(e),P(!D)},fe=e=>{if(ue(e),P(!D),"Modificar"===e){if(p({id_proveedor:le,isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!0,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0}),j?.token){}}else"Eliminar"===e?A(!$):"Mover"==e&&B(!L)},ge=async()=>{if(j?.token){if(0==await ze(j.token,le,j.id_tienda)){return!!await Ge(j.token,le)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(i.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(xe.default,{style:{width:"150%"},children:[se(),T.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>Y(e.id_Proveedor),style:{justifyContent:"space-around"},children:[(0,w.jsx)(xe.default.Cell,{style:[Ja.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(xe.default.Cell,{style:[Ja.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ja.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.detalle_bancario}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ja.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.telefono})})]},e.id_Proveedor))),(0,w.jsx)(f.default,{transparent:!0,visible:D,animationType:"fade",onRequestClose:()=>he(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),J&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ae||ee)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>he(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[le,ce]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await ge();if(A(!$),e){const e=T.filter((e=>e.id_Proveedor!==le));O(e),U("Producto eliminado con \xe9xito"),N(!0)}else U("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),N(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!$),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:re,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ne(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Bt,{columns:V,items:H})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:Ja.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ja.paginationButtonMovil,0===I&&Ja.disabledButton],onPress:()=>ie(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Ja.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ja.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Ja.paginationButtonMovil,(I+1)*k>=e.length&&Ja.disabledButton],onPress:()=>ie(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Ja.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(i.default,{style:S,children:(0,w.jsxs)(xe.default,{children:[se(),T.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>Y(e.id_Proveedor),children:[(0,w.jsx)(xe.default.Cell,{style:Ja.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(xe.default.Cell,{style:Ja.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ja.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.detalle_bancario}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:{flex:1.5,justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsx)(s.default,{children:e.telefono})})]},e.id_Proveedor))),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:Ja.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ja.paginationButtonDesktop,0===I&&Ja.disabledButton],onPress:()=>ie(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Ja.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ja.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Ja.paginationButtonDesktop,(I+1)*k>=e.length&&Ja.disabledButton],onPress:()=>ie(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Ja.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Ja=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:16,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),Xa=({items:e,columns:t})=>{(0,b.useNavigation)();const[a]=o.useState(new c.default.Value(1)),[r,n]=o.useState(0),[l,d]=o.useState(3),[h,f]=o.useState([]);o.useEffect((()=>{const t=r*l,a=Math.min((r+1)*l,e.length);f([]),setTimeout((()=>{f(e.slice(t,a))}),0)}),[r,e,l]);const g=t=>{t>=0&&t*l<e.length&&n(t)},[x,p]=o.useState(!1);return(0,w.jsx)(i.default,{style:Qa.containerDesktop,children:(0,w.jsxs)(xe.default,{style:{width:"100%",height:"auto"},children:[(0,w.jsx)(xe.default.Header,{style:{justifyContent:"space-between"},children:t.map(((e,t)=>(0,w.jsx)(xe.default.Title,{style:[Qa.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsx)(s.default,{style:Qa.headerTextDesktop,children:e})},t)))}),h.filter((e=>0!==parseInt(e.cantidad))).map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>{},children:[(0,w.jsx)(xe.default.Cell,{style:Qa.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"left"},numberOfLines:2,children:e.nombreProducto})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:Qa.handerRow,children:e.cantidad}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:Qa.handerRow,children:e.costo}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Qa.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_entrada))),(0,w.jsxs)(i.default,{style:Qa.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Qa.paginationButtonMovil,0===r&&Qa.disabledButton],onPress:()=>g(r-1),disabled:0===r,children:(0,w.jsx)(s.default,{style:Qa.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Qa.paginationLabel,children:`${r*l+1}-${Math.min((r+1)*l,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Qa.paginationButtonMovil,(r+1)*l>=e.length&&Qa.disabledButton],onPress:()=>g(r+1),disabled:(r+1)*l>=e.length,children:(0,w.jsx)(s.default,{style:Qa.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Qa=g.default.create({containerDesktop:{flex:1,padding:10,justifyContent:"center",alignItems:"center",width:"100%",marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Za(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,{usuario:n,setUsuario:g}=v(),{modalProveedoresDates:m,setModalProveedoresDates:j}=Aa(),[C,S]=(0,o.useState)(!1),I=(0,o.useRef)(new c.default.Value(0)).current,[_,k]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[R,T]=(0,o.useState)(""),[O,D]=(0,o.useState)(""),[P,M]=(0,o.useState)(""),[E,$]=(0,o.useState)(""),[A,L]=(0,o.useState)(""),[B,F]=(0,o.useState)(""),[N,W]=(0,o.useState)(""),[U,V]=o.useState(!1),[H,q]=o.useState(""),[Y,K]=o.useState(!1),[J,X]=(0,o.useState)(!1),[Q,Z]=(0,o.useState)(!1),[ee,te]=(0,o.useState)(""),[ae,oe]=(0,o.useState)(!1),[re,ie]=o.useState(!1),[se,le]=o.useState(!1),[de,he]=o.useState(!1),[fe,ge]=(0,o.useState)(null),[xe,pe]=(0,o.useState)([]),ye=()=>{C?c.default.timing(I,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>S(!1))):(S(!0),c.default.timing(I,{toValue:400,duration:300,useNativeDriver:!1}).start())},we={height:I},[me,je]=(0,o.useState)([]),[be,Ce]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Se,_e]=(0,o.useState)([]),[ke,Re]=(0,o.useState)(""),[Te,Oe]=(0,o.useState)(""),[De,ze]=(0,o.useState)(""),[Pe,Me]=(0,o.useState)(""),[Ee,$e]=(0,o.useState)(!1),Ae=()=>{T(""),F(""),L(""),$(""),M(""),D(""),W(""),j({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})};(0,o.useEffect)((()=>{Be()}),[fe]),(0,o.useEffect)((()=>{(async()=>{if(n?.token&&m?.id_proveedor){const e=await Va(n.token,m.id_proveedor);if(e){k(m.id_proveedor),T(e.nombre),D(e.email||""),M(e.direccion||""),$(e.telefono||""),L(e.nota||""),F(e.Cfi||""),W(e.detalle_bancario||"");const t=await ne(n.token,m.id_proveedor);if(t){const e=await Promise.all(t.map((async e=>({id_entrada:e.id_entrada,nombreProducto:e.producto.nombre,cantidad:e.cantidad,costo:e.costo,fecha:e.fecha}))));pe(e)}}}})()}),[m]);const Le=e=>{"Enter"===e.nativeEvent.key&&Be()};(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(n?.token){if(null===localStorage.getItem("resultAgregarProveedor")){const e=await ve(n.token,"35",n.id_usuario);ie(e),localStorage.setItem("resultAgregarProveedor",e)}else ie(Boolean(localStorage.getItem("resultAgregarProveedor")));if(null===localStorage.getItem("resultEliminarProveedor")){const e=await ve(n.token,"37",n.id_usuario);le(e),localStorage.setItem("resultEliminarProveedor",e)}else le(Boolean(localStorage.getItem("resultEliminarProveedor")));if(null===localStorage.getItem("resultModificarProveedor")){const e=await ve(n.token,"36",n.id_usuario);he(e),localStorage.setItem("resultModificarProveedor",e)}else he(Boolean(localStorage.getItem("resultModificarProveedor")))}})(),await(async()=>{if(void 0!=n?.token)try{const e=await Ua(n.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({id_Proveedor:e.id_proveedor,nombre:e.nombre,correo:e.email||"",detalle_bancario:e.detalle_bancario||"",telefono:e.telefono||""}))));je(t)}else console.log("No se encontraron proveedoress.")}catch(e){console.log("Error al obtener los proveedores o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de los proveedores")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de los proovedores")})(),(async()=>{if(void 0!=n?.token){const e=await Ie(n.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));_e([{label:"Tiendas",value:""},...t])}}})()})(),()=>{})),[]));const Be=async()=>{$e(!0);try{if(n?.token){let e=await(async()=>{if(n?.token)try{const e=await Ga(n.token,ke,De,Te,Pe);if(e)return await Promise.all(e.map((async e=>({id_Proveedor:e.id_proveedor,nombre:e.nombre,correo:e.email||"",direccion:e.direccion||"",telefono:e.telefono||"",nota:e.nota||"",cif:e.Cif||"",detalle_bancario:e.detalle_bancario||""}))))}catch(e){return console.error("Error al filtrar los proveedoress:",e),null}return null})()||[];je(e)}}catch(e){console.error("Error al filtrar y ordenar los proovedores:",e)}finally{$e(!1)}},Fe=()=>{T(""),D(""),M(""),$(""),L(""),j({id_proveedor:"",isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},Ne=()=>{Re(""),Oe(""),Me(""),ze(""),ge("")},We=async()=>{if(oe(!1),q("Agregando proveedor. Espere por favor"),V(!0),n?.token){let e=!0,t="ERROR AL AGREGAR PROVEEDOR. Por favor verifique los siguientes campos:\n";if(""===R.trim()&&(t+="-El nombre del proveedor no puede ser vac\xedo",e=!1),e){await Ha(n.token,R,O,E,P,A,B,N);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${n.nombre} agreg\xf3 al sistema al proveedor ${R}`;await G(n.token,r,`${t}-${a}-${o}`,n.id_usuario,3),oe(!0),q(`El Proveedor "${R}" fue insertado con \xe9xito`),V(!0),K(!0),T(""),$(""),D(""),M(""),L(""),F(""),W("")}else oe(!0),q(t),V(!0)}},Ue=async()=>{if(oe(!1),q("Modificando proveedor. Espere por favor"),V(!0),n?.token){let e=!0,t="ERROR AL MODIFICAR PROVEEDOR. Compruebe los siguientes campos:\n";if(""===R.trim()&&(e=!1,t+="-El nombre del proveedor no puede ser vac\xedo"),e){await qa(n.token,_,R,O,E,P,A,B,N);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${n.nombre} modific\xf3 al proveedor ${R}`;await G(n.token,r,`${t}-${a}-${o}`,n.id_usuario,3),oe(!0),q(`El Proveedor "${R}" se modific\xf3 con \xe9xito`),V(!0),K(!0)}else oe(!0),q(t),V(!0)}},Ve=async()=>{if(oe(!1),q("Eliminando proveedor. Espere por favor"),V(!0),n?.token){let e="ERROR AL TRATAR DE ELIMINAR EL PROVEEDOR. Motivos:\n";if(!0){if(await Ya(n.token,_)){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${n.nombre} elimin\xf3 al proveedor ${R}`;await G(n.token,r,`${t}-${a}-${o}`,n.id_usuario,3),oe(!0),q(`El Proveedor "${R}" se elimin\xf3 con \xe9xito`),V(!0),K(!0)}else oe(!0),e+="-El proveedor ya ha echo operaciones en el sistema.\n",q(e),V(!0)}else oe(!0),q(e),V(!0)}},He=["Producto","Cantidad","Costo","Fecha"],qe=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],Ye=r?["Nombre","Correo","Detalle Bancario","telefono"]:["Nombre","Correo","Detalle Bancario","Tel\xe9fono"];return r?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:re&&(0,w.jsx)(u.default,{onPress:()=>Fe(),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Proveedor"})})}),(0,w.jsx)(i.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:ye,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[Ee?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Ka,{isMobile:r,items:me,columns:Ye,columnasMyDateTableProveedorModal:qe,columnasMyDateTableTiendaModal:He,tiendasByProducto:[],proveedorByProducto:be}),C&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},we],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",onKeyPress:Le,value:ke,onChangeText:Re}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Correo del Proveedor:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Correo del Proveedor",onKeyPress:Le,value:Te,onChangeText:Oe}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Detalles Bancarios:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Detalles Bancarios",onKeyPress:Le,value:Pe,onChangeText:Me}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"N\xfamero de Tel\xe9fono",value:De,onKeyPress:Le,onChangeText:ze}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ne,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{Be(),S(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:m?.isAddProveedor??!1,animationType:"fade",onRequestClose:Ae,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:"95%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ae,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:m?.isModificarProveedor?"Modificar Producto":m?.isAddProductoShowProveedoresTiendas?"Datos del Proveedor":"Agregar Proveedor"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Proveedor"})}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!de,value:R,onChangeText:T,placeholder:"Nombre del proveedor"}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n del Proveedor"})}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!de,value:P,onChangeText:M,placeholder:"Direcci\xf3n del Proveedor"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:E,onChangeText:$,editable:!!de,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"C\xf3digo de Identificaci\xf3n Fiscal (CIF)"}),(0,w.jsx)(z,{style:p.textImputModal,value:B,onChangeText:F,cursorColor:x.azul_Oscuro,editable:!!de,placeholder:"C\xf3digo de Identificaci\xf3n Fiscal"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:O,onChangeText:D,editable:!!de,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(z,{style:p.textImputModal,value:N,onChangeText:W,cursorColor:x.azul_Oscuro,editable:!!de,placeholder:"Detalles Bancarios"})]})]}),!m?.isModificarProveedor&&((m?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsx)(i.default,{style:{borderColor:x.azul_Oscuro,borderWidth:2,alignItems:"center",marginTop:"3%",borderRadius:15,flexDirection:"row",height:350,width:"90%"},children:(0,w.jsx)(Xa,{columns:He,items:xe})})),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Nota"}),(0,w.jsx)(z,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,editable:!!de,numberOfLines:5,value:A,onChangeText:L,scrollEnabled:!0}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",width:"100%",justifyContent:"space-between"},children:[de&&m?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{X(!0),Z(!1),te(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos proveedor ${R}?`)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Proveedor"})}),se&&m?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{X(!0),te(`\xbfEst\xe1s seguro que deseas ELIMINAR al proveedor ${R}?`),Z(!0),j({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Proveedor"})}),re&&""===m?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>We(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Proveedor"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:J,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ee}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Q?Ve():Ue(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>X(!J),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>X(!J),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:U,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:H}),ae&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Y?e.replace("Proveedores"):V(!U),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:(re||de||se)&&(0,w.jsx)(u.default,{onPress:()=>Fe(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===fe&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Proveedor"})})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",value:ke,onKeyPress:Le,onChangeText:Re}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Correo del Proveedor:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Correo del Proveedor",value:Te,onKeyPress:Le,onChangeText:Oe}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Detalles Bancarios:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Detalles Bancarios",value:Pe,onKeyPress:Le,onChangeText:Me}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"N\xfamero de Tel\xe9fono",value:De,onKeyPress:Le,onChangeText:ze}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ne,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Be(),children:"Buscar"})})]})]}),Ee?(0,w.jsx)(ue.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Ka,{isMobile:r,items:me,columns:Ye,columnasMyDateTableProveedorModal:qe,columnasMyDateTableTiendaModal:He,tiendasByProducto:[],proveedorByProducto:be})]}),(0,w.jsx)(f.default,{transparent:!0,visible:m?.isAddProveedor??!1,animationType:"fade",onRequestClose:Ae,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ae,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:m?.isModificarProveedor?"Modificar Producto":m?.isAddProductoShowProveedoresTiendas?"Datos del Proveedor":"Agregar Proveedor"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Proveedor"})}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!de,value:R,onChangeText:T,placeholder:"Nombre del proveedor"}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n del Proveedor"})}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!de,value:P,onChangeText:M,placeholder:"Direcci\xf3n del Proveedor"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:E,onChangeText:$,editable:!!de,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"C\xf3digo de Identificaci\xf3n Fiscal (CIF)"}),(0,w.jsx)(z,{style:p.textImputModal,value:B,onChangeText:F,cursorColor:x.azul_Oscuro,editable:!!de,placeholder:"C\xf3digo de Identificaci\xf3n Fiscal"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:O,onChangeText:D,editable:!!de,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(z,{style:p.textImputModal,value:N,onChangeText:W,cursorColor:x.azul_Oscuro,editable:!!de,placeholder:"Detalles Bancarios"})]})]}),!m?.isModificarProveedor&&((m?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsx)(i.default,{style:{flex:1,borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,height:500,width:"90%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(Xa,{columns:He,items:xe})})),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Nota"}),(0,w.jsx)(z,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,editable:!!de,numberOfLines:5,value:A,onChangeText:L,scrollEnabled:!0}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[de&&m?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{X(!0),Z(!1),te(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos proveedor ${R}?`)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Proveedor"})}),se&&m?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{X(!0),te(`\xbfEst\xe1s seguro que deseas ELIMINAR al proveedor ${R}?`),Z(!0),j({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Proveedor"})}),re&&""===m?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>We(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Proveedor"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:J,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ee}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Q?Ve():Ue(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>X(!J),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>X(!J),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:U,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:H}),ae&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Y?e.replace("Proveedores"):V(!U),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const eo=({items:e,columns:t,isMobile:r})=>{const n=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalProductsDates:g,setModalProductsDates:p}=we(),{sortProductos:y,setSortProductos:m}=be(),{usuario:j,setUsuario:C}=v(),S=r?to.containerMovil:to.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(0),[T,O]=o.useState(20),[D,P]=o.useState([]),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(!1),[V,H]=o.useState(!1),[q,Y]=o.useState(""),G=["Nombre"],[K,J]=o.useState(""),[X,Q]=o.useState([{value:"1",label:"Tienda 1"},{value:"2",label:"Tienda 2"},{value:"3",label:"Tienda 3"}]),Z=e=>{p({id_producto:e,isAddProducto:!0,fileEditable:!1,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!0,isAddProductoShowProveedores:!0})},[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ne]=o.useState(!1),[ie,se]=o.useState(!1),[le,de]=o.useState(!1),[ce,ue]=o.useState(!1),[he,fe]=o.useState(""),[ge,pe]=o.useState(""),[ye,me]=o.useState(""),[je,Ce]=o.useState(""),[Se,_e]=o.useState(""),[ke,Re]=o.useState(""),[Te,Me]=o.useState([]),[Ee,$e]=o.useState([]);o.useEffect((()=>{(async()=>{if(j?.token){const e=await ve(j.token,"7",j.id_usuario),t=await ve(j.token,"8",j.id_usuario),a=await ve(j.token,"30",j.id_usuario),o=await ve(j.token,"31",j.id_usuario);ne(e),se(t),de(a),ue(o),oe(t||e||a||o),_(await Pe(j.token))}})()}),[]),o.useEffect((()=>{const t=k*T,a=Math.min((k+1)*T,e.length);P([]),setTimeout((()=>{P(e.slice(t,a))}),0)}),[k,e,T]);const Ae=t=>{t>=0&&t*T<e.length&&R(t)},Le=()=>(0,w.jsx)(xe.default.Header,{style:{justifyContent:"space-between"},children:t.map(((t,o)=>(0,w.jsxs)(xe.default.Title,{style:[to.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:[(0,w.jsx)(s.default,{style:r?to.headerTextMovil:to.headerTextDesktop,children:t}),("PrecioUSD"===t||"Nombre"===t||"Precio"===t||"PrecioCUP"===t||"Cantidad"===t||"Cantidad Total"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre"===t?a="option3":"PrecioUSD"===t||"PrecioCUP"===t||"Precio"===t?a="option4":"Cantidad Total"!==t&&"Cantidad"!==t||(a="option5"),m({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]},o)))}),[Be,Fe]=o.useState(""),[Ne,We]=o.useState(""),Ue=e=>{Fe(e),E(!M)},Ve=e=>{if(We(e),E(!M),"Modificar"===e){if(p({id_producto:Be,isAddProducto:!0,fileEditable:!0,isModificarProducto:!0,isAddProductoShowProveedoresTiendas:!0,isAddProductoShowProveedores:!0}),j?.token){}}else"Eliminar"===e?B(!L):"Mover"==e&&(alert("Entr\xf3 a mover"),(async()=>{if(void 0!=j?.token){const e=await Ie(j.token),t=await De(j.token,Be);if(e&&Array.isArray(e.data)&&!1!==t&&Array.isArray(t)){const a=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));let o=[],r=[];t.forEach((async e=>{parseInt(e.cantidad)>0&&o.push(e.id_tienda)}));for(let e of o){let t={value:"",label:""};const a=await Oe(j.token,e);t.label=a.nombre,t.value=e,r.push(t)}let n=!1;n=r.some((e=>{e.value,j.id_tienda}));for(let e=0;e<r.length;e++)r[e].value===j.id_tienda&&(n=!0);n&&fe(j.id_tienda),ce||fe(j.id_tienda),alert(`Datos cargador: ${r.length}`),Me(r),$e(a)}}})(),N(!F))},He=async()=>{const e=await qe();if(B(!L),e){const e=D.filter((e=>e.id_Producto!==Be));P(e),Y("Producto eliminado con \xe9xito"),U(!0)}else Y("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),U(!0)},qe=async()=>{if(j?.token){if(0==await ze(j.token,Be,j.id_tienda)){return!!await Ge(j.token,Be)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(i.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(xe.default,{style:{width:"150%"},children:[Le(),D.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>Z(e.id_Producto),style:{justifyContent:"space-around"},children:[(0,w.jsx)(xe.default.Cell,{style:to.handerRow,children:e.sku}),(0,w.jsx)(xe.default.Cell,{style:to.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:to.handerRow,children:(parseFloat(e.precioUSD)*I).toFixed(2)}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:to.handerRow,children:(0,w.jsxs)(s.default,{children:[e.cantidadTotal," "]})})]},e.id_Producto))),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",onRequestClose:()=>Ue(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),re&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{Ve("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ie&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{Ve("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ce||le)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{Ve("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>Ue(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[Be,Ne]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>He(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>B(!L),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:ge,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");pe(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Bt,{columns:G,items:X})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>N(!F),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:q}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:to.paginationContainer,children:[(0,w.jsx)(u.default,{style:[to.paginationButtonMovil,0===k&&to.disabledButton],onPress:()=>Ae(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:to.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:to.paginationLabel,children:`${k*T+1}-${Math.min((k+1)*T,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[to.paginationButtonMovil,(k+1)*T>=e.length&&to.disabledButton],onPress:()=>Ae(k+1),disabled:(k+1)*T>=e.length,children:(0,w.jsx)(s.default,{style:to.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(i.default,{style:S,children:(0,w.jsxs)(xe.default,{children:[Le(),D.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>Z(e.id_Producto),children:[(0,w.jsx)(xe.default.Cell,{style:to.handerRow,children:e.sku}),(0,w.jsx)(xe.default.Cell,{style:to.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:to.handerRow,children:(parseFloat(e.precioUSD)*I).toFixed(2)}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:to.handerRow,children:(0,w.jsxs)(s.default,{children:[e.cantidadTotal," "]})})]},e.id_Producto))),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",onRequestClose:()=>Ue(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),re&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{Ve("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ie&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{Ve("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ce||le)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{Ve("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>Ue(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>He(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>B(!L),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:V,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Estas seguro de que deseas mover una cantidad de ${ge} del producto ${ye} desde la tienda ${je} a ${Se}?`}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{if(!ee&&(te(!0),j?.token)){await Ze(j.token,Be,he,ke,ge);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");await it(j.token,`${a}-${o}-${t}`,he,ke,ge,Be,j.id_usuario),Y(`Se movieron ${ge} de ${ye} desde la tienda ${je} a ${Se}`),H(!1),U(!0)}})(),disabled:ee,children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>H(!V),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>H(!V),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Mover Producto "${ye}" a una Tienda\ncon una cantidad de ${ge} en ${je}`}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:ge,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");pe(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[" ",ce&&(0,w.jsx)(ot,{value:he,items:Te,placeholder:"Tienda desde donde se quiere mover",setValue:fe}),(0,w.jsx)(ot,{value:ke,items:Ee,placeholder:"Tienda a la que se quiere mover",setValue:Re})]}),(0,w.jsx)(u.default,{onPress:()=>(async()=>{if(ee)return;te(!0);let e=!0,t="Error. Comprueve los siguientes par\xe1metros:\n",a=0;if(j?.token){const e=await ze(j.token,Be,he);e.encontrado&&(a=parseInt(e.cantidad))}if(he===ke&&(e=!1,t+="-La tienda origen no puede ser igual a la tienda destino.\n"),""===ge?(e=!1,t+="-La cantidad a mover no puede ser vacio.\n"):parseInt(ge)>a&&(e=!1,t+="-La cantidad a mover es mayor que la cantidad que existe en la tienda.\n"),ce&&""===he&&(e=!1,t+="-Elija la tienda desde la que decea hacer el movimiento.\n"),""===ke&&(e=!1,t+="-Elija una tienda a la que desea hacer el movimiento.\n"),e){const e=Ee.find((e=>e.value===ke));_e(String(e?.label));const t=Te.find((e=>e.value===he));Ce(String(t?.label)),N(!1),H(!0)}else Y(t),N(!1),U(!0)})(),disabled:ee,style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:150,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>N(!F),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:q}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:to.paginationContainer,children:[(0,w.jsx)(u.default,{style:[to.paginationButtonDesktop,0===k&&to.disabledButton],onPress:()=>Ae(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:to.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:to.paginationLabel,children:`${k*T+1}-${Math.min((k+1)*T,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[to.paginationButtonDesktop,(k+1)*T>=e.length&&to.disabledButton],onPress:()=>Ae(k+1),disabled:(k+1)*T>=e.length,children:(0,w.jsx)(s.default,{style:to.paginationLabel,children:"Pr\xf3xima"})})]})]})})},to=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function ao(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,{usuario:n,setUsuario:g}=v(),{sortProductos:m,setSortProductos:j}=be(),{modalProductsDates:C,setModalProductsDates:S}=we(),[I,_]=(0,o.useState)(!1),k=(0,o.useRef)(new c.default.Value(0)).current,[R,T]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)(!1)),[O,D]=(0,o.useState)(0),[P,M]=(0,o.useState)(""),[$,A]=(0,o.useState)(""),[L,B]=(0,o.useState)(""),[F,N]=(0,o.useState)(""),[W,U]=(0,o.useState)(""),[V,H]=(0,o.useState)(""),[q,Y]=(0,o.useState)(""),[K,J]=(0,o.useState)(""),[X,Q]=(0,o.useState)([]),[Z,ee]=o.useState(!1),[te,ae]=o.useState(!1),[oe,ne]=o.useState(!1),[ie,se]=o.useState(!1),[le,de]=o.useState(!1),[he,fe]=o.useState(!1),[xe,pe]=(0,o.useState)(!1),[ye,me]=o.useState(""),[je,Ce]=o.useState(!1),[Se,_e]=o.useState(!1),[Re,Te]=(0,o.useState)([]),[Me,$e]=(0,o.useState)([]),[Le,Fe]=(0,o.useState)([]),[Ne,We]=(0,o.useState)([]),[Ue,Ve]=(0,o.useState)(!1),[He,Ge]=o.useState(!1),[Ke,Je]=o.useState(!1),[tt,at]=o.useState(!1),[rt,nt]=o.useState(!1),[st,lt]=o.useState(!1),[dt,ct]=(0,o.useState)(""),[ut,ht]=(0,o.useState)(""),[ft,gt]=(0,o.useState)(n?.id_tienda??""),[xt,pt]=(0,o.useState)("2"),[yt,bt]=(0,o.useState)("1"),[St,vt]=(0,o.useState)("0"),[It,_t]=(0,o.useState)("0"),[kt,Rt]=(0,o.useState)(""),[Tt,Ot]=(0,o.useState)(""),[Dt,zt]=(0,o.useState)(""),[Mt,Et]=(0,o.useState)(""),[$t,Lt]=(0,o.useState)(""),[Bt,Ft]=(0,o.useState)(""),[Nt,Wt]=(0,o.useState)(""),[Ut,Vt]=(0,o.useState)(""),[Ht,Gt]=(0,o.useState)(!1),[Kt,Jt]=o.useState(""),[Xt,Zt]=o.useState(""),[ea,ta]=o.useState(""),[aa,oa]=o.useState(""),[na,ia]=o.useState(""),[sa,la]=o.useState(""),[da,ca]=o.useState(""),[ha,ga]=o.useState(""),[xa,pa]=o.useState([]),[ya,wa]=o.useState([]),ma=async()=>{if(n?.token){let e=!0,t="ERROR AL RESTAR PRODUCTOS. Verifique los siguientes par\xe1metros.\n";parseInt(Xt)<parseInt(na)&&(e=!1,t+="-La cantidad a restar es mayor que la cantidad en la tienda.\n"),e?(de(!1),se(!0)):(me(t),ae(!0),pe(!0),fe(!1))}},ja=async()=>{if(pe(!1),me("Restando producto. Espere por favor"),ae(!0),n){let e=parseInt(Xt)-parseInt(na);await qe(n.token,L,co,String(e));const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let i=`El usuario ${n.nombre} rest\xf3 una cantidad de ${na} de ${F} de la tienda ${Kt}`;await G(n.token,i,`${a}-${o}-${r}`,n.id_usuario,1),me(`Se restaron ${na} de la tienda ${Kt}`),pe(!0),ae(!0),pe(!0),fe(!0)}},ba=async()=>{if(pe(!1),me("Moviendo producto. Espere por favor"),ae(!0),n?.token){await Ze(n.token,L,ea,ha,aa);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");await it(n.token,`${a}-${o}-${t}`,ea,ha,aa,L,n.id_usuario),await Ye(n.token,L,ha);let r=`El usuario ${n.nombre} movi\xf3 ${aa} de ${F} desde la tienda ${sa} hasta la tienda ${da}`;await G(n.token,r,`${t}-${a}-${o}`,n.id_usuario,2),me(`Se movieron ${aa} de ${F} desde la tienda ${sa} a ${da}`),pe(!0),fe(!0),ne(!1),ae(!0)}},Ca=async()=>{let e=!0,t="Error. Compruebe los siguientes par\xe1metros:\n",a=0;if(n?.token){const e=await ze(n.token,L,ea);e.encontrado&&(a=parseInt(e.cantidad))}if(ea===ha&&(e=!1,t+="-La tienda origen no puede ser igual a la tienda destino.\n"),"0"===aa&&(e=!1,t+="-La cantidad a mover debe ser mayor que 0.\n"),""===aa?(e=!1,t+="-La cantidad a mover no puede ser vac\xedo.\n"):parseInt(aa)>a&&(e=!1,t+="-La cantidad a mover es mayor que la cantidad que existe en la tienda.\n"),Ma&&""===ea&&(e=!1,t+="-Elija la tienda desde la que decea hacer el movimiento.\n"),""===ha&&(e=!1,t+="-Elija una tienda a la que desea hacer el movimiento.\n"),e){const e=ya.find((e=>e.value===ha));ca(String(e?.label));const t=xa.find((e=>e.value===ea));la(String(t?.label)),Ce(!1),fe(!0),ne(!0)}else me(t),ae(!0),pe(!0),fe(!1)},Sa=e=>{"Enter"===e.nativeEvent.key&&jo()},va=async()=>{if(void 0!=n?.token){const e=await Ie(n.token),t=await De(n.token,L);if(e&&Array.isArray(e.data)&&!1!==t&&Array.isArray(t)){const a=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));let o=[],r=[];t.forEach((async e=>{parseInt(e.cantidad)>0&&o.push(e.id_tienda)}));for(let e of o){let t={value:"",label:""};const a=await Oe(n.token,e);t.label=a.nombre,t.value=e,r.push(t)}let i=!1;i=r.some((e=>{e.value,n.id_tienda}));for(let e=0;e<r.length;e++)r[e].value===n.id_tienda&&(i=!0);i&&ta(n.id_tienda),Ma||ta(n.id_tienda),pa(r),wa(a)}}};(0,o.useEffect)((()=>{R&&(async()=>{if(n?.token){const e=await Oe(n.token,ea),t=await ze(n.token,L,ea);Zt(t.cantidad),Jt(e.nombre)}})()}),[ea]),(0,o.useEffect)((()=>{"PrecioCUP"===Ut?(Rt(parseFloat(kt).toFixed(4)),Vt("")):"PrecioUSD"===Ut?(Ot(parseFloat(Tt).toFixed(0)),Vt("")):"CostoCUP"===Ut?(vt(parseFloat(St).toFixed(4)),Vt("")):"CostoUSD"===Ut&&(_t(parseFloat(It).toFixed(0)),Vt("")),Vt("")}),[Ut]),(0,o.useEffect)((()=>{(async()=>{if(n?.token){const e=await qt(n.token,L);if(2===parseInt(xt)){const t=await fa(n.token,dt);Ve(!0),t?(B(t.producto.id_producto),bt(t.cantidad),gt(e.tienda.id_tienda),Rt(t.producto.precio),Ot(String(parseInt(t.producto.precio)*O)),vt(t.producto.costo_acumulado)):(Ve(!0),B(""),bt(""),Rt(""),Ot(""),vt(""))}else Ve(!1),Rt(e.precio),Ot(String(parseInt(e.precio)*O)),vt(e.costo)}})()}),[xt]),(0,o.useEffect)((()=>{if(""!==L&&n?.token){(async()=>{const e=await Be(n.token,L);vt(e.costo_acumulado),Rt(e.precio??0),Ot(String(parseFloat(e.precio)*O)??0)})()}}),[L]);const Ia=async()=>{if(me("Recopilando datos de todos los productos filtrados para el Exel. Espere un momento por favor."),xo(!0),ee(!0),n?.token){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),r=await et(n.token,Va);if(r){const e=window.URL.createObjectURL(r),i=document.createElement("a");i.href=e,i.download=`${n.nombre_tienda}_${o}-${a}-${t}.xlsx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(e)}else console.error("No se pudo descargar el archivo.")}xo(!1)},[_a,ka]=(0,o.useState)(!1),[Ra,Ta]=(0,o.useState)(!1),[Oa,Da]=o.useState(!1),[za,Pa]=o.useState(!1),[Ma,Ea]=o.useState(!1),[$a,Aa]=o.useState(!1),La=async()=>{if(n?.token){if(null===localStorage.getItem("resultPermisoButonAddProducto")){const e=await ve(n.token,"6",n.id_usuario);ka(e),localStorage.setItem("resultPermisoButonAddProducto",e)}else ka(Boolean(localStorage.getItem("resultPermisoButonAddProducto")));if(null===localStorage.getItem("resultPermisoHistorialDeProveedores")){const e=await ve(n.token,"38",n.id_usuario);Ta(e),localStorage.setItem("resultPermisoHistorialDeProveedores",e)}else Ta(Boolean(localStorage.getItem("resultPermisoHistorialDeProveedores")));if(null===localStorage.getItem("resultPermisoButonOptionModificar")){const e=await ve(n.token,"7",n.id_usuario);localStorage.setItem("resultPermisoButonOptionModificar",e)}if(null===localStorage.getItem("resultPermisoButonOptionEliminar")){const e=await ve(n.token,"8",n.id_usuario);localStorage.setItem("resultPermisoButonOptionEliminar",e)}if(null===localStorage.getItem("resultPermisoButonOptionMoverLocal")){const e=await ve(n.token,"30",n.id_usuario);Pa(e),localStorage.setItem("resultPermisoButonOptionMoverLocal",e)}else Pa(Boolean(localStorage.getItem("resultPermisoButonOptionMoverLocal")));if(null===localStorage.getItem("resultPermisoButonOptionMoverGeneral")){const e=await ve(n.token,"31",n.id_usuario);Ea(e),localStorage.setItem("resultPermisoButonOptionMoverGeneral",e)}else Ea(Boolean(localStorage.getItem("resultPermisoButonOptionMoverGeneral")));if(null===localStorage.getItem("resultPermisoVentaGeneral")){const e=await ve(n.token,"27",n.id_usuario);Aa(e),localStorage.setItem("resultPermisoVentaGeneral",e)}else Aa(Boolean(localStorage.getItem("resultPermisoVentaGeneral")));(async()=>{if(n?.token){if(null===localStorage.getItem("resultAgregarServicio")){const e=await ve(n.token,"26",n.id_usuario);Ge(e),localStorage.setItem("resultAgregarServicio",e)}else Ge(Boolean(localStorage.getItem("resultAgregarServicio")));if(null===localStorage.getItem("resultEliminarServicio")){const e=await ve(n.token,"25",n.id_usuario);Je(e),localStorage.setItem("resultEliminarServicio",e)}else Je(Boolean(localStorage.getItem("resultEliminarServicio")));if(null===localStorage.getItem("resultModificarServicio")){const e=await ve(n.token,"24",n.id_usuario);at(e),localStorage.setItem("resultModificarServicio",e)}else at(Boolean(localStorage.getItem("resultModificarServicio")));if(null===localStorage.getItem("resulServicioLocal")){const e=await ve(n.token,"26",n.id_usuario);nt(e),localStorage.setItem("resulServicioLocal",e)}else nt(Boolean(localStorage.getItem("resulServicioLocal")));if(null===localStorage.getItem("resultServicioGeneral")){const e=await ve(n.token,"27",n.id_usuario);lt(e),localStorage.setItem("resultServicioGeneral",e)}else lt(Boolean(localStorage.getItem("resultServicioGeneral")));if(null===localStorage.getItem("cambioMoneda")){const e=await Pe(n.token);D(e),localStorage.setItem("cambioMoneda",e.toString())}else D(parseFloat(localStorage.getItem("cambioMoneda")))}})(),Da(Boolean(localStorage.getItem("resultPermisoButonOptionEliminar"))||Boolean(localStorage.getItem("resultPermisoButonOptionModificar"))||Boolean(localStorage.getItem("resultPermisoButonOptionMoverLocal"))||Boolean(localStorage.getItem("resultPermisoButonOptionMoverGeneral")))}},Ba=e=>{},[Fa,Na]=(0,o.useState)(null),Wa=()=>{I?c.default.timing(k,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>_(!1))):(_(!0),c.default.timing(k,{toValue:400,duration:300,useNativeDriver:!1}).start())},Ua={height:k},[Va,Ha]=(0,o.useState)([]),[qa,Ya]=(0,o.useState)([]),[Ga,Ka]=(0,o.useState)([]),[Ja,Xa]=(0,o.useState)([]),[Qa,Za]=(0,o.useState)(""),[to,ao]=(0,o.useState)(""),[oo,ro]=(0,o.useState)(""),[no,io]=(0,o.useState)(""),[so,lo]=(0,o.useState)(""),[co,uo]=(0,o.useState)(n?.id_tienda),[ho,fo]=(0,o.useState)(!1),[go,xo]=(0,o.useState)(!1),po=()=>{S({id_producto:"",isAddProducto:!1,isModificarProducto:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1})},yo=async()=>{if(n?.token&&C?.id_producto){const e=await Be(n.token,C.id_producto);if(e){B(e.id_producto),N(e.nombre),U(e.precio),H(e.precio_empresa),Y(e.Sku),J(e.descripcion||""),(async e=>{if(n?.token){const t=await De(n.token,e);if(Array.isArray(t)){const e=t.map((e=>({id_tienda:e.tienda.id_tienda.toString(),nombre:e.tienda.nombre,cantidad:e.cantidad.toString()})));Ya(e)}}})(e.id_producto),(async e=>{try{if(n?.token){const t=await re(n?.token,e),a=await Be(n.token,e);if(t){M(a.costo_acumulado);const e=t.map((e=>({id_proveedor:e.proveedor.id_proveedor,nombre:e.proveedor.nombre,cantidad:e.cantidad,costoPorUnidad:e.costo})));Ka(e)}}}catch(t){console.log("Error al cargar los proveedores por producto:",t)}})(e.id_producto);await Oe(n.token,ea);const t=await ze(n.token,e.id_producto,co),a=Ja.find((e=>parseInt(e.value)===parseInt(co??"0")));Zt(t.cantidad),Jt(a?.label??"");const o=e.imagenes.map((async e=>{let t=await e.url,a=t.substring(1,t.length);return t=E+a,{uri:t}})),r=await Promise.all(o);Q(r)}}};(0,o.useEffect)((()=>{R&&yo()}),[C]),(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{uo(n?.id_tienda),D(await Pe(n?.token)),await La(),await(async()=>{if(void 0!=n?.token){const e=await Qt(n.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_tipo_servicio}))));We(t),pt("2")}}})(),await(async()=>{if(void 0!=n?.token){const e=await ra(n.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_cliente}))));Te(t)}}})(),await(async()=>{if(void 0!=n?.token){let e;const t=await ve(n.token,"27",n.id_usuario),a=await ve(n.token,"26",n.id_usuario);if(t){if(e=await Ee(n.token),e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));$e(t)}}else if(a){const e=await Ae(n.token,n.id_tienda);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));$e(t)}}}})(),await(async()=>{if(void 0!=n?.token){const e=await Ie(n.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Fe([{label:"Todas las tiendas",value:""},...t])}}})(),(async()=>{if(void 0!=n?.token){const e=await Ie(n.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Xa(t)}}})()})(),T(!0),()=>{})),[]));const[wo,mo]=(0,o.useState)(!1),jo=async()=>{fo(!0);try{if(n?.token){let e=await(async()=>{if(n?.token)try{const e=await Xe(n.token,Qa,to,no,so,oo,co);if(e)return await Promise.all(e.map((async e=>({id_Producto:e.id_producto,nombre:e.producto.nombre,sku:e.producto.Sku,cantidadTotal:e.cantidad,precioUSD:e.producto.precio.toString(),precioEmpresaUSD:e.producto.precio_empresa}))))}catch(e){return console.error("Error al filtrar los productos:",e),null}return null})();console.log(m?.criterioOrden&&Fa),mo(!wo),m?.criterioOrden&&m.tipoOrden&&(e=await Qe(n.token,e,m.criterioOrden,wo)),Ha(e)}}catch(e){console.error("Error al filtrar y ordenar los productos:",e)}finally{fo(!1)}};(0,o.useEffect)((()=>{jo()}),[m,Fa]);const bo=()=>{(0,wt.launchImageLibrary)({mediaType:"photo",quality:1,includeBase64:!1,selectionLimit:100,includeExtra:!0},(e=>{e.didCancel?console.log("El usuario cancel\xf3 la selecci\xf3n de la imagen."):e.errorMessage?console.error("Error al seleccionar la imagen: ",e.errorMessage):e.assets&&e.assets.length>0?Q((t=>{const a=100-t.length,o=e.assets.slice(0,a);return[...t,...o]})):console.log("No se seleccion\xf3 ninguna imagen.")}))},Co=e=>{const t=X.filter(((t,a)=>a!==e));Q(t)},So=()=>{Za(""),ao(""),ro(""),io(""),lo(""),Na(""),uo(n?.id_tienda)},vo=["Nombre","Cantidad"],Io=["Nombre","Cantidad","Costo"],_o=r?["SKU","Nombre","Precio","Cantidad"]:["SKU","Nombre","PrecioCUP","Cantidad en la Tienda"];return r?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:[(0,w.jsxs)(u.default,{onPress:()=>Ia(),style:{flexDirection:"row",height:30,width:"40%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.verde_claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"1%",marginTop:"1%",backgroundColor:x.verde_claro},children:[(0,w.jsx)(l.default,{source:a(7520),style:{width:20,height:20,marginRight:"10%"}}),(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===m?.criterioOrden&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Exportar a Excel"})]}),(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Wa,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})]}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[ho?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(eo,{isMobile:r,items:Va,columns:_o,columnasMyDateTableProveedorModal:Io,columnasMyDateTableTiendaModal:vo,tiendasByProducto:qa,proveedorByProducto:Ga}),I&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Ua],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del producto",value:Qa,onKeyPress:Sa,onChangeText:Za}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"SKU:"}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Cantidad:"})]}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"SKU",value:to,onKeyPress:Sa,onChangeText:ao}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"Cantidad",value:oo,onKeyPress:Sa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ro(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Precio en CUP:"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:no,onKeyPress:Sa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");io(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:so,onKeyPress:Sa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");lo(t)}})]}),("2"===String(n?.id_rol)||"1"===String(n?.id_rol))&&(0,w.jsx)(i.default,{style:p.separatorBlanco}),("2"===String(n?.id_rol)||"1"===String(n?.id_rol))&&(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Cambiar de Tienda:"}),("2"===String(n?.id_rol)||"1"===String(n?.id_rol))&&(0,w.jsx)(i.default,{style:{position:"relative",zIndex:500,height:100},children:(0,w.jsx)(ge,{value:co,placeholder:"Tiendas",setValue:uo,items:Ja})}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",marginTop:25},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:So,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{jo(),_(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:C?.isAddProducto??!1,animationType:"fade",onRequestClose:po,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:po,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:C?.isModificarProducto?"Modificar Producto":C?.isAddProductoShowProveedoresTiendas?"Datos del Producto":"Agregar Producto"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Del Producto"})}),(0,w.jsx)(z,{style:p.textImputModal,value:F,onChangeText:N,cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Nombre del producto"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%"}}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio de empresa en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:V,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;H(a)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Precio de empresa en CUP"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Tt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;M(a)},editable:!1,placeholder:"Precio en CUP"})]}),Ra&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo Promedio"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:P,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;M(a)},editable:!1,placeholder:"Costo Promedio"})]})]}),!C?.isModificarProducto&&((C?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:(parseFloat(W)*O).toFixed(0),cursorColor:x.azul_Oscuro,editable:!1,placeholder:"Precio en CUP"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Sku"}),(0,w.jsx)(z,{style:p.textImputModal,value:q,onChangeText:Y,cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Sku"})]})]})),!C?.isModificarProducto&&((C?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(i.default,{style:{borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,flexDirection:"row",height:350,width:"90%"},children:[(0,w.jsxs)(i.default,{style:{flexDirection:"column",height:340,width:"45%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Tiendas en las que existe el producto"}),(0,w.jsx)(jt,{columns:vo,items:qa})]}),(C?.isAddProductoShowProveedores??!1)&&Ra&&(0,w.jsxs)(i.default,{style:{height:340,width:"45%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Historial de proveedores"}),(0,w.jsx)(Ct,{columns:Io,items:Ga})]})]})),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(z,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,value:K,onChangeText:J,editable:!!C?.fileEditable,numberOfLines:5,scrollEnabled:!0}),(0,w.jsx)(mt.PanGestureHandler,{onGestureEvent:Ba,children:(0,w.jsxs)(i.default,{style:{marginTop:20,width:"90%",borderWidth:1,borderColor:x.azul_Oscuro,borderRadius:13,padding:20,alignItems:"center",justifyContent:"center",backgroundColor:x.blanco_Suave},children:[(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,marginBottom:"5%"},children:"Im\xe1genes del producto"}),(C?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:bo,children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Seleccionar Imagenes"})}),X.length>0&&(0,w.jsx)(h.default,{horizontal:!0,style:{marginTop:10,width:"100%",height:100},children:X.map(((e,t)=>(0,w.jsxs)(i.default,{style:{position:"relative",width:100,height:100,marginRight:10},children:[(0,w.jsx)(l.default,{source:{uri:e.uri},style:{width:100,height:100,marginRight:10,borderRadius:10}},t),(0,w.jsx)(u.default,{style:{position:"absolute",top:5,right:5,backgroundColor:"red",borderRadius:15,width:20,height:20,justifyContent:"center",alignItems:"center",zIndex:1},onPress:()=>Co(t),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:"X"})})]},t)))})]})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",flexDirection:"row"},children:[(Ma||za)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,padding:10,marginTop:"3%",marginLeft:"5%",borderRadius:12,width:"30%",alignItems:"center",justifyContent:"center"},onPress:()=>{S({id_producto:"",isAddProducto:!1,isModificarProducto:!1,fileEditable:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1}),va(),Ce(!0)},children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover Producto"})}),$a&&!1,!1]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Se,animationType:"fade",onRequestClose:()=>_e(!Se),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(i.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:()=>_e(!Se),children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Vender Producto"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:5e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:5e3,position:"relative"},children:(0,w.jsx)(Pt,{value:ut,placeholder:"Seleccione un Cliente",setValue:ht,items:Re,searchable:!0,readOnly:!(tt||rt)})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1500,paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(Pt,{value:ft,placeholder:"Seleccione una tienda",setValue:gt,items:Le,readOnly:!0,searchable:!0,onDropdownOpen:()=>{}})]}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio: Venta"})})]}),Ue&&(0,w.jsx)(i.default,{style:p.separatorNegro}),Ue&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:100,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),Ue&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:500,position:"relative"},children:(0,w.jsx)(Pt,{value:L,placeholder:"Seleccione un produto",setValue:B,items:Me,searchable:!0,readOnly:!0,onDropdownOpen:()=>{}})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[Ue&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:yt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");bt(t)},editable:tt||rt,placeholder:"Cantidad del producto"})]}),(!Ue||st)&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Ue?"Costo promedio del producto en USD":"Costo del servicio en USD"}),(0,w.jsx)(z,{style:p.textImputModal,value:St,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;_t(""!==a?String((parseFloat(a)*O).toFixed(0)):"0"),vt(a),Vt("CostoUSD")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(xt)&&(tt||rt),placeholder:"Costo Promedio"})]}),!Ue&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:It,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;vt(""!==a?String(parseFloat(a)/O):"0"),_t(a),Vt("CostoCUP")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(xt)&&(tt||rt),placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Ue?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:kt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Ot(""!==a?String((parseFloat(a)*O).toFixed(0)):"0"),Rt(a),Vt("PrecioUSD")},editable:tt||rt,placeholder:"Precio por unidad en usd"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Ue?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(z,{style:p.textImputModalNOEDITABLE,value:Tt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Rt(""!==a?String(parseFloat(a)/O):"0"),Ot(a),Vt("PrecioCUP")},cursorColor:x.azul_Oscuro,editable:tt||rt,placeholder:"Precio por unidad en cup"})]})]}),Ue&&(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:600},children:(0,w.jsxs)(i.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),Ht&&(0,w.jsx)(At,{dayValue:$t,monthValue:Bt,yearValue:Nt,onDayChange:Lt,onMonthChange:Ft,onYearChange:Wt,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>{},isReadOnly:!(tt||rt)})]})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:500},children:[(0,w.jsxs)(i.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Dt,onChangeText:zt,editable:tt||rt,placeholder:"Nota"})]}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"}})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(z,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del servicio",multiline:!0,editable:tt||rt,numberOfLines:5,value:Mt,onChangeText:Et,scrollEnabled:!0}),(0,w.jsx)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"45%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{(async()=>{if(n?.token){const e=await ze(n.token,L,ft);let t=!0,a="ERROR AL INGRESAR SERVICIO. Por favor verifique los siguientes campos:\n";if(""===ut&&(t=!1,a+="-Seleccione un cliente. Si no hay datos del cliente seleccione anonimo\n"),""===xt&&(t=!1,a+="-Seleccione el tipo de servicio que est\xe1 ofreciendo.\n"),""===ft&&(t=!1,a+="-Seleccione una tienda.\n"),e&&parseInt(e.cantidad)<parseInt(yt)&&(t=!1,a+="-La cantidad que desea vender es mayor que la cantidad que hay en la tienda.\n"),""===St&&(t=!1,a+="-Digite el costo del servicio.\n"),""===kt&&(t=!1,a+="-Defina el precio cobrado al cliente.\n"),2===parseInt(xt)&&(""===L&&(t=!1,a+="-Seleccione un producto para vender.\n"),""===yt&&(t=!1,a+="-Defina la cantidad que desea vender del producto.\n")),t){const e=await Yt(n.token,`${Bt}-${$t}-${Nt}`,kt,Dt,ft,xt,ut,"Not suport yet","not suport yet");if(2===parseInt(xt)){await ua(n.token,L,e.id_servicio,yt),await ke(n.token,L,ft,`${parseInt(yt)}`);const t=Re.find((e=>e.value===ut)),a=Ne.find((e=>e.value===xt)),o=Me.find((e=>e.value===L)),r=new Date,i=String(r.getFullYear()),s=String(r.getMonth()+1).padStart(2,"0"),l=String(r.getDate()).padStart(2,"0");let d=`El usuario ${n.nombre} agreg\xf3 un servicio del tipo de servicio ${a?.label} al cliente ${t?.label}. Se vendi\xf3 una cantidad de ${yt} del producto ${o?.label} a un precio de ${kt} USD`;await G(n.token,d,`${i}-${s}-${l}`,n.id_usuario,7)}else{const e=Re.find((e=>e.value===ut)),t=Ne.find((e=>e.value===xt)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let s=`El usuario ${n.nombre} agreg\xf3 un servicio del tipo de servicio ${t?.label} a un precio de ${kt} USD al cliente ${e?.label}`;await G(n.token,s,`${o}-${r}-${i}`,n.id_usuario,7)}await Ye(n.token,xt,ft),me("El servicio se agreg\xf3 con \xe9xito"),ae(!0),fe(!0),ht(""),Rt(""),Ot(""),bt(""),vt(""),pt(""),zt(""),Et(""),_e(!1),S({id_producto:"",isAddProducto:!1,fileEditable:!0,isModificarProducto:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1})}else me(a),ae(!0)}})()},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Servicio"})})})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ie,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Est\xe1s seguro de que deseas restar una cantidad de ${na} del producto ${F} de la tienda ${Kt}?`}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ja(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>se(!ie),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>se(!ie),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:le,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:300,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"center"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Restar ${F} de la tienda ${Kt} en la cual hay ${Xt}`}),(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Cantidad a restar"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},value:na,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ia(t)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Cantidad a restar"}),(0,w.jsx)(u.default,{onPress:()=>ma(),style:{backgroundColor:x.rojo_oscuro,borderRadius:15,marginTop:30,width:"90%",height:40,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",color:x.blanco_Suave},children:"Restar Productos"})}),(0,w.jsx)(u.default,{onPress:()=>de(!le),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:le,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Restar ${F} de la tienda ${Kt} en la cual hay ${Xt}`}),(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Cantidad a restar"}),(0,w.jsx)(z,{style:p.textImputModal,value:F,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ro(t)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Cantidad a restar"}),(0,w.jsx)(u.default,{onPress:()=>ne(!oe),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:oe,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:450,height:250,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Desea mover ${aa} producto ${F} desde la tienda ${sa} a ${da}?`}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ba(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ne(!oe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>ne(!oe),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:je,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:""===ea?"Seleccione una tienda origen":`Mover Producto "${F}" en la Tienda\n ${Kt} con una cantidad de ${Xt}`}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:aa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");oa(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[" ",Ma&&(0,w.jsx)(ot,{value:ea,items:xa,placeholder:"Tienda desde donde se quiere mover",setValue:ta}),(0,w.jsx)(ot,{value:ha,items:ya,placeholder:"Tienda a la que se quiere mover",setValue:ga})]}),(0,w.jsx)(u.default,{onPress:()=>Ca(),style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:150,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>Ce(!je),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:te,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ye}),xe&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>he?e.replace("Mi Tienda"):ae(!te),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Z,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ye}),go?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Datos Recopilados. Espere a que termine la descarga."}),(0,w.jsx)(u.default,{style:{backgroundColor:"#007BFF",padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ee(!Z),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})]})})})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:(0,w.jsxs)(u.default,{onPress:()=>Ia(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.verde_claro,borderWidth:3,padding:10,borderRadius:10,marginHorizontal:"1%",marginTop:"1%",backgroundColor:x.verde_claro},children:[(0,w.jsx)(l.default,{source:a(7520),style:{width:20,height:20,marginRight:"10%"}}),(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===m?.criterioOrden&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Exportar a Excel"})]})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:Qa,onChangeText:Za,onKeyPress:Sa}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"SKU:"}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Cantidad:"})]}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"SKU",value:to,onChangeText:ao,onKeyPress:Sa}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Cantidad",value:oo,onKeyPress:Sa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ro(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Precio en CUP:"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:no,onKeyPress:Sa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");io(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:so,onKeyPress:Sa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");lo(t)}})]}),("2"===String(n?.id_rol)||"1"===String(n?.id_rol))&&(0,w.jsx)(i.default,{style:p.separatorBlanco}),("2"===String(n?.id_rol)||"1"===String(n?.id_rol))&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Cambiar de Tienda:"}),("2"===String(n?.id_rol)||"1"===String(n?.id_rol))&&(0,w.jsx)(i.default,{style:{position:"relative",zIndex:500,height:100},children:(0,w.jsx)(ge,{value:co,placeholder:"Tiendas",setValue:uo,items:Ja})}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",marginTop:25},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:So,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>jo(),children:"Buscar"})})]})]}),ho?(0,w.jsx)(ue.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(eo,{isMobile:r,items:Va,columns:_o,columnasMyDateTableProveedorModal:Io,columnasMyDateTableTiendaModal:vo,tiendasByProducto:qa,proveedorByProducto:Ga})]}),(0,w.jsx)(f.default,{transparent:!0,visible:C?.isAddProducto??!1,animationType:"fade",onRequestClose:po,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:po,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:C?.isModificarProducto?"Modificar Producto":C?.isAddProductoShowProveedoresTiendas?"Datos del Producto":"Agregar Producto"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Del Producto"})}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,value:F,onChangeText:N,placeholder:"Nombre del producto"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%"}}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio de empresa en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:V,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;H(a)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Precio de empresa en CUP"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Precio en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Tt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;M(a)},editable:!1,placeholder:"Precio en CUP"})]}),Ra&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo Promedio"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:P,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;M(a)},editable:!1,placeholder:"Costo Promedio"})]})]}),!C?.isModificarProducto&&((C?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%"}}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Sku"}),(0,w.jsx)(z,{style:p.textImputModal,value:q,onChangeText:Y,cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Sku"})]})]})),!C?.isModificarProducto&&((C?.isAddProductoShowProveedoresTiendas??!1)&&(0,w.jsxs)(i.default,{style:{borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,flexDirection:"row",height:350,width:"90%"},children:[(0,w.jsxs)(i.default,{style:{flexDirection:"column",height:350,width:"50%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiendas en las que existe el producto"}),(0,w.jsx)(jt,{columns:vo,items:qa})]}),(C?.isAddProductoShowProveedores??!1)&&Ra&&(0,w.jsxs)(i.default,{style:{height:350,width:"50%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Historial de proveedores"}),(0,w.jsx)(Ct,{columns:Io,items:Ga})]})]})),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(z,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,editable:!!C?.fileEditable,numberOfLines:5,value:K,onChangeText:J,scrollEnabled:!0}),(0,w.jsx)(mt.PanGestureHandler,{onGestureEvent:Ba,children:(0,w.jsxs)(i.default,{style:{marginTop:20,width:"90%",borderWidth:1,borderColor:x.azul_Oscuro,borderRadius:13,padding:20,alignItems:"center",justifyContent:"center",backgroundColor:x.blanco_Suave},children:[(0,w.jsx)(s.default,{style:{fontSize:16,color:x.negro,marginBottom:"5%"},children:"Im\xe1genes del producto"}),(C?.fileEditable??!1)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:bo,children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Seleccionar Imagenes"})}),X.length>0&&(0,w.jsx)(h.default,{horizontal:!0,style:{marginTop:10,width:"100%",height:100},children:X.map(((e,t)=>(0,w.jsxs)(i.default,{style:{position:"relative",width:100,height:100,marginRight:10},children:[(0,w.jsx)(l.default,{source:{uri:e.uri},style:{width:100,height:100,marginRight:10,borderRadius:10}},t),(0,w.jsx)(u.default,{style:{position:"absolute",top:5,right:5,backgroundColor:"red",borderRadius:15,width:20,height:20,justifyContent:"center",alignItems:"center",zIndex:1},onPress:()=>Co(t),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:14},children:"X"})})]},t)))})]})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",flexDirection:"row"},children:[(Ma||za)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,padding:10,marginTop:"3%",marginLeft:"5%",borderRadius:12,width:"30%",alignItems:"center",justifyContent:"center"},onPress:()=>{S({id_producto:"",isAddProducto:!1,isModificarProducto:!1,fileEditable:!1,isAddProductoShowProveedoresTiendas:!1,isAddProductoShowProveedores:!1}),va(),Ce(!0)},children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover Producto"})}),$a&&!1,!1]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ie,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Est\xe1s seguro de que deseas restar una cantidad de ${na} del producto ${F} de la tienda ${Kt}?`}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ja(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>se(!ie),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>se(!ie),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:le,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:300,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"center"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Restar ${F} de la tienda ${Kt} en la cual hay ${Xt}`}),(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Cantidad a restar"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},value:na,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ia(t)},cursorColor:x.azul_Oscuro,editable:!!C?.fileEditable,placeholder:"Cantidad a restar"}),(0,w.jsx)(u.default,{onPress:()=>ma(),style:{backgroundColor:x.rojo_oscuro,borderRadius:15,marginTop:30,width:"90%",height:40,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",color:x.blanco_Suave},children:"Restar Productos"})}),(0,w.jsx)(u.default,{onPress:()=>de(!le),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:oe,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:450,height:250,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Desea mover ${aa} producto ${F} desde la tienda ${sa} a ${da}?`}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ba(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ne(!oe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>ne(!oe),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:je,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:500,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:""===ea?"Seleccione una tienda origen":`Mover Producto "${F}" en la Tienda ${Kt} con una cantidad de ${Xt}`}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:aa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");oa(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row",position:"relative",zIndex:500},children:[" ",Ma&&(0,w.jsx)(ot,{value:ea,items:xa,placeholder:"Tienda desde donde se quiere mover",setValue:ta}),(0,w.jsx)(ot,{value:ha,items:ya,placeholder:"Tienda a la que se quiere mover",setValue:ga})]}),(0,w.jsx)(u.default,{onPress:()=>Ca(),style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:170,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>Ce(!je),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:te,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ye}),xe&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>he?e.replace("Mi Tienda"):ae(!te),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Z,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ye}),go?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Datos Recopilados. Espere a que termine la descarga."}),(0,w.jsx)(u.default,{style:{backgroundColor:"#007BFF",padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ee(!Z),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})]})})})]})}const oo=({items:e,columns:t,isMobile:r})=>{const n=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=$t(),{usuario:y,setUsuario:m}=v(),{sortEntradas:j,setSortEntradas:C}=Fa(),S=r?ro.containerMovil:ro.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(0),[T,O]=o.useState(20),[D,P]=o.useState([]),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(!1),[V,H]=o.useState(""),q=["Nombre"],[Y,G]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),K=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ne]=o.useState(!1),[ie,se]=o.useState("");(0,b.useFocusEffect)(o.useCallback((()=>((async()=>{(async()=>{if(y?.token){const e=await ve(y.token,"7",y.id_usuario),t=await ve(y.token,"8",y.id_usuario),a=await ve(y.token,"30",y.id_usuario),o=await ve(y.token,"31",y.id_usuario);if(null===localStorage.getItem("cambioMoneda")){const e=await Pe(y.token);_(e),localStorage.setItem("cambioMoneda",e.toString())}else _(parseFloat(localStorage.getItem("cambioMoneda")));Z(e),te(t),oe(a),ne(o),X(t||e||a||o)}})()})(),()=>{})),[])),o.useEffect((()=>{}),[]),o.useEffect((()=>{const t=k*T,a=Math.min((k+1)*T,e.length);P([]),setTimeout((()=>{P(e.slice(t,a))}),0)}),[k,e,T]);const le=()=>{let t="La suma total de los costos de los productos filtrados es de: ",a=0;return e.forEach((e=>{a+=parseFloat(e.costo)})),t+=`CUP: ${(a*I).toFixed(2)}.`,t},de=t=>{t>=0&&t*T<e.length&&R(t)},ce=()=>(0,w.jsx)(xe.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(xe.default.Title,{style:[ro.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?ro.headerTextMovil:ro.headerTextDesktop,children:[t,("Nombre Proveedor"===t||"Nombre Producto"===t||"Costo Por Unidad"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre Proveedor"===t?a="option3":"Nombre Producto"===t?a="option4":"Costo Por Unidad"===t?a="option5":"Fecha"===t&&(a="option6"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[ue,he]=o.useState(""),[fe,ge]=o.useState(""),pe=e=>{he(e),E(!M)},ye=e=>{if(ge(e),E(!M),"Modificar"===e){if(p({id_entrada:ue,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?B(!L):"Mover"==e&&N(!F)},we=async()=>{if(y?.token){if(0==await ze(y.token,ue,y.id_tienda)){return!!await Ge(y.token,ue)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(i.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(xe.default,{style:{width:"150%"},children:[ce(),D.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>K(e.id_Entrada),style:{justifyContent:"space-around"},children:[(0,w.jsx)(xe.default.Cell,{style:[ro.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Proveedor})}),(0,w.jsx)(xe.default.Cell,{style:[ro.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[ro.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[ro.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:parseFloat(e.costo).toFixed(2)})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[ro.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Entrada))),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",onRequestClose:()=>pe(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ye("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ye("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(re||ae)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ye("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>pe(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[ue,fe]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await we();if(B(!L),e){const e=D.filter((e=>e.id_Proveedor!==ue));P(e),H("Producto eliminado con \xe9xito"),U(!0)}else H("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),U(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>B(!L),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:ie,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");se(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Bt,{columns:q,items:Y})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>N(!F),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:le()})}),(0,w.jsxs)(i.default,{style:ro.paginationContainer,children:[(0,w.jsx)(u.default,{style:[ro.paginationButtonMovil,0===k&&ro.disabledButton],onPress:()=>de(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:ro.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:ro.paginationLabel,children:`${k*T+1}-${Math.min((k+1)*T,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[ro.paginationButtonMovil,(k+1)*T>=e.length&&ro.disabledButton],onPress:()=>de(k+1),disabled:(k+1)*T>=e.length,children:(0,w.jsx)(s.default,{style:ro.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(i.default,{style:S,children:(0,w.jsxs)(xe.default,{children:[ce(),D.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>K(e.id_Entrada),children:[(0,w.jsx)(xe.default.Cell,{style:ro.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Proveedor})}),(0,w.jsx)(xe.default.Cell,{style:ro.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[ro.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[ro.handerRow,{justifyContent:"center",alignItems:"center"}],children:(parseFloat(e.costo)*I).toFixed(2)}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[ro.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Entrada))),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:le()})}),(0,w.jsxs)(i.default,{style:ro.paginationContainer,children:[(0,w.jsx)(u.default,{style:[ro.paginationButtonDesktop,0===k&&ro.disabledButton],onPress:()=>de(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:ro.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:ro.paginationLabel,children:`${k*T+1}-${Math.min((k+1)*T,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[ro.paginationButtonDesktop,(k+1)*T>=e.length&&ro.disabledButton],onPress:()=>de(k+1),disabled:(k+1)*T>=e.length,children:(0,w.jsx)(s.default,{style:ro.paginationLabel,children:"Pr\xf3xima"})})]})]})})},ro=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),no=({dayValue:e,monthValue:t,yearValue:a,onDayChange:r,onMonthChange:n,onYearChange:l,style:d,styleText:c,isReadOnly:u=!1,onDropdownOpen:h})=>{const[f,g]=(0,o.useState)(e),[x,p]=(0,o.useState)(t),[y,m]=(0,o.useState)(a),[j,b]=(0,o.useState)([]),[C,S]=(0,o.useState)(null);(0,o.useEffect)((()=>{const e=((e,t)=>new Date(t,e,0).getDate())(Number(x),Number(y)),t=Array.from({length:e},((e,t)=>({label:String(t+1),value:String(t+1)})));Number(f)>e&&g(String(e)),b(t)}),[x,y]);const v=(e,t,a)=>{r(e),n(t),l(a)},I=e=>{C===e?S(null):(S(e),h&&h())};return(0,w.jsxs)(i.default,{style:[io.container,d],children:[(0,w.jsxs)(i.default,{style:io.inputWrapper,children:[(0,w.jsx)(s.default,{style:[io.label,c],children:"D\xeda"}),(0,w.jsx)(he.default,{open:"day"===C,value:f,items:j,setOpen:()=>!u&&I("day"),setValue:e=>{g(e),v(e,x,y)},style:io.picker,containerStyle:[io.pickerContainer,{zIndex:"day"===C?2:1}],dropDownContainerStyle:io.dropDownContainer,disabled:u})]}),(0,w.jsxs)(i.default,{style:io.inputWrapper,children:[(0,w.jsx)(s.default,{style:[io.label,c],children:"Mes"}),(0,w.jsx)(he.default,{open:"month"===C,value:x,items:Array.from({length:12},((e,t)=>({label:String(t+1),value:String(t+1)}))),setOpen:()=>!u&&I("month"),setValue:e=>{p(e),v(f,e,y)},style:io.picker,containerStyle:[io.pickerContainer,{zIndex:"month"===C?2:1}],dropDownContainerStyle:io.dropDownContainer,disabled:u})]}),(0,w.jsxs)(i.default,{style:io.inputWrapper,children:[(0,w.jsx)(s.default,{style:[io.label,c],children:"A\xf1o"}),(0,w.jsx)(he.default,{open:"year"===C,value:y,items:Array.from({length:51},((e,t)=>{const a=(new Date).getFullYear()-25+t;return{label:String(a),value:String(a)}})),setOpen:()=>!u&&I("year"),setValue:e=>{m(e),v(f,x,e)},style:io.picker,containerStyle:[io.pickerContainer,{zIndex:"year"===C?2:1}],dropDownContainerStyle:io.dropDownContainer,disabled:u})]})]})},io=g.default.create({container:{flexDirection:"row",justifyContent:"space-between"},inputWrapper:{flex:1,marginHorizontal:5},label:{fontSize:14,marginBottom:5,color:"#000"},picker:{height:20,borderColor:"gray",borderWidth:1,borderRadius:12},pickerContainer:{height:35,width:80},dropDownContainer:{borderColor:"gray",zIndex:9999}});function so(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[n,g]=(0,o.useState)(0),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),[k,R]=(0,o.useState)(1e3),[T,O]=(0,o.useState)(1e3),[D,P]=(0,o.useState)(1e3),M=e=>{"FechaDetails"===e?(j(2e3),S(1500),_(1500),R(1500)):"TiendaDetails"===e?(S(2e3),j(1500),_(1500),R(1500)):"ProductosDetails"===e?(S(1500),j(1500),_(2e3),R(1500)):"ProveedoresDetails"===e&&(S(1500),j(1500),_(1500),R(2e3)),"FechaDesdeSearsh"===e?(O(2e3),P(1500)):"FechaHastaSearsh"===e&&(O(1500),P(2e3))},{usuario:E,setUsuario:$}=v(),{modalEntradasDates:A,setModalEntradasDates:L}=$t(),{sortEntradas:B,setSortEntradas:F}=Fa(),[N,W]=(0,o.useState)(!1),U=(0,o.useRef)(new c.default.Value(0)).current,[V,H]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[q,Y]=(0,o.useState)(""),[K,J]=(0,o.useState)(""),[X,Q]=(0,o.useState)(""),[Z,ee]=(0,o.useState)(""),[te,re]=(0,o.useState)(""),[ne,he]=(0,o.useState)(""),[fe,ge]=(0,o.useState)(""),[xe,pe]=(0,o.useState)(""),[ye,we]=(0,o.useState)(""),[me,je]=(0,o.useState)(""),[be,Ce]=(0,o.useState)(""),[Se,_e]=(0,o.useState)(""),[ke,Re]=(0,o.useState)(!1),[Te,Oe]=(0,o.useState)(!1),[De,Me]=(0,o.useState)(""),[$e,Ae]=(0,o.useState)(""),[Le,Fe]=(0,o.useState)(""),[Ne,Ue]=(0,o.useState)(""),[Ve,He]=o.useState(!1),[qe,Ge]=o.useState(""),[Je,Xe]=o.useState(!1),[Qe,Ze]=(0,o.useState)(!1),[et,tt]=(0,o.useState)(!1),[at,ot]=(0,o.useState)(""),[rt,nt]=(0,o.useState)(!1),[it,st]=(0,o.useState)(!1),[lt,dt]=o.useState(!1),[ct,ut]=o.useState(!1),[ht,ft]=o.useState(!1),[gt,xt]=(0,o.useState)(null),[pt,yt]=(0,o.useState)([]),wt=()=>{N?c.default.timing(U,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>W(!1))):(W(!0),c.default.timing(U,{toValue:400,duration:300,useNativeDriver:!1}).start())},mt={height:U},[jt,bt]=(0,o.useState)([]),[Ct,St]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[vt,It]=(0,o.useState)([]),[_t,kt]=(0,o.useState)([]),[Rt,Ot]=(0,o.useState)([]),Dt=new Date,zt=String(Dt.getFullYear()),Mt=String(Dt.getMonth()+1).padStart(2,"0"),Et=String(Dt.getDate()).padStart(2,"0"),[Lt,Bt]=(0,o.useState)(""),[Ft,Nt]=(0,o.useState)(""),[Wt,Ut]=(0,o.useState)(""),[Vt,Ht]=(0,o.useState)(""),[qt,Yt]=(0,o.useState)(new Date),[Gt,Kt]=(0,o.useState)(new Date),[Jt,Xt]=(0,o.useState)(String(parseInt(Et))),[Qt,Zt]=(0,o.useState)(String(parseInt(Mt))),[ea,ta]=(0,o.useState)(String(parseInt(zt))),[aa,oa]=(0,o.useState)(String(parseInt(Et))),[ra,na]=(0,o.useState)(String(parseInt(Mt))),[ia,sa]=(0,o.useState)(String(parseInt(zt))),[la,da]=(0,o.useState)(!1),[ca,ua]=(0,o.useState)(""),ha=[{label:"D\xeda",value:"dia"},{label:"Semana",value:"semana"},{label:"Mes",value:"mes"}],fa=e=>{ua(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let n="";if("dia"===e)n=`${a}-${o}-${r}`;else if("semana"===e){const e=new Date(t);e.setDate(t.getDate()-6);n=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("mes"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setMonth(t.getMonth()-1);n=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}ya(n,`${a}-${o}-${r}`)},ga=()=>{Y(""),re(""),ee(""),J(""),Re(!1),je(""),Ce(""),_e(""),L({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(E?.token&&A?.id_entrada){Oe(!1);const e=await ae(E.token,A.id_entrada);if(e){const[t,a,o]=e.fecha.split("T")[0].split("-");if(H(e.id_entrada),Y(e.proveedor.id_proveedor),J(e.producto.id_producto),ee(e.cantidad),Q(e.tienda.id_tienda),re(e.costo),he(String((e.costo*n).toFixed(2))),ge(String(parseInt(o))),pe(String(parseInt(a))),we(String(parseInt(t))),e.fecha_vencimiento){const[t,a,o]=e.fecha_vencimiento.split("T")[0].split("-");je(String(parseInt(o))),Ce(String(parseInt(a))),_e(String(parseInt(t)))}Me(e.producto.id_producto),Ae(e.tienda.id_tienda),Fe(e.cantidad),Ue(e.costo),Oe(!0)}}})()}),[A]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(E?.token){if(null===localStorage.getItem("isPermisoAgregarEntrada")){const e=await ve(E.token,"10",E.id_usuario);dt(e),localStorage.setItem("isPermisoAgregarEntrada",e)}else dt(Boolean(localStorage.getItem("isPermisoAgregarEntrada")));if(null===localStorage.getItem("isPermisoEliminarEntrada")){const e=await ve(E.token,"12",E.id_usuario);ut(e),localStorage.setItem("isPermisoEliminarEntrada",e)}else ut(Boolean(localStorage.getItem("isPermisoEliminarEntrada")));if(null===localStorage.getItem("isPermisoModificarEntrada")){const e=await ve(E.token,"11",E.id_usuario);ft(e),localStorage.setItem("isPermisoModificarEntrada",e)}else ft(Boolean(localStorage.getItem("isPermisoModificarEntrada")));if(null===localStorage.getItem("cambioMoneda")){const e=await Pe(E.token);g(e),localStorage.setItem("cambioMoneda",e.toString())}else g(parseFloat(localStorage.getItem("cambioMoneda")))}})(),(async()=>{if(void 0!=E?.token){const e=await Ua(E.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_proveedor}))));It(t)}}})(),(async()=>{if(void 0!=E?.token){const e=await Ee(E.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));kt(t)}}})(),(async()=>{if(void 0!=E?.token){const e=await Ie(E.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Ot([...t])}}})()})(),()=>{})),[]));const[xa,pa]=(0,o.useState)(!1),ya=async(e,t)=>{da(!0);try{if(E?.token){let a=await(async(e,t)=>{if(E?.token)try{const a=await le(E.token,Lt,Ft,Wt,Vt,e,t);if(a)return await Promise.all(a.map((async e=>({id_Entrada:e.id_entrada,id_Proveedor:e.proveedor.id_proveedor,id_Producto:e.producto.id_producto,nombre_Proveedor:e.proveedor.nombre,nombre_Producto:e.producto.nombre,cantidad:e.cantidad,costo:e.costo,fecha:e.fecha}))))}catch(a){return console.error("Error al filtrar los proveedoress:",a),null}return null})(e,t)||[];pa(!xa),a=B?.criterioOrden&&B.tipoOrden?await de(E.token,a,B?.criterioOrden,xa):await de(E.token,a,"option6",xa),bt(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{da(!1)}};(0,o.useEffect)((()=>{ya(`${ea}-${Qt}-${Jt}`,`${ia}-${ra}-${aa}`)}),[B,gt]),(0,o.useEffect)((()=>{(async()=>{if(K&&E?.token){const e=await Be(E.token,K);if(e){if(""===A?.id_entrada){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");je(String(parseInt(o))),Ce(String(parseInt(a))),_e(String(parseInt(t)))}Re(e.isFecha_Vencimiento)}else Re(!1)}})()}),[K]),(0,o.useEffect)((()=>{ua("")}),[Jt,Qt,ea,aa,ra,ia]);const wa=()=>{Oe(!1),Y(""),J(""),Q(""),ee(""),re(""),L({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1});const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");ge(String(parseInt(o))),pe(String(parseInt(a))),we(String(parseInt(t))),Oe(!0)},ma=e=>{"Enter"===e.nativeEvent.key&&ya(`${ea}-${Qt}-${Jt}`,`${ia}-${ra}-${aa}`)},ja=()=>{Bt(""),Nt(""),Ut(""),Ht(""),xt("")},ba=async()=>{if(!it){if(st(!0),nt(!1),Ge("Agregando entrada. Espere por favor"),He(!0),E?.token){let e=!0,t="ERROR AL INGRESAR ENTRADA. Por favor verifique los siguientes campos:\n";if(""===q&&(e=!1,t+="-Seleccione un proveedor.\n"),""===K&&(e=!1,t+="-Seleccione un producto.\n"),""===X&&(e=!1,t+="-Seleccione una tienda.\n"),""===Z&&(e=!1,t+="-Ingrese una cantidad.\n"),""===te&&(e=!1,t+="-Ingrese el costo total de la entrada.\n"),e){await oe(E.token,te,Z,`${xe}-${fe}-${ye}`,ke?`${be}-${me}-${Se}`:null,parseInt(q),parseInt(K),parseInt(X),parseFloat(ne)),Ge("Actualizando cantidad en tienda"),await We(E.token,parseInt(X),parseInt(K),parseInt(Z)),Ge("Agregando acci\xf3n");const e=Rt.find((e=>e.value===X)),t=_t.find((e=>e.value===K)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");let i=`El usuario ${E.nombre} agreg\xf3 una entrada de ${Z} del producto ${t?.label} en la tienda ${e?.label}`;await G(E.token,i,`${o}-${r}-${n}`,E.id_usuario,4),await Ye(E.token,K,X),Y(""),J(""),Q(""),re(""),ee(""),L({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1}),nt(!0),Ge("La entrada fue insertado con \xe9xito"),He(!0),Xe(!0)}else nt(!0),Ge(t),He(!0)}st(!1)}},Ca=async()=>{if(!it){if(st(!0),nt(!1),Ge("Modificando entrada. Espere por favor"),He(!0),E?.token){let e=!0,t="ERROR AL MODIFICAR ENTRADA. Compruebe los siguientes campos:\n";const a=await ze(E.token,K,X),o=await ze(E.token,De,$e);if($e===X&&De===K||parseInt(o.cantidad??0)-parseInt(Le)<0&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No se dispone de sificientes productos para realizar la operoci\xf3n."),parseInt(Le)-parseInt(Z)>parseInt(a.cantidad??0)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La cantidad del producto excede la cantidad en la tienda\n."),""===q&&(e=!1,t+="-Seleccione un proveedor.\n"),""===K&&(e=!1,t+="-Seleccione un producto.\n"),""===X&&(e=!1,t+="-Seleccione una tienda.\n"),""===Z&&(e=!1,t+="-Ingrese una cantidad.\n"),""===te&&(e=!1,t+="-Ingrese el costo del producto por unidad.\n"),e){await ie(E.token,V,te,Z,`${xe}-${fe}-${ye}`,ke?`${be}-${me}-${Se}`:null,parseInt(q),parseInt(K),parseInt(X),parseFloat(ne)),$e!==X||De!==K?(await We(E.token,parseInt($e),parseInt(De),-1*parseInt(Le)),await We(E.token,parseInt(X),parseInt(K),parseInt(Z))):Le!==Z&&await We(E.token,parseInt(X),parseInt(K),parseInt(Z)-parseInt(Le));const e=Rt.find((e=>e.value===$e)),t=_t.find((e=>e.value===De)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");let i=`El usuario ${E.nombre} modific\xf3 una entrada de originalmente ${Le} del producto ${t?.label} en la tienda ${e?.label}`;await G(E.token,i,`${o}-${r}-${n}`,E.id_usuario,4),nt(!0),Ge("La entrada se modific\xf3 con \xe9xito"),He(!0),Xe(!0)}else nt(!0),Ge(t),He(!0)}st(!1)}},Sa=["Nombre","Cantidad"],va=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],Ia=["Nombre Proveedor","Nombre Producto","Cantidad","Costo Total CUP","Fecha"];return r?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:lt&&(0,w.jsx)(u.default,{onPress:()=>wa(),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Entrada"})})}),(0,w.jsx)(i.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:wt,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[la?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(oo,{isMobile:r,items:jt,columns:Ia,columnasMyDateTableEntradaModal:va,columnasMyDateTableTiendaModal:Sa,tiendasByProducto:pt,proveedorByProducto:Ct}),N&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},mt],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Producto",value:Ft,onKeyPress:ma,onChangeText:Nt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",onKeyPress:ma,value:Lt,onChangeText:Bt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Costo en CUP:"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:K,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");J(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:K,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");J(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(i.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:ha.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:ca===e.value,onPress:()=>fa(e.value)},e.value)))}),(0,w.jsxs)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1e3},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",marginRight:"25%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,marginLeft:"12%",justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"})]}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:500},children:[(0,w.jsxs)(i.default,{style:{alignItems:"center",justifyContent:"center",position:"relative",zIndex:T},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(At,{dayValue:Jt,monthValue:Qt,yearValue:ea,onDayChange:Xt,onMonthChange:Zt,onYearChange:ta,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>M("FechaDesdeSearsh")})]}),(0,w.jsxs)(i.default,{style:{alignItems:"center",justifyContent:"center",position:"relative",zIndex:D},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(At,{dayValue:aa,monthValue:ra,yearValue:ia,onDayChange:oa,onMonthChange:na,onYearChange:sa,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>M("FechaHastaSearsh")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:ja,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{ya(`${ea}-${Qt}-${Jt}`,`${ia}-${ra}-${aa}`),W(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:A?.isAddEntrada??!1,animationType:"fade",onRequestClose:ga,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(i.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:ga,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===A?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Proveedor"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(Pt,{value:q,placeholder:"Seleccione un Proveedor",setValue:Y,items:vt,searchable:!0,onDropdownOpen:()=>M("ProveedoresDetails")})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Producto"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Pt,{value:K,placeholder:"Seleccione un Producto",setValue:J,items:_t,searchable:!0,onDropdownOpen:()=>M("ProductosDetails")})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:1e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre de la Tienda"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:1e3,position:"relative"},children:(0,w.jsx)(Pt,{value:X,placeholder:"Seleccione una Tienda",setValue:Q,items:Rt,searchable:!0})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Cantidad"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Z,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ee(t)},editable:!!ht,placeholder:"Cantidad"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Costo total de la entrada en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:ne,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;he(a);const o=parseFloat(a)/n;re(o.toFixed(5))},cursorColor:x.azul_Oscuro,editable:!!ht,placeholder:"Costo en CUP"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo de cada unidad"}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["CUP:"," ",(parseFloat(te)/parseInt(Z)*n).toFixed(2)]})]}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsxs)(i.default,{style:{width:"90%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Fecha"}),Te&&(0,w.jsx)(At,{dayValue:fe,monthValue:xe,yearValue:ye,onDayChange:ge,onMonthChange:pe,onYearChange:we,style:{margin:20},styleText:p.labelTextModalMovil})]}),ke&&(0,w.jsxs)(i.default,{style:{width:"90%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha vencimiento"}),Te&&(0,w.jsx)(no,{dayValue:me,monthValue:be,yearValue:Se,onDayChange:je,onMonthChange:Ce,onYearChange:_e,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>M("FechaDetails")})]}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[ht&&""!==A?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{tt(!0),ot("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta entrada?")},disabled:it,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Entrada"})}),lt&&""===A?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>ba(),disabled:it,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Entrada"})}),ht&&""!==A?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{tt(!0),Ze(!0),ot("\xbfEst\xe1s seguro que deseas ELIMINAR al esta entrada?"),L({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},disabled:it,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Entrada"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:et,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:at}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ca(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>tt(!et),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>tt(!et),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ve,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:qe}),rt&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Je?e.replace("Entradas"):He(!Ve),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:lt&&(0,w.jsx)(u.default,{onPress:()=>wa(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===gt&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Entrada"})})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Producto",value:Ft,onKeyPress:ma,onChangeText:Nt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",value:Lt,onKeyPress:ma,onChangeText:Bt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Costo en CUP:"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:Wt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ut(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:Vt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ht(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(i.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:ha.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:ca===e.value,onPress:()=>fa(e.value)},e.value)))}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:T},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(At,{dayValue:Jt,monthValue:Qt,yearValue:ea,onDayChange:Xt,onMonthChange:Zt,onYearChange:ta,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>M("FechaDesdeSearsh")})]}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:D},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(At,{dayValue:aa,monthValue:ra,yearValue:ia,onDayChange:oa,onMonthChange:na,onYearChange:sa,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>M("FechaHastaSearsh")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:ja,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>ya(`${ea}-${Qt}-${Jt}`,`${ia}-${ra}-${aa}`),children:"Buscar"})})]})]}),la?(0,w.jsx)(ue.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(oo,{isMobile:r,items:jt,columns:Ia,columnasMyDateTableEntradaModal:va,columnasMyDateTableTiendaModal:Sa,tiendasByProducto:pt,proveedorByProducto:Ct})]}),(0,w.jsx)(f.default,{transparent:!0,visible:A?.isAddEntrada??!1,animationType:"fade",onRequestClose:ga,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:ga,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===A?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Proveedor"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(Pt,{value:q,placeholder:"Seleccione un Proveedor",setValue:Y,items:vt,searchable:!0,onDropdownOpen:()=>M("ProveedoresDetails")})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Producto"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Pt,{value:K,placeholder:"Seleccione un Producto",setValue:J,items:_t,searchable:!0,onDropdownOpen:()=>M("ProductosDetails")})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre de la Tienda"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(Pt,{value:X,placeholder:"Seleccione una Tienda",setValue:Q,items:Rt,searchable:!0,onDropdownOpen:()=>M("TiendaDetails")})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Z,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ee(t)},editable:!!ht,placeholder:"Cantidad"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo total de la entrada en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:ne,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;he(a);const o=parseFloat(a)/n;re(o.toFixed(5))},cursorColor:x.azul_Oscuro,editable:!!ht,placeholder:"Costo en CUP"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo de cada unidad"}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["CUP:"," ",(parseFloat(te)/parseInt(Z)*n).toFixed(2)]})]}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:m},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha entrada"}),Te&&(0,w.jsx)(At,{dayValue:fe,monthValue:xe,yearValue:ye,onDayChange:ge,onMonthChange:pe,onYearChange:we,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>M("FechaDetails")})]}),ke&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha vencimiento"}),Te&&(0,w.jsx)(no,{dayValue:me,monthValue:be,yearValue:Se,onDayChange:je,onMonthChange:Ce,onYearChange:_e,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>M("FechaDetails")})]})]}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[ht&&""!==A?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{tt(!0),Ze(!1),ot("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta entrada?")},disabled:it,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Entrada"})}),lt&&""===A?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>ba(),disabled:it,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Entrada"})}),ht&&""!==A?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{tt(!0),Ze(!0),ot("\xbfEst\xe1s seguro que deseas ELIMINAR al esta entrada?"),L({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},disabled:it,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Entrada"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:et,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:at}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Qe?(async()=>{if(!it){if(st(!0),nt(!1),Ge("Eliminando entrada. Espere por favor"),He(!0),E?.token){let e=!0,t="ERROR AL ELIMINAR ENTRADA. Compruebe los siguientes par\xe1metros:\n";const a=await ze(E.token,K,X);if(parseInt(Z)>parseInt(a.cantidad??0)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La cantidad del producto excede la cantidad en la tienda\n."),e){await se(E.token,V),await We(E.token,parseInt(X),parseInt(K),-1*parseInt(Z)),await Ke(E.token);const e=Rt.find((e=>e.value===$e)),t=_t.find((e=>e.value===De)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");let i=`El usuario ${E.nombre} elimin\xf3 la entrada con una cantidad de ${Le} del producto ${t?.label} en la tienda ${e?.label}`;await G(E.token,i,`${o}-${r}-${n}`,E.id_usuario,4),nt(!0),Ge("La entrada se elimin\xf3 con \xe9xito"),He(!0),Xe(!0),Y(""),re(""),J(""),ee("")}else nt(!0),Ge(t),He(!0)}st(!1)}})():Ca(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>tt(!et),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>tt(!et),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ve,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:qe}),rt&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Je?e.replace("Entradas"):He(!Ve),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const lo=g.default.create({desktopButton:{height:110,width:110,justifyContent:"center",borderRadius:15,alignItems:"center",shadowColor:x.negro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,marginHorizontal:10},movilButton:{height:110,width:110,justifyContent:"center",borderRadius:15,alignItems:"center",shadowColor:x.negro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,marginHorizontal:10},desktopContent:{flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",width:"100%"},textDesktop:{fontSize:16,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2,fontWeight:"bold"},textMovil:{fontSize:16,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2,fontWeight:"bold"},image:{height:70,width:70,tintColor:x.negro}}),co=({onPress:e,text:t,imageSource:a})=>{const[r]=(0,o.useState)(new c.default.Value(1)),{width:n}=(0,d.default)(),h=n<1150?lo.movilButton:lo.desktopButton;return(0,w.jsx)(u.default,{style:h,onPressIn:()=>{c.default.spring(r,{toValue:1.5,useNativeDriver:!0}).start()},onPressOut:()=>{c.default.spring(r,{toValue:1,useNativeDriver:!0}).start()},onPress:e,children:(0,w.jsx)(c.default.View,{style:{transform:[{scale:r}]},children:(0,w.jsxs)(i.default,{style:lo.desktopContent,children:[(0,w.jsx)(l.default,{source:a,style:lo.image}),(0,w.jsx)(s.default,{style:lo.textDesktop,children:t})]})})})};function uo(){const{width:e}=(0,d.default)(),t=e<930,o=(0,b.useNavigation)();return t?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"space-around",alignItems:"center",flexDirection:"column"}})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsxs)(i.default,{style:{marginTop:150,justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(co,{imageSource:a(7496),onPress:()=>o.navigate("Usuarios"),text:"Usuarios"}),(0,w.jsx)(co,{imageSource:a(7496),onPress:()=>o.navigate("Tiendas"),text:"Tiendas"})]}),(0,w.jsx)(i.default,{})]})}const ho=(0,o.createContext)(void 0),fo=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(ho.Provider,{value:{modalMovimientosDates:t,setModalMovimientosDates:a},children:e})},go=()=>{const e=o.useContext(ho);if(void 0===e)throw new Error("useModalMovimientosDates debe usarse dentro de un ModalMovimientosDates");return e},xo=({items:e,columns:t,isMobile:r})=>{const n=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalMovimientosDates:g,setModalMovimientosDates:p}=go(),{usuario:y,setUsuario:m}=v(),{SortMovimientosDates:j,setSortMovimientosDates:C}=Ma(),S=r?po.containerMovil:po.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(20),[T,O]=o.useState([]),[D,P]=o.useState(!1),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(""),V=["Nombre"],[H,q]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),Y=e=>{p({id_movimiento:e,isAddMovimiento:!0,fileEditable:!1,isModificarMovimiento:!1})},[G,K]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ne]=o.useState("");o.useEffect((()=>{(async()=>{if(y?.token){const e=await ve(y.token,"7",y.id_usuario),t=await ve(y.token,"8",y.id_usuario),a=await ve(y.token,"30",y.id_usuario),o=await ve(y.token,"31",y.id_usuario);X(e),Z(t),te(a),oe(o),K(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const ie=t=>{t>=0&&t*k<e.length&&_(t)},se=()=>(0,w.jsx)(xe.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(xe.default.Title,{style:[po.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?po.headerTextMovil:po.headerTextDesktop,children:[t,("Usuario"===t||"Producto"===t||"Cantidad"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Usuario"===t?a="option3":"Producto"===t?a="option4":"Cantidad"===t?a="option5":"Fecha"===t&&(a="option6"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[le,de]=o.useState(""),[ce,ue]=o.useState(""),he=e=>{de(e),P(!D)},fe=e=>{if(ue(e),P(!D),"Modificar"===e){if(p({id_movimiento:le,isAddMovimiento:!0,fileEditable:!0,isModificarMovimiento:!1}),y?.token){}}else"Eliminar"===e?A(!$):"Mover"==e&&B(!L)},ge=async()=>{if(y?.token){if(0==await ze(y.token,le,y.id_tienda)){return!!await Ge(y.token,le)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(i.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(xe.default,{style:{width:"150%"},children:[se(),T.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>Y(e.id_Movimiento),style:{justifyContent:"space-around"},children:[(0,w.jsx)(xe.default.Cell,{style:[po.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(xe.default.Cell,{style:[po.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[po.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[po.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreTiendaOrigen})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[po.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombreTiendaDestino}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[po.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Movimiento))),(0,w.jsx)(f.default,{transparent:!0,visible:D,animationType:"fade",onRequestClose:()=>he(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),J&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ae||ee)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>he(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[le,ce]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await ge();if(A(!$),e){const e=T.filter((e=>e.id_TiendaOrigen!==le));O(e),U("Producto eliminado con \xe9xito"),N(!0)}else U("ERROR AL ELIMINAR: Ya se han hecho operaciones con el producto o ya est\xe1 en una tieda"),N(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!$),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:re,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ne(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Bt,{columns:V,items:H})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:po.paginationContainer,children:[(0,w.jsx)(u.default,{style:[po.paginationButtonMovil,0===I&&po.disabledButton],onPress:()=>ie(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:po.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:po.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[po.paginationButtonMovil,(I+1)*k>=e.length&&po.disabledButton],onPress:()=>ie(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:po.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(i.default,{style:S,children:(0,w.jsxs)(xe.default,{children:[se(),T.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>Y(e.id_Movimiento),children:[(0,w.jsx)(xe.default.Cell,{style:po.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(xe.default.Cell,{style:po.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[po.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[po.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombreTiendaOrigen}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[po.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombreTiendaDestino}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[po.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Movimiento))),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:po.paginationContainer,children:[(0,w.jsx)(u.default,{style:[po.paginationButtonDesktop,0===I&&po.disabledButton],onPress:()=>ie(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:po.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:po.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[po.paginationButtonDesktop,(I+1)*k>=e.length&&po.disabledButton],onPress:()=>ie(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:po.paginationLabel,children:"Pr\xf3xima"})})]})]})})},po=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:50,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function yo(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[n,g]=(0,o.useState)(500),[m,j]=(0,o.useState)(500),[C,S]=(0,o.useState)(500),[I,_]=(0,o.useState)(500),[k,R]=(0,o.useState)(500),[T,O]=(0,o.useState)(500),[D,P]=(0,o.useState)(500),[M,E]=(0,o.useState)(500),[$,A]=(0,o.useState)(500),L=e=>{"TiendaOrigenSearsh"===e?(S(2e3),_(1500),j(1500),g(1500),R(1e3),O(500)):"TiendaDestinoSearsh"===e?(S(1500),_(2e3),j(1500),g(1500),R(1e3),O(500)):"FechaDesdeSearsh"===e?(S(1500),_(1500),j(1500),g(2e3),R(500),O(1e3)):"FechaHastaSearsh"===e&&(S(1500),_(1500),j(2e3),g(1500),R(500),O(1e3)),"FechaDetails"===e?(P(2e3),E(1e3)):"TiendasDetails"===e?(P(1e3),E(2e3),A(1e3)):"ProductosDetails"===e&&(P(1e3),E(1e3),A(2e3))},{usuario:B,setUsuario:F}=v(),{modalMovimientosDates:N,setModalMovimientosDates:W}=go(),{SortMovimientosDates:U,setSortMovimientosDates:H}=Ma(),[q,Y]=(0,o.useState)(""),K=[{label:"Ayer",value:"ayer"},{label:"Hoy",value:"hoy"},{label:"Semana",value:"semana"}],J=e=>{Y(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let n="";if("hoy"===e)n=`${a}-${o}-${r}`;else if("ayer"===e){const e=new Date(t);e.setDate(t.getDate()-1);n=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("semana"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setDate(t.getDate()-7);n=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}ba(n,`${a}-${o}-${r}`)},[X,Q]=(0,o.useState)(!1),Z=(0,o.useRef)(new c.default.Value(0)).current,[ee,te]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[ae,oe]=(0,o.useState)(""),[re,ne]=(0,o.useState)(""),[ie,se]=(0,o.useState)(""),[le,de]=(0,o.useState)(""),[he,fe]=(0,o.useState)(""),[xe,pe]=(0,o.useState)(""),[ye,we]=(0,o.useState)(""),[me,je]=(0,o.useState)(""),[be,Ce]=(0,o.useState)(""),[Se,_e]=(0,o.useState)(!1),[ke,Re]=(0,o.useState)(!1),[Te,Oe]=(0,o.useState)(!1),[De,Pe]=(0,o.useState)(""),[Me,$e]=(0,o.useState)(""),[Ae,Le]=(0,o.useState)(""),[Be,Fe]=(0,o.useState)(""),[Ne,We]=o.useState(!1),[Ue,Ve]=o.useState(""),[He,qe]=o.useState(!1),[Ge,Ke]=(0,o.useState)(!1),[Je,Xe]=(0,o.useState)(!1),[Qe,et]=(0,o.useState)(""),[tt,at]=(0,o.useState)(!1),[ot,rt]=(0,o.useState)(!1),[nt,it]=o.useState(!1),[ft,gt]=o.useState(!1),[xt,pt]=o.useState(!1),[yt,wt]=o.useState(!1),[mt,jt]=(0,o.useState)(null),[bt,Ct]=(0,o.useState)([]),St=()=>{X?c.default.timing(Z,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>Q(!1))):(Q(!0),c.default.timing(Z,{toValue:400,duration:300,useNativeDriver:!1}).start())},vt={height:Z},[It,_t]=(0,o.useState)([]),[kt,Rt]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Ot,Dt]=(0,o.useState)(!1),[zt,Mt]=(0,o.useState)([]),[Et,$t]=(0,o.useState)([]),[Lt,Bt]=(0,o.useState)([]),Ft=new Date,Nt=String(Ft.getFullYear()),Wt=String(Ft.getMonth()+1).padStart(2,"0"),Ut=String(Ft.getDate()).padStart(2,"0"),[Vt,Ht]=(0,o.useState)(""),[qt,Yt]=(0,o.useState)(""),[Gt,Kt]=(0,o.useState)(""),[Jt,Xt]=(0,o.useState)(""),[Qt,Zt]=(0,o.useState)(""),[ea,ta]=(0,o.useState)(new Date),[aa,oa]=(0,o.useState)(new Date),[ra,na]=(0,o.useState)(String(parseInt(Ut))),[ia,sa]=(0,o.useState)(String(parseInt(Wt))),[la,da]=(0,o.useState)(String(parseInt(Nt))),[ca,ua]=(0,o.useState)(String(parseInt(Ut))),[ha,fa]=(0,o.useState)(String(parseInt(Wt))),[ga,xa]=(0,o.useState)(String(parseInt(Nt))),[pa,ya]=(0,o.useState)(!1),wa=()=>{oe(""),pe(""),se(""),W({id_movimiento:"",isAddMovimiento:!1,isModificarMovimiento:!1,fileEditable:!0})};(0,o.useEffect)((()=>{Ot&&(async()=>{if(B?.token&&N?.id_movimiento){Oe(!1);const e=await st(B.token,N.id_movimiento);if(e){const[t,a,o]=e.fecha.split("T")[0].split("-");te(e.id_salida),oe(e.usuario.id_usuario),se(e.producto.id_producto),pe(e.cantidad),de(e.tienda_origen.id_tienda),fe(e.tienda_destino.id_tienda),ne(e.usuario.nombre_usuario),_e(e.usuario.id_usuario===B.id_usuario||1===parseInt(B.id_rol)),Re(e.usuario.id_usuario===B.id_usuario||1===parseInt(B.id_rol)),we(String(parseInt(o))),je(String(parseInt(a))),Ce(String(parseInt(t))),Pe(e.producto.id_producto),Le(e.tienda_destino.id_tienda),$e(e.tienda_origen.id_tienda),Fe(e.cantidad),Oe(!0)}}})()}),[N]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(B?.token){if(null===localStorage.getItem("resultPermisoOptionMoverLocal")){const e=await ve(B.token,"30",B.id_usuario);pt(e),localStorage.setItem("resultPermisoOptionMoverLocal",e)}else pt(Boolean(localStorage.getItem("resultPermisoOptionMoverLocal")));if(null===localStorage.getItem("resultPermisoOptionMoverGeneral")){const e=await ve(B.token,"31",B.id_usuario);wt(e),localStorage.setItem("resultPermisoOptionMoverGeneral",e)}else wt(Boolean(localStorage.getItem("resultPermisoOptionMoverGeneral")));it(!0),gt(!0)}})(),(async()=>{if(void 0!=B?.token){const e=await V(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_usuario}))));Mt(t)}}})(),(async()=>{if(void 0!=B?.token){const e=await Ee(B.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));$t(t)}}})(),(async()=>{if(void 0!=B?.token){const e=await Ie(B.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Bt([{label:"Todos los movimientos",value:""},...t])}}})(),ba(`${la}-${ia}-${ra}`,`${ga}-${ha}-${ca}`),Dt(!0)})(),()=>{})),[]));const[ma,ja]=(0,o.useState)(!1),ba=async(e,t)=>{ya(!0);try{if(B?.token){let a=await(async(e,t)=>{if(B?.token)try{const a=await ve(B.token,"31",B.id_usuario);let o;if(o=a?await ct(B.token,Vt,qt,Gt,e,t,a?Jt:B.id_tienda,Qt):await ut(B.token,Vt,qt,Gt,e,t,B.id_tienda,Jt,Qt),o)return await Promise.all(o.map((async e=>({id_Movimiento:e.id_salida,id_TiendaOrigen:e.tienda_origen.id_tienda,id_TiendaDestino:e.tienda_destino.id_tienda,id_Producto:e.producto.id_producto,nombreTiendaOrigen:e.tienda_origen.nombre,nombreTiendaDestino:e.tienda_destino.nombre,nombre_Usuario:e.usuario.nombre,nombre_Producto:e.producto.nombre,cantidad:e.cantidad,fecha:e.fecha}))))}catch(a){return console.error("Error al filtrar los proveedoress:",a),null}return null})(e,t)||[];ja(!ma),a=U?.criterioOrden&&U.tipoOrden?await ht(B.token,a,U.criterioOrden,ma):await ht(B.token,a,"option6",ma),_t(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{ya(!1)}};(0,o.useEffect)((()=>{Ot&&ba(`${la}-${ia}-${ra}`,`${ga}-${ha}-${ca}`)}),[U,mt]),(0,o.useEffect)((()=>{Ot&&Y("")}),[ra,ia,la,ca,ha,ga]);const Ca=()=>{Yt(""),Ht(""),Kt(""),Xt(""),Zt(""),da("2024"),sa("1"),na("1"),xa(String(parseInt(Nt))),fa(String(parseInt(Wt))),ua(String(parseInt(Ut))),jt("")},Sa=e=>{"Enter"===e.nativeEvent.key&&ba(`${la}-${ia}-${ra}`,`${ga}-${ha}-${ca}`)},va=async()=>{if(!ot){if(rt(!0),at(!1),Ve("Modificando movimiento. Espere por favor"),We(!0),B?.token){let e=!0,t="ERROR AL MODIFICAR MOVIMIENTO. Compruebe los siguientes campos:\n";const a=await ze(B.token,De,Me),o=await ze(B.token,De,Ae),r=await ze(B.token,De,le),n=await ze(B.token,ie,Me),i=await ze(B.token,ie,le);let s=parseInt(xe),l=parseInt(Be),d=a?parseInt(a.cantidad):0,c=o?parseInt(o.cantidad):0,u=r?parseInt(r.cantidad):0,h=n?parseInt(n.cantidad):0,f=i?parseInt(i.cantidad):0;if(le===Me&&he===Ae&&ie===De&&s!==l?s>=l?s-l>d&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos en la tienda origen para agregar a la tienda destino.\n"):l-s>c&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos en la tienda destino para agregar a la tienda origen.\n"):le===Me&&ie===De&&he!==Ae?s!==l?s>c&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La vieja tienda destino no tiene suficientes productos para darle a la nueva tienda destino.\n"):c-l<0&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos en la tienda destino vieja para pasarle a la nueva.\n"):le!==Me&&ie===De&&he===Ae?s!==l?s>d&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La vieja tienda origen no tiene sificientes productos para darle a la nueva tienda destino.\n"):d-l<0&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos en la tienda origen vieja para pasarle a la nueva.\n"):le!==Me&&he!==Ae&&ie===De?s!==l?(l>c||s>u)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No se puede restablecer la cantidad dada de los en las tiendas originales o no hay productos suficientes en la nueva tienda de origen para asignar a la nueva tienda destino.\n"):(l>c||l>u)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No se puede restablecer los prouductos en las tiendas originales o no hay productos suficientes en la tienda de origen para asignar a la nueva tienda destino.\n"):ie!==De&&(l>h?(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos viejos en la tienda vieja para modificar el producto a uno nuevo.\n"):le===Me&&he===Ae&&s===l?l>h&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay suficientes productos nuevos en la tienda vieja para modificar el producto a uno nuevo.\n"):l!==s?le===Me&&he===Ae&&s!==l?s>h&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay sificientes productos en la tienda origen con la cantidad dada.\n"):le!==Me&&he===Ae&&s!==l?s>f&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay esa cantidad de productos en la tienda origen especificada.\n"):le===Me&&he!==Ae&&s!==l?s>h&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay esa cantidad de productos en la tienda origen seleccionada.\n"):le!==Me&&he!==Ae&&s!==l&&s>f&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay esa cantidad de productos en la tienda origen seleccionada.\n"):le===Me&&he===Ae||l>f&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No hay sificintes productos nuevos en la nueva tienda origen.\n")),he===le&&(e=!1,t+="-La tienda origen no puede ser igual a la tienda destino.\n"),""===ie&&(e=!1,t+="-Seleccione un producto.\n"),""===le&&(e=!1,t+="-Seleccione una tienda Origen.\n"),""===he&&(e=!1,t+="-Seleccione una tienda Destino.\n"),""===xe&&(e=!1,t+="-Ingrese una cantidad.\n"),e){await lt(B.token,ee,`${me}-${ye}-${be}`,le,he,xe,ie,ae),le===Me&&he===Ae&&ie===De&&s!==l?await Ze(B.token,De,Me,Ae,String(s-l)):le===Me&&ie===De&&he!==Ae?(await Ye(B.token,ie,he),await Ze(B.token,De,Ae,Me,String(l)),await Ze(B.token,De,Me,he,String(s))):le!==Me&&ie===De&&he===Ae?(await Ze(B.token,De,Ae,Me,String(l)),await Ze(B.token,De,le,Ae,String(s))):(le!==Me&&he!==Ae&&ie===De||ie!==De)&&(await Ye(B.token,ie,he),await Ze(B.token,De,Ae,Me,String(l)),await Ze(B.token,ie,le,he,String(s)));const e=Et.find((e=>parseInt(e.value)===parseInt(De))),t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let n=`El usuario ${B.nombre} modific\xf3 un movimiento de productos que originalmente ten\xeda un nombre ${e.lavel}`;await G(B.token,n,`${a}-${o}-${r}`,B.id_usuario,2),at(!0),Ve("El movimiento se modific\xf3 con \xe9xito"),We(!0),qe(!0),W(!1)}else at(!0),Ve(t),We(!0)}rt(!1)}},Ia=async()=>{if(!ot){if(rt(!0),at(!1),Ve("Eliminando movimiento. Espere por favor"),We(!0),B?.token){let e=!0,t="ERROR AL TRATAR DE ELIMINAR EL MOVIMIENTO. Motivos:\n";const a=await ze(B.token,De,Ae);let o=a?parseInt(a.cantidad):0,r=parseInt(Be);if(r>o&&(e=!1,t+="-No hay suficientes productos en la tienda destino para devolver la operaci\xf3n.\n"),e){await Ze(B.token,De,Ae,Me,String(r)),await dt(B.token,ee);const e=Et.find((e=>parseInt(e.value)===parseInt(De))),t=Lt.find((e=>parseInt(e.value)===parseInt(le))),a=Lt.find((e=>parseInt(e.value)===parseInt(he))),o=new Date,n=String(o.getFullYear()),i=String(o.getMonth()+1).padStart(2,"0"),s=String(o.getDate()).padStart(2,"0");let l=`El usuario ${B.nombre} elimin\xf3 el movimiento del producto ${e?.label} con cantidad ${xe} y tienda origen ${t?.label} y una tienda destino ${a?.label}`;await G(B.token,l,`${n}-${i}-${s}`,B.id_usuario,2),at(!0),Ve("El movimiento se elimin\xf3 con \xe9xito"),We(!0),qe(!0)}else at(!0),Ve(t),We(!0)}rt(!1)}},_a=["Nombre","Cantidad"],ka=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],Ra=["Usuario","Producto","Cantidad","Tienda Origen","Tienda Destino","Fecha"];return r?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsx)(i.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:St,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[pa?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(xo,{isMobile:r,items:It,columns:Ra,columnasMyDateTableEntradaModal:ka,columnasMyDateTableTiendaModal:_a,tiendasByProducto:bt,proveedorByProducto:kt}),X&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},vt],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[yt&&(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del Usuario:"}),yt&&(0,w.jsx)(z,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del usuario",value:Vt,onKeyPress:Sa,onChangeText:Ht}),yt&&(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del producto",value:qt,onKeyPress:Sa,onChangeText:Yt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Cantidad:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullMovil,placeholder:"Cantidad",value:Gt,onKeyPress:Sa,onChangeText:Kt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:k},children:[(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:22,fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Tienda:"})}),yt&&(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Origen:"}),yt&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(ge,{value:Jt,placeholder:"Tienda Origen",setValue:Xt,items:Lt,searchable:!0,onDropdownOpen:()=>L("TiendaOrigenSearsh")})}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Destino:"}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(ge,{value:Qt,placeholder:"Tienda Destino",setValue:Zt,items:Lt,searchable:!0,onDropdownOpen:()=>L("TiendaDestinoSearsh")})})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(i.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative"},children:K.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:q===e.value,onPress:()=>J(e.value)},e.value)))}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:k},children:[(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:n},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:20,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(At,{dayValue:ra,monthValue:ia,yearValue:la,onDayChange:na,onMonthChange:sa,onYearChange:da,style:{margin:20},styleText:p.textSearchMovil})]}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:m},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:20,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(At,{dayValue:ca,monthValue:ha,yearValue:ga,onDayChange:ua,onMonthChange:fa,onYearChange:xa,style:{margin:20},styleText:p.textSearchMovil})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ca,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{ba(`${la}-${ia}-${ra}`,`${ga}-${ha}-${ca}`),Q(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:N?.isAddMovimiento??!1,animationType:"fade",onRequestClose:wa,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(i.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:wa,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===N?.id_movimiento?"Agregar Entrada":"Datos del Movimiento"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Usuario"})}),(0,w.jsx)(i.default,{style:{width:"100%"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",marginLeft:"6%",fontWeight:"bold",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:re})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Producto"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(Pt,{value:ie,placeholder:"Productos",setValue:se,items:Et,searchable:!0,readOnly:!Se})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:1200,position:"relative"}}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Tienda Origen"}),(0,w.jsx)(Pt,{value:le,placeholder:"Tiendas",setValue:de,items:Lt,searchable:!0,readOnly:!(Se&&yt)})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Tienda Destino"}),(0,w.jsx)(Pt,{value:he,placeholder:"Tiendas",setValue:fe,items:Lt,searchable:!0,readOnly:!Se})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Cantidad"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:xe,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");pe(t)},editable:ft,placeholder:"Cantidad"})]}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsx)(i.default,{style:{height:100},children:Te&&(0,w.jsx)(At,{dayValue:ye,monthValue:me,yearValue:be,onDayChange:we,onMonthChange:je,onYearChange:Ce,style:{margin:20},styleText:p.labelTextModalMovil,isReadOnly:!Se})}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[ft&&Se&&""!==N?.id_movimiento&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ke(!0),Xe(!1),et("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este movimiento?"),W({id_movimiento:"",isAddMovimiento:!1,isModificarMovimiento:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Movimiento"})}),nt&&ke&&""!==N?.id_movimiento&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ke(!0),et("\xbfEst\xe1s seguro que deseas ELIMINAR este movimiento?"),Xe(!0),W({id_movimiento:"",isAddMovimiento:!1,isModificarMovimiento:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Movimiento"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ge,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Qe}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Je?Ia():va(),disabled:ot,children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ke(!Ge),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Ke(!Ge),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ne,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ue}),tt&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>He?e.replace("Entradas"):We(!Ne),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"}}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[yt&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Usuario:"}),yt&&(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del usuario",onKeyPress:Sa,value:Vt,onChangeText:Ht}),yt&&(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:qt,onKeyPress:Sa,onChangeText:Yt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Cantidad:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Cantidad",value:Gt,onKeyPress:Sa,onChangeText:Kt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:k},children:[(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Tienda:"})}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Origen:"}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(ge,{value:Jt,placeholder:"Tienda Origen",setValue:Xt,items:Lt,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaOrigenSearsh")})}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Destino:"}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(ge,{value:Qt,placeholder:"Tienda Destino",setValue:Zt,items:Lt,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaDestinoSearsh")})})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(i.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative"},children:K.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:q===e.value,onPress:()=>J(e.value)},e.value)))}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",zIndex:T,position:"relative",marginTop:"2%"},children:[(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:n},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(At,{dayValue:ra,monthValue:ia,yearValue:la,onDayChange:na,onMonthChange:sa,onYearChange:da,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:m},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(At,{dayValue:ca,monthValue:ha,yearValue:ga,onDayChange:ua,onMonthChange:fa,onYearChange:xa,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ca,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{ba(`${la}-${ia}-${ra}`,`${ga}-${ha}-${ca}`)},children:"Buscar"})})]})]}),pa?(0,w.jsx)(ue.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(xo,{isMobile:r,items:It,columns:Ra,columnasMyDateTableEntradaModal:ka,columnasMyDateTableTiendaModal:_a,tiendasByProducto:bt,proveedorByProducto:kt})]}),(0,w.jsx)(f.default,{transparent:!0,visible:N?.isAddMovimiento??!1,animationType:"fade",onRequestClose:wa,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:wa,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===N?.id_movimiento?"Agregar Entrada":"Datos del Movimiento"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Usuario"})}),(0,w.jsx)(i.default,{style:{width:"100%"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",marginLeft:"6%",fontWeight:"bold",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:re})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:$,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Producto"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:$,position:"relative"},children:(0,w.jsx)(Pt,{value:ie,placeholder:"Productos",setValue:se,items:Et,readOnly:!Se,searchable:!0,onDropdownOpen:()=>L("ProductosDetails")})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"}}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:M,paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda Origen"}),(0,w.jsx)(Pt,{value:le,placeholder:"Tiendas",setValue:de,items:Lt,readOnly:!(Se&&yt),searchable:!0,onDropdownOpen:()=>L("TiendasDetails")})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda Destino"}),(0,w.jsx)(Pt,{value:he,placeholder:"Tiendas",setValue:fe,items:Lt,readOnly:!Se,searchable:!0,onDropdownOpen:()=>L("TiendasDetails")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,position:"relative",zIndex:D},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:xe,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");pe(t)},editable:Se,placeholder:"Cantidad"})]}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:D},children:Te&&(0,w.jsx)(At,{dayValue:ye,monthValue:me,yearValue:be,onDayChange:we,onMonthChange:je,onYearChange:Ce,style:{margin:20},styleText:p.labelTextModalDesktop,isReadOnly:!Se,onDropdownOpen:()=>L("FechaDetails")})})]}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:10},children:[ft&&Se&&""!==N?.id_movimiento&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ke(!0),Xe(!1),et("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este movimiento?")},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Movimiento"})}),nt&&ke&&""!==N?.id_movimiento&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Ke(!0),et("\xbfEst\xe1s seguro que deseas ELIMINAR este movimiento?"),Xe(!0),W({id_movimiento:"",isAddMovimiento:!1,isModificarMovimiento:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Movimiento"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ge,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Qe}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Je?Ia():va(),disabled:ot,children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ke(!Ge),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Ke(!Ge),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ne,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ue}),tt&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>He?e.replace("Movimientos"):We(!Ne),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const wo=(0,o.createContext)(void 0),mo=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(wo.Provider,{value:{sortUsuarios:t,setSortUsuarios:a},children:e})},jo=()=>{const e=o.useContext(wo);if(void 0===e)throw new Error("useSortUsuarios debe usarse dentro de un SortUsuarios");return e},bo=({items:e,columns:t,isMobile:r})=>{const n=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalProveedoresDates:g,setModalProveedoresDates:p}=Aa(),{sortUsuarios:y,setSortUsuarios:m}=jo(),{usuario:j,setUsuario:C}=v(),S=r?Co.containerMovil:Co.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(10),[T,O]=o.useState([]),[D,P]=o.useState(!1),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(""),V=["Nombre"],[H,q]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),Y=e=>{p({id_proveedor:e,isAddProveedor:!0,fileEditable:!1,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0})},[G,K]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ne]=o.useState("");o.useEffect((()=>{(async()=>{if(j?.token){const e=await ve(j.token,"7",j.id_usuario),t=await ve(j.token,"8",j.id_usuario),a=await ve(j.token,"30",j.id_usuario),o=await ve(j.token,"31",j.id_usuario);X(e),Z(t),te(a),oe(o),K(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const ie=t=>{t>=0&&t*k<e.length&&_(t)},se=()=>(0,w.jsx)(xe.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(xe.default.Title,{style:[Co.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?Co.headerTextMovil:Co.headerTextDesktop,children:[t,("Nombre"===t||"Correo"===t||"Tel\xe9fono"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre"===t?a="option3":"Correo"===t?a="option4":"Tel\xe9fono"===t&&(a="option5"),m({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[le,de]=o.useState(""),[ce,ue]=o.useState(""),he=e=>{de(e),P(!D)},fe=e=>{if(ue(e),P(!D),"Modificar"===e){if(p({id_proveedor:le,isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!0,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0}),j?.token){}}else"Eliminar"===e?A(!$):"Mover"==e&&B(!L)},ge=async()=>{if(j?.token){if(0==await ze(j.token,le,j.id_tienda)){return!!await Ge(j.token,le)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(i.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(xe.default,{style:{width:"150%"},children:[se(),T.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>Y(e.id_Usuario),style:{justifyContent:"space-around"},children:[(0,w.jsx)(xe.default.Cell,{style:[Co.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(xe.default.Cell,{style:[Co.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Co.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.telefono}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:{justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsx)(s.default,{children:e.salario_CUP})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Co.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombre_rol})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Co.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombre_tienda})})]},e.id_Usuario))),(0,w.jsx)(f.default,{transparent:!0,visible:D,animationType:"fade",onRequestClose:()=>he(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),J&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ae||ee)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>he(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[le,ce]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await ge();if(A(!$),e){const e=T.filter((e=>e.id_Usuario!==le));O(e),U("Producto eliminado con \xe9xito"),N(!0)}else U("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),N(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!$),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:re,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ne(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Bt,{columns:V,items:H})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:Co.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Co.paginationButtonMovil,0===I&&Co.disabledButton],onPress:()=>ie(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Co.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Co.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Co.paginationButtonMovil,(I+1)*k>=e.length&&Co.disabledButton],onPress:()=>ie(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Co.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(i.default,{style:S,children:(0,w.jsxs)(xe.default,{children:[se(),T.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>Y(e.id_Usuario),children:[(0,w.jsx)(xe.default.Cell,{style:Co.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(xe.default.Cell,{style:Co.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(xe.default.Cell,{style:Co.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.telefono})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:{justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsx)(s.default,{children:e.salario_CUP})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:{justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsx)(s.default,{children:e.nombre_rol})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:{justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsx)(s.default,{children:e.nombre_tienda})})]},e.id_Usuario))),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:Co.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Co.paginationButtonDesktop,0===I&&Co.disabledButton],onPress:()=>ie(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Co.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Co.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Co.paginationButtonDesktop,(I+1)*k>=e.length&&Co.disabledButton],onPress:()=>ie(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Co.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Co=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:16,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function So(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[n,g]=(0,o.useState)(500),[m,j]=(0,o.useState)(500),C=e=>{"TiendasSearsh"===e?(j(1500),g(2e3)):"RolesSearsh"===e&&(j(2e3),g(1500))},{usuario:S,setUsuario:I}=v(),{sortUsuarios:_}=jo(),{modalProveedoresDates:k,setModalProveedoresDates:R}=Aa(),[T,O]=(0,o.useState)(!1),D=(0,o.useRef)(new c.default.Value(0)).current,[P,M]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)([])),[E,$]=(0,o.useState)([]),[A,L]=(0,o.useState)(""),[Y,K]=(0,o.useState)(""),[J,X]=(0,o.useState)(""),[Q,Z]=(0,o.useState)(""),[ee,te]=(0,o.useState)(""),[ae,oe]=(0,o.useState)(""),[re,ne]=(0,o.useState)(""),[ie,se]=(0,o.useState)(""),[le,de]=(0,o.useState)(""),[he,fe]=(0,o.useState)(""),[xe,pe]=(0,o.useState)(""),[ye,we]=(0,o.useState)(""),[me,je]=(0,o.useState)(""),[be,Se]=(0,o.useState)(""),_e=[{label:"Permitido",value:"permitido"},{label:"Denegado",value:"denegado"}],[ke,Re]=o.useState(!1),[Te,Oe]=o.useState(""),[De,ze]=o.useState(!1),[Pe,Me]=(0,o.useState)(!1),[Ee,$e]=(0,o.useState)(!1),[Ae,Le]=(0,o.useState)(!1),[Be,Fe]=(0,o.useState)(""),[Ne,We]=o.useState(!1),[Ue,Ve]=o.useState(!1),[He,qe]=o.useState(!1),[Ye,Ge]=(0,o.useState)(!1),[Ke,Je]=(0,o.useState)(null),[Xe,Qe]=(0,o.useState)([]),Ze=()=>{T?c.default.timing(D,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>O(!1))):(O(!0),c.default.timing(D,{toValue:400,duration:300,useNativeDriver:!1}).start())},et={height:D},[tt,at]=(0,o.useState)([]),[ot,rt]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[nt,it]=(0,o.useState)([]),[st,lt]=(0,o.useState)([]),[dt,ct]=(0,o.useState)(""),[ut,ht]=(0,o.useState)(""),[ft,gt]=(0,o.useState)(""),[xt,pt]=(0,o.useState)(""),[yt,wt]=(0,o.useState)(""),[mt,jt]=(0,o.useState)(!1),bt=async()=>{K(""),X(""),te(""),de(""),fe(""),se(""),oe(""),pe(""),R({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})};(0,o.useEffect)((()=>{It()}),[_,Ke]),(0,o.useEffect)((()=>{(async()=>{if(S?.token&&k?.id_proveedor){const e=await U(S.token,k.id_proveedor);if(e&&(L(e.data.id_usuario),X(e.data.nombre_usuario),te(e.data.nombre_usuario),K(e.data.nombre),de(e.data.direccion||""),fe(e.data.telefono||""),se(e.data.carnet_identidad||""),oe(e.data.email||""),pe(e.data.detalle_bancario||""),Z(e.data.salario_CUP),Se(e.data.activo?"permitido":"denegado"),void 0!=S?.token)){const t=await Ie(S.token),a=await Ce(S.token);if(t&&Array.isArray(t.data)&&a&&Array.isArray(a)){const o=await Promise.all(t.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));if(parseInt(S.id_rol)>=parseInt(e.data.rol.id_rol)){const e=await Promise.all(a.map((async e=>({label:e.nombre,value:e.id_rol}))));$(e)}else{const e=await Promise.all(a.filter((e=>1===parseInt(S.id_rol)?1!==parseInt(e.id_rol):2===parseInt(S.id_rol)?1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol):3!==parseInt(S.id_rol)||1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol)&&3!==parseInt(e.id_rol))).map((async e=>({label:e.nombre,value:e.id_rol}))));$(e)}M(o)}we(e.data.tienda.id_tienda),je(e.data.rol.id_rol),parseInt(S.id_rol)>=parseInt(e.data.rol.id_rol)?Ge(!1):Ge(!0)}}})()}),[k]);const Ct=e=>{"Enter"===e.nativeEvent.key&&It()};(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(S?.token){if(null===localStorage.getItem("resultAgregarUsuario")){const e=await ve(S.token,"1",S.id_usuario);We(e),localStorage.setItem("resultAgregarUsuario",e)}else We(Boolean(localStorage.getItem("resultAgregarUsuario")));if(null===localStorage.getItem("resultEliminarUsuario")){const e=await ve(S.token,"3",S.id_usuario);Ve(e),localStorage.setItem("resultEliminarUsuario",e)}else Ve(Boolean(localStorage.getItem("resultEliminarUsuario")));if(null===localStorage.getItem("resultModificarUsuario")){const e=await ve(S.token,"2",S.id_usuario);qe(e),localStorage.setItem("resultModificarUsuario",e)}else qe(Boolean(localStorage.getItem("resultModificarUsuario")))}})(),await(async()=>{if(void 0!=S?.token)try{const e=await V(S.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({id_Usuario:e.id_usuario,nombre:e.nombre,nombre_Usuario:e.nombre_usuario,correo:e.email||"",telefono:e.telefono||"",direccion:e.direccion||"",carnet_Identidad:e.carnet_identidad||"",detalle_bancario:e.detalles_bancarios||"",id_rol:e.rol.id_rol,nombre_rol:e.rol.nombre,id_tienda:e.tienda.id_tienda,nombre_tienda:e.tienda.nombre,salario_CUP:e.salario_CUP}))));at(t)}else console.log("No se encontraron proveedoress.")}catch(e){console.log("Error al obtener los proveedores o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de los proveedores")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de los proovedores")})(),(async()=>{if(void 0!=S?.token){const e=await Ie(S.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));it([{label:"Seleccione una tienda",value:""},...t])}}})(),(async()=>{if(void 0!=S?.token){const e=await Ce(S.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_rol}))));lt([{label:"Seleccione un rol",value:""},...t])}}})(),(async()=>{if(void 0!=S?.token){const e=await Ie(S.token),t=await Ce(S.token);if(e&&Array.isArray(e.data)&&t&&Array.isArray(t)){const a=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda})))),o=await Promise.all(t.filter((e=>1===parseInt(S.id_rol)?1!==parseInt(e.id_rol):2===parseInt(S.id_rol)?1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol):3!==parseInt(S.id_rol)||1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol)&&3!==parseInt(e.id_rol))).map((async e=>({label:e.nombre,value:e.id_rol}))));M(a),$(o)}}})()})(),()=>{})),[]));const[St,vt]=(0,o.useState)(!1),It=async()=>{jt(!0);try{if(S?.token){let e=await(async()=>{if(S?.token)try{const e=await H(S.token,ft,xt,yt,ut,dt);if(e)return await Promise.all(e.map((async e=>({id_Usuario:e.id_usuario,nombre:e.nombre,nombre_Usuario:e.nombre_usuario,correo:e.email??"",telefono:e.telefono??"",direccion:e.direccion??"",carnet_Identidad:e.carnet_identidad??"",detalle_bancario:e.detalle_bancario??"",id_rol:e.rol.id_rol,nombre_rol:e.rol.nombre,id_tienda:e.tienda.id_tienda,nombre_tienda:e.tienda.nombre,salario_CUP:e.salario_CUP}))))}catch(e){return console.error("Error al filtrar los proveedoress:",e),null}return null})()||[];vt(!St),_?.criterioOrden&&_.tipoOrden&&(e=await q(S.token,e,_.criterioOrden,St)),at(e)}}catch(e){console.error("Error al filtrar y ordenar los proovedores:",e)}finally{jt(!1)}},_t=async()=>{if(X(""),te(""),oe(""),de(""),fe(""),R({id_proveedor:"",isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1}),S?.token){const e=await Ce(S.token),t=await Promise.all(e.filter((e=>1===parseInt(S.id_rol)?1!==parseInt(e.id_rol):2===parseInt(S.id_rol)?1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol):3!==parseInt(S.id_rol)||1!==parseInt(e.id_rol)&&2!==parseInt(e.id_rol)&&3!==parseInt(e.id_rol))).map((async e=>({label:e.nombre,value:e.id_rol}))));$(t)}},kt=()=>{gt(""),pt(""),wt(""),ht(""),ct(""),Je("")},Rt=async()=>{if(Me(!1),Oe("Agregando usuario. Espere por favor"),Re(!0),S?.token){let e=!0,t="ERROR AL AGREGAR USUARIO. Por favor verifique los siguientes campos:\n";const a=await V(S.token);for(let o of a)if(o.nombre_usuario===J){t+=`-Ya existe un usuario con el nombreUsuario ${J}.\n`,e=!1;break}if(""===Y.trim()&&(t+="-El nombre del usuario no puede ser vac\xedo.\n",e=!1),""===ae.trim()&&(t+="-El correo electr\xf3nico no puede ser vac\xedo.\n",e=!1),""===re.trim()?(t+="-La contrase\xf1a no puede ser vac\xeda.\n",e=!1):re.trim().length<6&&(t+="-La contrase\xf1a tiene que tener 6 o m\xe1s caracteres.\n",e=!1),""===J.trim()&&(t+="-El nombreUsuario no puede ser vac\xedo.\n",e=!1),""===Q&&(t+="-El salario del trabajador no puede ser vac\xedo.\n",e=!1),""===ye&&(e=!1,t+="-No ha seleccionado la tienda donde trabajar\xe1 el usuario.\n"),""===me&&(e=!1,t+="-No ha seleccionado un rol para el usuario.\n"),""!==ie.trim()&&11!==ie.trim().length&&(e=!1,t+="-El carnet de identidad del usuario deve tener 11 d\xedgitos. \n"),e){await B(S.token,Y,J,re,ae,he,le,ie,xe,me,ye,Q);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${S.nombre} agreg\xf3 al sistema al usuario ${J}`;await G(S.token,r,`${t}-${a}-${o}`,S.id_usuario,5),Me(!0),Oe(`El Usuario "${J}" fue insertado con \xe9xito`),Re(!0),ze(!0),K(""),X(""),te(""),ne(""),de(""),fe(""),se(""),oe(""),pe(""),$([]),M([])}else Me(!0),Oe(t),ze(!1),Re(!0)}},Ot=async()=>{if(Me(!1),Oe("Modificando usuario. Espere por favor"),Re(!0),S?.token){let e=!0,t="ERROR AL MODIFICAR USUARIO. Compruebe los siguientes campos:\n";const a=await V(S.token);for(let o of a)if(o.nombre_usuario===J&&ee!==J){t+=`-Ya existe un usuario con el nombreUsuario ${J}.\n`,e=!1;break}if(""===Y.trim()&&(t+="-El nombre del usuario no puede ser vac\xedo.\n",e=!1),""===ae.trim()&&(t+="-El correo electr\xf3nico no puede ser vac\xedo.\n",e=!1),""!==re.trim()&&re.trim().length<6&&(t+="-La contrase\xf1a tiene que tener 6 o m\xe1s caracteres.\n",e=!1),""===Q&&(t+="-El salario del trabajador no puede ser vac\xedo.\n",e=!1),""===J.trim()&&(t+="-El nombreUsuario no puede ser vac\xedo.\n",e=!1),""===ye&&(e=!1,t+="-No ha seleccionado la tienda donde trabajar\xe1 el usuario.\n"),""===me&&(e=!1,t+="-No ha seleccionado un rol para el usuario.\n"),""!==ie.trim()&&11!==ie.trim().length&&(e=!1,t+="-El carnet de identidad del usuario deve tener 11 d\xedgitos. \n"),e){""===re.trim()?await W(S.token,A,Y,J,ae,he,le,ie,xe,me,ye,"permitido"===be,Q):await N(S.token,A,Y,J,re,ae,he,le,ie,xe,me,ye,"permitido"===be,Q);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${S.nombre} modific\xf3 al usuario ${J}`;await G(S.token,r,`${t}-${a}-${o}`,S.id_usuario,5),Me(!0),Oe(`El Usuario "${J}" se modific\xf3 con \xe9xito`),Re(!0),ze(!0)}else Me(!0),Oe(t),Re(!0)}},Dt=async()=>{if(Me(!1),Oe("Eliminando usuario. Espere por favor"),Re(!0),S?.token){let e="ERROR AL TRATAR DE ELIMINAR EL USUARIO. Motivos:\n";if(!0){if(await F(S.token,A)){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${S.nombre} elimin\xf3 al usuario ${J}`;await G(S.token,r,`${t}-${a}-${o}`,S.id_usuario,5),Me(!0),Oe(`El Usuario "${J}" se elimin\xf3 con \xe9xito`),Re(!0),ze(!0)}else e+="-El usuario ya ha echo operaciones en el sistema.\n",Oe(e),Re(!0)}else Me(!0),Oe(e),Re(!0)}},zt=["Producto","Cantidad","Costo","Fecha"],Mt=["Nombre","Correo","Tel\xe9fono","Rol","Tienda"],Et=["Nombre","Correo","Tel\xe9fono","Salario CUP","Rol","Tienda"];return r?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:Ne&&(0,w.jsx)(u.default,{onPress:()=>_t(),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Usuario"})})}),(0,w.jsx)(i.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ze,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[mt?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(bo,{isMobile:r,items:tt,columns:Et,columnasMyDateTableProveedorModal:Mt,columnasMyDateTableTiendaModal:zt,tiendasByProducto:[],proveedorByProducto:ot}),T&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},et],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre de Usuario:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del proveedor",value:ft,onKeyPress:Ct,onChangeText:gt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Correo del Usuario:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullMovil,placeholder:"Correo del Proveedor",value:xt,onKeyPress:Ct,onChangeText:pt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullMovil,placeholder:"N\xfamero de Tel\xe9fono",value:yt,onKeyPress:Ct,onChangeText:wt}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rol:"}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:m,position:"relative"},children:(0,w.jsx)(ge,{value:ut,placeholder:"Roles",setValue:ht,items:st,direction:"BOTTOM",onDropdownOpen:()=>C("RolesSearsh")})}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Tienda:"}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:n,position:"relative"},children:(0,w.jsx)(ge,{value:dt,placeholder:"Tiendas",setValue:ct,items:nt,direction:"BOTTOM",onDropdownOpen:()=>C("TiendasSearsh")})}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:kt,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>It(),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:k?.isAddProveedor??!1,animationType:"fade",onRequestClose:bt,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:"95%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:bt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:k?.isModificarProveedor?"Modificar Producto":k?.isAddProductoShowProveedoresTiendas?"Datos del Usuario":"Agregar Usuario"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Usuario"})}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,value:Y,onChangeText:K,placeholder:"Nombre del usuario"}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Usuario"})}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,value:J,onChangeText:X,placeholder:"Nombre usuario"}),(""===k?.id_proveedor||1===parseInt(S?.id_rol))&&(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:""===k?.id_proveedor?"Contrase\xf1a":"Cambiar Contrase\xf1a"})}),(""===k?.id_proveedor||1===parseInt(S?.id_rol))&&(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,value:re,onChangeText:ne,placeholder:"Nueva contrase\xf1a del usuario"}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n del Usuario"})}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,value:le,onChangeText:de,placeholder:"Direcci\xf3n del Usuario    "}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:he,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");fe(t)},editable:""===k?.id_proveedor||He&&Ye,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Carnet de Identidad"}),(0,w.jsx)(z,{style:p.textImputModal,value:ie,onChangeText:e=>{e.length<=11&&/^[0-9]*$/.test(e)&&se(e)},cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,placeholder:"CarnetIdentidad"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ae,onChangeText:oe,editable:""===k?.id_proveedor||He&&Ye,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(z,{style:p.textImputModal,value:xe,onChangeText:pe,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,placeholder:"Detalles Bancarios"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Salario diario en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Q,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Z(a)},editable:""===k?.id_proveedor||He&&Ye,placeholder:"Salario diario en CUP"})]}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1e3,paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:1e3},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Roles"}),(0,w.jsx)(Pt,{value:me,placeholder:"Roles",setValue:je,items:E,readOnly:!(""===k?.id_proveedor||He&&Ye),searchable:!0})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:1e3},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiendas"}),(0,w.jsx)(Pt,{value:ye,placeholder:"Tiendas",setValue:we,items:P,readOnly:!(""===k?.id_proveedor||He&&Ye),searchable:!0})]})]}),""!==k?.id_proveedor&&(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Acceso al Sistema"})}),""!==k?.id_proveedor&&(0,w.jsx)(i.default,{style:{padding:20,alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},children:_e.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:be===e.value,onPress:()=>{(""===k?.id_proveedor||He&&Ye)&&Se(e.value)}},e.value)))}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[He&&Ye&&k?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{$e(!0),Le(!1),Fe(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos proveedor ${J}?`)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Usuario"})}),Ue&&k?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{$e(!0),Fe(`\xbfEst\xe1s seguro que deseas ELIMINAR al proveedor ${J}?`),Le(!0),R({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Usuario"})}),Ne&&""===k?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Rt(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Usuario"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ee,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Be}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ae?Dt():Ot(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$e(!Ee),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>$e(!Ee),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ke,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Te}),Pe&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>De?e.replace("Usuarios"):Re(!ke),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:(Ne||He||Ue)&&(0,w.jsx)(u.default,{onPress:()=>_t(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===Ke&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Usuario"})})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre de Usuario:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",value:ft,onKeyPress:Ct,onChangeText:gt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Correo del Usuario:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Correo del Proveedor",value:xt,onKeyPress:Ct,onChangeText:pt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"N\xfamero de Tel\xe9fono",value:yt,onKeyPress:Ct,onChangeText:wt}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rol:"}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:m,position:"relative"},children:(0,w.jsx)(ge,{value:ut,placeholder:"Roles",setValue:ht,items:st,direction:"BOTTOM",onDropdownOpen:()=>C("RolesSearsh")})}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:n,position:"relative"},children:(0,w.jsx)(ge,{value:dt,placeholder:"Tiendas",setValue:ct,items:nt,direction:"BOTTOM",onDropdownOpen:()=>C("TiendasSearsh")})}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:kt,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>It(),children:"Buscar"})})]})]}),mt?(0,w.jsx)(ue.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(bo,{isMobile:r,items:tt,columns:Et,columnasMyDateTableProveedorModal:Mt,columnasMyDateTableTiendaModal:zt,tiendasByProducto:[],proveedorByProducto:ot})]}),(0,w.jsx)(f.default,{transparent:!0,visible:k?.isAddProveedor??!1,animationType:"fade",onRequestClose:bt,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:bt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:k?.isModificarProveedor?"Modificar Producto":k?.isAddProductoShowProveedoresTiendas?"Datos del Usuario":"Agregar Usuario"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Usuario"})}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,value:Y,onChangeText:K,placeholder:"Nombre del usuario"}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Usuario"})}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,value:J,onChangeText:X,placeholder:"Nombre usuario"}),(""===k?.id_proveedor||1===parseInt(S?.id_rol))&&(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:""===k?.id_proveedor?"Contrase\xf1a":"Cambiar Contrase\xf1a"})}),(""===k?.id_proveedor||1===parseInt(S?.id_rol))&&(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,value:re,onChangeText:ne,placeholder:"Nueva contrase\xf1a del usuario"}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n del Usuario"})}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,value:le,onChangeText:de,placeholder:"Direcci\xf3n del Usuario    "}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:he,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");fe(t)},editable:""===k?.id_proveedor||He&&Ye,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Carnet de Identidad"}),(0,w.jsx)(z,{style:p.textImputModal,value:ie,onChangeText:e=>{e.length<=11&&/^[0-9]*$/.test(e)&&se(e)},cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,placeholder:"CarnetIdentidad"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:ae,onChangeText:oe,editable:""===k?.id_proveedor||He&&Ye,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(z,{style:p.textImputModal,value:xe,onChangeText:pe,cursorColor:x.azul_Oscuro,editable:""===k?.id_proveedor||He&&Ye,placeholder:"Detalles Bancarios"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Salario diario en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Q,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Z(a)},editable:""===k?.id_proveedor||He&&Ye,placeholder:"Salario diario en CUP"})]}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1e3,paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:n},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Roles"}),(0,w.jsx)(Pt,{value:me,placeholder:"Roles",setValue:je,items:E,readOnly:!(""===k?.id_proveedor||He&&Ye),searchable:!0})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:m},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiendas"}),(0,w.jsx)(Pt,{value:ye,placeholder:"Tiendas",setValue:we,items:P,readOnly:!(""===k?.id_proveedor||He&&Ye),searchable:!0})]})]}),""!==k?.id_proveedor&&(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(s.default,{style:{fontSize:16,marginTop:"3%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Acceso al Sistema"})}),""!==k?.id_proveedor&&(0,w.jsx)(i.default,{style:{padding:20,alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},children:_e.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:be===e.value,onPress:()=>{(""===k?.id_proveedor||He&&Ye)&&Se(e.value)}},e.value)))}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[He&&Ye&&k?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{$e(!0),Le(!1),Fe(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos proveedor ${J}?`)},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Usuario"})}),Ue&&k?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{$e(!0),Fe(`\xbfEst\xe1s seguro que deseas ELIMINAR al proveedor ${J}?`),Le(!0),R({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Usuario"})}),Ne&&""===k?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Rt(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Usuario"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ee,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Be}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ae?Dt():Ot(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$e(!Ee),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>$e(!Ee),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ke,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Te}),Pe&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>De?e.replace("Usuarios"):Re(!ke),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const vo=({items:e,columns:t,isMobile:r})=>{const n=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:h,setModalEntradasDates:g}=$t(),{usuario:p,setUsuario:y}=v(),{sortEntradas:m,setSortEntradas:j}=Fa(),C=r?Io.containerMovil:Io.containerDesktop,[S,I]=o.useState(0),[_,k]=o.useState(10),[R,T]=o.useState([]),[O,D]=o.useState(!1),[P,M]=o.useState(!1),[E,$]=o.useState(!1),[A,L]=o.useState(!1),[B,F]=o.useState(!1),[N,W]=o.useState(""),U=["Nombre"],[V,H]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),q=e=>{g({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[Y,G]=o.useState(!1),[K,J]=o.useState(!1),[X,Q]=o.useState(!1),[Z,ee]=o.useState(!1),[te,ae]=o.useState(!1),[oe,re]=o.useState("");o.useEffect((()=>{(async()=>{if(p?.token){const e=await ve(p.token,p.id_rol,"7",p.id_usuario),t=await ve(p.token,p.id_rol,"8",p.id_usuario),a=await ve(p.token,p.id_rol,"30",p.id_usuario),o=await ve(p.token,p.id_rol,"31",p.id_usuario);J(e),Q(t),ee(a),ae(o),G(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=S*_,a=Math.min((S+1)*_,e.length);T([]),setTimeout((()=>{T(e.slice(t,a))}),0)}),[S,e,_]);const ne=t=>{t>=0&&t*_<e.length&&I(t)},ie=()=>(0,w.jsx)(xe.default.Header,{children:t.map(((e,t)=>(0,w.jsx)(xe.default.Title,{style:[Io.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsxs)(s.default,{style:r?Io.headerTextMovil:Io.headerTextDesktop,children:[e,("Nombre Proveedor"===e||"Nombre Producto"===e||"Costo Por Unidad"===e||"Fecha"===e)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(e=>{let t="";"Nombre Proveedor"===e?t="option3":"Nombre Producto"===e?t="option4":"Costo Por Unidad"===e?t="option5":"Fecha"===e&&(t="option6")})(e),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},t)))}),[se,le]=o.useState(""),[de,ce]=o.useState(""),ue=e=>{le(e),D(!O)},he=e=>{if(ce(e),D(!O),"Modificar"===e){if(g({id_entrada:se,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),p?.token){}}else"Eliminar"===e?$(!E):"Mover"==e&&L(!A)};return r?(0,w.jsx)(i.default,{style:C,children:(0,w.jsxs)(xe.default,{style:{width:"100%"},children:[ie(),R.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>q(e.id_Tienda),style:{justifyContent:"space-around"},children:[(0,w.jsx)(xe.default.Cell,{style:[Io.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(xe.default.Cell,{style:[Io.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.direccion})}),(0,w.jsx)(xe.default.Cell,{style:[Io.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsxs)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:[e.comicion,"%"]})})]},e.id_Tienda))),(0,w.jsx)(f.default,{transparent:!0,visible:O,animationType:"fade",onRequestClose:()=>ue(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),K&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{he("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),X&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{he("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(te||Z)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{he("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>ue(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:P,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[se,de]}),(0,w.jsx)(u.default,{onPress:()=>M(!P),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:E,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$(!E),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})}),(0,w.jsx)(u.default,{onPress:()=>$(!E),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:oe,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");re(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Bt,{columns:U,items:V})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>L(!A),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:B,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:N}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:Io.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Io.paginationButtonMovil,0===S&&Io.disabledButton],onPress:()=>ne(S-1),disabled:0===S,children:(0,w.jsx)(s.default,{style:Io.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Io.paginationLabel,children:`${S*_+1}-${Math.min((S+1)*_,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Io.paginationButtonMovil,(S+1)*_>=e.length&&Io.disabledButton],onPress:()=>ne(S+1),disabled:(S+1)*_>=e.length,children:(0,w.jsx)(s.default,{style:Io.paginationLabel,children:"Pr\xf3xima"})})]})]})}):(0,w.jsx)(i.default,{style:C,children:(0,w.jsxs)(xe.default,{children:[ie(),R.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>q(e.id_Tienda),children:[(0,w.jsx)(xe.default.Cell,{style:Io.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(xe.default.Cell,{style:Io.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.direccion})}),(0,w.jsx)(xe.default.Cell,{style:[Io.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsxs)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:[e.comicion,"%"]})})]},e.id_Tienda))),(0,w.jsx)(f.default,{transparent:!0,visible:B,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:N}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Tiendas"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:Io.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Io.paginationButtonDesktop,0===S&&Io.disabledButton],onPress:()=>ne(S-1),disabled:0===S,children:(0,w.jsx)(s.default,{style:Io.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Io.paginationLabel,children:`${S*_+1}-${Math.min((S+1)*_,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Io.paginationButtonDesktop,(S+1)*_>=e.length&&Io.disabledButton],onPress:()=>ne(S+1),disabled:(S+1)*_>=e.length,children:(0,w.jsx)(s.default,{style:Io.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Io=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});var _o=a(9265);const ko=(0,o.forwardRef)((({selected:e,onChange:t,style:a,placeholder:o,editable:r,cursorColor:n},s)=>(0,w.jsx)(i.default,{style:a,children:(0,w.jsx)(_o.default,{ref:s,selected:e,onChange:t,showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Hora",dateFormat:"h:mm aa",placeholderText:o,editable:r,cursorColor:n})})));function Ro(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),a=t<930,r=(e,t)=>new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),e,t,0),[n,l]=(0,o.useState)(1e3),[g,m]=(0,o.useState)(1e3),[j,C]=(0,o.useState)(1e3),[S,I]=(0,o.useState)(1e3),{usuario:_,setUsuario:k}=v(),{modalEntradasDates:R,setModalEntradasDates:T}=$t(),{sortEntradas:O,setSortEntradas:D}=Fa(),[P,M]=(0,o.useState)(!1),[E,$]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[A,L]=(0,o.useState)(""),[B,F]=(0,o.useState)(""),[N,W]=(0,o.useState)("0%"),[U,V]=o.useState(r(9,0)),[H,q]=o.useState(r(16,0)),Y=(0,o.useRef)(null),[K,J]=(0,o.useState)(!1),[X,Q]=(0,o.useState)(""),[Z,ee]=(0,o.useState)(""),[te,ae]=(0,o.useState)(""),[oe,re]=o.useState(!1),[ne,ie]=o.useState(""),[se,le]=o.useState(!1),[de,he]=(0,o.useState)(!1),[fe,ge]=(0,o.useState)(!1),[xe,pe]=(0,o.useState)(""),[ye,we]=o.useState(!1),[me,je]=o.useState(!1),[be,Ce]=o.useState(!1),[Se,ve]=(0,o.useState)(null),[ke,De]=(0,o.useState)([]),[ze,Pe]=(0,o.useState)([]),[Me,$e]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Ae,Le]=(0,o.useState)([]),[Be,Fe]=(0,o.useState)([]),[Ne,We]=(0,o.useState)([]),Ue=new Date,Ve=String(Ue.getFullYear()),He=String(Ue.getMonth()+1).padStart(2,"0"),qe=String(Ue.getDate()).padStart(2,"0"),[Ye,Ge]=(0,o.useState)(""),[Ke,Je]=(0,o.useState)(""),[Xe,Qe]=(0,o.useState)(""),[Ze,et]=(0,o.useState)(""),[tt,at]=(0,o.useState)(new Date),[ot,rt]=(0,o.useState)(new Date),[nt,it]=(0,o.useState)("1"),[st,lt]=(0,o.useState)("1"),[dt,ct]=(0,o.useState)("2000"),[ut,ht]=(0,o.useState)(String(parseInt(qe))),[ft,gt]=(0,o.useState)(String(parseInt(He))),[xt,pt]=(0,o.useState)(String(parseInt(Ve))),[yt,wt]=(0,o.useState)(!1),mt=()=>{L(""),F(""),T({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(_?.token&&R?.id_entrada){J(!1);const e=await Oe(_.token,R.id_entrada);if(e){$(e.id_tienda),L(e.nombre),F(e.direccion),W(`${e.comicion}%`);const t=new Date;t.setHours(parseInt(e.hora_apertura.split(":")[0])),t.setMinutes(parseInt(e.hora_apertura.split(":")[1])),t.setSeconds(parseInt(e.hora_apertura.split(":")[2])),V(t);const a=new Date;a.setHours(parseInt(e.hora_cierre.split(":")[0])),a.setMinutes(parseInt(e.hora_cierre.split(":")[1])),a.setSeconds(parseInt(e.hora_cierre.split(":")[2])),q(a),J(!0)}}})()}),[R]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{_?.token&&(we(1===parseInt(_.id_rol)),je(1===parseInt(_.id_rol)),Ce(1===parseInt(_.id_rol)))})(),await(async()=>{if(void 0!=_?.token)try{const e=await Ie(_.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({id_Tienda:e.id_tienda,nombre:e.nombre,direccion:e.direccion,comicion:e.comicion}))));Pe(t)}else console.log("No se encontraron entradas.")}catch(e){console.log("Error al obtener las entradas o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de las entradas")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de las entradas")})(),(async()=>{if(void 0!=_?.token){const e=await Ua(_.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_proveedor}))));Le(t)}}})(),(async()=>{if(void 0!=_?.token){const e=await Ee(_.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));Fe(t)}}})(),(async()=>{if(void 0!=_?.token){const e=await Ie(_.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));We([{label:"Tiendas",value:""},...t])}}})()})(),()=>{})),[]));const[jt,bt]=(0,o.useState)(!1),Ct=async()=>{if(_?.token){let e=!0,t="ERROR AL INGRESAR TIENDA. Por favor verifique los siguientes campos:\n";if(""===A.trim()&&(t+="-El nombre de la tienda no puede ser vac\xedo.\n",e=!1),U.getTime()>H.getTime()&&(t+="-La hora de apertura no puede ser m\xe1s tarde que la hora de cierre.\n",e=!1),N.includes("%")){""===N.split("%")[0].trim()&&(t+="-La comici\xf3n no puede ser vac\xedo.\n",e=!1)}else t+="-Debe poner el % a la derecha de la comici\xf3n.\n",e=!1;if(e){await _e(_.token,A,B,N.split("%")[0],U.toLocaleTimeString(),H.toLocaleTimeString());const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${_.nombre} agreg\xf3 la tienda ${A}.`;await G(_.token,r,`${t}-${a}-${o}`,_.id_usuario,6),ie("La tienda fue insertada con \xe9xito"),re(!0),le(!0),L(""),F(""),$("")}else ie(t),re(!0)}},St=async()=>{if(_?.token){let e=!0,t="ERROR AL MODIFICAR TIENDA. Compruebe los siguientes campos:\n";if(""===A.trim()&&(t+="-El nombre de la tienda no puede ser vac\xedo.\n",e=!1),U.getTime()>H.getTime()&&(t+="-La hora de apertura no puede ser m\xe1s tarde que la hora de cierre.\n",e=!1),N.includes("%")){""===N.split("%")[0].trim()&&(t+="-La comici\xf3n no puede ser vac\xedo.\n",e=!1)}else t+="-Debe poner el % a la derecha de la comici\xf3n.\n",e=!1;if(e){await Re(_.token,E,A,B,N.split("%")[0],U.toLocaleTimeString(),H.toLocaleTimeString());const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${_.nombre} modific\xf3 la tienda ${A}.`;await G(_.token,r,`${t}-${a}-${o}`,_.id_usuario,6),ie("La tienda se modific\xf3 con \xe9xito"),re(!0),le(!0),L(""),F("")}else ie(t),re(!0),le(!1)}},vt=["Nombre","Cantidad"],It=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],_t=a?["Nombre","Direcci\xf3n",,"Comici\xf3n"]:["Nombre","Direcci\xf3n","Comici\xf3n"];return a?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:!1}),(0,w.jsx)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:yt?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(vo,{isMobile:a,items:ze,columns:_t,columnasMyDateTableEntradaModal:It,columnasMyDateTableTiendaModal:vt,tiendasByProducto:ke,proveedorByProducto:Me})}),(0,w.jsx)(f.default,{transparent:!0,visible:R?.isAddEntrada??!1,animationType:"fade",onRequestClose:mt,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(i.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:mt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===R?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre de la Tienda"})}),(0,w.jsx)(z,{ref:Y,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!0,value:A,onChangeText:L,placeholder:"Nombre de la tienda"}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n de la Tienda"})}),(0,w.jsx)(z,{ref:Y,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!0,value:B,onChangeText:F,placeholder:"Direcci\xf3n de la tienda"}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Comici\xf3n de los trabajadores en %"})}),(0,w.jsx)(z,{ref:Y,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!0,value:N,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;if(parseFloat(a)>100)return;const o=`${a}%`;if(e.length<N.length){const e=N.slice(0,-1);W(e)}else W(o)},placeholder:"Comici\xf3n de los trabajadores en %"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:n},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Apertura"}),(0,w.jsx)(ko,{selected:U,onChange:V,style:{width:"100%",height:40,paddingHorizontal:10,paddingVertical:5,borderRadius:5,backgroundColor:"rgba(255, 255, 255, 0.8)",borderColor:"rgba(0, 0, 0, 0.2)",borderWidth:1,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:2},placeholder:"Selecciona una hora",editable:!0,cursorColor:"rgba(0, 0, 0, 0.8)"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginRight:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cierre"}),(0,w.jsx)(ko,{selected:H,onChange:q,style:{width:"100%",height:40,paddingHorizontal:10,paddingVertical:5,borderRadius:5,backgroundColor:"rgba(255, 255, 255, 0.8)",borderColor:"rgba(0, 0, 0, 0.2)",borderWidth:1,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:2},placeholder:"Selecciona una hora",editable:!0,cursorColor:"rgba(0, 0, 0, 0.8)"})]})]}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[""!==R?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{ge(!0),he(!1),pe("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta tienda?"),T({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Tienda"})}),""===R?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Ct(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Tienda"})}),""!==R?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{ge(!0),he(!0),pe("\xbfEst\xe1s seguro que deseas ELIMINAR al esta tienda?"),T({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Tienda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:fe,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:xe}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>St(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ge(!fe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>ge(!fe),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:oe,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ne}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>se?e.replace("Tiendas"):re(!oe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:!1}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsx)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop}),yt?(0,w.jsx)(ue.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(vo,{isMobile:a,items:ze,columns:_t,columnasMyDateTableEntradaModal:It,columnasMyDateTableTiendaModal:vt,tiendasByProducto:ke,proveedorByProducto:Me})]}),(0,w.jsx)(f.default,{transparent:!0,visible:R?.isAddEntrada??!1,animationType:"fade",onRequestClose:mt,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:mt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===R?.id_entrada?"Agregar Tienda":"Datos de la Tienda"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre de la Tienda"})}),(0,w.jsx)(z,{ref:Y,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!0,value:A,onChangeText:L,placeholder:"Nombre de la tienda"}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Direcci\xf3n de la Tienda"})}),(0,w.jsx)(z,{ref:Y,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!0,value:B,onChangeText:F,placeholder:"Direcci\xf3n de la tienda"}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Comici\xf3n de los trabajadores en %"})}),(0,w.jsx)(z,{ref:Y,style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!0,value:N,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;if(parseFloat(a)>100)return;const o=`${a}%`;if(e.length<N.length){const e=N.slice(0,-1);W(e)}else W(o)},placeholder:"Comici\xf3n de los trabajadores en %"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:n},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Apertura"}),(0,w.jsx)(ko,{selected:U,onChange:V,style:{width:"100%",height:40,paddingHorizontal:10,paddingVertical:5,borderRadius:5,backgroundColor:"rgba(255, 255, 255, 0.8)",borderColor:"rgba(0, 0, 0, 0.2)",borderWidth:1,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:2},placeholder:"Selecciona una hora",editable:!0,cursorColor:"rgba(0, 0, 0, 0.8)"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginRight:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cierre"}),(0,w.jsx)(ko,{selected:H,onChange:q,style:{width:"100%",height:40,paddingHorizontal:10,paddingVertical:5,borderRadius:5,backgroundColor:"rgba(255, 255, 255, 0.8)",borderColor:"rgba(0, 0, 0, 0.2)",borderWidth:1,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:2},placeholder:"Selecciona una hora",editable:!0,cursorColor:"rgba(0, 0, 0, 0.8)"})]})]}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[""!==R?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{ge(!0),he(!1),pe("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta tienda?"),T({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Tienda"})}),""===R?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Ct(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Tienda"})}),""!==R?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{ge(!0),he(!0),pe("\xbfEst\xe1s seguro que deseas ELIMINAR al esta tienda?"),T({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Tienda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:fe,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:xe}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>de?(async()=>{if(_?.token){let e="ERROR AL ELIMINAR ENTRADA. Compruebe los siguientes par\xe1metros:\n";if(await Te(_.token,E)){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${_.nombre} elimin\xf3 la tienda ${A}.`;await G(_.token,r,`${t}-${a}-${o}`,_.id_usuario,6),ie("La tienda se elimin\xf3 con \xe9xito"),re(!0),le(!0),L(""),F("")}else e+="-Ya se han echo operaciones en la tienda.\n",ie(e),re(!0),le(!1)}})():St(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ge(!fe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>ge(!fe),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:oe,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ne}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>se?e.replace("Tiendas"):re(!oe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const To=(0,o.createContext)(void 0),Oo=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(To.Provider,{value:{sortAcciones:t,setSortAcciones:a},children:e})},Do=()=>{const e=o.useContext(To);if(void 0===e)throw new Error("useSortAcciones debe usarse dentro de un SortAcciones");return e},zo=({items:e,columns:t,isMobile:r})=>{const n=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=$t(),{usuario:y,setUsuario:m}=v(),{sortAcciones:j,setSortAcciones:C}=Do(),S=r?Po.containerMovil:Po.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(10),[T,O]=o.useState([]),[D,P]=o.useState(!1),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(""),V=["Nombre"],[H,q]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),Y=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[G,K]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ne]=o.useState("");o.useEffect((()=>{(async()=>{if(y?.token){const e=await ve(y.token,"7",y.id_usuario),t=await ve(y.token,"8",y.id_usuario),a=await ve(y.token,"30",y.id_usuario),o=await ve(y.token,"31",y.id_usuario);X(e),Z(t),te(a),oe(o),K(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const ie=t=>{t>=0&&t*k<e.length&&_(t)},se=()=>(0,w.jsx)(xe.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(xe.default.Title,{style:[Po.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?Po.headerTextMovil:Po.headerTextDesktop,children:[t,("Nombre Usuario"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre Usuario"===t?a="option3":"Fecha"===t&&(a="option4"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[le,de]=o.useState(""),[ce,ue]=o.useState(""),he=e=>{de(e),P(!D)},fe=e=>{if(ue(e),P(!D),"Modificar"===e){if(p({id_entrada:le,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?A(!$):"Mover"==e&&B(!L)},ge=async()=>{if(y?.token){if(0==await ze(y.token,le,y.id_tienda)){return!!await Ge(y.token,le)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(i.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(xe.default,{style:{width:"150%"},children:[se(),T.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>Y(e.id_Accion),style:{justifyContent:"space-around"},children:[(0,w.jsx)(xe.default.Cell,{style:Po.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(xe.default.Cell,{style:Po.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.descripcion})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Po.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombre_TipoAccion}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Po.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Accion))),(0,w.jsx)(f.default,{transparent:!0,visible:D,animationType:"fade",onRequestClose:()=>he(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),J&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ae||ee)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>he(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[le,ce]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await ge();if(A(!$),e){const e=T.filter((e=>e.id_Usuario!==le));O(e),U("Producto eliminado con \xe9xito"),N(!0)}else U("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),N(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!$),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:re,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ne(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Bt,{columns:V,items:H})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:Po.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Po.paginationButtonMovil,0===I&&Po.disabledButton],onPress:()=>ie(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Po.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Po.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Po.paginationButtonMovil,(I+1)*k>=e.length&&Po.disabledButton],onPress:()=>ie(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Po.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(i.default,{style:S,children:(0,w.jsxs)(xe.default,{children:[se(),T.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>Y(e.id_Accion),children:[(0,w.jsx)(xe.default.Cell,{style:Po.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Usuario})}),(0,w.jsx)(xe.default.Cell,{style:Po.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.descripcion})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Po.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.nombre_TipoAccion}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Po.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Accion))),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:Po.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Po.paginationButtonDesktop,0===I&&Po.disabledButton],onPress:()=>ie(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Po.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Po.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Po.paginationButtonDesktop,(I+1)*k>=e.length&&Po.disabledButton],onPress:()=>ie(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Po.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Po=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Mo(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[n,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),[k,R]=(0,o.useState)(500),T=e=>{"FechaDetails"===e?(g(2e3),j(1500)):"TiendaDetails"===e&&(j(2e3),g(1500)),"FechaDesdeSearsh"===e?(S(2e3),_(1500),R(1500)):"FechaHastaSearsh"===e?(S(1500),_(2e3),R(1500)):"TipoAccionSearch"===e&&(S(1500),_(1500),R(2e3))},{usuario:O,setUsuario:D}=v(),{modalEntradasDates:P,setModalEntradasDates:M}=$t(),{sortAcciones:E,setSortAcciones:$}=Do(),[A,L]=(0,o.useState)(!1),B=(0,o.useRef)(new c.default.Value(0)).current,[F,N]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[W,U]=(0,o.useState)(""),[V,H]=(0,o.useState)(""),[q,G]=(0,o.useState)(""),[Q,Z]=(0,o.useState)(""),[ee,te]=(0,o.useState)(""),[ae,oe]=(0,o.useState)(""),[re,ne]=(0,o.useState)(""),[ie,se]=(0,o.useState)(""),[le,de]=(0,o.useState)(!1),[he,fe]=(0,o.useState)(""),[xe,pe]=(0,o.useState)(""),[ye,we]=(0,o.useState)(""),[me,je]=o.useState(!1),[be,Ce]=o.useState(""),[Se,_e]=o.useState(!1),[ke,Re]=(0,o.useState)(!1),[Te,Oe]=(0,o.useState)(!1),[De,ze]=(0,o.useState)(""),[Pe,Me]=o.useState(!1),[$e,Ae]=o.useState(!1),[Le,Be]=o.useState(!1),[Fe,Ne]=(0,o.useState)(null),[We,Ue]=(0,o.useState)([]),Ve=()=>{A?c.default.timing(B,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>L(!1))):(L(!0),c.default.timing(B,{toValue:400,duration:300,useNativeDriver:!1}).start())},He={height:B},[qe,Ye]=(0,o.useState)([]),[Ge,Ke]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Je,Xe]=(0,o.useState)([]),[Qe,Ze]=(0,o.useState)([]),[et,tt]=(0,o.useState)([]),at=new Date,ot=String(at.getFullYear()),rt=String(at.getMonth()+1).padStart(2,"0"),nt=String(at.getDate()).padStart(2,"0"),[it,st]=(0,o.useState)(""),[lt,dt]=(0,o.useState)(""),[ct,ut]=(0,o.useState)(String(parseInt(nt))),[ht,ft]=(0,o.useState)(String(parseInt(rt))),[gt,xt]=(0,o.useState)(String(parseInt(ot))),[pt,yt]=(0,o.useState)(null),[wt,mt]=(0,o.useState)([]),[jt,bt]=(0,o.useState)(String(parseInt(nt))),[Ct,St]=(0,o.useState)(String(parseInt(rt))),[vt,It]=(0,o.useState)(String(parseInt(ot))),[_t,kt]=(0,o.useState)(!1),[Rt,Ot]=(0,o.useState)(""),Dt=[{label:"D\xeda",value:"dia"},{label:"Semana",value:"semana"},{label:"Mes",value:"mes"}],zt=e=>{Ot(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let n="";if("dia"===e)n=`${a}-${o}-${r}`;else if("semana"===e){const e=new Date(t);e.setDate(t.getDate()-6);n=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("mes"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setMonth(t.getMonth()-1);n=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}Lt(n,`${a}-${o}-${r}`)},Pt=()=>{U(""),G(""),M({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(O?.token&&P?.id_entrada){de(!1);const e=await Y(O.token,P.id_entrada);if(e){const[t,a,o]=e.fecha.split("T")[0].split("-");N(e.id_accion),U(e.usuario.id_usuario),H(e.tipo_accion.id_tipo_accion),G(e.usuario.nombre),te(e.descripcion),Z(e.tipo_accion.nombre),oe(String(parseInt(o))),ne(String(parseInt(a))),se(String(parseInt(t))),fe(e.producto.id_producto),pe(e.tienda.id_tienda),we(e.cantidad),de(!0)}}})()}),[P]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(O?.token){if(null===localStorage.getItem("resultAgregarEntrada")){const e=await ve(O.token,"10",O.id_usuario);Me(e),localStorage.setItem("resultAgregarEntrada",e)}else Me(Boolean(localStorage.getItem("resultAgregarEntrada")));if(null===localStorage.getItem("resultEliminarEntrada")){const e=await ve(O.token,"12",O.id_usuario);Ae(e),localStorage.setItem("resultEliminarEntrada",e)}else Ae(Boolean(localStorage.getItem("resultEliminarEntrada")));if(null===localStorage.getItem("resultModificarEntrada")){const e=await ve(O.token,"11",O.id_usuario);Be(e),localStorage.setItem("resultModificarEntrada",e)}else Be(Boolean(localStorage.getItem("resultModificarEntrada")))}})(),await(async()=>{if(void 0!=O?.token){const e=await K(O.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_tipo_accion}))));mt([{label:"Todos los tipos de acci\xf3n",value:""},...t])}}})(),(async()=>{if(void 0!=O?.token){const e=await Ee(O.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));Ze(t)}}})(),(async()=>{if(void 0!=O?.token){const e=await Ie(O.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));tt([{label:"Tiendas",value:""},...t])}}})()})(),()=>{})),[]));const[Mt,Et]=(0,o.useState)(!1),Lt=async(e,t)=>{kt(!0);try{if(O?.token){let a=await(async(e,t)=>{if(O?.token)try{const a=await J(O.token,pt??"",it,lt,e,t);if(a)return await Promise.all(a.map((async e=>({id_Accion:e.id_accion,id_Usuario:e.usuario.id_usuario,nombre_Usuario:e.usuario.nombre_usuario,descripcion:e.descripcion,fecha:e.fecha,id_TipoAccion:e.tipo_accion.id_tipo_accion,nombre_TipoAccion:e.tipo_accion.nombre}))))}catch(a){return console.error("Error al filtrar los acciones:",a),null}return null})(e,t)||[];Et(!Mt),a=E?.criterioOrden&&E.tipoOrden?await X(O.token,a,E.criterioOrden,Mt):await X(O.token,a,"option4",Mt),Ye(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{kt(!1)}};(0,o.useEffect)((()=>{Lt(`${gt}-${ht}-${ct}`,`${vt}-${Ct}-${jt}`)}),[E]),(0,o.useEffect)((()=>{Ot("")}),[ct,ht,gt,jt,Ct,vt]);const Bt=e=>{"Enter"===e.nativeEvent.key&&Lt(`${gt}-${ht}-${ct}`,`${vt}-${Ct}-${jt}`)},Ft=()=>{st(""),dt(""),yt(""),Ne("")},Nt=["Nombre","Cantidad"],Wt=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],Ut=["Nombre Usuario","Descripci\xf3n","Tipo de Acci\xf3n","Fecha"];return r?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsx)(i.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ve,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[_t?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(zo,{isMobile:r,items:qe,columns:Ut,columnasMyDateTableEntradaModal:Wt,columnasMyDateTableTiendaModal:Nt,tiendasByProducto:We,proveedorByProducto:Ge}),A&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},He],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre Usuario:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre usuario",value:it,onKeyPress:Bt,onChangeText:st}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Descripci\xf3n:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullMovil,placeholder:"Descripci\xf3n",value:lt,onKeyPress:Bt,onChangeText:dt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Tipo de Acci\xf3n:"}),(0,w.jsx)(i.default,{style:{position:"relative",zIndex:k,height:100},children:(0,w.jsx)(ge,{value:pt,placeholder:"Tipo de acci\xf3n",setValue:yt,items:wt,onDropdownOpen:()=>T("TipoAccionSearch")})}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(i.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Dt.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:Rt===e.value,onPress:()=>zt(e.value)},e.value)))}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1800},children:[(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(At,{dayValue:ct,monthValue:ht,yearValue:gt,onDayChange:ut,onMonthChange:ft,onYearChange:xt,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>T("FechaDesdeSearsh")})]}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:I},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(At,{dayValue:jt,monthValue:Ct,yearValue:vt,onDayChange:bt,onMonthChange:St,onYearChange:It,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>T("FechaHastaSearsh")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ft,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Lt(`${gt}-${ht}-${ct}`,`${vt}-${Ct}-${jt}`),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:P?.isAddEntrada??!1,animationType:"fade",onRequestClose:Pt,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Pt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===P?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Usuario"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:q,onChangeText:e=>G(e),editable:!1,placeholder:"Nombre Usuario"})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo Acci\xf3n"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Q,onChangeText:e=>Z(e),editable:!1,placeholder:"Tipo accion"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),(0,w.jsx)(z,{style:p.textImputModal,value:`${ie}-${re}-${ae}`,onChangeText:e=>{},cursorColor:x.azul_Oscuro,editable:!1,placeholder:"fecha"})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(z,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,editable:!1,numberOfLines:5,value:ee,onChangeText:te,scrollEnabled:!0}),!1]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Te,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:De}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>modificarEntradaFunction(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Oe(!Te),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Oe(!Te),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:me,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:be}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Se?e.replace("Entradas"):je(!me),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"}}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre Usuario:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre usuario",value:it,onKeyPress:Bt,onChangeText:st}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Descripci\xf3n:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Descripci\xf3n",value:lt,onKeyPress:Bt,onChangeText:dt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tipo de Acci\xf3n:"}),(0,w.jsx)(i.default,{style:{position:"relative",zIndex:k,height:100},children:(0,w.jsx)(ge,{value:pt,placeholder:"Tipo de acci\xf3n",setValue:yt,items:wt,onDropdownOpen:()=>T("TipoAccionSearch")})}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(i.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Dt.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:Rt===e.value,onPress:()=>zt(e.value)},e.value)))}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1800},children:[(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(At,{dayValue:ct,monthValue:ht,yearValue:gt,onDayChange:ut,onMonthChange:ft,onYearChange:xt,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>T("FechaDesdeSearsh")})]}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:I},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(At,{dayValue:jt,monthValue:Ct,yearValue:vt,onDayChange:bt,onMonthChange:St,onYearChange:It,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>T("FechaHastaSearsh")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ft,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Lt(`${gt}-${ht}-${ct}`,`${vt}-${Ct}-${jt}`),children:"Buscar"})})]})]}),_t?(0,w.jsx)(ue.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(zo,{isMobile:r,items:qe,columns:Ut,columnasMyDateTableEntradaModal:Wt,columnasMyDateTableTiendaModal:Nt,tiendasByProducto:We,proveedorByProducto:Ge})]}),(0,w.jsx)(f.default,{transparent:!0,visible:P?.isAddEntrada??!1,animationType:"fade",onRequestClose:Pt,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Pt,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Datos de la Acci\xf3n"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Usuario"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:q,onChangeText:e=>G(e),editable:!1,placeholder:"Nombre Usuario"})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo Acci\xf3n"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Q,onChangeText:e=>Z(e),editable:!1,placeholder:"Tipo accion"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),(0,w.jsx)(z,{style:p.textImputModal,value:`${ie}-${re}-${ae}`,onChangeText:e=>{},cursorColor:x.azul_Oscuro,editable:!1,placeholder:"fecha"})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(z,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del producto",multiline:!0,editable:!1,numberOfLines:5,value:ee,onChangeText:te,scrollEnabled:!0}),!1]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Te,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:De}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ke?eliminarEntradaFunction():modificarEntradaFunction(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Oe(!Te),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Oe(!Te),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:me,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:be}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Se?e.replace("Entradas"):je(!me),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const Eo=({items:e,columns:t,isMobile:r})=>{const n=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=$t(),{usuario:y,setUsuario:m}=v(),{sortEntradas:j,setSortEntradas:C}=Fa(),S=r?$o.containerMovil:$o.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(10),[T,O]=o.useState([]),[D,P]=o.useState(!1),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(""),V=["Nombre"],[H,q]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),Y=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[G,K]=o.useState(!1),[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ne]=o.useState("");o.useEffect((()=>{(async()=>{if(y?.token){const e=await ve(y.token,y.id_rol,"7"),t=await ve(y.token,y.id_rol,"8"),a=await ve(y.token,y.id_rol,"30"),o=await ve(y.token,y.id_rol,"31");X(e),Z(t),te(a),oe(o),K(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const ie=t=>{t>=0&&t*k<e.length&&_(t)},se=()=>(0,w.jsx)(xe.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(xe.default.Title,{style:[$o.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?$o.headerTextMovil:$o.headerTextDesktop,children:[t,("Nombre Proveedor"===t||"Nombre Producto"===t||"Costo Por Unidad"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre Proveedor"===t?a="option3":"Nombre Producto"===t?a="option4":"Costo Por Unidad"===t?a="option5":"Fecha"===t&&(a="option6"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[le,de]=o.useState(""),[ce,ue]=o.useState(""),he=e=>{de(e),P(!D)},fe=e=>{if(ue(e),P(!D),"Modificar"===e){if(p({id_entrada:le,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?A(!$):"Mover"==e&&B(!L)},ge=async()=>{if(y?.token){if(0==await ze(y.token,le,y.id_tienda)){return!!await Ge(y.token,le)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(i.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(xe.default,{style:{width:"150%"},children:[se(),T.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>Y(e.id_Entrada),style:{justifyContent:"space-around"},children:[(0,w.jsx)(xe.default.Cell,{style:[$o.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Proveedor})}),(0,w.jsx)(xe.default.Cell,{style:[$o.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[$o.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[$o.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.costo})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[$o.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Entrada))),(0,w.jsx)(f.default,{transparent:!0,visible:D,animationType:"fade",onRequestClose:()=>he(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),J&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(ae||ee)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{fe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>he(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[le,ce]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await ge();if(A(!$),e){const e=T.filter((e=>e.id_Proveedor!==le));O(e),U("Producto eliminado con \xe9xito"),N(!0)}else U("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),N(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!$),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:re,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ne(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Bt,{columns:V,items:H})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:$o.paginationContainer,children:[(0,w.jsx)(u.default,{style:[$o.paginationButtonMovil,0===I&&$o.disabledButton],onPress:()=>ie(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:$o.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:$o.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[$o.paginationButtonMovil,(I+1)*k>=e.length&&$o.disabledButton],onPress:()=>ie(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:$o.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(i.default,{style:S,children:(0,w.jsxs)(xe.default,{children:[se(),T.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>Y(e.id_Entrada),children:[(0,w.jsx)(xe.default.Cell,{style:$o.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Proveedor})}),(0,w.jsx)(xe.default.Cell,{style:$o.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[$o.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[$o.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.costo}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[$o.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Entrada))),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:W}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:$o.paginationContainer,children:[(0,w.jsx)(u.default,{style:[$o.paginationButtonDesktop,0===I&&$o.disabledButton],onPress:()=>ie(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:$o.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:$o.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[$o.paginationButtonDesktop,(I+1)*k>=e.length&&$o.disabledButton],onPress:()=>ie(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:$o.paginationLabel,children:"Pr\xf3xima"})})]})]})})},$o=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Ao(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[n,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),k=e=>{"FechaDetails"===e?(g(2e3),j(1500)):"TiendaDetails"===e&&(j(2e3),g(1500)),"FechaDesdeSearsh"===e?(S(2e3),_(1500)):"FechaHastaSearsh"===e&&(S(1500),_(2e3))},{usuario:R,setUsuario:T}=v(),{modalEntradasDates:O,setModalEntradasDates:D}=$t(),{sortEntradas:P,setSortEntradas:M}=Fa(),[E,$]=(0,o.useState)(!1),A=(0,o.useRef)(new c.default.Value(0)).current,[L,B]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[F,N]=(0,o.useState)(""),[W,U]=(0,o.useState)(""),[V,H]=(0,o.useState)(""),[q,Y]=(0,o.useState)(""),[K,J]=(0,o.useState)(""),[X,Q]=(0,o.useState)(""),[Z,ee]=(0,o.useState)(""),[re,ne]=(0,o.useState)(""),[he,fe]=(0,o.useState)(!1),[ge,xe]=(0,o.useState)(""),[pe,ye]=(0,o.useState)(""),[we,me]=(0,o.useState)(""),[je,be]=o.useState(!1),[Ce,Se]=o.useState(""),[_e,ke]=o.useState(!1),[Re,Te]=(0,o.useState)(!1),[Oe,De]=(0,o.useState)(!1),[Pe,Me]=(0,o.useState)(""),[$e,Ae]=o.useState(!1),[Le,Be]=o.useState(!1),[Fe,Ne]=o.useState(!1),[Ue,Ve]=(0,o.useState)(null),[He,qe]=(0,o.useState)([]),Ge=()=>{E?c.default.timing(A,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>$(!1))):($(!0),c.default.timing(A,{toValue:400,duration:300,useNativeDriver:!1}).start())},Je={height:A},[Xe,Qe]=(0,o.useState)([]),[Ze,et]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[tt,at]=(0,o.useState)([]),[ot,rt]=(0,o.useState)([]),[nt,it]=(0,o.useState)([]),st=new Date,lt=String(st.getFullYear()),dt=String(st.getMonth()+1).padStart(2,"0"),ct=String(st.getDate()).padStart(2,"0"),[ut,ht]=(0,o.useState)(""),[ft,gt]=(0,o.useState)(""),[xt,pt]=(0,o.useState)(""),[yt,wt]=(0,o.useState)(""),[mt,jt]=(0,o.useState)(new Date),[bt,Ct]=(0,o.useState)(new Date),[St,vt]=(0,o.useState)("1"),[It,_t]=(0,o.useState)("1"),[kt,Rt]=(0,o.useState)("2000"),[Tt,Ot]=(0,o.useState)(String(parseInt(ct))),[Dt,zt]=(0,o.useState)(String(parseInt(dt))),[Mt,Et]=(0,o.useState)(String(parseInt(lt))),[Lt,Bt]=(0,o.useState)(!1),Ft=()=>{N(""),J(""),Y(""),U(""),D({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(R?.token&&O?.id_entrada){fe(!1);const e=await ae(R.token,O.id_entrada);if(e){const[t,a,o]=e.fecha.split("T")[0].split("-");B(e.id_entrada),N(e.proveedor.id_proveedor),U(e.producto.id_producto),Y(e.cantidad),H(e.tienda.id_tienda),J(e.costo),Q(String(parseInt(o))),ee(String(parseInt(a))),ne(String(parseInt(t))),xe(e.producto.id_producto),ye(e.tienda.id_tienda),me(e.cantidad),fe(!0)}}})()}),[O]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(R?.token){const e=await ve(R.token,R.id_rol,"10"),t=await ve(R.token,R.id_rol,"12"),a=await ve(R.token,R.id_rol,"11");Ae(e),Be(t),Ne(a)}})(),await(async()=>{if(void 0!=R?.token)try{const e=await te(R.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({id_Entrada:e.id_entrada,id_Proveedor:e.proveedor.id_proveedor,id_Producto:e.producto.id_producto,nombre_Proveedor:e.proveedor.nombre,nombre_Producto:e.producto.nombre,cantidad:e.cantidad,costo:e.costo,fecha:e.fecha}))));Qe(t)}else console.log("No se encontraron entradas.")}catch(e){console.log("Error al obtener las entradas o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de las entradas")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de las entradas")})(),(async()=>{if(void 0!=R?.token){const e=await Ua(R.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_proveedor}))));at(t)}}})(),(async()=>{if(void 0!=R?.token){const e=await Ee(R.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));rt(t)}}})(),(async()=>{if(void 0!=R?.token){const e=await Ie(R.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));it([{label:"Tiendas",value:""},...t])}}})()})(),()=>{})),[]));const[Nt,Wt]=(0,o.useState)(!1),Ut=async()=>{Bt(!0);try{if(R?.token){let e=await(async()=>{if(R?.token)try{const e=await le(R.token,ut,ft,xt,yt,`${kt}-${It}-${St}`,`${Mt}-${Dt}-${Tt}`);if(e)return await Promise.all(e.map((async e=>({id_Entrada:e.id_entrada,id_Proveedor:e.proveedor.id_proveedor,id_Producto:e.producto.id_producto,nombre_Proveedor:e.proveedor.nombre,nombre_Producto:e.producto.nombre,cantidad:e.cantidad,costo:e.costo,fecha:e.fecha}))))}catch(e){return console.error("Error al filtrar los proveedoress:",e),null}return null})()||[];Wt(!Nt),P?.criterioOrden&&P.tipoOrden&&(e=await de(R.token,e,P.criterioOrden,Nt)),Qe(e)}}catch(e){console.error("Error al filtrar y ordenar los proovedores:",e)}finally{Bt(!1)}};(0,o.useEffect)((()=>{Ut()}),[St,It,kt,Tt,Dt,Mt,P]);const Vt=e=>{"Enter"===e.nativeEvent.key&&Ut()},Ht=()=>{ht(""),gt(""),pt(""),Ve("")},qt=async()=>{if(R?.token){let e=!0,t="ERROR AL INGRESAR ENTRADA. Por favor verifique los siguientes campos:\n";if(""===F&&(e=!1,t+="-Seleccione un proveedor.\n"),""===W&&(e=!1,t+="-Seleccione un producto.\n"),""===V&&(e=!1,t+="-Seleccione una tienda.\n"),""===q&&(e=!1,t+="-Ingrese una cantidad.\n"),""===K&&(e=!1,t+="-Ingrese el costo del producto por unidad.\n"),e){await oe(R.token,K,q,`${Z}-${X}-${re}`,parseInt(F),parseInt(W),parseInt(V)),await We(R.token,parseInt(V),parseInt(W),parseInt(q));const e=nt.find((e=>e.value===V)),t=ot.find((e=>e.value===W)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");let i=`El usuario ${R.nombre} agreg\xf3 una entrada de ${q} del producto ${t?.label} en la tienda ${e?.label}`;await G(R.token,i,`${o}-${r}-${n}`,R.id_usuario,4),await Ye(R.token,W,V),Se("La entrada fue insertado con \xe9xito"),be(!0),ke(!0),N(""),U(""),H(""),J(""),Y("")}else Se(t),be(!0)}},Yt=async()=>{if(R?.token){let e=!0,t="ERROR AL MODIFICAR ENTRADA. Compruebe los siguientes campos:\n";const a=await ze(R.token,W,V),o=await ze(R.token,ge,pe);if(pe===V&&ge===W||parseInt(o.cantidad??0)-parseInt(we)<0&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No se dispone de sificientes productos para realizar la operoci\xf3n."),parseInt(we)-parseInt(q)>parseInt(a.cantidad??0)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La cantidad del producto excede la cantidad en la tienda\n."),""===F&&(e=!1,t+="-Seleccione un proveedor.\n"),""===W&&(e=!1,t+="-Seleccione un producto.\n"),""===V&&(e=!1,t+="-Seleccione una tienda.\n"),""===q&&(e=!1,t+="-Ingrese una cantidad.\n"),""===K&&(e=!1,t+="-Ingrese el costo del producto por unidad.\n"),e){await ie(R.token,L,K,q,`${Z}-${X}-${re}`,parseInt(F),parseInt(W),parseInt(V)),pe!==V||ge!==W?(await We(R.token,parseInt(pe),parseInt(ge),-1*parseInt(we)),await We(R.token,parseInt(V),parseInt(W),parseInt(q))):we!==q&&await We(R.token,parseInt(V),parseInt(W),parseInt(q)-parseInt(we));const e=nt.find((e=>e.value===pe)),t=ot.find((e=>e.value===ge)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");let i=`El usuario ${R.nombre} modific\xf3 una entrada de originalmente ${we} del producto ${t?.label} en la tienda ${e?.label}`;await G(R.token,i,`${o}-${r}-${n}`,R.id_usuario,4),Se("La entrada se modific\xf3 con \xe9xito"),be(!0),ke(!0),N(""),J(""),U(""),Y("")}else Se(t),be(!0)}},Gt=["Nombre","Cantidad"],Kt=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],Jt=["Nombre Proveedor","Nombre Producto","Cantidad","Costo Por Unidad","Fecha"];return r?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsx)(i.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ge,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[Lt?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Eo,{isMobile:r,items:Xe,columns:Jt,columnasMyDateTableEntradaModal:Kt,columnasMyDateTableTiendaModal:Gt,tiendasByProducto:He,proveedorByProducto:Ze}),E&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Je],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",onKeyPress:Vt,value:ut,onChangeText:ht}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Producto",value:ft,onKeyPress:Vt,onChangeText:gt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Costo en USD:"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:W,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");U(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:W,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");U(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsxs)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1e3},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",marginRight:"25%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,marginLeft:"12%",justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"})]}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:500},children:[(0,w.jsxs)(i.default,{style:{alignItems:"center",justifyContent:"center",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(At,{dayValue:St,monthValue:It,yearValue:kt,onDayChange:vt,onMonthChange:_t,onYearChange:Rt,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>k("FechaDesdeSearsh")})]}),(0,w.jsxs)(i.default,{style:{alignItems:"center",justifyContent:"center",position:"relative",zIndex:I},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(At,{dayValue:Tt,monthValue:Dt,yearValue:Mt,onDayChange:Ot,onMonthChange:zt,onYearChange:Et,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>k("FechaHastaSearsh")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ht,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{$(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:O?.isAddEntrada??!1,animationType:"fade",onRequestClose:Ft,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(i.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ft,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===O?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Proveedor"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(Pt,{value:F,placeholder:"Proveedores",setValue:N,items:tt,searchable:!0})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Producto"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(Pt,{value:W,placeholder:"Productos",setValue:U,items:ot,searchable:!0})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:1e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre de la Tienda"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:1e3,position:"relative"},children:(0,w.jsx)(Pt,{value:V,placeholder:"Tiendas",setValue:H,items:nt,searchable:!0})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Cantidad"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:q,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Y(t)},editable:!!Fe,placeholder:"Cantidad"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Costo en USD"}),(0,w.jsx)(z,{style:p.textImputModal,value:K,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;J(a)},cursorColor:x.azul_Oscuro,editable:!!Fe,placeholder:"Costo en USD"})]})]}),(0,w.jsxs)(i.default,{style:{width:"90%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Fecha"}),he&&(0,w.jsx)(At,{dayValue:X,monthValue:Z,yearValue:re,onDayChange:Q,onMonthChange:ee,onYearChange:ne,style:{margin:20},styleText:p.labelTextModalMovil})]}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Fe&&""!==O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{De(!0),Me("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta entrada?"),D({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Entrada"})}),$e&&""===O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>qt(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Entrada"})}),Le&&""!==O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{De(!0),Te(!0),Me("\xbfEst\xe1s seguro que deseas ELIMINAR al esta entrada?"),D({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Entrada"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Oe,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Pe}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Yt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>De(!Oe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>De(!Oe),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:je,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ce}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>_e?e.replace("Permisos"):be(!je),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"}}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",value:ut,onKeyPress:Vt,onChangeText:ht}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Producto",value:ft,onKeyPress:Vt,onChangeText:gt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Costo en USD:"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:xt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");pt(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:yt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");wt(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(At,{dayValue:St,monthValue:It,yearValue:kt,onDayChange:vt,onMonthChange:_t,onYearChange:Rt,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>k("FechaDesdeSearsh")})]}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:I},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(At,{dayValue:Tt,monthValue:Dt,yearValue:Mt,onDayChange:Ot,onMonthChange:zt,onYearChange:Et,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>k("FechaHastaSearsh")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ht,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Ut(),children:"Buscar"})})]})]}),Lt?(0,w.jsx)(ue.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Eo,{isMobile:r,items:Xe,columns:Jt,columnasMyDateTableEntradaModal:Kt,columnasMyDateTableTiendaModal:Gt,tiendasByProducto:He,proveedorByProducto:Ze})]}),(0,w.jsx)(f.default,{transparent:!0,visible:O?.isAddEntrada??!1,animationType:"fade",onRequestClose:Ft,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ft,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===O?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Proveedor"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(Pt,{value:F,placeholder:"Proveedores",setValue:N,items:tt,searchable:!0})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Producto"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:1500,position:"relative"},children:(0,w.jsx)(Pt,{value:W,placeholder:"Productos",setValue:U,items:ot,searchable:!0})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:m,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre de la Tienda"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:m,position:"relative"},children:(0,w.jsx)(Pt,{value:V,placeholder:"Tiendas",setValue:H,items:nt,searchable:!0,onDropdownOpen:()=>k("TiendaDetails")})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:q,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Y(t)},editable:!!Fe,placeholder:"Cantidad"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo en USD"}),(0,w.jsx)(z,{style:p.textImputModal,value:K,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;J(a)},cursorColor:x.azul_Oscuro,editable:!!Fe,placeholder:"Costo en USD"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:n},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),he&&(0,w.jsx)(At,{dayValue:X,monthValue:Z,yearValue:re,onDayChange:Q,onMonthChange:ee,onYearChange:ne,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>k("FechaDetails")})]}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Fe&&""!==O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{De(!0),Te(!1),Me("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta entrada?"),D({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Entrada"})}),$e&&""===O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>qt(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Entrada"})}),Le&&""!==O?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{De(!0),Te(!0),Me("\xbfEst\xe1s seguro que deseas ELIMINAR al esta entrada?"),D({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Entrada"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Oe,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Pe}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Re?(async()=>{if(R?.token){let e=!0,t="ERROR AL ELIMINAR ENTRADA. Compruebe los siguientes par\xe1metros:\n";const a=await ze(R.token,W,V);if(parseInt(q)>parseInt(a.cantidad??0)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La cantidad del producto excede la cantidad en la tienda\n."),e){await se(R.token,L),await We(R.token,parseInt(V),parseInt(W),-1*parseInt(q)),await Ke(R.token);const e=nt.find((e=>e.value===pe)),t=ot.find((e=>e.value===ge)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");let i=`El usuario ${R.nombre} elimin\xf3 la entrada con una cantidad de ${we} del producto ${t?.label} en la tienda ${e?.label}`;await G(R.token,i,`${o}-${r}-${n}`,R.id_usuario,4),Se("La entrada se elimin\xf3 con \xe9xito"),be(!0),ke(!0),N(""),J(""),U(""),Y("")}else Se(t),be(!0)}})():Yt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>De(!Oe),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>De(!Oe),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:je,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Ce}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>_e?e.replace("Permisos"):be(!je),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const Lo=({items:e,columns:t,isMobile:r})=>{const n=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:h,setModalEntradasDates:g}=$t(),{usuario:p,setUsuario:y}=v(),{sortEntradas:m,setSortEntradas:j}=Fa(),C=r?Bo.containerMovil:Bo.containerDesktop,[S,I]=o.useState(0),[_,k]=o.useState(20),[R,T]=o.useState([]),[O,D]=o.useState(!1),[P,M]=o.useState(!1),[E,$]=o.useState(!1),[A,L]=o.useState(!1),[B,F]=o.useState(!1),[N,W]=o.useState(""),U=["Nombre"],[V,H]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),q=e=>{g({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[Y,G]=o.useState(!1),[K,J]=o.useState(!1),[X,Q]=o.useState(!1),[Z,ee]=o.useState(!1),[te,ae]=o.useState(!1),[oe,re]=o.useState("");o.useEffect((()=>{(async()=>{if(p?.token){const e=await ve(p.token,"7",p.id_usuario),t=await ve(p.token,"8",p.id_usuario),a=await ve(p.token,"30",p.id_usuario),o=await ve(p.token,"31",p.id_usuario);J(e),Q(t),ee(a),ae(o),G(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=S*_,a=Math.min((S+1)*_,e.length);T([]),setTimeout((()=>{T(e.slice(t,a))}),0)}),[S,e,_]);const ne=t=>{t>=0&&t*_<e.length&&I(t)},ie=()=>(0,w.jsx)(xe.default.Header,{children:t.map(((e,t)=>(0,w.jsx)(xe.default.Title,{style:[Bo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:t>1,children:(0,w.jsxs)(s.default,{style:r?Bo.headerTextMovil:Bo.headerTextDesktop,children:[e,("Nombre Proveedor"===e||"Nombre Producto"===e||"Costo Por Unidad"===e||"Fecha"===e)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(e=>{let t="";"Nombre Proveedor"===e?t="option3":"Nombre Producto"===e?t="option4":"Costo Por Unidad"===e?t="option5":"Fecha"===e&&(t="option6")})(e),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},t)))}),[se,le]=o.useState(""),[de,ce]=o.useState(""),ue=e=>{le(e),D(!O)},he=e=>{if(ce(e),D(!O),"Modificar"===e){if(g({id_entrada:se,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),p?.token){}}else"Eliminar"===e?$(!E):"Mover"==e&&L(!A)};return r?(0,w.jsx)(i.default,{style:C,children:(0,w.jsxs)(xe.default,{style:{width:"100%"},children:[ie(),R.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>q(e.id_TipoServicio),style:{justifyContent:"space-around"},children:[(0,w.jsx)(xe.default.Cell,{style:[Bo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_TipoServicio})}),(0,w.jsx)(xe.default.Cell,{style:[Bo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.costo})})]},e.id_TipoServicio))),(0,w.jsx)(f.default,{transparent:!0,visible:O,animationType:"fade",onRequestClose:()=>ue(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),K&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{he("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),X&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{he("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(te||Z)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{he("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>ue(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:P,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[se,de]}),(0,w.jsx)(u.default,{onPress:()=>M(!P),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:E,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>auxDeleteProductoById(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>$(!E),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>$(!E),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:A,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:oe,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");re(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Bt,{columns:U,items:V})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>L(!A),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:B,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:N}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Tipo de Servicio"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:Bo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Bo.paginationButtonMovil,0===S&&Bo.disabledButton],onPress:()=>ne(S-1),disabled:0===S,children:(0,w.jsx)(s.default,{style:Bo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Bo.paginationLabel,children:`${S*_+1}-${Math.min((S+1)*_,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Bo.paginationButtonMovil,(S+1)*_>=e.length&&Bo.disabledButton],onPress:()=>ne(S+1),disabled:(S+1)*_>=e.length,children:(0,w.jsx)(s.default,{style:Bo.paginationLabel,children:"Pr\xf3xima"})})]})]})}):(0,w.jsx)(i.default,{style:C,children:(0,w.jsxs)(xe.default,{children:[ie(),R.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>q(e.id_TipoServicio),children:[(0,w.jsx)(xe.default.Cell,{style:Bo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_TipoServicio})}),(0,w.jsx)(xe.default.Cell,{style:Bo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.costo})})]},e.id_TipoServicio))),(0,w.jsx)(f.default,{transparent:!0,visible:B,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:N}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Tipo de Servicio"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:Bo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Bo.paginationButtonDesktop,0===S&&Bo.disabledButton],onPress:()=>ne(S-1),disabled:0===S,children:(0,w.jsx)(s.default,{style:Bo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Bo.paginationLabel,children:`${S*_+1}-${Math.min((S+1)*_,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Bo.paginationButtonDesktop,(S+1)*_>=e.length&&Bo.disabledButton],onPress:()=>ne(S+1),disabled:(S+1)*_>=e.length,children:(0,w.jsx)(s.default,{style:Bo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Bo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Fo(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[n,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),{usuario:k,setUsuario:R}=v(),{modalEntradasDates:T,setModalEntradasDates:O}=$t(),{sortEntradas:D,setSortEntradas:P}=Fa(),[M,E]=(0,o.useState)(!1),$=(0,o.useRef)(new c.default.Value(0)).current,[A,L]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[B,F]=(0,o.useState)(""),[N,W]=(0,o.useState)(""),[U,V]=(0,o.useState)(!1),[H,q]=(0,o.useState)(""),[Y,K]=(0,o.useState)(""),[J,X]=(0,o.useState)(""),[Q,Z]=o.useState(!1),[ee,te]=o.useState(""),[ae,oe]=o.useState(!1),[re,ne]=(0,o.useState)(!1),[ie,se]=(0,o.useState)(!1),[le,de]=(0,o.useState)(""),[he,fe]=(0,o.useState)(!1),[ge,xe]=o.useState(!1),[pe,ye]=o.useState(!1),[we,me]=o.useState(!1),[je,be]=(0,o.useState)(null),[Ce,Se]=(0,o.useState)([]),Ie=()=>{M?c.default.timing($,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>E(!1))):(E(!0),c.default.timing($,{toValue:400,duration:300,useNativeDriver:!1}).start())},_e={height:$},[ke,Re]=(0,o.useState)([]),[Te,Oe]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[De,ze]=(0,o.useState)([]),[Pe,Me]=(0,o.useState)([]),[Ee,$e]=(0,o.useState)([]),Ae=new Date,Le=String(Ae.getFullYear()),Be=String(Ae.getMonth()+1).padStart(2,"0"),Fe=String(Ae.getDate()).padStart(2,"0"),[Ne,We]=(0,o.useState)(""),[Ue,Ve]=(0,o.useState)(""),[He,qe]=(0,o.useState)(""),[Ye,Ge]=(0,o.useState)(""),[Ke,Je]=(0,o.useState)(new Date),[Xe,Qe]=(0,o.useState)(new Date),[Ze,et]=(0,o.useState)("1"),[tt,at]=(0,o.useState)("1"),[ot,rt]=(0,o.useState)("2000"),[nt,it]=(0,o.useState)(String(parseInt(Fe))),[st,lt]=(0,o.useState)(String(parseInt(Be))),[dt,ct]=(0,o.useState)(String(parseInt(Le))),[ut,ht]=(0,o.useState)(!1),ft=()=>{F(""),W(""),W(""),O({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(k?.token&&T?.id_entrada){V(!1);const e=await Zt(k.token,T.id_entrada);e&&(L(e.id_tipo_servicio),F(e.nombre),W(e.costo),q(e.producto.id_producto),K(e.tienda.id_tienda),X(e.cantidad),V(!0))}})()}),[T]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(k?.token){const e=await ve(k.token,"20",k.id_usuario),t=await ve(k.token,"21",k.id_usuario),a=await ve(k.token,"22",k.id_usuario);xe(e),ye(a),me(t)}})(),await(async()=>{if(void 0!=k?.token)try{const e=await Qt(k.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({id_TipoServicio:e.id_tipo_servicio,nombre_TipoServicio:e.nombre,costo:e.costo}))));Re(t)}else console.log("No se encontraron Tipos de Servicios.")}catch(e){console.log("Error al obtener los Tipos de Servicios o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de lo Tipos de Servicios")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de las entradas")})()})(),()=>{})),[]));const[gt,xt]=(0,o.useState)(!1),pt=async()=>{ht(!0);try{if(k?.token){let e=await(async()=>{if(k?.token)try{const e=await oa(k.token,Ne,He,Ye);if(e)return await Promise.all(e.map((async e=>({id_TipoServicio:e.id_tipo_servicio,nombre_TipoServicio:e.nombre,costo:e.costo}))))}catch(e){return console.error("Error al filtrar los proveedoress:",e),null}return null})()||[];xt(!gt),Re(e)}}catch(e){console.error("Error al filtrar y ordenar los proovedores:",e)}finally{ht(!1)}};(0,o.useEffect)((()=>{pt()}),[Ze,tt,ot,nt,st,dt,D,je]);const yt=e=>{"Enter"===e.nativeEvent.key&&pt()},wt=()=>{We(""),Ve(""),qe(""),Ge(""),be("")},mt=async()=>{if(fe(!1),te("Agregando tipo de servicio. Espere por favor"),Z(!0),k?.token){let e=!0,t="ERROR AL INGRESAR TIPO DE SERVICIO. Por favor verifique los siguientes campos:\n";if(""===B.trim()&&(e=!1,t+="-El nombre del tipo de servicio no puede ser vacio.\n"),""===N.trim()&&(e=!1,t+="-El costo del tipo de servicio no puede ser vacio.\n"),e){await ea(k.token,B,N);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${k.nombre} agreg\xf3 un nuevo tipo de servicio: ${B} con un costo de ${N}`;await G(k.token,r,`${t}-${a}-${o}`,k.id_usuario,7),fe(!0),te(`Se ha creado el tipo de servicio ${B}`),Z(!0),oe(!0),F(""),W("")}else fe(!0),te(t),Z(!0)}},jt=async()=>{if(fe(!1),te("Modificando tipo de servicio. Espere por favor"),Z(!0),k?.token){let e=!0,t="ERROR AL MODIFICAR TIPO DE SERVICIO. Compruebe los siguientes campos:\n";if(""===B.trim()&&(e=!1,t+="-El nombre del tipo de servicio no puede ser vacio.\n"),""===N&&(e=!1,t+="-El costo del tipo de servicio no puede ser vacio.\n"),e){await ta(k.token,A,B,N);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${k.nombre} modific\xf3 el tipo de servicio: ${B} con un costo de ${N}`;await G(k.token,r,`${t}-${a}-${o}`,k.id_usuario,7),fe(!0),te("El tipo de servicio se modific\xf3 con \xe9xito"),Z(!0),oe(!0)}else fe(!0),te(t),Z(!0)}},bt=["Nombre","Cantidad"],Ct=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],St=["Tipo de Servicio","Costo"];return r?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:ge&&(0,w.jsx)(u.default,{onPress:()=>O({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Tipo de Servicio"})})}),(0,w.jsx)(i.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ie,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[ut?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Lo,{isMobile:r,items:ke,columns:St,columnasMyDateTableEntradaModal:Ct,columnasMyDateTableTiendaModal:bt,tiendasByProducto:Ce,proveedorByProducto:Te}),M&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},_e],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del tipo de Servicio:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del tipo de Servicio",value:Ne,onKeyPress:yt,onChangeText:We}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Costo:"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:He,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");qe(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:Ye,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ge(t)}})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",position:"relative",marginTop:"10%",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:wt,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>pt(),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:T?.isAddEntrada??!1,animationType:"fade",onRequestClose:ft,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:ft,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===T?.id_entrada?"Agregar Tipo de Servicio":"Datos del Tipo de Servicio"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsxs)(i.default,{style:{width:"100%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Tipo de Servicio"}),(0,w.jsx)(z,{style:p.textImputModal,value:B,onChangeText:e=>{F(e)},cursorColor:x.azul_Oscuro,editable:!!we,placeholder:"Nombre Tipo de Servicio"})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:N,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;W(a)},editable:!!we,placeholder:"Costo"})]}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[we&&""!==T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"43%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{se(!0),ne(!1),de("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este Tipo de Servicio?")},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Tipo de Servicio"})}),ge&&""===T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"43%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>mt(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Tipo de Servicio"})}),pe&&""!==T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"43%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{se(!0),ne(!0),de("\xbfEst\xe1s seguro que deseas ELIMINAR este Tipo de Servicio?"),O({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Tipo de Servicio"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ie,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:le}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>jt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>se(!ie),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>se(!ie),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Q,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ee}),he&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ae?e.replace("Tipo de Servicio"):Z(!Q),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:ge&&(0,w.jsx)(u.default,{onPress:()=>(V(!1),F(""),W("0"),O({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),new Date,void V(!0)),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===je&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Tipo de Servicio"})})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del tipo de Servicio:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del tipo de Servicio",value:Ne,onKeyPress:yt,onChangeText:We}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Costo:"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:He,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");qe(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:Ye,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ge(t)}})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",position:"relative",marginTop:"10%",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:wt,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>pt(),children:"Buscar"})})]})]}),ut?(0,w.jsx)(ue.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Lo,{isMobile:r,items:ke,columns:St,columnasMyDateTableEntradaModal:Ct,columnasMyDateTableTiendaModal:bt,tiendasByProducto:Ce,proveedorByProducto:Te})]}),(0,w.jsx)(f.default,{transparent:!0,visible:T?.isAddEntrada??!1,animationType:"fade",onRequestClose:ft,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:ft,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===T?.id_entrada?"Agregar Tipo de Servicio":"Datos del Tipo de Servicio"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsxs)(i.default,{style:{width:"100%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre Tipo de Servicio"}),(0,w.jsx)(z,{style:p.textImputModal,value:B,onChangeText:e=>{F(e)},cursorColor:x.azul_Oscuro,editable:!!we,placeholder:"Nombre Tipo de Servicio"})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:N,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;W(a)},editable:!!we,placeholder:"Costo"})]}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"}})]}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[we&&""!==T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{se(!0),ne(!1),de("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de este Tipo de Servicio?")},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Tipo de Servicio"})}),ge&&""===T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>mt(),children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Tipo de Servicio"})}),pe&&""!==T?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{se(!0),ne(!0),de("\xbfEst\xe1s seguro que deseas ELIMINAR este Tipo de Servicio?"),O({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Tipo de Servicio"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ie,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:le}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>re?(async()=>{if(fe(!1),te("Eliminando tipo de servicio. Espere por favor"),Z(!0),k?.token){let e=!0,t="ERROR AL ELIMINAR TIPO DE SERVICIO. Compruebe los siguientes par\xe1metros:\n";if(2!==parseInt(A)&&25!==parseInt(A)&&26!==parseInt(A)||(e=!1,t+="-No es posible eliminar este tipo de servicio ya que se usa en la l\xf3gica del software.\n"),e)if(await aa(k.token,A)){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${k.nombre} elimin\xf3 el tipo de servicio ${B}.`;await G(k.token,r,`${t}-${a}-${o}`,k.id_usuario,7),fe(!0),te("El tipo de servicio se elimin\xf3 con \xe9xito"),Z(!0),oe(!0),F(""),W("")}else te(t),Z(!0);else fe(!0),te(t),Z(!0)}})():jt(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>se(!ie),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>se(!ie),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Q,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ee}),he&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ae?e.replace("Tipo de Servicio"):Z(!Q),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}function No(){(0,b.useNavigation)();const{width:e}=(0,d.default)(),{usuario:t,setUsuario:a}=v(),[r,n]=o.useState(!1),[l,c]=(0,o.useState)("");(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{if(t?.token){const e=await Pe(t.token);c(e)}})(),()=>{})),[]));return(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",marginTop:"10%"},children:[(0,w.jsxs)(i.default,{style:{width:"20%",marginLeft:"40%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cambio de moneda de USD -> CUP"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:l,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;c(a)},placeholder:"Digite un n\xfamero"})]}),(0,w.jsx)(i.default,{style:{width:"20%",marginLeft:"41%"},children:(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"80%",height:30,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{(async()=>{t?.token&&(await Me(t.token,l),n(!0))})()},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Cambiar Moneda"})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:r,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:`Se ha cambiado el valor de la moneda a ${l}`}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n(!r),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const Wo=(0,o.createContext)(void 0),Uo=({children:e})=>{const[t,a]=(0,o.useState)(null);return(0,w.jsx)(Wo.Provider,{value:{sortClientes:t,setSortClientes:a},children:e})},Vo=()=>{const e=o.useContext(Wo);if(void 0===e)throw new Error("useSortEntradas debe usarse dentro de un SortClientes");return e},Ho=({items:e,columns:t,isMobile:r})=>{const n=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalProveedoresDates:g,setModalProveedoresDates:p}=Aa(),{sortProductos:y,setSortProductos:m}=be(),{usuario:j,setUsuario:C}=v(),{sortClientes:S,setSortClientes:I}=Vo(),_=r?qo.containerMovil:qo.containerDesktop,[k,R]=o.useState(0),[T,O]=o.useState(20),[D,P]=o.useState([]),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(!1),[V,H]=o.useState(""),q=["Nombre"],[Y,G]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),K=e=>{p({id_proveedor:e,isAddProveedor:!0,fileEditable:!1,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0})},[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ne]=o.useState(!1),[ie,se]=o.useState("");o.useEffect((()=>{(async()=>{if(j?.token){const e=await ve(j.token,"7",j.id_usuario),t=await ve(j.token,"8",j.id_usuario),a=await ve(j.token,"30",j.id_usuario),o=await ve(j.token,"31",j.id_usuario);Z(e),te(t),oe(a),ne(o),X(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=k*T,a=Math.min((k+1)*T,e.length);P([]),setTimeout((()=>{P(e.slice(t,a))}),0)}),[k,e,T]);const le=t=>{t>=0&&t*T<e.length&&R(t)},de=()=>(0,w.jsx)(xe.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(xe.default.Title,{style:[qo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?qo.headerTextMovil:qo.headerTextDesktop,children:[t,"Nombre"===t&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre"===t&&(a="option3"),I({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[ce,ue]=o.useState(""),[he,fe]=o.useState(""),ge=e=>{ue(e),E(!M)},pe=e=>{if(fe(e),E(!M),"Modificar"===e){if(p({id_proveedor:ce,isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!0,isAddProductoShowProveedoresTiendas:!0,isDetallesProveedores:!0}),j?.token){}}else"Eliminar"===e?B(!L):"Mover"==e&&N(!F)},ye=async()=>{if(j?.token){if(0==await ze(j.token,ce,j.id_tienda)){return!!await Ge(j.token,ce)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(i.default,{style:_,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(xe.default,{style:{width:"150%"},children:[de(),D.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>K(e.id_Cliente),style:{justifyContent:"space-around"},children:[(0,w.jsx)(xe.default.Cell,{style:[qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(xe.default.Cell,{style:[qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.cif})}),(0,w.jsx)(xe.default.Cell,{style:[qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.detalle_bancario}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.telefono})})]},e.id_Cliente))),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",onRequestClose:()=>ge(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(re||ae)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>ge(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[ce,he]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await ye();if(B(!L),e){const e=D.filter((e=>e.id_Cliente!==ce));P(e),H("Producto eliminado con \xe9xito"),U(!0)}else H("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),U(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>B(!L),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:ie,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");se(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Bt,{columns:q,items:Y})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>N(!F),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:qo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[qo.paginationButtonMovil,0===k&&qo.disabledButton],onPress:()=>le(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:qo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:qo.paginationLabel,children:`${k*T+1}-${Math.min((k+1)*T,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[qo.paginationButtonMovil,(k+1)*T>=e.length&&qo.disabledButton],onPress:()=>le(k+1),disabled:(k+1)*T>=e.length,children:(0,w.jsx)(s.default,{style:qo.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(i.default,{style:_,children:(0,w.jsxs)(xe.default,{children:[de(),D.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>K(e.id_Cliente),children:[(0,w.jsx)(xe.default.Cell,{style:qo.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.nombre})}),(0,w.jsx)(xe.default.Cell,{style:qo.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.cif})}),(0,w.jsx)(xe.default.Cell,{style:qo.handerRow,children:(0,w.jsx)(s.default,{style:{textAlign:"center",textAlignVertical:"center",width:"100%",flexWrap:"wrap"},numberOfLines:2,children:e.correo})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.detalle_bancario}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:{flex:1.5,justifyContent:"center",alignItems:"center",width:"100%"},children:(0,w.jsx)(s.default,{children:e.telefono})})]},e.id_Cliente))),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:qo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[qo.paginationButtonDesktop,0===k&&qo.disabledButton],onPress:()=>le(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:qo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:qo.paginationLabel,children:`${k*T+1}-${Math.min((k+1)*T,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[qo.paginationButtonDesktop,(k+1)*T>=e.length&&qo.disabledButton],onPress:()=>le(k+1),disabled:(k+1)*T>=e.length,children:(0,w.jsx)(s.default,{style:qo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},qo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:16,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Yo(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,{usuario:n,setUsuario:g}=v(),{sortClientes:m,setSortClientes:j}=Vo(),{modalProveedoresDates:C,setModalProveedoresDates:S}=Aa(),[I,_]=(0,o.useState)(!1),k=(0,o.useRef)(new c.default.Value(0)).current,[R,T]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[O,D]=(0,o.useState)(""),[P,M]=(0,o.useState)(""),[E,$]=(0,o.useState)(""),[A,L]=(0,o.useState)(""),[B,F]=(0,o.useState)(""),[N,W]=(0,o.useState)(""),[U,V]=(0,o.useState)(""),[H,q]=o.useState(!1),[Y,K]=o.useState(""),[J,X]=o.useState(!1),[Q,Z]=(0,o.useState)(!1),[ee,te]=(0,o.useState)(!1),[ae,oe]=(0,o.useState)(""),[re,ne]=(0,o.useState)(!1),[ie,se]=(0,o.useState)(!1),[le,de]=o.useState(!1),[he,fe]=o.useState(!1),[ge,xe]=o.useState(!1),[pe,ye]=(0,o.useState)(null),[we,me]=(0,o.useState)([]),je=()=>{I?c.default.timing(k,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>_(!1))):(_(!0),c.default.timing(k,{toValue:400,duration:300,useNativeDriver:!1}).start())},be={height:k},[Ce,Se]=(0,o.useState)([]),[_e,ke]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Re,Te]=(0,o.useState)([]),[Oe,De]=(0,o.useState)(""),[ze,Pe]=(0,o.useState)(""),[Me,Ee]=(0,o.useState)(""),[$e,Ae]=(0,o.useState)(""),[Le,Be]=(0,o.useState)(!1),Fe=()=>{D(""),W(""),L(""),$(""),F(""),M(""),V(""),S({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})};(0,o.useEffect)((()=>{Ve()}),[pe,m]),(0,o.useEffect)((()=>{(async()=>{if(n?.token&&C?.id_proveedor){const e=await na(n.token,C.id_proveedor);e&&(T(C.id_proveedor),D(e.nombre),M(e.email||""),F(e.descripcion||""),$(e.telefono||""),L(e.nota||""),W(e.Cif||""),V(e.detalles_bancarios||""))}})()}),[C]);const Ne=e=>{"Enter"===e.nativeEvent.key&&Ve()};(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(n?.token){if(null===localStorage.getItem("resultAgregarClienteView")){const e=await ve(n.token,"16",n.id_usuario);de(e),localStorage.setItem("resultAgregarClienteView",e)}else de(Boolean(localStorage.getItem("resultAgregarClienteView")));if(null===localStorage.getItem("resultEliminarClienteView")){const e=await ve(n.token,"18",n.id_usuario);fe(e),localStorage.setItem("resultEliminarClienteView",e)}else fe(Boolean(localStorage.getItem("resultEliminarClienteView")));if(null===localStorage.getItem("resultModificarClienteView")){const e=await ve(n.token,"17",n.id_usuario);xe(e),localStorage.setItem("resultModificarClienteView",e)}else xe(Boolean(localStorage.getItem("resultModificarClienteView")))}})(),await(async()=>{if(void 0!=n?.token)try{const e=await ra(n.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({id_Cliente:e.id_cliente,nombre:e.nombre,correo:e.email||"",detalle_bancario:e.detalles_bancarios||"",telefono:e.telefono||"",nota:e.nota||"",cif:e.Cif||"",descripcion:e.descripcion||""}))));Se(t)}else console.log("No se encontraron proveedoress.")}catch(e){console.log("Error al obtener los proveedores o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de los proveedores")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de los proovedores")})(),(async()=>{if(void 0!=n?.token){const e=await Ie(n.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Te([{label:"Tiendas",value:""},...t])}}})()})(),()=>{})),[]));const[We,Ue]=(0,o.useState)(!1),Ve=async()=>{Be(!0);try{if(n?.token){let e=await(async()=>{if(n?.token)try{const e=await da(n.token,Oe,Me,ze,$e);if(e)return await Promise.all(e.map((async e=>({id_Proveedor:e.id_proveedor,nombre:e.nombre,correo:e.email||"",direccion:e.direccion||"",telefono:e.telefono||"",nota:e.nota||"",cif:e.Cif||"",detalle_bancario:e.detalles_bancarios||"",descripcion:e.descripcion||""}))))}catch(e){return console.error("Error al filtrar los proveedoress:",e),null}return null})()||[];Ue(!We),m?.criterioOrden&&m.tipoOrden&&(e=await ca(n.token,e,m.criterioOrden,We)),Se(e)}}catch(e){console.error("Error al filtrar y ordenar los proovedores:",e)}finally{Be(!1)}},He=()=>{D(""),M(""),F(""),$(""),L(""),S({id_proveedor:"",isAddProveedor:!0,fileEditable:!0,isModificarProveedor:!1,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},qe=()=>{De(""),Pe(""),Ae(""),Ee(""),ye("")},Ye=async()=>{if(!ie){if(se(!0),ne(!1),K("Agregando cliente. Espere por favor"),q(!0),n?.token){let e=!0,t="ERROR AL AGREGAR CLIENTE. Por favor verifique los siguientes campos:\n";if(""===O.trim()&&(t+="-El nombre del cliente no puede ser vac\xedo",e=!1),e){await ia(n.token,O,P,E,B,A,N,U);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${n.nombre} agreg\xf3 al sistema al cliente ${O}`;await G(n.token,r,`${t}-${a}-${o}`,n.id_usuario,8),ne(!0),K(`El Cliente "${O}" fue insertado con \xe9xito`),q(!0),X(!0),D(""),$(""),M(""),F(""),L(""),W(""),V("")}else ne(!0),K(t),q(!0)}se(!1)}},Ge=async()=>{if(!ie){if(se(!0),ne(!1),K("Modificando cliente. Espere por favor"),q(!0),n?.token){let e=!0,t="ERROR AL MODIFICAR CLIENTE. Compruebe los siguientes campos:\n";if(""===O.trim()&&(e=!1,t+="-El nombre del cliente no puede ser vac\xedo"),1===parseInt(R)&&(e=!1,t+="-No se puede modificar al cliente An\xf3nimo ya que se usa en la l\xf3gica del software"),e){await sa(n.token,R,O,P,E,B,A,N,U);const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${n.nombre} modific\xf3 al cliente ${O}`;await G(n.token,r,`${t}-${a}-${o}`,n.id_usuario,8),ne(!0),K(`El Cliente "${O}" se modific\xf3 con \xe9xito`),q(!0),X(!0)}else ne(!0),K(t),q(!0)}se(!1)}},Ke=async()=>{if(!ie){if(se(!0),ne(!1),K("Eliminando cliente. Espere por favor"),q(!0),n?.token){let e=!0,t="ERROR AL TRATAR DE ELIMINAR EL CLIENTE. Motivos:\n";if(1===parseInt(R)&&(e=!1,t+="-No se puede eliminar al cliente An\xf3nimo ya que se usa en la l\xf3gica del software"),e){if(await la(n.token,R)){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");let r=`El usuario ${n.nombre} elimin\xf3 al cliente ${O}`;await G(n.token,r,`${t}-${a}-${o}`,n.id_usuario,8),ne(!0),K(`El Cliente "${O}" se elimin\xf3 con \xe9xito`),q(!0),X(!0)}else ne(!0),t+="-Ya se han echo operaciones en el sistema con este cliente.\n",K(t),q(!0)}else ne(!0),K(t),q(!0)}se(!1)}},Je=["Producto","Cantidad","Costo","Fecha"],Xe=["Nombre","CIF / CI","Correo","Detalle Bancario","Tel\xe9fono"],Qe=r?["Nombre","Correo","Detalle Bancario","telefono"]:["Nombre","CIF / CI","Correo","Detalle Bancario","Tel\xe9fono"];return r?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:le&&(0,w.jsx)(u.default,{onPress:()=>He(),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Cliente"})})}),(0,w.jsx)(i.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:je,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[Le?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Ho,{isMobile:r,items:Ce,columns:Qe,columnasMyDateTableProveedorModal:Xe,columnasMyDateTableTiendaModal:Je,tiendasByProducto:[],proveedorByProducto:_e}),I&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},be],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Nombre del Cliente:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullMovil,placeholder:"Nombre del cliente",onKeyPress:Ne,value:Oe,onChangeText:De}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"CIF / Carnet Identidad:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullMovil,placeholder:"CIF / Carnet Identidad",value:ze,onKeyPress:Ne,onChangeText:Pe}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Detalles Bancarios:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullMovil,placeholder:"Detalles Bancarios",onKeyPress:Ne,value:$e,onChangeText:Ae}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullMovil,placeholder:"N\xfamero de Tel\xe9fono",value:Me,onKeyPress:Ne,onChangeText:Ee}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:qe,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{Ve(),_(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:C?.isAddProveedor??!1,animationType:"fade",onRequestClose:Fe,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:"95%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Fe,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:C?.isModificarProveedor?"Modificar Producto":C?.isAddProductoShowProveedoresTiendas?"Datos del Proveedor":"Agregar Proveedor"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ge,value:O,onChangeText:D,placeholder:"Nombre del cliente"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:E,onChangeText:$,editable:!!ge,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"C\xf3digo de Identificaci\xf3n Fiscal (CIF)"}),(0,w.jsx)(z,{style:p.textImputModal,value:N,onChangeText:W,cursorColor:x.azul_Oscuro,editable:!!ge,placeholder:"C\xf3digo de Identificaci\xf3n Fiscal"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:P,onChangeText:M,editable:!!ge,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(z,{style:p.textImputModal,value:U,onChangeText:V,cursorColor:x.azul_Oscuro,editable:!!ge,placeholder:"Detalles Bancarios"})]})]}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"})}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ge,value:A,onChangeText:L,placeholder:"Nota"}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(z,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del cliente",multiline:!0,editable:!!ge,numberOfLines:5,value:B,onChangeText:F,scrollEnabled:!0}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[ge&&C?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Z(!0),te(!1),oe(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos cliente ${O}?`)},disabled:ie,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Cliente"})}),he&&C?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Z(!0),oe(`\xbfEst\xe1s seguro que deseas ELIMINAR al cliente ${O}?`),te(!0),S({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},disabled:ie,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Cliente"})}),le&&""===C?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Ye(),disabled:ie,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Cliente"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Q,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ae}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ee?Ke():Ge(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Z(!Q),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Z(!Q),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:H,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Y}),re&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>J?e.replace("Clientes"):q(!H),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:(le||ge||he)&&(0,w.jsx)(u.default,{onPress:()=>He(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===pe&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Cliente"})})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Cliente",value:Oe,onKeyPress:Ne,onChangeText:De}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"CIF / Carnet Identidad:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"CIF / Carnet Identidad",value:ze,onKeyPress:Ne,onChangeText:Pe}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Detalles Bancarios:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Detalles Bancarios",value:$e,onKeyPress:Ne,onChangeText:Ae}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"N\xfamero de Tel\xe9fono:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"N\xfamero de Tel\xe9fono",value:Me,onKeyPress:Ne,onChangeText:Ee}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",marginTop:"5%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:qe,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Ve(),children:"Buscar"})})]})]}),Le?(0,w.jsx)(ue.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Ho,{isMobile:r,items:Ce,columns:Qe,columnasMyDateTableProveedorModal:Xe,columnasMyDateTableTiendaModal:Je,tiendasByProducto:[],proveedorByProducto:_e})]}),(0,w.jsx)(f.default,{transparent:!0,visible:C?.isAddProveedor??!1,animationType:"fade",onRequestClose:Fe,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Fe,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:C?.isModificarProveedor?"Modificar Producto":C?.isAddProductoShowProveedoresTiendas?"Datos del Cliente":"Agregar Cliente"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ge,value:O,onChangeText:D,placeholder:"Nombre del cliente"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"N\xfamero de Tel\xe9fono"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:E,onChangeText:$,editable:!!ge,placeholder:"N\xfamero de Tel\xe9fono"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"C\xf3digo de Identificaci\xf3n Fiscal (CIF)"}),(0,w.jsx)(z,{style:p.textImputModal,value:N,onChangeText:W,cursorColor:x.azul_Oscuro,editable:!!ge,placeholder:"C\xf3digo de Identificaci\xf3n Fiscal"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Correo Electr\xf3nico"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:P,onChangeText:M,editable:!!ge,placeholder:"Correo Electr\xf3nico"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Detalles Bancarios"}),(0,w.jsx)(z,{style:p.textImputModal,value:U,onChangeText:V,cursorColor:x.azul_Oscuro,editable:!!ge,placeholder:"Detalles Bancarios"})]})]}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"flex-start"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"})}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,editable:!!ge,value:A,onChangeText:L,placeholder:"Nota"}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(z,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del cliente",multiline:!0,editable:!!ge,numberOfLines:5,value:B,onChangeText:F,scrollEnabled:!0}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[ge&&C?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Z(!0),te(!1),oe(`\xbfEst\xe1s seguro que deseas MODIFICAR los datos cliente ${O}?`)},disabled:ie,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Cliente"})}),he&&C?.isDetallesProveedores&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Z(!0),oe(`\xbfEst\xe1s seguro que deseas ELIMINAR al cliente ${O}?`),te(!0),S({id_proveedor:"",isAddProveedor:!1,isModificarProveedor:!1,fileEditable:!0,isAddProductoShowProveedoresTiendas:!1,isDetallesProveedores:!1})},disabled:ie,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Cliente"})}),le&&""===C?.id_proveedor&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>Ye(),disabled:ie,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Cliente"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Q,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ae}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>ee?Ke():Ge(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Z(!Q),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Z(!Q),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:H,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Y}),re&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>J?e.replace("Clientes"):q(!H),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const Go=({items:e,columns:t,isMobile:r})=>{const n=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=$t(),{usuario:y,setUsuario:m}=v(),{sortServicios:j,setSortServicios:C}=Ut(),S=r?Ko.containerMovil:Ko.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(20),[T,O]=o.useState([]),[D,P]=o.useState(!1),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(0),[V,H]=o.useState(""),q=["Nombre"],[Y,G]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),K=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ne]=o.useState(!1),[ie,se]=o.useState("");o.useEffect((()=>{(async()=>{y?.token&&U(await Pe(y.token))})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const le=t=>{t>=0&&t*k<e.length&&_(t)},de=()=>(0,w.jsx)(xe.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(xe.default.Title,{style:[Ko.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?Ko.headerTextMovil:Ko.headerTextDesktop,children:[t,("Nombre Cliente"===t||"Precio"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Fecha"===t?a="option3":"Nombre Cliente"===t?a="option4":"Precio"===t&&(a="option5"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[ce,ue]=o.useState(""),[he,fe]=o.useState(""),ge=e=>{ue(e),P(!D)},pe=e=>{if(fe(e),P(!D),"Modificar"===e){if(p({id_entrada:ce,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?A(!$):"Mover"==e&&B(!L)},ye=async()=>{if(y?.token){if(0==await ze(y.token,ce,y.id_tienda)){return!!await Ge(y.token,ce)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(i.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(xe.default,{style:{width:"150%"},children:[de(),T.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>K(e.id_Garantia),style:{justifyContent:"space-around"},children:[(0,w.jsx)(xe.default.Cell,{style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(xe.default.Cell,{style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.duracion}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:parseFloat(e.precio).toFixed(4)})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*W).toFixed(0)})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.cantidad?e.cantidad:""})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Garantia))),(0,w.jsx)(f.default,{transparent:!0,visible:D,animationType:"fade",onRequestClose:()=>ge(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(re||ae)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{pe("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>ge(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[ce,he]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await ye();if(A(!$),e){const e=T.filter((e=>e.id_Cliente!==ce));O(e),H("Producto eliminado con \xe9xito"),N(!0)}else H("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),N(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!$),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:ie,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");se(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Bt,{columns:q,items:Y})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Servicios"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:Ko.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ko.paginationButtonMovil,0===I&&Ko.disabledButton],onPress:()=>le(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Ko.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ko.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Ko.paginationButtonMovil,(I+1)*k>=e.length&&Ko.disabledButton],onPress:()=>le(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Ko.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(i.default,{style:S,children:(0,w.jsxs)(xe.default,{children:[de(),T.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>K(e.id_Garantia),children:[(0,w.jsx)(xe.default.Cell,{style:Ko.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(xe.default.Cell,{style:Ko.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.duracion}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:parseFloat(e.precio).toFixed(4)})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*W).toFixed(0)})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.cantidad?e.cantidad:""})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Ko.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Garantia))),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:Ko.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Ko.paginationButtonDesktop,0===I&&Ko.disabledButton],onPress:()=>le(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Ko.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Ko.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Ko.paginationButtonDesktop,(I+1)*k>=e.length&&Ko.disabledButton],onPress:()=>le(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Ko.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Ko=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function Jo(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[n,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),[k,R]=(0,o.useState)(1e3),[T,O]=(0,o.useState)(1e3),[D,P]=(0,o.useState)(1e3),[M,E]=(0,o.useState)(1e3),[$,A]=(0,o.useState)(1e3),L=e=>{"FechaDetails"===e?(g(2e3),j(1500)):"TiendaDetails"===e||"TipoServicioDetails"===e?(j(2e3),g(1500),_(1500),S(2e3),R(1500)):"ProductoDetails"===e?(j(1500),g(1500),_(2e3),S(1500),R(1500)):"ClienteDetails"===e&&(R(2e3),j(1500),g(1500),_(1500),S(1500)),"FechaDesdeSearsh"===e?(O(2e3),P(1500),A(1500),E(1500)):"FechaHastaSearsh"===e?(O(1500),P(2e3),A(1500),E(1500)):"TipoServicioSearsh"===e?(O(1500),P(1500),A(1500),E(2e3)):"TiendaSearsh"===e&&(O(1500),P(1500),A(2e3),E(1500))},{usuario:B,setUsuario:F}=v(),{modalEntradasDates:N,setModalEntradasDates:W}=$t(),{sortServicios:U,setSortServicios:V}=Ut(),[H,q]=(0,o.useState)(!1),Y=(0,o.useRef)(new c.default.Value(0)).current,[G,K]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)(0)),[J,X]=(0,o.useState)(""),[Q,Z]=(0,o.useState)(!1),[ee,te]=(0,o.useState)(""),[ae,oe]=(0,o.useState)(""),[ne,ie]=(0,o.useState)(""),[se,le]=(0,o.useState)(""),[de,he]=(0,o.useState)(""),[fe,xe]=(0,o.useState)(""),[pe,ye]=(0,o.useState)("1"),[we,me]=(0,o.useState)("0"),[je,be]=(0,o.useState)("0"),[Ce,Se]=(0,o.useState)(""),[_e,ke]=(0,o.useState)("sin Devolver"),[Re,Te]=(0,o.useState)(""),[Oe,De]=(0,o.useState)(""),[ze,Me]=(0,o.useState)(""),[Ee,$e]=(0,o.useState)(""),[Ae,Fe]=(0,o.useState)(""),[Ne,We]=(0,o.useState)(""),[Ue,Ve]=(0,o.useState)(""),[He,qe]=(0,o.useState)(""),[Ye,Ge]=(0,o.useState)(""),[Ke,Je]=(0,o.useState)(""),[Xe,Qe]=(0,o.useState)(""),[Ze,et]=(0,o.useState)(""),[tt,at]=(0,o.useState)("sin Devolver"),[ot,rt]=(0,o.useState)(!1),[nt,it]=(0,o.useState)(""),[st,lt]=(0,o.useState)(""),[dt,ct]=(0,o.useState)(""),[ut,ht]=(0,o.useState)(!1),[ft,gt]=o.useState(!1),[xt,pt]=o.useState(""),[yt,wt]=o.useState(!1),[mt,jt]=(0,o.useState)(!1),[bt,Ct]=(0,o.useState)(!1),[St,vt]=(0,o.useState)(!1),[It,_t]=(0,o.useState)(""),[kt,Rt]=o.useState(!1),[Ot,Dt]=(0,o.useState)(!1),[zt,Pt]=(0,o.useState)(null),[Mt,Et]=(0,o.useState)([]),Lt=()=>{H?c.default.timing(Y,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>q(!1))):(q(!0),c.default.timing(Y,{toValue:400,duration:300,useNativeDriver:!1}).start())},Bt={height:Y},[Ft,Nt]=(0,o.useState)([]),[Wt,Vt]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[Ht,qt]=(0,o.useState)([]),[Yt,Gt]=(0,o.useState)(String),[Kt,Jt]=(0,o.useState)([]),[Zt,ea]=(0,o.useState)([]),ta=new Date,aa=String(ta.getFullYear()),oa=String(ta.getMonth()+1).padStart(2,"0"),na=String(ta.getDate()).padStart(2,"0"),[ia,sa]=(0,o.useState)(""),[la,da]=(0,o.useState)(""),[ca,ua]=(0,o.useState)(""),[ha,ga]=(0,o.useState)(""),[xa,ya]=(0,o.useState)(""),[ba,Ca]=(0,o.useState)(""),[Sa,va]=(0,o.useState)(""),[Ia,_a]=(0,o.useState)(""),[ka,Ra]=(0,o.useState)("1"),[Ta,Oa]=(0,o.useState)("1"),[Da,za]=(0,o.useState)("2024"),[Pa,Ma]=(0,o.useState)(String(parseInt(na))),[Ea,$a]=(0,o.useState)(String(parseInt(oa))),[Aa,La]=(0,o.useState)(String(parseInt(aa))),[Ba,Fa]=(0,o.useState)(""),Na=[{label:"D\xeda",value:"dia"},{label:"Semana",value:"semana"},{label:"Mes",value:"mes"}],Wa=e=>{Fa(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let n="";if("dia"===e)n=`${a}-${o}-${r}`;else if("semana"===e){const e=new Date(t);e.setDate(t.getDate()-6);n=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("mes"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setMonth(t.getMonth()-1);n=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}Ga(n,`${a}-${o}-${r}`)},[Ua,Va]=(0,o.useState)(!1),Ha=()=>{ie(""),Se(""),ye(""),he(""),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(Z(!1),B?.token&&N?.id_entrada){rt(!1);const e=await pa(B.token,N.id_entrada);if(e){const[t,a,o]=e.servicio.fecha.split("T")[0].split("-");if(te(e.servicio.id_servicio),oe(e.id_garantia),ie(e.servicio.cliente.id_cliente),he(e.servicio.tipo_servicio.id_tipo_servicio),De(e.servicio.nota),Me(e.servicio.descripcion),ke(e.servicio.devuelto?"devolver":"sin devolver"),Ve(e.duracion),at(e.servicio.devuelto?"devolver":"sin devolver"),2===parseInt(e.servicio.tipo_servicio.id_tipo_servicio)||4===parseInt(e.servicio.tipo_servicio.id_tipo_servicio)||25===parseInt(e.servicio.tipo_servicio.id_tipo_servicio)){const t=await fa(B.token,e.servicio.id_servicio);t?(await re(B?.token,t.producto.id_producto),await Le(B.token,t.producto.id_producto),ht(!0),Gt(t.producto.nombre),xe(t.producto.id_producto),ye(t.cantidad),le(e.servicio.tienda.id_tienda),Se(e.servicio.precio),Te(String(parseFloat(e.servicio.precio)*G)),be(e.producto.costo_acumulado)):(ht(!0),xe(""),ye(""),le(""),Se(""),Te(""),be(""))}else ht(!1),Se(e.servicio.precio),Te(String(parseInt(e.servicio.precio)*G)),be(e.servicio.costo);$e(String(parseInt(o))),Fe(String(parseInt(a))),We(String(parseInt(t))),rt(!0)}}Z(!0)})()}),[N]),(0,o.useEffect)((()=>{"PrecioCUP"===He?(Se(parseFloat(Ce).toFixed(4)),qe("")):"PrecioUSD"===He?(Te(parseFloat(Re).toFixed(0)),qe("")):"CostoCUP"===He?(be(parseFloat(je).toFixed(4)),qe("")):"CostoUSD"===He&&(me(parseFloat(we).toFixed(0)),qe("")),qe("")}),[He]),(0,o.useEffect)((()=>{if(Q)if(""!==fe&&fe!==J&&B?.token){X(fe);(async()=>{const e=await Be(B.token,fe);be(e.costo_acumulado),Se(e.precio??0),Te(String(parseFloat(e.precio)*G)??0)})()}else X(fe)}),[fe]),(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{Z(!1),await(async()=>{if(B?.token){const e=await ve(B.token,"33",B.id_usuario);K(await Pe(B.token)),Rt(e)}})(),await(async()=>{if(void 0!=B?.token){const e=await Qt(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_tipo_servicio}))));ea([{label:"Todos los tipos de servicios",value:""},...t])}}})(),await(async()=>{if(void 0!=B?.token){const e=await ra(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_cliente}))));qt(t)}}})(),await(async()=>{if(void 0!=B?.token){const e=await Ie(B.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Jt([{label:"Todas las tiendas",value:""},...t])}}})()})(),()=>{})),[]));const[qa,Ya]=(0,o.useState)(!1),Ga=async(e,t)=>{Va(!0);try{if(B?.token){let a=await(async(e,t)=>{if(B?.token)try{const a=await ja(B.token,ia,Ia,Sa,la,e,t,ha);if(a)return await Promise.all(a.map((async e=>({id_Servicio:e.servicio.id_servicio,id_Cliente:e.servicio.cliente.id_cliente,id_Tienda:e.servicio.tienda.id_tienda,id_Tipo_servicio:"",id_Deuda:"",id_Garantia:e.id_garantia,fecha:e.servicio.fecha,precio:e.servicio.precio,nota:e.servicio.nota,descripcion:e.servicio.descripcion,nombreCliente:e.servicio.cliente.nombre,nombreTienda:e.servicio.tienda.nombre,nombreTipoServicio:"",nombreProducto:e.servicio.venta?e.servicio.venta.producto.nombre:"",cantidad:e.servicio.venta?e.servicio.venta.cantidad:"",devuelto:e.servicio.devuelto,duracion:e.duracion}))))}catch(a){return console.error("Error al filtrar los proveedoress:",a),null}return null})(e,t)||[];Ya(!qa),a=U?.criterioOrden&&U.tipoOrden?await Xt(B.token,a,U.criterioOrden,qa):await Xt(B.token,a,"option3",qa),Nt(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{Va(!1)}};(0,o.useEffect)((()=>{Ga(`${Da}-${Ta}-${ka}`,`${Aa}-${Ea}-${Pa}`)}),[U,zt]),(0,o.useEffect)((()=>{Fa("")}),[ka,Ta,Da,Pa,Ea,Aa]);const Ka=e=>{"Enter"===e.nativeEvent.key&&Ga(`${Da}-${Ta}-${ka}`,`${Aa}-${Ea}-${Pa}`)},Ja=()=>{sa(""),Pt(""),ga(""),ua(""),ya(""),Ca(""),Fa("")},Xa=async()=>{if(jt(!1),pt("Modificando garant\xeda. Espere por favor"),gt(!0),B?.token){let e=!0,t="ERROR AL MODIFICAR EL GARANT\xcdA. Compruebe los siguientes campos:\n";""===Ue&&(e=!1,t+="-Defina la duraci\xf3n de la garant\xeda.\n"),e?(await wa(B.token,Ue,ee,ae),jt(!0),pt("La garant\xeda se modific\xf3 con \xe9xito"),gt(!0),wt(!0)):(jt(!0),pt(t),gt(!0))}},Qa=async()=>{if(jt(!1),pt("Eliminando servicio. Espere por favor"),gt(!0),B?.token){let e="ERROR AL ELIMINAR SERVICIO. Compruebe los siguientes par\xe1metros:\n";!0?(await ma(B.token,ae),jt(!0),pt("La garant\xeda se elimin\xf3 con \xe9xito"),gt(!0),wt(!0),Ve(""),ie(""),Se(""),Te(""),ye(""),be(""),he(""),ye(""),De(""),Me(""),W({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1})):(jt(!0),pt(e),gt(!0))}},Za=["Nombre","Cantidad"],eo=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],to=["Cliente","Tienda","Duraci\xf3n","USD","CUP","Producto","Cantidad","Fecha"];return r?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsx)(i.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Lt,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[Ua?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Go,{isMobile:r,items:Ft,columns:to,columnasMyDateTableEntradaModal:eo,columnasMyDateTableTiendaModal:Za,tiendasByProducto:Mt,proveedorByProducto:Wt}),H&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Bt],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:la,onKeyPress:Ka,onChangeText:da}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:ia,onKeyPress:Ka,onChangeText:sa}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:$,position:"relative"},children:(0,w.jsx)(ge,{value:ha,placeholder:"Seleccione un tienda",setValue:ga,items:Kt,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaSearsh")})}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Duraci\xf3n en Dias"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:Sa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");va(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:Ia,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");_a(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(i.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Na.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:Ba===e.value,onPress:()=>Wa(e.value)},e.value)))}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:T},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(At,{dayValue:ka,monthValue:Ta,yearValue:Da,onDayChange:Ra,onMonthChange:Oa,onYearChange:za,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:D},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(At,{dayValue:Pa,monthValue:Ea,yearValue:Aa,onDayChange:Ma,onMonthChange:$a,onYearChange:La,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ja,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Ga(`${Da}-${Ta}-${ka}`,`${Aa}-${Ea}-${Pa}`),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:N?.isAddEntrada??!1,animationType:"fade",onRequestClose:Ha,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(i.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ha,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===N?.id_entrada?"Crear Servicio":"Datos del Servicio"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Ht.find((e=>e.value===ne))?.label||"Cliente no encontrado"})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Kt.find((e=>e.value===se))?.label||"Tienda no encontrado"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Zt.find((e=>e.value===de))?.label||"Tipo de Servicio no encontrado"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:100},children:(0,w.jsxs)(i.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Duraci\xf3n en d\xedas:"}),(0,w.jsx)(z,{style:p.textImputModal,value:Ue,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ve(t)},cursorColor:x.azul_Oscuro,editable:kt,placeholder:"Duracion En d\xedas"})]})}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C}})]}),ut&&(0,w.jsx)(i.default,{style:p.separatorNegro}),ut&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),ut&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Yt})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[ut&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:pe})]}),ut&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ut?"Costo promedio del producto en USD":"Costo del servicio en USD"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:je})]}),!ut&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:je})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ut?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Ce})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ut?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:parseFloat(Ce)*G})]})]}),ut&&(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsxs)(i.default,{style:{width:"100%",marginLeft:"2%",paddingHorizontal:10,zIndex:n},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),ot&&(0,w.jsx)(At,{dayValue:Ee,monthValue:Ae,yearValue:Ne,onDayChange:$e,onMonthChange:Fe,onYearChange:We,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!0})]}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:n},children:(0,w.jsxs)(i.default,{style:{width:"100%",marginLeft:"2%",marginTop:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Oe})]})}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(s.default,{style:p.textDescroptionLabelAsInput,children:ze}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[kt&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"35%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{vt(!0),Ct(!1),_t("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta garant\xeda?")},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Garant\xeda"})}),kt&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"35%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{vt(!0),Ct(!0),_t("\xbfEst\xe1s seguro que deseas ELIMINAR esta garant\xeda?"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Garant\xeda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:St,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:It}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>bt?Qa():Xa(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>vt(!St),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>vt(!St),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ft,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:xt}),mt&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>yt?e.replace("Garant\xedas"):gt(!ft),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"}}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:la,onKeyPress:Ka,onChangeText:da}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:ia,onKeyPress:Ka,onChangeText:sa}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:$,position:"relative"},children:(0,w.jsx)(ge,{value:ha,placeholder:"Seleccione un tienda",setValue:ga,items:Kt,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaSearsh")})}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Duraci\xf3n en Dias"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:Sa,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");va(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:Ia,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");_a(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(i.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Na.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:Ba===e.value,onPress:()=>Wa(e.value)},e.value)))}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:T},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(At,{dayValue:ka,monthValue:Ta,yearValue:Da,onDayChange:Ra,onMonthChange:Oa,onYearChange:za,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:D},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(At,{dayValue:Pa,monthValue:Ea,yearValue:Aa,onDayChange:Ma,onMonthChange:$a,onYearChange:La,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Ja,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>Ga(`${Da}-${Ta}-${ka}`,`${Aa}-${Ea}-${Pa}`),children:"Buscar"})})]})]}),Ua?(0,w.jsx)(ue.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Go,{isMobile:r,items:Ft,columns:to,columnasMyDateTableEntradaModal:eo,columnasMyDateTableTiendaModal:Za,tiendasByProducto:Mt,proveedorByProducto:Wt})]}),(0,w.jsx)(f.default,{transparent:!0,visible:N?.isAddEntrada??!1,animationType:"fade",onRequestClose:Ha,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ha,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===N?.id_entrada?"Crear Garant\xeda":"Datos del Garant\xeda"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Ht.find((e=>e.value===ne))?.label||"Cliente no encontrado"})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Kt.find((e=>e.value===se))?.label||"Tienda no encontrado"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Zt.find((e=>e.value===de))?.label||"Tipo de Servicio no encontrado"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:100},children:(0,w.jsxs)(i.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Duraci\xf3n en d\xedas:"}),(0,w.jsx)(z,{style:p.textImputModal,value:Ue,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Ve(t)},cursorColor:x.azul_Oscuro,editable:kt,placeholder:"Duracion En d\xedas"})]})}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C}})]}),ut&&(0,w.jsx)(i.default,{style:p.separatorNegro}),ut&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),ut&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Yt})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[ut&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:pe})]}),ut&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ut?"Costo promedio del producto en USD":"Costo del servicio en USD"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:je})]}),!ut&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:je})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ut?"Precio por unidad en USD":"Precio del servicio en USD"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Ce})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:ut?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:parseFloat(Ce)*G})]})]}),ut&&(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:n},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),ot&&(0,w.jsx)(At,{dayValue:Ee,monthValue:Ae,yearValue:Ne,onDayChange:$e,onMonthChange:Fe,onYearChange:We,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!0})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"3%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Oe})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(s.default,{style:p.textDescroptionLabelAsInput,children:ze}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[kt&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{vt(!0),Ct(!1),_t("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta garant\xeda?")},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar Garant\xeda"})}),kt&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{vt(!0),Ct(!0),_t("\xbfEst\xe1s seguro que deseas ELIMINAR esta garant\xeda?"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Garant\xeda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:St,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:It}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>bt?Qa():Xa(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>vt(!St),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>vt(!St),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ft,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:xt}),mt&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>yt?e.replace("Garant\xedas"):gt(!ft),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const Xo=({items:e,columns:t,isMobile:r})=>{const n=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=$t(),{usuario:y,setUsuario:m}=v(),{sortServicios:j,setSortServicios:C}=Ut(),S=r?Qo.containerMovil:Qo.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(20),[T,O]=o.useState([]),[D,P]=o.useState(!1),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(0),[V,H]=o.useState(""),q=["Nombre"],[Y,G]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),K=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ne]=o.useState(!1),[ie,se]=o.useState("");o.useEffect((()=>{(async()=>{y?.token&&U(await Pe(y.token))})()}),[]),o.useEffect((()=>{const t=I*k,a=Math.min((I+1)*k,e.length);O([]),setTimeout((()=>{O(e.slice(t,a))}),0)}),[I,e,k]);const le=t=>{t>=0&&t*k<e.length&&_(t)},de=(e,t)=>{let o=0;return e?(e.forEach((e=>{o+=parseFloat(e.pagada)})),parseFloat(t)===o?(0,w.jsx)(l.default,{source:a(5542),style:{width:20,height:20}}):(0,w.jsx)(l.default,{source:a(9139),style:{width:20,height:20}})):(0,w.jsx)(l.default,{source:a(9139),style:{width:20,height:20}})},ce=()=>(0,w.jsx)(xe.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(xe.default.Title,{style:[Qo.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?Qo.headerTextMovil:Qo.headerTextDesktop,children:[t,"Fecha"===t&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Fecha"===t?a="option3":"Nombre Cliente"===t?a="option4":"Precio"===t&&(a="option5"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[ue,he]=o.useState(""),[fe,ge]=o.useState(""),pe=e=>{he(e),P(!D)},ye=e=>{if(ge(e),P(!D),"Modificar"===e){if(p({id_entrada:ue,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?A(!$):"Mover"==e&&B(!L)},we=async()=>{if(y?.token){if(0==await ze(y.token,ue,y.id_tienda)){return!!await Ge(y.token,ue)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(i.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(xe.default,{style:{width:"150%"},children:[ce(),T.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>K(e.id_Deuda),style:{justifyContent:"space-around"},children:[(0,w.jsx)(xe.default.Cell,{style:[Qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(xe.default.Cell,{style:[Qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*parseInt(e.cantidad)*W).toFixed(0)})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:(e.total_pagado*W).toFixed(0)})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:(parseFloat(e.precio)*parseInt(e.cantidad)*W-e.total_pagado*W).toFixed(0)})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:de(e.pagos_deuda,e.deuda)})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Deuda))),(0,w.jsx)(f.default,{transparent:!0,visible:D,animationType:"fade",onRequestClose:()=>pe(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ye("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ye("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(re||ae)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ye("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>pe(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[ue,fe]}),(0,w.jsx)(u.default,{onPress:()=>E(!M),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await we();if(A(!$),e){const e=T.filter((e=>e.id_Cliente!==ue));O(e),H("Producto eliminado con \xe9xito"),N(!0)}else H("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),N(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>A(!$),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:ie,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");se(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Bt,{columns:q,items:Y})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Servicios"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:Qo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Qo.paginationButtonMovil,0===I&&Qo.disabledButton],onPress:()=>le(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Qo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Qo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[Qo.paginationButtonMovil,(I+1)*k>=e.length&&Qo.disabledButton],onPress:()=>le(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Qo.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(i.default,{style:S,children:(0,w.jsxs)(xe.default,{children:[ce(),T.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>K(e.id_Deuda),children:[(0,w.jsx)(xe.default.Cell,{style:Qo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreCliente})}),(0,w.jsx)(xe.default.Cell,{style:Qo.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombreTienda})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.nombreProducto?e.nombreProducto:""})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{color:e.devuelto?x.gris_claro:x.negro},children:(parseFloat(e.precio)*parseInt(e.cantidad)*W).toFixed(0)})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:(e.total_pagado*W).toFixed(0)})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:(parseFloat(e.precio)*parseInt(e.cantidad)*W-e.total_pagado*W).toFixed(0)})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:de(e.pagos_deuda,e.deuda)})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[Qo.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Deuda))),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsxs)(i.default,{style:Qo.paginationContainer,children:[(0,w.jsx)(u.default,{style:[Qo.paginationButtonDesktop,0===I&&Qo.disabledButton],onPress:()=>le(I-1),disabled:0===I,children:(0,w.jsx)(s.default,{style:Qo.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:Qo.paginationLabel,children:`${I*k+1}-${Math.min((I+1)*k,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[Qo.paginationButtonDesktop,(I+1)*k>=e.length&&Qo.disabledButton],onPress:()=>le(I+1),disabled:(I+1)*k>=e.length,children:(0,w.jsx)(s.default,{style:Qo.paginationLabel,children:"Pr\xf3xima"})})]})]})})},Qo=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}}),Zo=({items:e,columns:t,onButtonPress:a})=>{const[r,n]=o.useState(0),{usuario:l,setUsuario:d}=v(),[h]=o.useState(new c.default.Value(1)),[f,g]=o.useState(0),[x,p]=o.useState(5),[y,m]=o.useState([]);o.useEffect((()=>{const t=f*x,a=Math.min((f+1)*x,e.length);m(e.slice(t,a))}),[f,e,x]),(0,b.useFocusEffect)(o.useCallback((()=>((async()=>{n(await Pe(l.token))})(),()=>{})),[]));const j=t=>{t>=0&&t*x<e.length&&g(t)};return(0,w.jsx)(i.default,{style:er.containerDesktop,children:(0,w.jsxs)(xe.default,{style:{width:"100%"},children:[(0,w.jsxs)(xe.default.Header,{style:{justifyContent:"space-between"},children:[t.map(((e,t)=>(0,w.jsx)(xe.default.Title,{style:[er.headerColumn,{flex:1}],numeric:t>1,children:(0,w.jsx)(s.default,{style:er.headerTextDesktop,children:e})},t))),(0,w.jsx)(xe.default.Title,{style:er.headerColumn,children:(0,w.jsx)(s.default,{style:er.headerTextDesktop,children:"Acci\xf3n"})})]}),y.map((e=>(0,w.jsxs)(xe.default.Row,{children:[(0,w.jsx)(xe.default.Cell,{numeric:!0,style:er.handerRow,children:(parseFloat(e.pagada)*r).toFixed(2)}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:er.handerRow,children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})}),(0,w.jsx)(xe.default.Cell,{style:er.actionColumn,children:(0,w.jsx)(u.default,{style:er.actionButton,onPress:()=>a(e),children:(0,w.jsx)(s.default,{style:er.actionButtonText,children:"Eliminar"})})})]},e.id_pago_deuda))),(0,w.jsxs)(i.default,{style:er.paginationContainer,children:[(0,w.jsx)(u.default,{style:[er.paginationButtonMovil,0===f&&er.disabledButton],onPress:()=>j(f-1),disabled:0===f,children:(0,w.jsx)(s.default,{style:er.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:er.paginationLabel,children:`${f*x+1}-${Math.min((f+1)*x,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[er.paginationButtonMovil,(f+1)*x>=e.length&&er.disabledButton],onPress:()=>j(f+1),disabled:(f+1)*x>=e.length,children:(0,w.jsx)(s.default,{style:er.paginationLabel,children:"Pr\xf3xima"})})]})]})})},er=g.default.create({containerDesktop:{flex:1,padding:10,justifyContent:"center",alignItems:"center",width:"100%",marginTop:"2%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold"},actionColumn:{justifyContent:"center",alignItems:"center"},actionButton:{backgroundColor:x.rojo_oscuro,borderRadius:10,paddingVertical:5,paddingHorizontal:10},actionButtonText:{color:x.blanco,fontWeight:"bold",fontSize:14},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center"},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function tr(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[n,g]=(0,o.useState)(1e3),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),[k,R]=(0,o.useState)(1e3),[T,O]=(0,o.useState)(1e3),[D,P]=(0,o.useState)(1e3),[M,E]=(0,o.useState)(1e3),[$,A]=(0,o.useState)(1e3),L=e=>{"FechaDetails"===e?(g(2e3),j(1500)):"TiendaDetails"===e||"TipoServicioDetails"===e?(j(2e3),g(1500),_(1500),S(2e3),R(1500)):"ProductoDetails"===e?(j(1500),g(1500),_(2e3),S(1500),R(1500)):"ClienteDetails"===e&&(R(2e3),j(1500),g(1500),_(1500),S(1500)),"FechaDesdeSearsh"===e?(O(2e3),P(1500),A(1500),E(1500)):"FechaHastaSearsh"===e?(O(1500),P(2e3),A(1500),E(1500)):"TipoServicioSearsh"===e?(O(1500),P(1500),A(1500),E(2e3)):"TiendaSearsh"===e&&(O(1500),P(1500),A(2e3),E(1500))},{usuario:B,setUsuario:F}=v(),{modalEntradasDates:N,setModalEntradasDates:W}=$t(),{sortServicios:U,setSortServicios:V}=Ut(),[H,q]=(0,o.useState)(!1),Y=(0,o.useRef)(new c.default.Value(0)).current,[K,J]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)(0)),[X,Q]=(0,o.useState)(""),[Z,ee]=(0,o.useState)(!1),[te,ae]=(0,o.useState)(""),[oe,re]=(0,o.useState)(""),[ne,ie]=(0,o.useState)(""),[se,le]=(0,o.useState)(""),[de,he]=(0,o.useState)(""),[fe,xe]=(0,o.useState)(""),[pe,ye]=(0,o.useState)("1"),[we,me]=(0,o.useState)("0"),[je,be]=(0,o.useState)("0"),[Ce,Se]=(0,o.useState)(""),[_e,Re]=(0,o.useState)("sin Devolver"),[Te,Oe]=(0,o.useState)(""),[De,Me]=(0,o.useState)(""),[Ee,$e]=(0,o.useState)(""),[Le,Fe]=(0,o.useState)(""),[Ne,We]=(0,o.useState)(""),[Ue,Ve]=(0,o.useState)(""),[He,qe]=(0,o.useState)(""),[Ye,Ge]=(0,o.useState)(""),[Ke,Je]=(0,o.useState)(""),[Xe,Qe]=(0,o.useState)(""),[Ze,et]=(0,o.useState)(!1),[tt,at]=(0,o.useState)(!1),[ot,rt]=(0,o.useState)(""),[nt,it]=(0,o.useState)(""),[st,lt]=(0,o.useState)(""),[dt,ct]=(0,o.useState)([]),[ut,ht]=(0,o.useState)(""),[ft,gt]=(0,o.useState)(""),[xt,pt]=(0,o.useState)(""),[yt,wt]=(0,o.useState)(""),[mt,jt]=(0,o.useState)(""),[bt,Ct]=(0,o.useState)(""),[St,vt]=(0,o.useState)("sin Devolver"),[It,_t]=(0,o.useState)(!1),[kt,Rt]=(0,o.useState)(""),[Ot,Dt]=(0,o.useState)(""),[zt,Mt]=(0,o.useState)(""),[Et,Lt]=(0,o.useState)(!1),[Bt,Ft]=(0,o.useState)(!1),[Nt,Wt]=o.useState(!1),[Vt,Ht]=o.useState(!1),[qt,Yt]=o.useState(""),[Kt,Jt]=o.useState(""),[Zt,ea]=o.useState(""),[ta,aa]=o.useState(""),[oa,na]=o.useState(""),[ia,sa]=o.useState(""),[la,da]=o.useState(!1),[ca,ga]=(0,o.useState)(!1),[pa,ja]=(0,o.useState)(!1),[Ia,Oa]=(0,o.useState)(!1),[Da,za]=(0,o.useState)(""),[Pa,Ma]=o.useState(!1),[Ea,$a]=o.useState(!1),[Aa,La]=o.useState(!1),[Ba,Fa]=o.useState(!1),[Na,Wa]=o.useState(!1),[Ua,Va]=(0,o.useState)(!1),[Ha,qa]=(0,o.useState)(null),[Ya,Ga]=(0,o.useState)([]),Ka=()=>{H?c.default.timing(Y,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>q(!1))):(q(!0),c.default.timing(Y,{toValue:400,duration:300,useNativeDriver:!1}).start())},Ja={height:Y},[Xa,Qa]=(0,o.useState)([]),[Za,eo]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[to,ao]=(0,o.useState)([]),[oo,ro]=(0,o.useState)([]),[no,io]=(0,o.useState)([]),[so,lo]=(0,o.useState)([]),co=new Date,uo=String(co.getFullYear()),ho=String(co.getMonth()+1).padStart(2,"0"),fo=String(co.getDate()).padStart(2,"0"),[go,xo]=(0,o.useState)(""),[po,yo]=(0,o.useState)(""),[wo,mo]=(0,o.useState)(""),[jo,bo]=(0,o.useState)(""),[Co,So]=(0,o.useState)(!0),[vo,Io]=(0,o.useState)(""),[_o,ko]=(0,o.useState)(""),[Ro,To]=(0,o.useState)("1"),[Oo,Do]=(0,o.useState)("1"),[zo,Po]=(0,o.useState)("2024"),[Mo,Eo]=(0,o.useState)(String(parseInt(fo))),[$o,Ao]=(0,o.useState)(String(parseInt(ho))),[Lo,Bo]=(0,o.useState)(String(parseInt(uo))),[Fo,No]=(0,o.useState)(""),[Wo,Uo]=(0,o.useState)("ninguna"),Vo=[{label:"D\xeda",value:"dia"},{label:"Semana",value:"semana"},{label:"Mes",value:"mes"}],Ho=[{label:"Ninguna",value:"ninguna"},{label:"Saldada",value:"saldada"},{label:"Sin Saldar",value:"sin_saldar"}],qo=e=>{No(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let n="";if("dia"===e)n=`${a}-${o}-${r}`;else if("semana"===e){const e=new Date(t);e.setDate(t.getDate()-6);n=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("mes"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setMonth(t.getMonth()-1);n=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}er(n,`${a}-${o}-${r}`)},[Yo,Go]=(0,o.useState)(!1),Ko=()=>{ie(""),Se(""),ye(""),he(""),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(ee(!1),B?.token&&N?.id_entrada){_t(!1);const e=await va(B.token,N.id_entrada);if(e){const[t,a,o]=e.deuda.servicio.fecha.split("T")[0].split("-");if(ae(e.deuda.id_deuda),na(e.cantidad_restante),ea(e.total_pagado),aa(e.deuda.deuda),re(e.deuda.servicio.id_servicio),ie(e.deuda.servicio.cliente.id_cliente),he(e.deuda.servicio.tipo_servicio.id_tipo_servicio),Me(e.deuda.servicio.nota),$e(e.deuda.servicio.descripcion),Re(e.deuda.servicio.devuelto?"devolver":"sin devolver"),et(null!==e.deuda.servicio.garantia),Ct(e.deuda.servicio.tipo_servicio.id_tipo_servicio),ct(e.deuda.pagos_deuda),2===parseInt(e.deuda.servicio.tipo_servicio.id_tipo_servicio)){const t=await fa(B.token,oe);t?(Lt(!0),xe(t.producto.id_producto),ye(t.cantidad),le(e.deuda.servicio.tienda.id_tienda),Se(e.deuda.servicio.precio),Oe(String(parseFloat(e.deuda.servicio.precio)*K)),be(t.producto.costo_acumulado)):(Lt(!0),xe(""),ye(""),le(""),Se(""),Oe(""),be(""))}else Lt(!1),Se(e.deuda.servicio.precio),Oe(String(parseInt(e.deuda.servicio.precio)*K)),be(e.deuda.servicio.costo);Fe(String(parseInt(o))),We(String(parseInt(a))),Ve(String(parseInt(t))),qe(String(parseInt(o))),Ge(String(parseInt(a))),Je(String(parseInt(t))),_t(!0)}}ee(!0)})()}),[N]),(0,o.useEffect)((()=>{26===parseInt(de)?Ft(!0):Ft(!1),(async()=>{if(B?.token){const e=await va(B.token,N.id_entrada);if(2===parseInt(de)||25===parseInt(de)){const t=await fa(B.token,oe);Lt(!0),t?(wt(t.producto.id_producto),jt(t.cantidad),pt(e.deuda.servicio.tienda.id_tienda),xe(t.producto.id_producto),Q(t.producto.id_producto),ye(t.cantidad),le(e.deuda.servicio.tienda.id_tienda),Se(e.deuda.servicio.precio),Oe(String(parseFloat(e.deuda.servicio.precio)*K)),be(t.producto.costo_acumulado)):(Lt(!0),xe(""),ye(""),Se(""),Oe(""),be(""))}else Lt(!1),Se(e.deuda.servicio.precio),Oe(String(parseInt(e.deuda.servicio.precio)*K)),be(e.deuda.servicio.costo)}})()}),[de]),(0,o.useEffect)((()=>{"PrecioCUP"===ft?(Se(parseFloat(Ce).toFixed(5)),gt("")):"PrecioUSD"===ft?(Oe(parseFloat(Te).toFixed(2)),gt("")):"CostoCUP"===ft?(be(parseFloat(je).toFixed(5)),gt("")):"CostoUSD"===ft&&(me(parseFloat(we).toFixed(2)),gt("")),gt("")}),[ft]),(0,o.useEffect)((()=>{(async()=>{if(B?.token){const e=await Ae(B.token,se);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));ro(t)}}})()}),[se]),(0,o.useEffect)((()=>{if(Z)if(""!==fe&&fe!==X&&B?.token){Q(fe);(async()=>{const e=await Be(B.token,fe);be(e.costo_acumulado),Se(e.precio??0),Oe(String(parseFloat(e.precio)*K)??0)})()}else Q(fe)}),[fe]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{ee(!1),await(async()=>{if(B?.token){if(null===localStorage.getItem("resultAgregarServicio")){const e=await ve(B.token,"26",B.id_usuario);Ma(e),localStorage.setItem("resultAgregarServicio",e)}else Ma(Boolean(localStorage.getItem("resultAgregarServicio")));if(null===localStorage.getItem("resultEliminarServicio")){const e=await ve(B.token,"25",B.id_usuario);$a(e),localStorage.setItem("resultEliminarServicio",e)}else $a(Boolean(localStorage.getItem("resultEliminarServicio")));if(null===localStorage.getItem("resultModificarServicio")){const e=await ve(B.token,"24",B.id_usuario);La(e),localStorage.setItem("resultModificarServicio",e)}else La(Boolean(localStorage.getItem("resultModificarServicio")));if(null===localStorage.getItem("resulServicioLocal")){const e=await ve(B.token,"26",B.id_usuario);Fa(e),localStorage.setItem("resulServicioLocal",e)}else Fa(Boolean(localStorage.getItem("resulServicioLocal")));if(null===localStorage.getItem("resultServicioGeneral")){const e=await ve(B.token,"27",B.id_usuario);Wa(e),localStorage.setItem("resultServicioGeneral",e)}else Wa(Boolean(localStorage.getItem("resultServicioGeneral")));if(null===localStorage.getItem("cambioMoneda")){const e=await Pe(B.token);J(e),localStorage.setItem("cambioMoneda",e.toString())}else J(parseFloat(localStorage.getItem("cambioMoneda")))}})(),await(async()=>{if(void 0!=B?.token){const e=await Qt(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_tipo_servicio}))));lo([{label:"Todos los tipos de servicios",value:""},...t])}}})(),await(async()=>{if(void 0!=B?.token){const e=await ra(B.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.nombre,value:e.id_cliente}))));ao(t)}}})(),await(async()=>{if(void 0!=B?.token){const e=await Ie(B.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));io([{label:"Todas las tiendas",value:""},...t])}}})(),await(async()=>{if(void 0!=B?.token){const e=await ve(B.token,"27",B.id_usuario),t=await ve(B.token,"26",B.id_usuario);if(e){const e=await Ae(B.token,B.id_tienda);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));ro(t)}}else if(t){const e=await Ae(B.token,B.id_tienda);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({label:e.producto.nombre,value:e.id_producto}))));ro(t)}}}})()})(),()=>{})),[]));const[Jo,Qo]=(0,o.useState)(!1),er=async(e,t)=>{Go(!0);try{if(B?.token){let a=await(async(e,t)=>{if(B?.token)try{const a=await ka(B.token,po,go,vo,_o,e,t,jo,wo,"ninguna"===Wo?void 0:"saldada"===Wo);if(a)return await Promise.all(a.map((async e=>({id_Servicio:e.deuda.servicio.id_servicio,id_Cliente:e.deuda.servicio.cliente.id_cliente,id_Tienda:e.deuda.servicio.tienda.id_tienda,id_Tipo_servicio:e.deuda.servicio.tipo_servicio.id_tipo_servicio,id_Deuda:e.deuda.id_deuda,id_Garantia:"",fecha:e.deuda.servicio.fecha,precio:e.deuda.servicio.precio,nota:e.deuda.servicio.nota,descripcion:e.deuda.servicio.descripcion,nombreCliente:e.deuda.servicio.cliente.nombre,nombreTienda:e.deuda.servicio.tienda.nombre,nombreTipoServicio:e.deuda.servicio.tipo_servicio.nombre,nombreProducto:e.deuda.servicio.venta?e.deuda.servicio.venta.producto.nombre:"",cantidad:e.deuda.servicio.venta?e.deuda.servicio.venta.cantidad:"",devuelto:e.deuda.servicio.devuelto,deuda:e.deuda.deuda*(e.deuda.servicio.venta?e.deuda.servicio.venta.cantidad:1),pagos_deuda:e.deuda.pagos_deuda,total_pagado:e.total_pagado,cantidad_restante:e.cantidad_restante}))))}catch(a){return console.error("Error al filtrar los proveedoress:",a),null}return null})(e,t)||[];Qo(!Jo),a=U?.criterioOrden&&U.tipoOrden?await Xt(B.token,a,U.criterioOrden,Jo):await Xt(B.token,a,"option3",Jo),Qa(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{Go(!1)}};(0,o.useEffect)((()=>{er(`${zo}-${Oo}-${Ro}`,`${Lo}-${$o}-${Mo}`)}),[U,Ha]),(0,o.useEffect)((()=>{No("")}),[Ro,Oo,zo,Mo,$o,Lo]);const tr=e=>{"Enter"===e.nativeEvent.key&&er(`${zo}-${Oo}-${Ro}`,`${Lo}-${$o}-${Mo}`)},ar=()=>{xo(""),qa(""),bo(""),mo(""),Io(""),ko(""),No("")},or=async e=>{B?.token&&(await Ta(B.token,e.id_pago_deuda),ct((t=>t.filter((t=>t.id_pago_deuda!==e.id_pago_deuda)))),Wt(!0),sa("Pago de deuda eliminado"),da(!0),ga(!0))},rr=async()=>{if(ga(!1),sa("Agregando Pago de Deuda. Espere por favor"),Wt(!0),B?.token){let e="ERROR AL INGRESAR PAGO DE DEUDA. Por favor verifique los siguientes campos:\n";if(!0){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),r=await Ra(B.token,qt,`${t}-${a}-${o}`,te);dt.push(r);let n=`El usuario ${B.nombre} agreg\xf3 un pago de deuda de una cantidad de ${qt}`;await G(B.token,n,`${t}-${a}-${o}`,B.id_usuario,8),ga(!0),sa("El Pago de Deuda se agreg\xf3 con \xe9xito"),Wt(!0),da(!0)}else sa(e),ga(!0),Wt(!0)}},nr=async()=>{if(ga(!1),sa("Modificando servicio. Espere por favor"),Wt(!0),B?.token){let e=0;const t=await ze(B.token,fe,se);t&&(e=t.cantidad);let a=!0,o="ERROR AL MODIFICAR EL SERVICIO. Compruebe los siguientes campos:\n";if(""===ne&&(a=!1,o+="-Seleccione un cliente. Si no hay datos del cliente seleccione anonimo\n"),""===de&&(a=!1,o+="-Seleccione el tipo de servicio que est\xe1 ofreciendo.\n"),""===se&&(a=!1,o+="-Seleccione una tienda.\n"),Ze&&""===nt&&(a=!1,o+="-Defina la duraci\xf3n de la garant\xeda.\n"),""===je&&(a=!1,o+="-Digite el costo del servicio.\n"),""===Ce&&(a=!1,o+="-Defina el precio cobrado al cliente.\n"),Ze&&""===nt&&(a=!1,o+="-Defina la duraci\xf3n de la garant\xeda.\n"),Ze&&1===parseInt(ne)&&(a=!1,o+="-El ciente An\xf3nimo no puede tener garant\xedas"),26===parseInt(de)){const e=new Date(`${Ue}-${Ne}-${Le}`),t=new Date(`${Ke}-${Ye}-${He}`);1===parseInt(ne)&&(a=!1,o+="-No se puede hacer un encargo al cliente An\xf3nimo.\n"),t<e&&(a=!1,o+="-La fecha del encargo no puede ser menor que la fecha del servicio.\n")}if(2!==parseInt(de)&&25!==parseInt(de)||(""===fe&&(a=!1,o+="-Seleccione un producto para vender.\n"),""===pe&&(a=!1,o+="-Defina la cantidad que desea vender del producto.\n")),e+parseInt(mt)<parseInt(pe)&&(a=!1,o+="-La cantidad que desea modificar es mayor que la cantidad que hay en la tienda.\n"),pe!==mt&&fe===yt&&se===xt&&2===parseInt(de)||25===parseInt(de)?e+parseInt(mt)<parseInt(mt)-parseInt(pe)&&(a=!1,o+="-La cantidad que hay en la tienda no es suficiente para modificar la venta del producto.\n"):fe===yt&&se===xt||e<parseInt(pe)&&(a=!1,o+="-La cantidad que hay en la tienda no es suficiente para modificar la venta del producto.\n"),a){await Gt(B.token,oe,`${Ne}-${Le}-${Ue}`,Ce,De,se,de,"devolver"===_e,ne,"Not suport yet","not suport yet"),Ze===tt&&nt===st||(Ze?""!==ot?await wa(B.token,nt,oe,ot):await ya(B.token,nt,oe):await ma(B.token,ot)),de!==bt&&26===parseInt(bt)?await Sa(B.token,ut):de!==bt&&26===parseInt(de)?await ba(B.token,Xe,`${Ke}-${Ye}-${He}`,oe):de===bt&&26===parseInt(de)&&await Ca(B.token,Xe,`${Ke}-${Ye}-${He}`,oe,ut),2===parseInt(bt)&&2!==parseInt(de)&&4!==parseInt(de)&&(await ke(B.token,yt,xt,""+-1*parseInt(mt)),await ha(B.token,yt,oe)),pe!==mt&&fe===yt&&se===xt?(await ke(B.token,fe,se,""+(parseInt(pe)-parseInt(mt))),await ua(B.token,fe,oe,pe)):de!==bt&&2===parseInt(de)||25===parseInt(de)?(await ua(B.token,fe,oe,pe),await ke(B.token,yt,xt,""+-1*parseInt(mt)),await ke(B.token,fe,se,`${parseInt(pe)}`)):se===xt&&fe===yt||(await ua(B.token,fe,oe,pe),await ke(B.token,yt,xt,""+-1*parseInt(mt)),await ke(B.token,fe,se,`${parseInt(pe)}`)),_e===St||"devolver"!==_e||2!==parseInt(de)&&25!==parseInt(de)?_e===St||"sin devolver"!==_e||2!==parseInt(de)&&25!==parseInt(de)||await ke(B.token,fe,se,`${parseInt(pe)}`):await ke(B.token,fe,se,""+-1*parseInt(pe));const e=no.find((e=>e.value===Ot)),t=oo.find((e=>e.value===kt)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");let i=`El usuario ${B.nombre} modific\xf3 una entrada de originalmente ${zt} del producto ${t?.label} en la tienda ${e?.label}`;await G(B.token,i,`${o}-${r}-${n}`,B.id_usuario,7),ga(!0),sa("El servicio se modific\xf3 con \xe9xito"),Wt(!0),da(!0),ie(""),Se(""),he(""),ye(""),it(""),W({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1})}else ga(!0),sa(o),Wt(!0)}},ir=["C.Pagada CUP","Fecha"],sr=["Nombre","Cantidad"],lr=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],dr=["Cliente","Tienda","Producto","Deuda CUP","C.Sal CUP","C.Faltnte","Saldada","Fecha"];return r?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),(0,w.jsx)(i.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:Ka,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[Yo?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Xo,{isMobile:r,items:Xa,columns:dr,columnasMyDateTableEntradaModal:lr,columnasMyDateTableTiendaModal:sr,tiendasByProducto:Ya,proveedorByProducto:Za}),H&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Ja],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:po,onKeyPress:tr,onChangeText:yo}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:go,onKeyPress:tr,onChangeText:xo}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tipo de Servicio:"}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:M,position:"relative"},children:(0,w.jsx)(ge,{value:wo,placeholder:"Seleccione un tipo de servicio",setValue:mo,items:so,direction:"BOTTOM",onDropdownOpen:()=>L("TipoServicioSearsh")})}),Na&&(0,w.jsx)(i.default,{style:p.separatorBlanco}),Na&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),Na&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:$,position:"relative"},children:(0,w.jsx)(ge,{value:jo,placeholder:"Seleccione un tienda",setValue:bo,items:no,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaSearsh")})}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango del monto de la deuda:"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:vo,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Io(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:_o,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ko(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(i.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Vo.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:Fo===e.value,onPress:()=>qo(e.value)},e.value)))}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:T},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(At,{dayValue:Ro,monthValue:Oo,yearValue:zo,onDayChange:To,onMonthChange:Do,onYearChange:Po,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:D},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(At,{dayValue:Mo,monthValue:$o,yearValue:Lo,onDayChange:Eo,onMonthChange:Ao,onYearChange:Bo,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:ar,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>er(`${zo}-${Oo}-${Ro}`,`${Lo}-${$o}-${Mo}`),children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:N?.isAddEntrada??!1,animationType:"fade",onRequestClose:Ko,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(i.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ko,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===N?.id_entrada?"Crear Servicio":"Datos del Servicio"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(Pt,{value:ne,placeholder:"Seleccione un Cliente",setValue:ie,items:to,searchable:!0,readOnly:!(Aa||Ba),onDropdownOpen:()=>L("ClienteDetails")})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(Pt,{value:se,placeholder:"Seleccione una tienda",setValue:le,items:no,readOnly:!(Na&&""===N?.id_entrada||Na&&Aa),searchable:!0,onDropdownOpen:()=>L("TipoServicioDetails")})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(Pt,{value:de,placeholder:"Seleccione un tipo de servicio",setValue:he,items:so,readOnly:!(Aa||Ba),searchable:!0,onDropdownOpen:()=>L("TipoServicioDetails")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:100},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tiene Garant\xeda"}),(0,w.jsx)(xa,{onPress:()=>et(!Ze),selected:Ze,label:"Garant\xeda"}),Ze&&(0,w.jsxs)(i.default,{style:{marginTop:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Duraci\xf3n en d\xedas:"}),(0,w.jsx)(z,{style:p.textImputModal,value:nt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");it(t)},cursorColor:x.azul_Oscuro,editable:Aa||Ba,placeholder:"Duracion En d\xedas"})]})]}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C}})]}),Et&&(0,w.jsx)(i.default,{style:p.separatorNegro}),Et&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),Et&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Pt,{value:fe,placeholder:"Seleccione un produto",setValue:xe,items:oo,searchable:!0,readOnly:!(Aa||Ba),onDropdownOpen:()=>L("ProductoDetails")})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[Et&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:pe,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ye(t)},editable:Aa||Ba,placeholder:"Cantidad del producto"})]}),(!Et||Na)&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Et?"Costo promedio del producto en CUP":"Costo del servicio en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:je,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;me(""!==a?String((parseFloat(a)*K).toFixed(2)):"0"),be(a),gt("CostoUSD")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(de)&&25!==parseInt(de)&&(Aa||Ba),placeholder:"Costo Promedio"})]}),!Et&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:we,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;be(""!==a?String(parseFloat(a)/K):"0"),me(a),gt("CostoCUP")},cursorColor:x.azul_Oscuro,editable:2!==parseInt(de)&&25!==parseInt(de)&&(Aa||Ba),placeholder:"Costo Promedio"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%"}}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Et?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(z,{style:p.textImputModalNOEDITABLE,value:Te,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Se(""!==a?String(parseFloat(a)/K):"0"),Oe(a),gt("PrecioCUP")},cursorColor:x.azul_Oscuro,editable:Aa||Ba,placeholder:"Precio por unidad en cup"})]})]}),Et&&(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:n},children:(0,w.jsxs)(i.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),It&&(0,w.jsx)(At,{dayValue:Le,monthValue:Ne,yearValue:Ue,onDayChange:Fe,onMonthChange:We,onYearChange:Ve,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!(Aa||Ba)})]})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:n},children:[(0,w.jsxs)(i.default,{style:{width:"90%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:De,onChangeText:Me,editable:Aa||Ba,placeholder:"Nota"})]}),(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"}})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(z,{style:{height:150,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",textAlignVertical:"top",padding:10,marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Escribe la descripci\xf3n del servicio",multiline:!0,editable:Aa||Ba,numberOfLines:5,value:Ee,onChangeText:$e,scrollEnabled:!0}),(0,w.jsx)(i.default,{style:{flex:1,borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,height:500,width:"90%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(Zo,{columns:ir,items:dt,onButtonPress:e=>or(e)})}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Pa&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{const e=dt.reduce(((e,t)=>e+parseFloat(t.pagada)),0);parseFloat(Ce)*parseInt(pe)-e>0?Ht(!0):(Wt(!0),sa("La deuda ya est\xe1 saldada"),da(!1),ga(!0))},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar pago a la deuda"})}),Ea&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"45%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Oa(!0),ja(!0),za("\xbfEst\xe1s seguro que deseas ELIMINAR al esta deuda?"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Deuda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ia,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Da}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>nr(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Oa(!Ia),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Oa(!Ia),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Vt,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:400,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"center"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Agregar un pago a la deuda."}),(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Cantidad a pagar CUP"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},value:Kt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Jt(a),Yt(String((a/K).toFixed(5)))},cursorColor:x.azul_Oscuro,editable:!0,placeholder:"Cantidad del pago en CUP"}),(0,w.jsx)(u.default,{onPress:()=>{parseFloat(qt)<=parseFloat((parseFloat(ta)*parseFloat(pe)-parseFloat(Zt)).toFixed(5))?rr():(sa(`La cantidad de el pago de la deuda ${qt} es mayor a la cantidad faltante de la deuda ${((parseFloat(ta)*parseFloat(pe)-parseFloat(Zt))*K).toFixed(0)}`),Wt(!0),da(!1),ga(!0))},style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:30,width:"90%",height:40,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",color:x.blanco_Suave},children:"Agregar"})}),(0,w.jsx)(u.default,{onPress:()=>Ht(!Vt),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Nt,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ia}),ca&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>la?e.replace("Deudas"):Wt(!Nt),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"}}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del producto",value:po,onKeyPress:tr,onChangeText:yo}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Cliente:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del cliente",value:go,onKeyPress:tr,onChangeText:xo}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tipo de Servicio:"}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:M,position:"relative"},children:(0,w.jsx)(ge,{value:wo,placeholder:"Seleccione un tipo de servicio",setValue:mo,items:so,direction:"BOTTOM",onDropdownOpen:()=>L("TipoServicioSearsh")})}),Na&&(0,w.jsx)(i.default,{style:p.separatorBlanco}),Na&&(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Tienda:"}),Na&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:$,position:"relative"},children:(0,w.jsx)(ge,{value:jo,placeholder:"Seleccione un tienda",setValue:bo,items:no,direction:"BOTTOM",onDropdownOpen:()=>L("TiendaSearsh")})}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango del monto de la deuda:"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:vo,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Io(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:_o,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ko(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Estado de deuda:"}),(0,w.jsx)(i.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Ho.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:Wo===e.value,onPress:()=>Uo(e.value)},e.value)))}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(i.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:Vo.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:Fo===e.value,onPress:()=>qo(e.value)},e.value)))}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:T},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(At,{dayValue:Ro,monthValue:Oo,yearValue:zo,onDayChange:To,onMonthChange:Do,onYearChange:Po,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaDesdeSearsh")})]}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:D},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(At,{dayValue:Mo,monthValue:$o,yearValue:Lo,onDayChange:Eo,onMonthChange:Ao,onYearChange:Bo,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>L("FechaHastaSearsh")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:ar,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>er(`${zo}-${Oo}-${Ro}`,`${Lo}-${$o}-${Mo}`),children:"Buscar"})})]})]}),Yo?(0,w.jsx)(ue.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(Xo,{isMobile:r,items:Xa,columns:dr,columnasMyDateTableEntradaModal:lr,columnasMyDateTableTiendaModal:sr,tiendasByProducto:Ya,proveedorByProducto:Za})]}),(0,w.jsx)(f.default,{transparent:!0,visible:N?.isAddEntrada??!1,animationType:"fade",onRequestClose:Ko,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:Ko,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===N?.id_entrada?"Crear Servicio":"Datos de la Deuda"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Cliente"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:k,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:to.find((e=>e.value===ne))?.label||"Cliente no encontrado"})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",position:"relative",zIndex:C,paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tienda donde se prest\xf3 el servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:no.find((e=>e.value===se))?.label||"Tienda no encontrado"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",position:"relative",zIndex:C},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Tipo de Servicio"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:so.find((e=>e.value===de))?.label||"Tipo de Servicio no encontrado"})]})]}),Et&&(0,w.jsx)(i.default,{style:p.separatorNegro}),Et&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Producto"})}),Et&&(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:oo.find((e=>e.value===fe))?.label||"Producto no encontrado"})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[Et&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad del Producto"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:pe})]}),(!Et||Na)&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Et?"Costo promedio del producto en CUP":"Costo del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:je})]}),!Et&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:je})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsx)(i.default,{style:{width:"45%",marginLeft:"2%"}}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:Et?"Precio por unidad en CUP":"Precio del servicio en CUP"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:Te})]})]}),Et&&(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:n},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha"}),It&&(0,w.jsx)(At,{dayValue:Le,monthValue:Ne,yearValue:Ue,onDayChange:Fe,onMonthChange:We,onYearChange:Ve,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>L("FechaDetails"),isReadOnly:!0})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%",marginTop:"5%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nota"}),(0,w.jsx)(s.default,{style:p.textLabelAsInput,children:De})]})]}),(0,w.jsx)(s.default,{style:{fontSize:20,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Descripci\xf3n"}),(0,w.jsx)(s.default,{style:p.textDescroptionLabelAsInput,children:Ee}),(0,w.jsx)(i.default,{style:{flex:1,borderColor:x.azul_Oscuro,borderWidth:2,marginTop:"3%",borderRadius:15,height:500,width:"90%",justifyContent:"center",alignItems:"center"},children:(0,w.jsx)(Zo,{columns:ir,items:dt,onButtonPress:e=>or(e)})}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[Pa&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{const e=dt.reduce(((e,t)=>e+parseFloat(t.pagada)),0);parseFloat(Ce)*parseInt(pe)-e>0?Ht(!0):(Wt(!0),sa("La deuda ya est\xe1 saldada"),da(!1),ga(!0))},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar pago a la deuda"})}),Ea&&""!==N?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginRight:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{Oa(!0),ja(!0),za("\xbfEst\xe1s seguro que deseas ELIMINAR al esta deuda?"),W({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})},children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Eliminar Deuda"})})]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ia,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Da}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>pa?(async()=>{if(ga(!1),sa("Eliminando deuda. Espere por favor"),Wt(!0),B?.token){{const e=await va(B.token,te);Array.isArray(e.deuda.pagos_deuda)&&e.deuda.pagos_deuda.length>0&&e.deuda.pagos_deuda.map((async e=>{await Ta(B.token,e.id_pago_deuda)})),await _a(B.token,te);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let n=`El usuario ${B.nombre} elimin\xf3 la deuda del tipo de servicio ${e.deuda.servicio.tipo_servicio.nombre} el cual dev\xeda ${e.cantidad_restante} y se hab\xeda pagado ${e.total_pagado}`;await G(B.token,n,`${a}-${o}-${r}`,B.id_usuario,8),ga(!0),sa("La deuda se elimin\xf3 con \xe9xito"),Wt(!0),da(!0),ie(""),Se(""),Oe(""),ye(""),be(""),he(""),ye(""),Me(""),$e(""),it(""),W({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1})}}})():nr(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Oa(!Ia),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>Oa(!Ia),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Vt,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:400,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"center"},children:[(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Cantidad a pagar CUP"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",marginHorizontal:"5%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:16,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},value:Kt,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;Jt(a),Yt(String((a/K).toFixed(5)))},cursorColor:x.azul_Oscuro,editable:!0,placeholder:"Cantidad del pago en CUP"}),(0,w.jsx)(u.default,{onPress:()=>{parseFloat(qt)<=parseFloat((parseFloat(ta)*parseFloat(pe)-parseFloat(Zt)).toFixed(5))?rr():(sa(`La cantidad de el pago de la deuda ${(parseFloat(qt)*K).toFixed(0)} es mayor a la cantidad faltante de la deuda ${((parseFloat(ta)*parseFloat(pe)-parseFloat(Zt))*K).toFixed(0)}`),Wt(!0),da(!1),ga(!0))},style:{backgroundColor:x.azul_Claro,borderRadius:15,marginTop:30,width:"90%",height:40,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{fontSize:16,fontWeight:"bold",color:x.blanco_Suave},children:"Agregar"})}),(0,w.jsx)(u.default,{onPress:()=>Ht(!Vt),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Nt,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:ia}),ca&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>la?e.replace("Deudas"):Wt(!Nt),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const ar=({items:e,columns:t,isMobile:r})=>{const n=(0,b.useNavigation)(),[d]=o.useState(new c.default.Value(1)),{modalEntradasDates:g,setModalEntradasDates:p}=$t(),{usuario:y,setUsuario:m}=v(),{sortEntradas:j,setSortEntradas:C}=Fa(),S=r?or.containerMovil:or.containerDesktop,[I,_]=o.useState(0),[k,R]=o.useState(0),[T,O]=o.useState(20),[D,P]=o.useState([]),[M,E]=o.useState(!1),[$,A]=o.useState(!1),[L,B]=o.useState(!1),[F,N]=o.useState(!1),[W,U]=o.useState(!1),[V,H]=o.useState(""),q=["Nombre"],[Y,G]=o.useState([{id_tienda:"1",nombre:"Tienda 1"},{id_tienda:"2",nombre:"Tienda 2"},{id_tienda:"3",nombre:"Tienda 3"}]),K=e=>{p({id_entrada:e,isAddEntrada:!0,fileEditable:!1,isModificarEntrada:!1})},[J,X]=o.useState(!1),[Q,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ae,oe]=o.useState(!1),[re,ne]=o.useState(!1),[ie,se]=o.useState("");o.useEffect((()=>{(async()=>{if(y?.token){const e=await ve(y.token,"7",y.id_usuario),t=await ve(y.token,"8",y.id_usuario),a=await ve(y.token,"30",y.id_usuario),o=await ve(y.token,"31",y.id_usuario);_(await Pe(y.token)),Z(e),te(t),oe(a),ne(o),X(t||e||a||o)}})()}),[]),o.useEffect((()=>{const t=k*T,a=Math.min((k+1)*T,e.length);P([]),setTimeout((()=>{P(e.slice(t,a))}),0)}),[k,e,T]);const le=()=>{let t="La suma total de los costos de los productos filtrados es de: ",a=0;return e.forEach((e=>{a+=parseFloat(e.costo)})),t+=`${a.toFixed(5)} USD   CUP: ${(a*I).toFixed(2)}.`,t},de=t=>{t>=0&&t*T<e.length&&R(t)},ce=()=>(0,w.jsx)(xe.default.Header,{children:t.map(((t,o)=>(0,w.jsx)(xe.default.Title,{style:[or.headerColumn,{flex:1,justifyContent:"center",flexDirection:"row",alignItems:"center"}],numeric:o>1,children:(0,w.jsxs)(s.default,{style:r?or.headerTextMovil:or.headerTextDesktop,children:[t,("Nombre Proveedor"===t||"Nombre Producto"===t||"Costo Por Unidad"===t||"Fecha"===t)&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,marginLeft:10,width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:6,marginBottom:4,paddingTop:2},onPress:()=>(t=>{let a="";"Nombre Proveedor"===t?a="option3":"Nombre Producto"===t?a="option4":"Costo Por Unidad"===t?a="option5":"Fecha"===t&&(a="option6"),C({items:e,criterioOrden:a,tipoOrden:"option1"})})(t),children:(0,w.jsx)(l.default,{source:a(4031),style:{width:"100%",height:"100%"}})})]})},o)))}),[ue,he]=o.useState(""),[fe,ge]=o.useState(""),pe=e=>{he(e),E(!M)},ye=e=>{if(ge(e),E(!M),"Modificar"===e){if(p({id_entrada:ue,isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1}),y?.token){}}else"Eliminar"===e?B(!L):"Mover"==e&&N(!F)},we=async()=>{if(y?.token){if(0==await ze(y.token,ue,y.id_tienda)){return!!await Ge(y.token,ue)}return console.log("Huvo un problema al comprobar la tienda del producto"),!1}};return r?(0,w.jsx)(i.default,{style:S,children:(0,w.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,w.jsxs)(xe.default,{style:{width:"150%"},children:[ce(),D.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>K(e.id_Entrada),style:{justifyContent:"space-around"},children:[(0,w.jsx)(xe.default.Cell,{style:[or.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Proveedor})}),(0,w.jsx)(xe.default.Cell,{style:[or.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[or.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[or.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.costo})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[or.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:(parseFloat(e.costo)*I).toFixed(2)})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[or.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Entrada))),(0,w.jsx)(f.default,{transparent:!0,visible:M,animationType:"fade",onRequestClose:()=>pe(""),children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Opciones"}),Q&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ye("Modificar")},children:[(0,w.jsx)(l.default,{source:a(1248),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Modificar"})]}),ee&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.rojo_oscuro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ye("Eliminar")},children:[(0,w.jsx)(l.default,{source:a(1165),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Eliminar"})]}),(re||ae)&&(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flex:1,padding:10,borderRadius:8,marginBottom:10,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:()=>{ye("Mover")},children:[(0,w.jsx)(l.default,{source:a(7213),style:{height:26,width:26,marginRight:10}}),(0,w.jsx)(s.default,{style:{color:"white"},children:"Mover"})]}),(0,w.jsx)(u.default,{onPress:()=>pe(""),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cerrar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:$,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsxs)(s.default,{children:[ue,fe]}),(0,w.jsx)(u.default,{onPress:()=>A(!$),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:L,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"\xbfEst\xe1s seguro de que deseas eliminar este producto?"}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>(async()=>{const e=await we();if(B(!L),e){const e=D.filter((e=>e.id_Proveedor!==ue));P(e),H("Producto eliminado con \xe9xito"),U(!0)}else H("ERROR AL ELIMINAR: Ya se han echo operaciones con el producto o ya est\xe1 en una tieda"),U(!0)})(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>B(!L),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>B(!L),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:F,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:"Mover Producto a Tienda"}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:10},children:"La cantidad que desea mover"}),(0,w.jsx)(z,{style:{height:50,borderColor:x.azul_Oscuro,borderWidth:1,shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,width:"90%",marginTop:"2%",backgroundColor:x.blanco_Suave,borderRadius:13,fontSize:18,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:.5,height:.5},textShadowRadius:2,fontWeight:"bold",paddingHorizontal:10},cursorColor:x.azul_Oscuro,placeholder:"Cantidad a mover",value:ie,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");se(t)}}),(0,w.jsx)(s.default,{style:{fontSize:16,marginBottom:5,marginTop:10},children:"Tiendas para mover los productos"}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[" ",(0,w.jsx)(Bt,{columns:q,items:Y})]}),(0,w.jsx)(u.default,{onPress:()=>alert("Not Suport yet"),style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"90%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},children:(0,w.jsx)(s.default,{style:{color:x.blanco},children:"Mover"})}),(0,w.jsx)(u.default,{onPress:()=>N(!F),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:le()})}),(0,w.jsxs)(i.default,{style:or.paginationContainer,children:[(0,w.jsx)(u.default,{style:[or.paginationButtonMovil,0===k&&or.disabledButton],onPress:()=>de(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:or.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:or.paginationLabel,children:`${k*T+1}-${Math.min((k+1)*T,e.length)} de ${e.length}`}),(0,w.jsx)(u.default,{style:[or.paginationButtonMovil,(k+1)*T>=e.length&&or.disabledButton],onPress:()=>de(k+1),disabled:(k+1)*T>=e.length,children:(0,w.jsx)(s.default,{style:or.paginationLabel,children:"Pr\xf3xima"})})]})]})})}):(0,w.jsx)(i.default,{style:S,children:(0,w.jsxs)(xe.default,{children:[ce(),D.map((e=>(0,w.jsxs)(xe.default.Row,{onPress:()=>K(e.id_Entrada),children:[(0,w.jsx)(xe.default.Cell,{style:or.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Proveedor})}),(0,w.jsx)(xe.default.Cell,{style:or.handerRow,children:(0,w.jsx)(s.default,{style:{flexWrap:"wrap",width:"100%",textAlign:"center"},numberOfLines:2,children:e.nombre_Producto})}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[or.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.cantidad}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[or.handerRow,{justifyContent:"center",alignItems:"center"}],children:e.costo}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[or.handerRow,{justifyContent:"center",alignItems:"center"}],children:(parseFloat(e.costo)*I).toFixed(2)}),(0,w.jsx)(xe.default.Cell,{numeric:!0,style:[or.handerRow,{justifyContent:"center",alignItems:"center"}],children:(0,w.jsx)(s.default,{children:e.fecha.split("T")[0]})})]},e.id_Entrada))),(0,w.jsx)(f.default,{transparent:!0,visible:W,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:400,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:V}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>n.replace("Productos"),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})}),(0,w.jsx)(i.default,{style:{width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:(0,w.jsx)(s.default,{children:le()})}),(0,w.jsxs)(i.default,{style:or.paginationContainer,children:[(0,w.jsx)(u.default,{style:[or.paginationButtonDesktop,0===k&&or.disabledButton],onPress:()=>de(k-1),disabled:0===k,children:(0,w.jsx)(s.default,{style:or.paginationLabel,children:"Anterior"})}),(0,w.jsx)(s.default,{style:or.paginationLabel,children:`${k*T+1}-${Math.min((k+1)*T,e.length)} of ${e.length}`}),(0,w.jsx)(u.default,{style:[or.paginationButtonDesktop,(k+1)*T>=e.length&&or.disabledButton],onPress:()=>de(k+1),disabled:(k+1)*T>=e.length,children:(0,w.jsx)(s.default,{style:or.paginationLabel,children:"Pr\xf3xima"})})]})]})})},or=g.default.create({containerDesktop:{flex:1,padding:10,marginTop:"2%"},containerMovil:{flex:1,marginTop:"2%",marginBottom:"20%"},headerTextDesktop:{fontSize:18,fontWeight:"bold"},headerTextMovil:{fontSize:12,fontWeight:"bold"},headerColumn:{justifyContent:"center"},handerRow:{fontSize:14,justifyContent:"center",fontWeight:"bold",width:"100%"},paginationContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:10},paginationButtonDesktop:{backgroundColor:x.azul_Suave,borderRadius:20,width:"15%",height:40,alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationButtonMovil:{backgroundColor:x.azul_Suave,borderRadius:20,width:"30%",height:40,marginHorizontal:"3%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,elevation:3},paginationLabel:{fontSize:14,color:x.negro},disabledButton:{backgroundColor:x.blanco_Suave}});function rr(){const e=(0,b.useNavigation)(),{width:t}=(0,d.default)(),r=t<930,[n,g]=(0,o.useState)(0),[m,j]=(0,o.useState)(1e3),[C,S]=(0,o.useState)(1e3),[I,_]=(0,o.useState)(1e3),[k,R]=(0,o.useState)(1e3),[T,O]=(0,o.useState)(1e3),[D,P]=(0,o.useState)(1e3),M=e=>{"FechaDetails"===e?(j(2e3),S(1500),_(1500),R(1500)):"TiendaDetails"===e?(S(2e3),j(1500),_(1500),R(1500)):"ProductosDetails"===e?(S(1500),j(1500),_(2e3),R(1500)):"ProveedoresDetails"===e&&(S(1500),j(1500),_(1500),R(2e3)),"FechaDesdeSearsh"===e?(O(2e3),P(1500)):"FechaHastaSearsh"===e&&(O(1500),P(2e3))},{usuario:E,setUsuario:$}=v(),{modalEntradasDates:A,setModalEntradasDates:L}=$t(),{sortEntradas:B,setSortEntradas:F}=Fa(),[N,W]=(0,o.useState)(!1),U=(0,o.useRef)(new c.default.Value(0)).current,[V,H]=((0,o.useRef)(new c.default.Value(0)).current,(0,o.useState)("")),[q,Y]=(0,o.useState)(""),[K,J]=(0,o.useState)(""),[X,Q]=(0,o.useState)(""),[Z,ee]=(0,o.useState)(""),[re,ne]=(0,o.useState)(""),[he,fe]=(0,o.useState)(""),[ge,xe]=(0,o.useState)(""),[pe,ye]=(0,o.useState)(""),[we,me]=(0,o.useState)(""),[je,be]=(0,o.useState)(""),[Ce,Se]=(0,o.useState)(""),[_e,ke]=(0,o.useState)(""),[Re,Te]=(0,o.useState)(!1),[Oe,De]=(0,o.useState)(!1),[Me,$e]=(0,o.useState)(""),[Ae,Fe]=(0,o.useState)(""),[Ne,Ue]=(0,o.useState)(""),[He,qe]=(0,o.useState)(""),[Ge,Je]=o.useState(!1),[Xe,Qe]=o.useState(""),[Ze,et]=o.useState(!1),[tt,at]=(0,o.useState)(!1),[ot,rt]=(0,o.useState)(!1),[nt,it]=(0,o.useState)(""),[st,lt]=(0,o.useState)(!1),[dt,ct]=(0,o.useState)(!1),[ut,ht]=o.useState(!1),[ft,gt]=o.useState(!1),[xt,pt]=o.useState(!1),[yt,wt]=(0,o.useState)(null),[mt,jt]=(0,o.useState)([]),bt=()=>{N?c.default.timing(U,{toValue:0,duration:300,useNativeDriver:!1}).start((()=>W(!1))):(W(!0),c.default.timing(U,{toValue:400,duration:300,useNativeDriver:!1}).start())},Ct={height:U},[St,vt]=(0,o.useState)([]),[It,_t]=(0,o.useState)([{id_proveedor:"1",nombre:"Pepe",cantidad:"12",costoPorUnidad:20.3},{id_proveedor:"2",nombre:"Juan",cantidad:"1",costoPorUnidad:21.3},{id_proveedor:"3",nombre:"Adolfo",cantidad:"100",costoPorUnidad:20},{id_proveedor:"4",nombre:"Jailer",cantidad:"23",costoPorUnidad:22.3},{id_proveedor:"5",nombre:"Ana",cantidad:"42",costoPorUnidad:18},{id_proveedor:"6",nombre:"Rodrigo",cantidad:"11",costoPorUnidad:23.3},{id_proveedor:"7",nombre:"Juan L\xeds de la Caridad Santos",cantidad:"20",costoPorUnidad:20.3}]),[kt,Rt]=(0,o.useState)([]),[Ot,Dt]=(0,o.useState)([]),[zt,Mt]=(0,o.useState)([]),Et=new Date,Lt=String(Et.getFullYear()),Bt=String(Et.getMonth()+1).padStart(2,"0"),Ft=String(Et.getDate()).padStart(2,"0"),[Nt,Wt]=(0,o.useState)(""),[Ut,Vt]=(0,o.useState)(""),[Ht,qt]=(0,o.useState)(""),[Yt,Gt]=(0,o.useState)(""),[Kt,Jt]=(0,o.useState)(new Date),[Xt,Qt]=(0,o.useState)(new Date),[Zt,ea]=(0,o.useState)(String(parseInt(Ft))),[ta,aa]=(0,o.useState)(String(parseInt(Bt))),[oa,ra]=(0,o.useState)(String(parseInt(Lt))),[na,ia]=(0,o.useState)(String(parseInt(Ft))),[sa,la]=(0,o.useState)(String(parseInt(Bt))),[da,ca]=(0,o.useState)(String(parseInt(Lt))),[ua,ha]=(0,o.useState)(!1),[fa,ga]=(0,o.useState)(""),xa=[{label:"D\xeda",value:"dia"},{label:"Semana",value:"semana"},{label:"Mes",value:"mes"}],pa=e=>{ga(e);const t=new Date,a=String(t.getFullYear()),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");let n="";if("dia"===e)n=`${a}-${o}-${r}`;else if("semana"===e){const e=new Date(t);e.setDate(t.getDate()-6);n=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}else{if("mes"!==e)return void console.error("Valor no v\xe1lido para el radio button:",e);{const e=new Date(t);e.setMonth(t.getMonth()-1);n=`${String(e.getFullYear())}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}}ja(n,`${a}-${o}-${r}`)},ya=()=>{Y(""),ne(""),ee(""),J(""),Te(!1),be(""),Se(""),ke(""),L({id_entrada:"",isAddEntrada:!1,isModificarEntrada:!1,fileEditable:!0})};(0,o.useEffect)((()=>{(async()=>{if(E?.token&&A?.id_entrada){De(!1);const e=await ae(E.token,A.id_entrada);if(e){const[t,a,o]=e.fecha.split("T")[0].split("-");if(H(e.id_entrada),Y(e.proveedor.id_proveedor),J(e.producto.id_producto),ee(e.cantidad),Q(e.tienda.id_tienda),ne(e.costo),fe(String((e.costo*n).toFixed(2))),xe(String(parseInt(o))),ye(String(parseInt(a))),me(String(parseInt(t))),e.fecha_vencimiento){const[t,a,o]=e.fecha_vencimiento.split("T")[0].split("-");be(String(parseInt(o))),Se(String(parseInt(a))),ke(String(parseInt(t)))}$e(e.producto.id_producto),Fe(e.tienda.id_tienda),Ue(e.cantidad),qe(e.costo),De(!0)}}})()}),[A]);(0,b.useFocusEffect)((0,o.useCallback)((()=>((async()=>{await(async()=>{if(E?.token){if(null===localStorage.getItem("isPermisoAgregarEntrada")){const e=await ve(E.token,"10",E.id_usuario);ht(e),localStorage.setItem("isPermisoAgregarEntrada",e)}else ht(Boolean(localStorage.getItem("isPermisoAgregarEntrada")));if(null===localStorage.getItem("isPermisoEliminarEntrada")){const e=await ve(E.token,"12",E.id_usuario);gt(e),localStorage.setItem("isPermisoEliminarEntrada",e)}else gt(Boolean(localStorage.getItem("isPermisoEliminarEntrada")));if(null===localStorage.getItem("isPermisoModificarEntrada")){const e=await ve(E.token,"11",E.id_usuario);pt(e),localStorage.setItem("isPermisoModificarEntrada",e)}else pt(Boolean(localStorage.getItem("isPermisoModificarEntrada")));if(null===localStorage.getItem("cambioMoneda")){const e=await Pe(E.token);g(e),localStorage.setItem("cambioMoneda",e.toString())}else g(parseFloat(localStorage.getItem("cambioMoneda")))}})(),await(async()=>{if(void 0!=E?.token)try{const e=await te(E.token);if(e&&Array.isArray(e)){const t=await Promise.all(e.map((async e=>({id_Entrada:e.id_entrada,id_Proveedor:e.proveedor.id_proveedor,id_Producto:e.producto.id_producto,nombre_Proveedor:e.proveedor.nombre,nombre_Producto:e.producto.nombre,cantidad:e.cantidad,costo:e.costo,fecha:e.fecha}))));vt(t)}else console.log("No se encontraron entradas.")}catch(e){console.log("Error al obtener las entradas o verificar permisos:",e),alert("Ocurri\xf3 un problema al cargar los datos de las entradas")}else alert("Ocurri\xf3 un problema al obtener el token de identificaci\xf3n del usuario para cargar los datos de las entradas")})(),(async()=>{if(void 0!=E?.token){const e=await Ua(E.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_proveedor}))));Rt(t)}}})(),(async()=>{if(void 0!=E?.token){const e=await Ee(E.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_producto}))));Dt(t)}}})(),(async()=>{if(void 0!=E?.token){const e=await Ie(E.token);if(e&&Array.isArray(e.data)){const t=await Promise.all(e.data.map((async e=>({label:e.nombre,value:e.id_tienda}))));Mt([...t])}}})()})(),()=>{})),[]));const[wa,ma]=(0,o.useState)(!1),ja=async(e,t)=>{ha(!0);try{if(E?.token){let a=await(async(e,t)=>{if(E?.token)try{const a=await le(E.token,Nt,Ut,Ht,Yt,e,t);if(a)return await Promise.all(a.map((async e=>({id_Entrada:e.id_entrada,id_Proveedor:e.proveedor.id_proveedor,id_Producto:e.producto.id_producto,nombre_Proveedor:e.proveedor.nombre,nombre_Producto:e.producto.nombre,cantidad:e.cantidad,costo:e.costo,fecha:e.fecha}))))}catch(a){return console.error("Error al filtrar los proveedoress:",a),null}return null})(e,t)||[];ma(!wa),a=B?.criterioOrden&&B.tipoOrden?await de(E.token,a,B?.criterioOrden,wa):await de(E.token,a,"option6",wa),vt(a)}}catch(a){console.error("Error al filtrar y ordenar los proovedores:",a)}finally{ha(!1)}};(0,o.useEffect)((()=>{ja(`${oa}-${ta}-${Zt}`,`${da}-${sa}-${na}`)}),[B,yt]),(0,o.useEffect)((()=>{(async()=>{if(K&&E?.token){const e=await Be(E.token,K);if(e){if(""===A?.id_entrada){const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");be(String(parseInt(o))),Se(String(parseInt(a))),ke(String(parseInt(t)))}Te(e.isFecha_Vencimiento)}else Te(!1)}})()}),[K]),(0,o.useEffect)((()=>{ga("")}),[Zt,ta,oa,na,sa,da]);const ba=()=>{De(!1),Y(""),J(""),Q(""),ee(""),ne(""),L({id_entrada:"",isAddEntrada:!0,fileEditable:!0,isModificarEntrada:!1});const e=new Date,t=String(e.getFullYear()),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");xe(String(parseInt(o))),ye(String(parseInt(a))),me(String(parseInt(t))),De(!0)},Ca=e=>{"Enter"===e.nativeEvent.key&&ja(`${oa}-${ta}-${Zt}`,`${da}-${sa}-${na}`)},Sa=()=>{Wt(""),Vt(""),qt(""),Gt(""),wt("")},va=async()=>{if(!dt){if(ct(!0),lt(!1),Qe("Agregando entrada. Espere por favor"),Je(!0),E?.token){let r=!0,n="ERROR AL INGRESAR ENTRADA. Por favor verifique los siguientes campos:\n";if(""===q&&(r=!1,n+="-Seleccione un proveedor.\n"),""===K&&(r=!1,n+="-Seleccione un producto.\n"),""===X&&(r=!1,n+="-Seleccione una tienda.\n"),""===Z&&(r=!1,n+="-Ingrese una cantidad.\n"),""===re&&(r=!1,n+="-Ingrese el costo total de la entrada.\n"),r){await oe(E.token,re,Z,`${pe}-${ge}-${we}`,Re?`${Ce}-${je}-${_e}`:null,parseInt(q),parseInt(K),parseInt(X),parseFloat(he)),Qe("Actualizando costo promedio ponderado del producto");const r=await Be(E.token,K),n=await Le(E.token,K),i=(e=n,t=r.costo_acumulado,a=parseInt(Z),o=parseFloat(re)/parseInt(Z),((e*t+a*o)/(e+a)).toFixed(5));await Ve(E.token,K,i),Qe("Actualizando cantidad en tienda"),await We(E.token,parseInt(X),parseInt(K),parseInt(Z)),Qe("Agregando acci\xf3n");const s=zt.find((e=>e.value===X)),l=Ot.find((e=>e.value===K)),d=new Date,c=String(d.getFullYear()),u=String(d.getMonth()+1).padStart(2,"0"),h=String(d.getDate()).padStart(2,"0");let f=`El usuario ${E.nombre} agreg\xf3 una entrada de ${Z} del producto ${l?.label} en la tienda ${s?.label}`;await G(E.token,f,`${c}-${u}-${h}`,E.id_usuario,4),await Ye(E.token,K,X),Y(""),J(""),Q(""),ne(""),ee(""),L({id_entrada:"",isAddEntrada:!1,fileEditable:!0,isModificarEntrada:!1}),lt(!0),Qe("La entrada fue insertado con \xe9xito"),Je(!0),et(!0)}else lt(!0),Qe(n),Je(!0)}var e,t,a,o;ct(!1)}},Ia=async()=>{if(!dt){if(ct(!0),lt(!1),Qe("Modificando entrada. Espere por favor"),Je(!0),E?.token){let e=!0,t="ERROR AL MODIFICAR ENTRADA. Compruebe los siguientes campos:\n";const a=await ze(E.token,K,X),o=await ze(E.token,Me,Ae);if(Ae===X&&Me===K||parseInt(o.cantidad??0)-parseInt(Ne)<0&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. No se dispone de sificientes productos para realizar la operoci\xf3n."),parseInt(Ne)-parseInt(Z)>parseInt(a.cantidad??0)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La cantidad del producto excede la cantidad en la tienda\n."),""===q&&(e=!1,t+="-Seleccione un proveedor.\n"),""===K&&(e=!1,t+="-Seleccione un producto.\n"),""===X&&(e=!1,t+="-Seleccione una tienda.\n"),""===Z&&(e=!1,t+="-Ingrese una cantidad.\n"),""===re&&(e=!1,t+="-Ingrese el costo del producto por unidad.\n"),e){await ie(E.token,V,re,Z,`${pe}-${ge}-${we}`,Re?`${Ce}-${je}-${_e}`:null,parseInt(q),parseInt(K),parseInt(X),parseFloat(he)),Qe("Actualizando costo promedio ponderado del producto");const e=await Be(E.token,K),t=await Le(E.token,K),a=(parseFloat(re)/parseInt(Z)-parseFloat(He)/parseInt(Ne))*parseFloat(Ne),o=(t*e.costo_acumulado+a)/t;await Ve(E.token,K,o.toFixed(5)),Ae!==X||Me!==K?(await We(E.token,parseInt(Ae),parseInt(Me),-1*parseInt(Ne)),await We(E.token,parseInt(X),parseInt(K),parseInt(Z))):Ne!==Z&&await We(E.token,parseInt(X),parseInt(K),parseInt(Z)-parseInt(Ne));const r=zt.find((e=>e.value===Ae)),n=Ot.find((e=>e.value===Me)),i=new Date,s=String(i.getFullYear()),l=String(i.getMonth()+1).padStart(2,"0"),d=String(i.getDate()).padStart(2,"0");let c=`El usuario ${E.nombre} modific\xf3 una entrada de originalmente ${Ne} del producto ${n?.label} en la tienda ${r?.label}`;await G(E.token,c,`${s}-${l}-${d}`,E.id_usuario,4),lt(!0),Qe("La entrada se modific\xf3 con \xe9xito"),Je(!0),et(!0)}else lt(!0),Qe(t),Je(!0)}ct(!1)}},_a=["Nombre","Cantidad"],ka=["Nombre","Correo","Detalle Bancario","Tel\xe9fono"],Ra=["Nombre Proveedor","Nombre Producto","Cantidad","Costo Total USD","Costo Total CUP","Fecha"];return r?(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},children:ut&&(0,w.jsx)(u.default,{onPress:()=>ba(),style:{flexDirection:"row",height:40,width:"50%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginRight:"5%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:p.radioButtonTextMovil,children:"Agregar Entrada"})})}),(0,w.jsx)(i.default,{style:{justifyContent:"center",alignItems:"flex-end",marginTop:"3%"},children:(0,w.jsxs)(u.default,{style:{backgroundColor:x.azul_Claro,flexDirection:"row",alignItems:"center",borderRadius:15,width:"90%",height:60,marginTop:"2%",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5},onPress:bt,children:[(0,w.jsx)(l.default,{source:a(1055),style:{width:45,height:45}}),(0,w.jsx)(s.default,{style:p.textNavbarMovil,children:"Opciones de Filtrado"})]})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start"},children:[ua?(0,w.jsx)(ue.default,{size:100,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(ar,{isMobile:r,items:St,columns:Ra,columnasMyDateTableEntradaModal:ka,columnasMyDateTableTiendaModal:_a,tiendasByProducto:mt,proveedorByProducto:It}),N&&(0,w.jsx)(c.default.View,{style:[{overflow:"hidden",position:"absolute",right:0},Ct],children:(0,w.jsx)(h.default,{contentContainerStyle:{paddingBottom:150},children:(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerMovil,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Producto",value:Ut,onKeyPress:Ca,onChangeText:Vt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",onKeyPress:Ca,value:Nt,onChangeText:Wt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchMovil,children:"Rango de Costo en USD:"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"Desde",value:K,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");J(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyMovil,placeholder:"Hasta",value:K,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");J(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(i.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:xa.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:fa===e.value,onPress:()=>pa(e.value)},e.value)))}),(0,w.jsxs)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row",position:"relative",zIndex:1e3},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",marginRight:"25%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,marginLeft:"12%",justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"})]}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:500},children:[(0,w.jsxs)(i.default,{style:{alignItems:"center",justifyContent:"center",position:"relative",zIndex:T},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(At,{dayValue:Zt,monthValue:ta,yearValue:oa,onDayChange:ea,onMonthChange:aa,onYearChange:ra,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>M("FechaDesdeSearsh")})]}),(0,w.jsxs)(i.default,{style:{alignItems:"center",justifyContent:"center",position:"relative",zIndex:D},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(At,{dayValue:na,monthValue:sa,yearValue:da,onDayChange:ia,onMonthChange:la,onYearChange:ca,style:{margin:20},styleText:p.textSearchMovil,onDropdownOpen:()=>M("FechaHastaSearsh")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Sa,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:50,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:16,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>{filtrarYOrdenarProductos(),W(!1)},children:"Buscar"})})]})]})})})]}),(0,w.jsx)(f.default,{transparent:!0,visible:A?.isAddEntrada??!1,animationType:"fade",onRequestClose:ya,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:4e3},children:(0,w.jsxs)(i.default,{style:{width:"100%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:ya,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===A?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Proveedor"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(Pt,{value:q,placeholder:"Seleccione un Proveedor",setValue:Y,items:kt,searchable:!0,onDropdownOpen:()=>M("ProveedoresDetails")})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre del Producto"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Pt,{value:K,placeholder:"Seleccione un Producto",setValue:J,items:Ot,searchable:!0,onDropdownOpen:()=>M("ProductosDetails")})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:1e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Nombre de la Tienda"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:1e3,position:"relative"},children:(0,w.jsx)(Pt,{value:X,placeholder:"Seleccione una Tienda",setValue:Q,items:zt,searchable:!0})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Cantidad"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Z,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ee(t)},editable:!!xt,placeholder:"Cantidad"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Costo total de la entrada en USD"}),(0,w.jsx)(z,{style:p.textImputModal,value:re,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;ne(a);const o=parseFloat(a)*n;fe(o.toFixed(2))},cursorColor:x.azul_Oscuro,editable:!!xt,placeholder:"Costo en USD"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo de cada unidad"}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["USD:"," ",(parseFloat(re)/parseInt(Z)).toFixed(5)," ","CUP:"," ",(parseFloat(re)/parseInt(Z)*n).toFixed(2)]})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Costo total de la entrada en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:he,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;fe(a);const o=parseFloat(a)/n;ne(o.toFixed(5))},cursorColor:x.azul_Oscuro,editable:!!xt,placeholder:"Costo en CUP"})]})]}),(0,w.jsxs)(i.default,{style:{width:"90%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalMovil,children:"Fecha"}),Oe&&(0,w.jsx)(At,{dayValue:ge,monthValue:pe,yearValue:we,onDayChange:xe,onMonthChange:ye,onYearChange:me,style:{margin:20},styleText:p.labelTextModalMovil})]}),Re&&(0,w.jsxs)(i.default,{style:{width:"90%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha vencimiento"}),Oe&&(0,w.jsx)(no,{dayValue:je,monthValue:Ce,yearValue:_e,onDayChange:be,onMonthChange:Se,onYearChange:ke,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>M("FechaDetails")})]}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[xt&&""!==A?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",marginRight:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{rt(!0),it("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta entrada?")},disabled:dt,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Ajustar Entrada"})}),ut&&""===A?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"40%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>va(),disabled:dt,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Entrada"})}),!1]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ot,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:nt}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ia(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>rt(!ot),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>rt(!ot),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ge,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:250,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Xe}),st&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ze?e.replace("Entradas"):Je(!Ge),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]}):(0,w.jsxs)(i.default,{style:{flex:1},children:[(0,w.jsx)(ce,{}),(0,w.jsx)(i.default,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginTop:"10%"},children:ut&&(0,w.jsx)(u.default,{onPress:()=>ba(),style:{flexDirection:"row",height:30,width:"12%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Oscuro,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14,borderColor:x.azul_Claro,borderWidth:3,padding:10,borderRadius:10,marginTop:"1%",marginHorizontal:"1%",backgroundColor:x.azul_Claro},children:(0,w.jsx)(s.default,{style:[p.radioButtonTextDesktop,"option1"===yt&&p.radioButtonSelected&&p.radioButtonTextSelected],children:"Agregar Entrada"})})}),(0,w.jsxs)(i.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",marginLeft:"1%"},children:[(0,w.jsxs)(y.LinearGradient,{colors:[x.azul_Claro,x.azul_Oscuro],start:[0,0],end:[1,0],style:p.searchContainerDesktop,children:[(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Producto:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del Producto",value:Ut,onKeyPress:Ca,onChangeText:Vt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Nombre del Proveedor:"}),(0,w.jsx)(z,{style:p.customTextImputSearchFullDesktop,placeholder:"Nombre del proveedor",value:Nt,onKeyPress:Ca,onChangeText:Wt}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(s.default,{style:p.textSearchDesktop,children:"Rango de Costo en USD:"}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"row"},children:[(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Desde",value:Ht,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");qt(t)}}),(0,w.jsx)(z,{style:p.customTextImputSearchFiftyDesktop,placeholder:"Hasta",value:Yt,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");Gt(t)}})]}),(0,w.jsx)(i.default,{style:p.separatorBlanco}),(0,w.jsx)(i.default,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"60%",marginLeft:"18%",position:"relative",zIndex:1e3},children:xa.map((e=>(0,w.jsx)(Tt,{label:e.label,selected:fa===e.value,onPress:()=>pa(e.value)},e.value)))}),(0,w.jsxs)(i.default,{style:{alignItems:"center",flexDirection:"column",justifyContent:"space-around",position:"relative",zIndex:1e3},children:[(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:T},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Desde"}),(0,w.jsx)(At,{dayValue:Zt,monthValue:ta,yearValue:oa,onDayChange:ea,onMonthChange:aa,onYearChange:ra,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>M("FechaDesdeSearsh")})]}),(0,w.jsxs)(i.default,{style:{justifyContent:"center",alignItems:"center",position:"relative",zIndex:D},children:[(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:18,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:"Hasta"}),(0,w.jsx)(At,{dayValue:na,monthValue:sa,yearValue:da,onDayChange:ia,onMonthChange:la,onYearChange:ca,style:{margin:20},styleText:p.textSearchDesktop,onDropdownOpen:()=>M("FechaHastaSearsh")})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",flexDirection:"row",position:"relative",zIndex:500},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",marginLeft:"6%",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:Sa,children:"Limpiar Campos"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Suave,borderRadius:15,width:"42.5%",height:40,marginLeft:"5%",marginBottom:"7%",alignItems:"center",justifyContent:"center",shadowColor:x.azul_Suave,shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:14},children:(0,w.jsx)(s.default,{style:{color:x.blanco,fontSize:14,justifyContent:"center",fontWeight:"bold",textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},onPress:()=>ja(`${oa}-${ta}-${Zt}`,`${da}-${sa}-${na}`),children:"Buscar"})})]})]}),ua?(0,w.jsx)(ue.default,{size:150,color:"#007BFF",style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:"15%"}}):(0,w.jsx)(ar,{isMobile:r,items:St,columns:Ra,columnasMyDateTableEntradaModal:ka,columnasMyDateTableTiendaModal:_a,tiendasByProducto:mt,proveedorByProducto:It})]}),(0,w.jsx)(f.default,{transparent:!0,visible:A?.isAddEntrada??!1,animationType:"fade",onRequestClose:ya,children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:5e3},children:(0,w.jsxs)(i.default,{style:{width:"60%",height:"90%",backgroundColor:x.blanco_Suave,borderRadius:15,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(u.default,{style:{position:"absolute",top:10,right:10,backgroundColor:x.rojo_oscuro,borderRadius:30,marginRight:"3%",height:40,width:40,justifyContent:"center",alignItems:"center"},onPress:ya,children:(0,w.jsx)(s.default,{style:{color:x.blanco_Suave},children:"X"})}),(0,w.jsx)(i.default,{style:p.separatorNegro}),(0,w.jsx)(s.default,{style:{fontSize:26,marginTop:"1%",color:x.negro,textShadowColor:"rgba(0, 0, 0, 0.5)",textShadowOffset:{width:1,height:1},textShadowRadius:2},children:""===A?.id_entrada?"Agregar Entrada":"Datos de la Entrada"}),(0,w.jsxs)(h.default,{style:{width:"100%"},contentContainerStyle:{alignItems:"center",paddingBottom:20},children:[(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Proveedor"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:2e3,position:"relative"},children:(0,w.jsx)(Pt,{value:q,placeholder:"Seleccione un Proveedor",setValue:Y,items:kt,searchable:!0,onDropdownOpen:()=>M("ProveedoresDetails")})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre del Producto"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:I,position:"relative"},children:(0,w.jsx)(Pt,{value:K,placeholder:"Seleccione un Producto",setValue:J,items:Ot,searchable:!0,onDropdownOpen:()=>M("ProductosDetails")})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Nombre de la Tienda"})}),(0,w.jsx)(i.default,{style:{width:"100%",zIndex:C,position:"relative"},children:(0,w.jsx)(Pt,{value:X,placeholder:"Seleccione una Tienda",setValue:Q,items:zt,searchable:!0,onDropdownOpen:()=>M("TiendaDetails")})}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Cantidad"}),(0,w.jsx)(z,{style:p.textImputModal,cursorColor:x.azul_Oscuro,value:Z,onChangeText:e=>{const t=e.replace(/[^0-9]/g,"");ee(t)},editable:!!xt,placeholder:"Cantidad"})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo total de la entrada en USD"}),(0,w.jsx)(z,{style:p.textImputModal,value:re,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;ne(a);const o=parseFloat(a)*n;fe(o.toFixed(2))},cursorColor:x.azul_Oscuro,editable:!!xt,placeholder:"Costo en USD"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo de cada unidad"}),(0,w.jsxs)(s.default,{style:p.labelTextModalDesktop,children:["USD:"," ",(parseFloat(re)/parseInt(Z)).toFixed(5)," ","CUP:"," ",(parseFloat(re)/parseInt(Z)*n).toFixed(5)]})]}),(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Costo total de la entrada en CUP"}),(0,w.jsx)(z,{style:p.textImputModal,value:he,onChangeText:e=>{const t=e.replace(/[^0-9.]/g,""),a=t.split(".").length>2?t.replace(/\.+$/,""):t;fe(a);const o=parseFloat(a)/n;ne(o.toFixed(5))},cursorColor:x.azul_Oscuro,editable:!!xt,placeholder:"Costo en CUP"})]})]}),(0,w.jsxs)(i.default,{style:{width:"100%",justifyContent:"space-between",alignItems:"center",flexDirection:"row",paddingHorizontal:10,zIndex:m},children:[(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha entrada"}),Oe&&(0,w.jsx)(At,{dayValue:ge,monthValue:pe,yearValue:we,onDayChange:xe,onMonthChange:ye,onYearChange:me,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>M("FechaDetails")})]}),Re&&(0,w.jsxs)(i.default,{style:{width:"45%",marginLeft:"2%",marginRight:"2%"},children:[(0,w.jsx)(s.default,{style:p.labelTextModalDesktop,children:"Fecha vencimiento"}),Oe&&(0,w.jsx)(no,{dayValue:je,monthValue:Ce,yearValue:_e,onDayChange:be,onMonthChange:Se,onYearChange:ke,style:{margin:20},styleText:p.labelTextModalDesktop,onDropdownOpen:()=>M("FechaDetails")})]})]}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",alignItems:"flex-end",width:"100%",justifyContent:"space-between",marginTop:20},children:[xt&&""!==A?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",marginLeft:"5%",shadowColor:"#000",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>{rt(!0),at(!1),it("\xbfEst\xe1s seguro que deseas MODIFICAR los datos de esta entrada?")},disabled:dt,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Ajustar Entrada"})}),ut&&""===A?.id_entrada&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Claro,borderRadius:15,width:"30%",height:50,alignItems:"center",justifyContent:"center",shadowColor:"#000",marginLeft:"5%",shadowOffset:{width:3,height:4},shadowOpacity:.3,shadowRadius:5,marginTop:"3%"},onPress:()=>va(),disabled:dt,children:(0,w.jsx)(s.default,{style:{color:"white",fontSize:16},children:"Agregar Entrada"})}),!1]})]})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:ot,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:350,height:200,padding:20,backgroundColor:"white",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5,justifyContent:"center",alignItems:"stretch"},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:nt}),(0,w.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,w.jsx)(u.default,{style:{backgroundColor:x.rojo_oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>tt?(async()=>{if(!dt){if(ct(!0),lt(!1),Qe("Eliminando entrada. Espere por favor"),Je(!0),E?.token){let e=!0,t="ERROR AL ELIMINAR ENTRADA. Compruebe los siguientes par\xe1metros:\n";const a=await ze(E.token,K,X);if(parseInt(Z)>parseInt(a.cantidad??0)&&(e=!1,t+="-Operaci\xf3n inv\xe1lida. La cantidad del producto excede la cantidad en la tienda\n."),e){await se(E.token,V),await We(E.token,parseInt(X),parseInt(K),-1*parseInt(Z)),await Ke(E.token);const e=zt.find((e=>e.value===Ae)),t=Ot.find((e=>e.value===Me)),a=new Date,o=String(a.getFullYear()),r=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");let i=`El usuario ${E.nombre} elimin\xf3 la entrada con una cantidad de ${Ne} del producto ${t?.label} en la tienda ${e?.label}`;await G(E.token,i,`${o}-${r}-${n}`,E.id_usuario,4),lt(!0),Qe("La entrada se elimin\xf3 con \xe9xito"),Je(!0),et(!0),Y(""),ne(""),J(""),ee("")}else lt(!0),Qe(t),Je(!0)}ct(!1)}})():Ia(),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"S\xed"})}),(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>rt(!ot),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"No"})})]}),(0,w.jsx)(u.default,{onPress:()=>rt(!ot),style:{marginTop:20,alignItems:"center"},children:(0,w.jsx)(s.default,{style:{color:x.azul_Oscuro},children:"Cancelar"})})]})})}),(0,w.jsx)(f.default,{transparent:!0,visible:Ge,animationType:"fade",children:(0,w.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,w.jsxs)(i.default,{style:{width:650,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:5,elevation:5},children:[(0,w.jsx)(s.default,{style:{fontSize:18,fontWeight:"bold",marginBottom:20},children:Xe}),st&&(0,w.jsx)(u.default,{style:{backgroundColor:x.azul_Oscuro,padding:10,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},onPress:()=>Ze?e.replace("Entradas"):Je(!Ge),children:(0,w.jsx)(s.default,{style:{color:"white"},children:"Aceptar"})})]})})})]})}const nr=(0,n.default)();const ir=function(){return(0,w.jsx)(Z,{children:(0,w.jsx)(Uo,{children:(0,w.jsx)(Wt,{children:(0,w.jsx)(gt,{children:(0,w.jsx)(Oo,{children:(0,w.jsx)(mo,{children:(0,w.jsx)(_t,{children:(0,w.jsx)(_,{children:(0,w.jsx)(fo,{children:(0,w.jsx)(Pa,{children:(0,w.jsx)(Wa,{children:(0,w.jsx)(Ba,{children:(0,w.jsx)(Et,{children:(0,w.jsx)($a,{children:(0,w.jsx)(je,{children:(0,w.jsx)(ye,{children:(0,w.jsx)(S,{children:(0,w.jsx)(r.default,{ref:$,children:(0,w.jsxs)(nr.Navigator,{initialRouteName:"Login",children:[(0,w.jsx)(nr.Screen,{name:"Login",component:Da}),(0,w.jsx)(nr.Screen,{name:"HomeScreen",component:Dt}),(0,w.jsx)(nr.Screen,{name:"Productos",component:Ot}),(0,w.jsx)(nr.Screen,{name:"Ventas",component:Oa}),(0,w.jsx)(nr.Screen,{name:"Proveedores",component:Za}),(0,w.jsx)(nr.Screen,{name:"Mi Tienda",component:ao}),(0,w.jsx)(nr.Screen,{name:"Entradas",component:so}),(0,w.jsx)(nr.Screen,{name:"Movimientos",component:yo}),(0,w.jsx)(nr.Screen,{name:"Administraci\xf3n",component:uo}),(0,w.jsx)(nr.Screen,{name:"Usuarios",component:So}),(0,w.jsx)(nr.Screen,{name:"Tiendas",component:Ro}),(0,w.jsx)(nr.Screen,{name:"Acciones",component:Mo}),(0,w.jsx)(nr.Screen,{name:"Permisos",component:Ao}),(0,w.jsx)(nr.Screen,{name:"Clientes",component:Yo}),(0,w.jsx)(nr.Screen,{name:"Tipo de Servicio",component:Fo}),(0,w.jsx)(nr.Screen,{name:"Cambiar Moneda",component:No}),(0,w.jsx)(nr.Screen,{name:"Garant\xedas",component:Jo}),(0,w.jsx)(nr.Screen,{name:"Deudas",component:tr}),(0,w.jsx)(nr.Screen,{name:"Diario",component:rr})]})})})})})})})})})})})})})})})})})})})}},8270:(e,t,a)=>{e.exports=a.p+"static/media/Deudas.4e3ba2abd7c94884a75d.png"},2475:(e,t,a)=>{e.exports=a.p+"static/media/Tipo_Servicio.9c2c02a596173d54810e.png"},1603:(e,t,a)=>{e.exports=a.p+"static/media/acci\xf3n.8a5f93e7886d0150a1ac.png"},5542:(e,t,a)=>{e.exports=a.p+"static/media/aprobado.34b906a81acc87007bb5.png"},9139:(e,t,a)=>{e.exports=a.p+"static/media/candelado.0fed6d34cc2a57874424.png"},1165:(e,t,a)=>{e.exports=a.p+"static/media/delete.1e25a02781c99a9e012d.png"},1248:(e,t,a)=>{e.exports=a.p+"static/media/edit.37f3d4c0904cbe156066.png"},9927:(e,t,a)=>{e.exports=a.p+"static/media/entrada.e45810635791b864f88b.png"},7520:(e,t,a)=>{e.exports=a.p+"static/media/exel.f41cafa36ad3575d656f.png"},1605:(e,t,a)=>{e.exports=a.p+"static/media/features.fc25f39ca3611c717913.png"},5234:(e,t,a)=>{e.exports=a.p+"static/media/gente.1c455e0545f9062b2049.png"},7496:(e,t,a)=>{e.exports=a.p+"static/media/gerente.3c2ae7e9d0c205fdc988.png"},4429:(e,t,a)=>{e.exports=a.p+"static/media/logo.ed2fd39d33d8f13e1846.png"},1055:(e,t,a)=>{e.exports=a.p+"static/media/loupe.4ce0d0d818fc702979a3.png"},1709:(e,t,a)=>{e.exports=a.p+"static/media/menu.c1e4a220742fb80878ee.png"},7213:(e,t,a)=>{e.exports=a.p+"static/media/mover.a840a87b624527cc5d8c.png"},5102:(e,t,a)=>{e.exports=a.p+"static/media/moving.e516858414307ef98a2b.png"},3432:(e,t,a)=>{e.exports=a.p+"static/media/nueva-cuenta.198214c3c2f3a529e8ac.png"},575:(e,t,a)=>{e.exports=a.p+"static/media/option.54c02da68895ceb44d29.png"},4031:(e,t,a)=>{e.exports=a.p+"static/media/ordenar.44332fe9d5ea63c4fc30.png"},9519:(e,t,a)=>{e.exports=a.p+"static/media/product.8a2407d6915f453b54fe.png"},237:(e,t,a)=>{e.exports=a.p+"static/media/public-service.c7c31e37c7a4b3e6be0a.png"},4929:(e,t,a)=>{e.exports=a.p+"static/media/tienda.b7aadcce38332e7f3c0d.png"},759:(e,t,a)=>{e.exports=a.p+"static/media/usuarios.f252714e052e0e6c14eb.png"}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,a),n.exports}a.m=e,(()=>{var e=[];a.O=(t,o,r,n)=>{if(!o){var i=1/0;for(c=0;c<e.length;c++){for(var[o,r,n]=e[c],s=!0,l=0;l<o.length;l++)(!1&n||i>=n)&&Object.keys(a.O).every((e=>a.O[e](o[l])))?o.splice(l--,1):(s=!1,n<i&&(i=n));if(s){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,r,n]}})(),a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(o,r){if(1&r&&(o=this(o)),8&r)return o;if("object"===typeof o&&o){if(4&r&&o.__esModule)return o;if(16&r&&"function"===typeof o.then)return o}var n=Object.create(null);a.r(n);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&o;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>o[e]));return i.default=()=>o,a.d(n,i),n}})(),a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="/",(()=>{var e={792:0};a.O.j=t=>0===e[t];var t=(t,o)=>{var r,n,[i,s,l]=o,d=0;if(i.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(l)var c=l(a)}for(t&&t(o);d<i.length;d++)n=i[d],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=a.O(void 0,[192],(()=>a(5819)));o=a.O(o)})();
//# sourceMappingURL=main.acd27537.js.map